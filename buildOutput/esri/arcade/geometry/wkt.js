// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports"],function(t){"use strict";const e=[];function n(t){return 0===t.length?'""':t.startsWith('"')||t.startsWith(".")||t[0]>="0"&&t[0]<="9"?t:'"'+t.trim()+'"'}function r(t){if(null===t)return null;switch(t.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t}const e=[];for(const n of t.values)if("object"==typeof n&&void 0!==n.entity)switch(n.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return n;default:e.push(n)}for(const t of e){const e=r(t);if(null!=e)return e}return null}t.findSpatialReferenceUnitFromWkt=function(t){try{for(let n=0;n<e.length;n++)if(e[n].spatialReferenceWkt===t)return e[n].unit;const u=r(function(t){let e="",r="",u=!1;for(let l=0;l<t.length;l++){const i=t[l];u?'"'===i?'"'===t[l+1]?(e+=`\\${i}`,l+=1):u=!1:e+=i:/\s/.test(i)||(","===i?(r+=""!==e?n(e)+",":",",e=""):")"===i||"]"===i?(r+=""!==e?n(e)+"]}":"]}",e=""):"("===i||"["===i?(r+='{ "entity": "'+e.toUpperCase().trim()+'", "values":[',e=""):'"'===i?(u=!0,e=""):e+=i)}return JSON.parse(r)}(t));if(null===u)return null;let l=null;for(const t of u.values)if("object"==typeof t&&("UNIT"===t.entity||"ANGLEUNIT"===t.entity||"LENGTHUNIT"===t.entity)){l=t;break}if(null===l)return null;const i=function(t,e,n){if(null!=n)try{if("EPSG"===n.values[0])return{type:t,wkid:Number.parseInt(n.values[1],10),factor:e}}catch(t){}return{type:t,factor:e}}("GEOGCS"===u.entity||"GEOGCRS"===u.entity?"angular":"linear",l.values[1],l.values[2]);return e.push({spatialReferenceWkt:t,unit:i}),e.length>10&&e.shift(),i}catch(t){return null}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});