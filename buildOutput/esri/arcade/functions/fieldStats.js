// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/languageUtils","../../support/guards"],function(e,t,r){"use strict";function n(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t/e.length}function a(e){const t=n(e);let r=0;for(let n=0;n<e.length;n++)r+=(t-e[n])**2;return r/e.length}e.calculateStat=function(e,u,s=1e3){switch(e.toLowerCase()){case"distinct":return function(e,n){const a=[],u={},s=[];for(let c=0;c<e.length;c++){if(void 0!==e[c]&&null!==e[c]&&e[c]!==t.voidOperation){const n=e[c];if(r.isNumber(n)||r.isString(n))void 0===u[n]&&(a.push(n),u[n]=1);else{let e=!1;for(let r=0;r<s.length;r++)!0===t.equalityTest(s[r],n)&&(e=!0);!1===e&&(s.push(n),a.push(n))}}if(a.length>=n&&-1!==n)return a}return a}(u,s);case"avg":case"mean":return n(t.toNumberArray(u));case"min":return Math.min.apply(Math,t.toNumberArray(u));case"sum":return function(e){let t=0;for(let r=0;r<e.length;r++)t+=e[r];return t}(t.toNumberArray(u));case"max":return Math.max.apply(Math,t.toNumberArray(u));case"stdev":case"stddev":return Math.sqrt(a(t.toNumberArray(u)));case"var":case"variance":return a(t.toNumberArray(u));case"count":return u.length}return 0},e.decodeStatType=function(e){switch(e.toLowerCase()){case"distinct":return"distinct";case"avg":case"mean":return"avg";case"min":return"min";case"sum":return"sum";case"max":return"max";case"stdev":case"stddev":return"stddev";case"var":case"variance":return"var";case"count":return"count"}return""},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});