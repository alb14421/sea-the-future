// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../chunks/tslib.es6","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../Slider","./SliderWithDropdownViewModel","../../support/TimezonePicker","../../support/widgetUtils","../../support/jsxFactory"],function(e,t,o,s,i,r,n,l,d,h,a){"use strict";const c="esri-slider-with-dropdown",p="esri-slider__label",_=`${c}__box`,u=`${c}__box--drop-down-on`,b=`${c}__box--drop-down-off`;let w=class extends n{constructor(e,t){super(e,t),this.viewModel=new l.SliderWithDropdownViewModel,this.showDropDown=!0,this._labelWidth=0,this._onLabelAfterCreate=e=>{const t="label-size-observer";this.removeHandles(t),this.addHandles(h.onResize(e,({contentRect:e})=>{this._labelWidth=e.width}),t)},this._getLabelStyles=()=>{if(!this.trackElement)return;const e=this._trackWidth,t=this._labelWidth/2,o=this.getCurrentPosition(),s=o-t,i=o+t;let r=-t;return s<0?r+=-s:i>e&&(r+=e-i),{left:`${r}px`}},this._onTimezoneChange=e=>{this.viewModel.utcOffset=e},this._onTimezonePickerOpen=()=>{this.viewModel.timezonePickerOpen=!0},this._onTimezonePickerClose=()=>{this.viewModel.timezonePickerOpen=!1}}renderThumbLabel(e){const{showDropDown:t,viewModel:o}=this;return a.tsx("div",{afterCreate:this._onLabelAfterCreate,class:this.classes({[_]:!0,[p]:!0,[u]:t,[b]:!t}),key:"thumb-label",styles:this._getLabelStyles()},super.renderThumbLabel(e),t?a.tsx(d.TimezonePicker,{disabled:this.disabled,open:o.timezonePickerOpen,value:o.utcOffset,onChange:this._onTimezoneChange,onClose:this._onTimezonePickerClose,onOpen:this._onTimezonePickerOpen}):null)}};return e.__decorate([t.property()],w.prototype,"viewModel",void 0),e.__decorate([t.property()],w.prototype,"showDropDown",void 0),e.__decorate([t.property()],w.prototype,"_labelWidth",void 0),w=e.__decorate([r.subclass("esri.widgets.Daylight.support.SliderWithDropdown")],w),w});