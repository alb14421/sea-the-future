// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","../chunks/tslib.es6","../core/deprecate","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/subclass","../support/basemapUtils","./Widget","./BasemapToggle/BasemapToggleViewModel","./BasemapToggle/css","../chunks/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/messageBundle","./support/jsxFactory"],function(e,s,t,a,o,l,i,r,c,n,p,d,g,m,u,v,b,h){"use strict";function y(e){const s=n.getBasemapThumbnailUrl(e);return s?{backgroundImage:"url("+s+")"}:{backgroundImage:""}}const x={title:!1};let w=class extends p{constructor(e,s){super(e,s),this.messages=null,this.viewModel=new d,this.visibleElements={...x},this.toggle=()=>this.viewModel.toggle(),t.deprecateWidget(a.getLogger(this),"Basemap Toggle","arcgis-basemap-toggle",{version:"4.32"})}loadDependencies(){return m.loadCalciteComponents({button:()=>new Promise((s,t)=>e(["../chunks/index2"],s,t)),icon:()=>new Promise((s,t)=>e(["../chunks/index7"],s,t)),scrim:()=>new Promise((s,t)=>e(["../chunks/index10"],s,t))})}get activeBasemap(){return this.viewModel.activeBasemap}get icon(){return"layer-basemap"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get nextBasemap(){return this.viewModel.nextBasemap}set nextBasemap(e){this.viewModel.nextBasemap=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}castVisibleElements(e){return{...x,...e}}render(){const e=this.viewModel,s="disabled"===e.state?null:e.activeBasemap,t="disabled"===e.state?null:e.nextBasemap,a="loading"===e.state,o="incompatible-next-basemap"===e.state,l=t?.title??"",i=t&&"loaded"!==t.loadStatus;let r;const c=this.visibleElements.title&&l,n=o;return(c||n)&&(r=h.tsx("div",{class:g.css.overlay,key:"overlay"},c?h.tsx("span",{class:g.css.title,title:l},l):null,n?h.tsx("calcite-scrim",{class:g.css.overlayScrim,title:this.messages.incompatibleSpatialReference},h.tsx("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),h.tsx("div",{class:this.classes(g.css.base,u.globalCss.widget)},h.tsx("calcite-button",{appearance:"transparent","data-basemap-id":t?t.id:"",disabled:o,kind:"neutral",label:this.label,onclick:()=>{this.toggle()},title:this.label},h.tsx("div",{class:this.classes(g.css.container,g.css.secondaryBasemapImage)},h.tsx("div",{class:g.css.image,styles:y(s)})),h.tsx("div",{class:g.css.container},h.tsx("div",{class:this.classes(g.css.image,i?g.css.imageLoading:null),styles:y(t)},i||a?h.tsx("calcite-scrim",null,h.tsx("span",{"aria-hidden":"true",class:u.globalCss.loaderAnimation,role:"presentation"})):null),r)))}};return s.__decorate([o.property({readOnly:!0})],w.prototype,"activeBasemap",null),s.__decorate([o.property()],w.prototype,"icon",null),s.__decorate([o.property()],w.prototype,"label",null),s.__decorate([o.property(),b.messageBundle("esri/widgets/BasemapToggle/t9n/BasemapToggle")],w.prototype,"messages",void 0),s.__decorate([o.property()],w.prototype,"nextBasemap",null),s.__decorate([o.property()],w.prototype,"view",null),s.__decorate([o.property({type:d})],w.prototype,"viewModel",void 0),s.__decorate([o.property()],w.prototype,"visibleElements",void 0),s.__decorate([l.cast("visibleElements")],w.prototype,"castVisibleElements",null),w=s.__decorate([c.subclass("esri.widgets.BasemapToggle")],w),w});