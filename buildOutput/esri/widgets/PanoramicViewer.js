// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","../chunks/tslib.es6","../Camera","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Widget","./OrientedImageryViewer/components/NavigationUI360","./OrientedImageryViewer/components/SequentialNavigationUI","./PanoramicViewer/PanoramicViewerViewModel","../chunks/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/vmEvent","./support/jsxFactory"],function(e,t,o,i,r,a,n,s,l,p,d,c,u,v,g,h,y){"use strict";let w=class extends l{constructor(e){super(e),this.navigationEnabled=!1,this.uiStrings=null,this.viewModel=new c,this._afterContainerCreate=e=>{this.imageRenderer.container=e},this.addGraphic=(e,t)=>{this.viewModel.addGraphic(e,t)},this.addManyGraphics=e=>{this.viewModel.addManyGraphics(e)},this.clearGraphics=()=>{this.viewModel.clearGraphics()},this.clearImage=()=>{this.viewModel.clearImage()},this.loadImage=e=>this.viewModel.loadImage(e),this.navigate=async(e,t)=>await this.viewModel.navigate(e,t),this.removeGraphic=e=>{this.viewModel.removeGraphic(e)},this.removeManyGraphics=e=>{this.viewModel.removeManyGraphics(e)}}loadDependencies(){return Promise.all([u.loadCalciteComponents({panel:()=>new Promise((t,o)=>e(["../chunks/index51"],t,o)).then(e=>e.index)}),d.loadSequentialNavigationUIComponents()])}get autoLoad(){return this.viewModel.autoLoad}set autoLoad(e){this.viewModel.autoLoad=e}get camera(){return this.viewModel.camera}set camera(e){e&&(this.viewModel.camera=e)}get clickAction(){return this.viewModel.clickAction}set clickAction(e){this.viewModel.clickAction=e}get currentNode(){return this.navigationViewModel?.currentNode}get fov(){return this.camera?.fov}set fov(e){this.viewModel.fov=e}get hfov(){return this.viewModel.hfov}get icon(){return"i360-view"}set icon(e){this._overrideIfSome("icon",e)}get imageRenderer(){return this.viewModel.imageRenderer}get imageSize(){return this.viewModel.imageSize}get imageSource(){return this.viewModel.imageSource}set imageSource(e){this.viewModel.imageSource=e}get navigationMode(){return this.navigationViewModel?.navigationMode}get navigationNodes(){return this.navigationViewModel?.navigationNodes}get navigationViewModel(){return this.viewModel.navigationViewModel}set navigationViewModel(e){this.viewModel.navigationViewModel=e}get pitch(){return this.viewModel.pitch}set pitch(e){this.viewModel.pitch=e}get state(){return this.viewModel.state}get ui(){return this.imageRenderer.ui}get vfov(){return this.viewModel.vfov}get yaw(){return this.viewModel.yaw}set yaw(e){this.viewModel.yaw=e}get _navigationUI(){return y.tsx(p,{currentNode:this.currentNode,navigate:this.navigate,nodes:this.navigationNodes})}get _sequentialNavigationUI(){return y.tsx(d.SequentialNavigationUI,{layout:"horizontal",uiStrings:this.uiStrings,onAction:e=>{this.navigate(this.currentNode,e)}})}_renderNavigationUI(){switch(this.navigationMode){case"directional":return this._navigationUI;case"sequential":return this._sequentialNavigationUI;default:return null}}render(){return y.tsx("calcite-panel",{loading:this.viewModel.updating},y.tsx("calcite-panel",{afterCreate:this._afterContainerCreate,bind:this,class:this.classes(v.globalCss.widget,"esri-panoramic-viewer")}),this.navigationEnabled?this._renderNavigationUI():null)}static{this.vnodeSelector="calcite-panel"}};return t.__decorate([i.property({type:Boolean})],w.prototype,"autoLoad",null),t.__decorate([i.property({type:o})],w.prototype,"camera",null),t.__decorate([i.property()],w.prototype,"clickAction",null),t.__decorate([i.property()],w.prototype,"currentNode",null),t.__decorate([i.property({type:Number})],w.prototype,"fov",null),t.__decorate([i.property({readOnly:!0,type:Number})],w.prototype,"hfov",null),t.__decorate([i.property()],w.prototype,"icon",null),t.__decorate([i.property({readOnly:!0})],w.prototype,"imageRenderer",null),t.__decorate([i.property({readOnly:!0})],w.prototype,"imageSize",null),t.__decorate([i.property()],w.prototype,"imageSource",null),t.__decorate([i.property({type:Boolean})],w.prototype,"navigationEnabled",void 0),t.__decorate([i.property()],w.prototype,"navigationMode",null),t.__decorate([i.property()],w.prototype,"navigationNodes",null),t.__decorate([i.property()],w.prototype,"navigationViewModel",null),t.__decorate([i.property({type:Number})],w.prototype,"pitch",null),t.__decorate([i.property({readOnly:!0})],w.prototype,"state",null),t.__decorate([i.property()],w.prototype,"ui",null),t.__decorate([i.property()],w.prototype,"uiStrings",void 0),t.__decorate([i.property({readOnly:!0,type:Number})],w.prototype,"vfov",null),t.__decorate([h.vmEvent(["click","hittest-response","pixel-location"]),i.property({type:c})],w.prototype,"viewModel",void 0),t.__decorate([i.property({type:Number})],w.prototype,"yaw",null),t.__decorate([i.property()],w.prototype,"_navigationUI",null),t.__decorate([i.property()],w.prototype,"_sequentialNavigationUI",null),w=t.__decorate([s.subclass("esri.widgets.PanoramicViewer")],w),w});