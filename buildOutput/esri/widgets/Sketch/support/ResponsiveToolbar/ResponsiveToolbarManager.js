// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../core/Accessor","../../../../core/Collection","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass"],function(e,t,o,r,s,a,n,i,l){"use strict";return e.default=class extends o{constructor(){super(...arguments),this.measuredElement=null,this.managedElements=new r,this.availableLength=0,this.layout="horizontal",this._resizeObserver=new ResizeObserver(()=>{this._measure()})}get _sortedElements(){return[...this.managedElements].sort((e,t)=>t.priority-e.priority)}connect(e){this._resizeObserver.disconnect(),this.measuredElement=e,this._resizeObserver.observe(e),this._measure()}allocate(){const e=new Map,{availableLength:t,_sortedElements:o}=this;let r=0;for(const t of o){const o=t.lengthOptions[0];e.set(t,o),r+=o}for(const s of o)for(;r<t;){const o=e.get(s);if(!o)break;const a=s.lengthOptions.find(e=>e>o);if(!a)break;const n=r-o+a;if(n>t)break;e.set(s,a),r=n}for(const[t,o]of e)t.budgetedLength=o}_measure(){const e=this.measuredElement;this.availableLength=e?"horizontal"===this.layout?e.clientWidth??0:e.clientHeight??0:0,this.allocate()}destroy(){this._resizeObserver.disconnect()}},t.__decorate([s.property()],e.default.prototype,"measuredElement",void 0),t.__decorate([s.property()],e.default.prototype,"managedElements",void 0),t.__decorate([s.property()],e.default.prototype,"_sortedElements",null),t.__decorate([s.property()],e.default.prototype,"availableLength",void 0),t.__decorate([s.property()],e.default.prototype,"layout",void 0),e.default=t.__decorate([l.subclass("esri.widgets.Sketch.support.ResponsiveToolbar.ResponsiveToolbarManager")],e.default),e.default});