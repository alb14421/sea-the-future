// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../chunks/tslib.es6","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../../Widget","./responsiveToolbarUtils","./ToolbarGroupBase","../../../../chunks/componentsUtils","../../../support/widgetUtils","../../../support/decorators/messageBundle","../../../support/jsxFactory"],function(t,e,o,n,i,r,s,l,a,c,p,u,d,h,g){"use strict";e.SplitButton=class extends(p.ToolbarGroupBase(a)){constructor(t){super(t),this.allowCollapse=!0,this.messagesCommon=null}loadDependencies(){return u.loadCalciteComponents({action:()=>new Promise((e,o)=>t(["../../../../chunks/index12"],e,o)),"action-group":()=>new Promise((e,o)=>t(["../../../../chunks/index18"],e,o)).then(t=>t.index),"action-menu":()=>new Promise((e,o)=>t(["../../../../chunks/index19"],e,o)).then(t=>t.index)})}static{this.vnodeSelector="calcite-action-group"}get minimumLength(){const t=this.actionChildren;return t.length?1===t.length?c.WellKnownSizes.action[this.scale]+c.WellKnownSizes.groupSeparator:this.allowCollapse?c.WellKnownSizes.action[this.scale]+c.WellKnownSizes.splitButtonPart[this.layout][this.scale]+c.WellKnownSizes.groupSeparator:c.WellKnownSizes.action[this.scale]*t.length+c.WellKnownSizes.groupSeparator:0}get lengthOptions(){const{actionChildren:t,minimumLength:e,layout:o,scale:n,priority:i,allowCollapse:r}=this;if(t.length<2||i<0||!r)return[e];const s=c.WellKnownSizes.groupSeparator+c.WellKnownSizes.action[n]*t.length;return[c.WellKnownSizes.groupSeparator+c.WellKnownSizes.action[n]+c.WellKnownSizes.splitButtonPart[o][n],s]}render(){if(!this.actionChildren.length)return g.tsx(g.tsxFragment,null,void 0);const{actionChildren:t,minimumLength:e,budgetedLength:o,layout:n,slot:i,allowCollapse:r}=this,s=!r||t.length<2||o>e;return g.tsx("calcite-action-group",{key:"split-button-group",layout:n,onclick:t=>this._handleClick(t.target),slot:i},s?this._renderUnSplit():this._renderSplit())}_renderSplit(){const{activeChildElement:t,layout:e,actionChildren:o,scale:n,messagesCommon:i}=this,r=t??o.at(0);if(!r)return;const s=o.filter(t=>t!==r);return[this._renderManagedAction(r),g.tsx("calcite-action-menu",{key:"split-button-dropdown",label:i.more,overlayPositioning:"fixed",placement:"horizontal"===e?"bottom-end":"right-end"},g.tsx("calcite-action",{class:`esri-split-button--split-part--${e}--${this.scale}`,compact:"horizontal"===e,icon:c.Icons.splitButton[e],key:"split-button-dropdown-trigger",scale:n,slot:"trigger",text:i.more}),s?.map(t=>this._renderManagedAction(t)))]}_renderUnSplit(){return this.actionChildren.map(t=>this._renderManagedAction(t))}_renderManagedAction(t){return g.tsx("calcite-action",{...t?.properties,"data-action-key":t?.properties?.key,text:t?.properties?.text??""})}},o.__decorate([n.property()],e.SplitButton.prototype,"minimumLength",null),o.__decorate([n.property()],e.SplitButton.prototype,"allowCollapse",void 0),o.__decorate([n.property()],e.SplitButton.prototype,"lengthOptions",null),o.__decorate([n.property(),h.messageBundle("esri/t9n/common")],e.SplitButton.prototype,"messagesCommon",void 0),e.SplitButton=o.__decorate([l.subclass("esri.widgets.Sketch.support.ResponsiveToolbar.SplitButton")],e.SplitButton),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});