// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/tslib.es6","../../../intl","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../imageMeasurementUtils","../../../intl/substitute"],function(e,t,r,a,s,n,c,i,u,o){"use strict";e.ImageMeasurementMixin=e=>{const r=e;let s=class extends r{constructor(){super(...arguments),this.messages=null,this.pixelMeasurementUnit="meters",this.pixelAreaMeasurementUnit="square-meters"}copyMeasurementResult(e){let t,r;switch(e){case"area":t={measurement:this.getConvertedAreaString("measurement"),accuracy:this.getConvertedAreaString("accuracy")},r="{measurement} ± {accuracy}";break;case"distance":t={measurement:this.getConvertedDistanceString("measurement"),accuracy:this.getConvertedDistanceString("accuracy")},r="{measurement} ± {accuracy}";break;case"height":t={measurement:this.getConvertedHeightString("measurement"),accuracy:this.getConvertedHeightString("accuracy")},r="{measurement} ± {accuracy}"}const a=o.substitute(r,t);u.copyToClipboard(a)}getConvertedAreaString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelAreaMeasurementUnit:a,messages:s}=this,{areaMeasurementResult:n,areaMeasurementAccuracy:c}=t;return u.getConvertedArea(e,n,c,r,a)??s.startMeasurement}getConvertedDistanceString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelMeasurementUnit:a,messages:s}=this,{distanceAccuracyArray:n,distanceMeasurementResult:c}=t;return u.getConvertedDistance(e,c,n,r,a)??s.startMeasurement}getAccuracy(e){let t,r;switch(e){case"area":return t={accuracy:this.getConvertedAreaString("accuracy")},r="± {accuracy}",o.substitute(r,t);case"distance":return t={accuracy:this.getConvertedDistanceString("accuracy")},r="± {accuracy}",o.substitute(r,t);case"height":return t={accuracy:this.getConvertedHeightString("accuracy")},r="± {accuracy}",o.substitute(r,t)}}getConvertedHeightString(e){const{oiViewModel:t,measurementUnitMessages:r,pixelMeasurementUnit:a,messages:s}=this,{heightMeasurementAccuracy:n,heightMeasurementResult:c}=t;return u.getConvertedHeight(e,c,n,r,a)??s.startMeasurement}handleLengthMeasurementUnitChange(e){this.pixelMeasurementUnit=e}handleAreaMeasurementUnitChange(e){this.pixelAreaMeasurementUnit=e}};return t.__decorate([a.property()],s.prototype,"messages",void 0),t.__decorate([a.property()],s.prototype,"measurementUnitMessages",void 0),t.__decorate([a.property()],s.prototype,"measurementType",void 0),t.__decorate([a.property()],s.prototype,"pixelMeasurementUnit",void 0),t.__decorate([a.property()],s.prototype,"pixelAreaMeasurementUnit",void 0),t.__decorate([a.property()],s.prototype,"oiViewModel",void 0),s=t.__decorate([i.subclass("esri.widgets.OrientedImageryViewer.mixins.ImageMeasurementMixin")],s),s},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});