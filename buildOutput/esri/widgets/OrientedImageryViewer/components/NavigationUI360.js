// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","../../../chunks/tslib.es6","../../../core/asyncUtils","../../../core/promiseUtils","../../../core/reactiveUtils","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../Widget","../css","./NavigationUIPanoramicViewModel","../../../chunks/componentsUtils","../../support/widgetUtils","../../support/jsxFactory"],function(e,t,i,o,s,c,n,r,a,l,d,h,u,p,v,g){"use strict";let k=class extends d{constructor(e){super(e),this.navigate=null,this.viewModel=new u,this._clickTask=null,this._handleClick=e=>{this._clickTask?.abort(),this._clickTask=i.createTask(async t=>{const i=e.target;if(!this.navigate||!this.currentNode)return;await s.whenOnce(()=>"compiled"===this.viewModel.state,{signal:t});const c=i.getAttribute("data-direction");o.throwIfAborted(t),await this.navigate(this.currentNode,{direction:c,signal:t})})}}loadDependencies(){return p.loadCalciteComponents({icon:()=>new Promise((t,i)=>e(["../../../chunks/index7"],t,i))})}set currentNode(e){this.viewModel.currentNode=e}get currentNode(){return this.viewModel.currentNode}get nodes(){return this.viewModel.nodes}set nodes(e){this.viewModel.nodes=e}render(){const{currentNode:e}=this;if(!e)return null;const{currentHeading:t}=e,i={"--rotate-transform":` rotate(${-t}deg)`},o=e=>{const i=(e-(t??0)+360)%360;return i<45||i>=315?"towards":i>=135&&i<225?"backwards":i>=45&&i<135?"right":"left"},s=o(0),c=o(90),n=o(180),r=o(270);return g.tsx("div",{class:h.css.navigationUI},g.tsx("div",{class:h.css.navigationDirectionPad,styles:i},e[s]?g.tsx("calcite-icon",{class:this.classes(h.css.navigationDirection,h.css.navigationTop),"data-direction":s,icon:"chevron-up",key:"chevron-up",onclick:this._handleClick}):null,e[c]?g.tsx("calcite-icon",{class:this.classes(h.css.navigationDirection,h.css.navigationRight),"data-direction":c,icon:"chevron-right",key:"chevron-right",onclick:this._handleClick}):null,e[n]?g.tsx("calcite-icon",{class:this.classes(h.css.navigationDirection,h.css.navigationBottom),"data-direction":n,icon:"chevron-down",key:"chevron-down",onclick:this._handleClick}):null,e[r]?g.tsx("calcite-icon",{class:this.classes(h.css.navigationDirection,h.css.navigationLeft),"data-direction":r,icon:"chevron-left",key:"chevron-left",onclick:this._handleClick}):null))}};return t.__decorate([c.property()],k.prototype,"currentNode",null),t.__decorate([c.property()],k.prototype,"navigate",void 0),t.__decorate([c.property({nonNullable:!0})],k.prototype,"nodes",null),t.__decorate([c.property()],k.prototype,"viewModel",void 0),t.__decorate([c.property()],k.prototype,"_clickTask",void 0),k=t.__decorate([l.subclass("esri.widgets.OrientedImageryViewer.components.NavigationUI360")],k),k});