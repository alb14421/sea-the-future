// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../Widget","./FeatureContent/FeatureContentViewModel","./support/featureUtils","../support/widget","../support/jsxFactory"],function(e,t,r,o,a,s,d,i,n,c,l,u){"use strict";const p="esri-feature-content",h={base:p,loaderContainer:`${p}__loader-container`,loader:`${p}__loader`};return e.default=class extends i{constructor(e,t){super(e,t),this.viewModel=null,this._addTargetToAnchors=e=>{Array.from(e.querySelectorAll("a")).forEach(e=>{c.shouldOpenInNewTab(e.href)&&!e.hasAttribute("target")&&e.setAttribute("target","_blank")})}}get creator(){return this.viewModel?.creator}set creator(e){this.viewModel&&(this.viewModel.creator=e)}get graphic(){return this.viewModel?.graphic}set graphic(e){this.viewModel&&(this.viewModel.graphic=e)}render(){const e=this.viewModel?.state;return u.tsx("div",{class:h.base},"loading"===e?this._renderLoading():this._renderCreated())}_renderLoading(){return u.tsx("div",{class:h.loaderContainer,key:"loader"},u.tsx("div",{class:h.loader}))}_renderCreated(){const e=this.viewModel?.created;return e?e instanceof HTMLElement?u.tsx("div",{afterCreate:this._attachToNode,bind:e,key:e}):l.isWidget(e)?u.tsx("div",{key:e},!e.destroyed&&e.render()):u.tsx("div",{afterCreate:this._addTargetToAnchors,innerHTML:e,key:e}):null}_attachToNode(e){e.appendChild(this)}},t.__decorate([r.property()],e.default.prototype,"creator",null),t.__decorate([r.property()],e.default.prototype,"graphic",null),t.__decorate([r.property({type:n})],e.default.prototype,"viewModel",void 0),e.default=t.__decorate([d.subclass("esri.widgets.Feature.FeatureContent")],e.default),e.default});