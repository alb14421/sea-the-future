// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","../../chunks/tslib.es6","../../assets","../../Color","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../../symbols/LineSymbolMarker","../../symbols/SimpleLineSymbol","../Widget","../../chunks/componentsUtils","../support/widgetUtils","../support/decorators/messageBundle","../support/jsxFactory","./VisibleElementsSettingsPane"],function(e,t,s,o,r,n,i,l,d,a,c,p,u,m,w,h,g){"use strict";const y="esri-un-associations",b={divControlsSymbolPicker:`${y}__div-controls-symbol-picker`,dropdown:`${y}__dropdown`,dropdownItemLineCap:`${y}__dropdown-item-line-cap`,dropdownItemLinePattern:`${y}__dropdown-item-line-pattern`,dropdownSelectedItemLineCap:`${y}__dropdown-selected-item-line-cap`,dropdownSelectedItemLinePattern:`${y}__dropdown-selected-item-line-pattern`,dropdownTrigger:`${y}__dropdown-trigger`,labelAndToggle:`${y}__label-and-toggle`};let _=class extends p{constructor(e,t){super(e,t),this._lineCapTypes=["butt","round","square"],this._lineStyleTypes=["solid","dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","short-dash","short-dash-dot","short-dash-dot-dot","short-dot"],this.lineSymbol=new c,this.messages=null,this.showArrows=!1,this.visibleElements=new g,this._afterComponentCreate=this._afterComponentCreate.bind(this)}render(){const{messages:{input:{lineCap:e,lineColor:t,lineStyle:s,lineWidth:o,showArrows:r}},visibleElements:n}=this,i=this.lineSymbol;return h.tsx("div",{class:b.divControlsSymbolPicker},n.arrowsToggle?this._renderToggle(r,this.showArrows,i,"marker"):void 0,n.capSelect?this._renderLineStylePicker(e,this._lineCapTypes,i,"cap"):void 0,n.colorPicker&&i.color?this._renderColorPicker(t,i.color.toHex(),i,"color"):void 0,n.stylePicker?this._renderLineStylePicker(s,this._lineStyleTypes,i,"style"):void 0,n.widthInput?this._renderNumberInput(o,i.width.toString(),i,"width"):void 0)}loadDependencies(){return u.loadCalciteComponents({dropdown:()=>new Promise((t,s)=>e(["../../chunks/index24"],t,s)),"dropdown-group":()=>new Promise((t,s)=>e(["../../chunks/index25"],t,s)),"dropdown-item":()=>new Promise((t,s)=>e(["../../chunks/index26"],t,s)),input:()=>new Promise((t,s)=>e(["../../chunks/index4"],t,s)),"input-number":()=>new Promise((t,s)=>e(["../../chunks/index28"],t,s)),label:()=>new Promise((t,s)=>e(["../../chunks/index5"],t,s)),switch:()=>new Promise((t,s)=>e(["../../chunks/index33"],t,s))})}_afterComponentCreate(e){"value"in e&&null!=e.value&&"setNumberValue"in e&&e.setNumberValue({committing:!1,value:e.value,origin:"direct"})}_renderColorPicker(e,t,s,r){return h.tsx("calcite-label",{scale:"s"},e,h.tsx("calcite-input",{scale:"s",type:"color",value:t,onCalciteInputInput:e=>{const t=e.currentTarget;s.set(r,new o(t.value))}}))}_renderLineStylePicker(e,t,o,r){const n="style"===r,i="esri/widgets/UtilityNetworkAssociations/assets/img";return h.tsx("calcite-label",{scale:"s"},e,h.tsx("calcite-dropdown",{class:b.dropdown,onCalciteDropdownSelect:e=>{const t=e.currentTarget;o.set(r,t.selectedItems[0].label)}},h.tsx("div",{class:b.dropdownTrigger,role:"button",slot:"trigger"},h.tsx("div",{class:n?b.dropdownSelectedItemLinePattern:b.dropdownSelectedItemLineCap,style:`background-image:url(${s.getAssetUrl(`${i}/line-${n?"patterns":"caps"}/${o[r]}.png`)})`})),h.tsx("calcite-dropdown-group",null,t.map(e=>function(e,t){return h.tsx("calcite-dropdown-item",{label:e,selected:o[t]===e},h.tsx("div",{class:n?b.dropdownItemLinePattern:b.dropdownItemLineCap,style:`background-image:url(${s.getAssetUrl(`${i}/line-${n?"patterns":"caps"}/${e}.png`)})`}))}(e,r)))))}_renderNumberInput(e,t,s,o){return h.tsx("calcite-label",{scale:"s"},e,h.tsx("calcite-input-number",{afterCreate:this._afterComponentCreate,max:10,min:1,scale:"s",step:1,type:"number",value:t,onCalciteInputNumberChange:e=>{const t=e.currentTarget;s.set(o,t.value)}}))}_renderToggle(e,t,s,o){return h.tsx("div",{class:b.labelAndToggle},h.tsx("calcite-label",{scale:"s"},e),h.tsx("calcite-switch",{bind:this,checked:t,onCalciteSwitchChange:e=>{e.currentTarget.checked?s.set(o,new a({style:"arrow"})):s.set(o,null)}}))}};return t.__decorate([r.property()],_.prototype,"lineSymbol",void 0),t.__decorate([r.property(),w.messageBundle("esri/widgets/UtilityNetworkAssociations/t9n/UtilityNetworkAssociations")],_.prototype,"messages",void 0),t.__decorate([r.property()],_.prototype,"showArrows",void 0),t.__decorate([r.property({type:g,nonNullable:!0})],_.prototype,"visibleElements",void 0),_=t.__decorate([d.subclass("esri.widgets.UtilityNetworkAssociations.UtilityNetworkAssociationsLineSymbolPicker")],_),_});