// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils","../../../../libs/maquette/projection","../../../../libs/maquette/projector","../../../../support/guards","../../../../symbols/support/symbolUtils","../../../support/widgetUtils","../../../support/jsxFactory"],function(e,t,i,o,r,n,l,s){"use strict";const a=o.createProjector(),c="esri-univariate-above-and-below-ramp__symbol";function p(e="vertical"){const t="stroke:rgb(200, 200, 200);stroke-width:1";return"vertical"===e?s.tsx("svg",{height:"4",width:"10"},s.tsx("line",{style:t,x1:"0",x2:"10",y1:"2",y2:"2"})):s.tsx("svg",{height:"10",width:"10"},s.tsx("line",{style:t,x1:"5",x2:"5",y1:"0",y2:"10"}))}function f(e,t="vertical"){const i=document.createElement("div");return i.style.height="20px",i.className=c,null!=e&&(i.style.opacity=e.toString()),a.append(i,p.bind(null,t)),i}function u(e,i,o="vertical",n){e.infos.forEach((e,l)=>{if(n&&2===l)e.preview=f(i,o);else{const i=(r.isNumber(e.size)?t.pt2px(e.size):0)+("horizontal"===o?20:10),n=e.preview,l="div"===n?.tagName.toLowerCase(),s=l?n:document.createElement("div");s.className=c,"horizontal"===o?s.style.width=`${i}px`:s.style.height=`${i}px`,!l&&n&&s.appendChild(n),e.preview=s}})}function m(e,i,o,n="vertical"){let l=0;const s=e.infos,a=Math.floor(s.length/2),c="full"===i||"above"===i?0:a,p="full"===i||"below"===i?s.length-1:a;for(let e=c;e<=p;e++)if(o&&e===a)l+="horizontal"===n?10:20;else{const i=s[e].size;l+=(r.isNumber(i)?t.pt2px(i):0)+("horizontal"===n?20:10)}return Math.round(l)}e.getUnivariateAboveAndBelowRampElements=function(e,t,i="vertical"){const o=e.infos;let r=o.find(({type:e})=>"size-ramp"===e),n=o.find(({type:e})=>"color-ramp"===e);return r&&(r={...r},r.infos=[...r.infos],u(r,t,i,!0)),n&&(n={...n},n.infos=[...n.infos]),"horizontal"===i&&(r?.infos.reverse(),n?.infos.reverse()),{sizeRampElement:r,colorRampElement:n}},e.getUnivariateColorRampMargin=function(e,i="classic"){const o=e.infos,n=o.at(0),l=o.at(-1),s=r.isNumber(n.size)?t.pt2px(n.size):0,a=r.isNumber(l.size)?t.pt2px(l.size):0;return"classic"===i?(s+10)/2:(s-a)/2},e.getUnivariateColorRampPreview=function(e,t){if(!e)return null;const i=e.infos.map(e=>e.color),o=n.renderColorRampPreviewHTML("full"===t.type?i:"above"===t.type?i.slice(0,3):i.slice(2,5),{width:t.width,height:t.height,align:t.rampAlignment,effectList:t.effectList,ariaLabel:t.ariaLabel});return o.className="esri-legend__color-ramp",null!=t.opacity&&(o.style.opacity=t.opacity.toString()),o},e.getUnivariateColorRampSize=function(e,i,o,n="vertical"){const l=m(e,i,o,n),s=e.infos,a=Math.floor(s.length/2),c="full"===i||"above"===i?0:a,p="full"===i||"below"===i?s.length-1:a,f=r.isNumber(s[c].size)?s[c].size:0,u=r.isNumber(s[p].size)?s[p].size:0,v="full"===i?f+u:"above"===i?f:u,d=o?"vertical"===n?20:10:0,h="vertical"===n?10*("full"===i?2:1):20*("full"===i?2:1);return Math.round(l-(t.pt2px(v)/2+d/2+h/2))},e.getUnivariateColorSizeRampElements=function(e,t="vertical"){const i=e.infos;let o=i.find(({type:e})=>"size-ramp"===e),r=i.find(({type:e})=>"color-ramp"===e);return o&&(o={...o},o.infos=[...o.infos],u(o,null,t,!1)),r&&(r={...r},r.infos=[...r.infos]),"horizontal"===t&&(o?.infos.reverse(),r?.infos.reverse()),{sizeRampElement:o,colorRampElement:r}},e.getUnivariateSizeRampSize=m,e.univariateColorRampContainerStyles={marginLeft:"3px"},e.univariateColorRampStyles={display:"table-cell",verticalAlign:"middle"},e.univariateRampContainerStyles={display:"flex",alignItems:"flex-start"},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});