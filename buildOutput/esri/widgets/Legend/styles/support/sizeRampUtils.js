// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils","./utils","../../support/styleUtils","../../../support/widgetUtils","../../../support/jsxFactory"],function(e,t,i,s,a,n){"use strict";const o=window.devicePixelRatio,p="esri-spike-ramp",l={spikeRampContainer:`${p}__container`,spikeRampPreviewContainer:`${p}__preview-container`,spikeRampPreview:`${p}__preview`,spikeRampSymbolPreview:`${p}__symbol-preview`,spikeRampLines:`${p}__lines`,spikeRampLabelsContainer:`${p}__labels-container`,spikeRampLabel:`${p}__label`};function r(e){return e.infos.filter((e,t)=>t%2==0)}e.renderSpikeRamp=function(e){return 5!==e.infos.length?null:n.tsx("div",{class:l.spikeRampContainer},n.tsx("div",{class:l.spikeRampPreviewContainer},function(e){const[t,i,a]=r(e).map(({preview:e})=>{if(!e)return null;const t=e.cloneNode(!0);return t.classList.add(l.spikeRampSymbolPreview),t});return t&&i&&a?n.tsx("div",{class:l.spikeRampPreview},n.tsx("div",{afterCreate:s.attachToNode,bind:a}),n.tsx("div",{afterCreate:s.attachToNode,bind:i}),n.tsx("div",{afterCreate:s.attachToNode,bind:t})):null}(e),function(e){const[{width:a,height:p},{width:d},{width:h,height:c}]=r(e).map(({size:e})=>i.isWidthAndHeight(e)?{width:t.pt2px(e.width),height:t.pt2px(e.height)}:{width:0,height:0}),m=a+d+h+30,u=p,v=document.createElement("canvas");v.width=(m+10)*o,v.height=u*o,v.style.width=v.width/o+"px",v.style.height=v.height/o+"px";const b=v.getContext("2d");b.beginPath();const w=m-(a/2+10),x=m+8;b.moveTo(w*o,0*o),b.lineTo(x*o,0*o);const g=(m-8)/2,k=(p-c)/2,R=m+8,f=(p-c)/2;b.moveTo(g*o,k*o),b.lineTo(R*o,f*o);const _=h/2,y=u-c,C=m+8,T=u-c;return b.moveTo(_*o,y*o),b.lineTo(C*o,T*o),b.strokeStyle="#ddd",b.lineWidth=.5*o,b.stroke(),n.tsx("div",{afterCreate:s.attachToNode,bind:v,class:l.spikeRampLines})}(e)),function(e){const[{label:s,height:a},{label:o},{label:p,height:d}]=r(e).map(({label:e,size:s})=>({label:e,height:i.isWidthAndHeight(s)?t.pt2px(s.height):0})),h=a-d,c={position:"absolute",top:h/2+"px"},m={position:"absolute",top:`${h}px`};return n.tsx("div",{class:l.spikeRampLabelsContainer},n.tsx("div",{class:l.spikeRampLabel,styles:{position:"absolute",top:"0"}},s),n.tsx("div",{class:l.spikeRampLabel,styles:c},o),n.tsx("div",{class:l.spikeRampLabel,styles:m},p))}(e))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});