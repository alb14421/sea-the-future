// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../../../symbols/support/svgUtils","../../../../symbols/support/utils","../../../Widget","./css","../support/utils","../../../support/widgetUtils","../../../support/jsxFactory"],function(e,t,s,r,o,l,a,i,p,c,d,n,h,u){"use strict";return e.default=class extends c{constructor(e,t){super(e,t),this.effectList=null,this.legendElement=null,this.opacity=1}render(){const e=this.legendElement.infos.slice().reverse();return u.tsx("div",{class:this.classes(d.css.layerRow,d.css.colorRampContainer)},this._renderRampLabel(e[0]),u.tsx("div",{class:d.css.symbolContainer},this._renderPreview(e),this._renderMiddleStopRampLabel(e)),this._renderRampLabel(e.at(-1)))}_renderPreview(e){const{opacity:t}=this,s="heatmap-ramp"===this.legendElement.type,r=e.length-1,o=r>2&&!s?25*r:100,l=o+20,a=[[{shape:{type:"path",path:"M0 12.5 L10 0 L10 25 Z"},fill:e[0].color,stroke:{width:0}},{shape:{type:"rect",x:10,y:0,width:o,height:25},fill:{type:"linear",x1:10,y1:0,x2:o+10,y2:0,colors:e.map((e,t)=>({color:e.color,offset:s&&"ratio"in e?e.ratio:t/r}))},stroke:{width:0}},{shape:{type:"path",path:`M${o+10} 0 L${l} 12.5 L${o+10} 25 Z`},fill:e[e.length-1].color,stroke:{width:0}}]],c=i.renderSVG(a,l,25),d={filter:p.getCSSFilterFromEffectList(this.effectList)??void 0,opacity:null==t?void 0:`${t}`};return u.tsx("div",{styles:d},c)}_renderMiddleStopRampLabel(e){const t=e.length%2!=0?e[e.length/2|0]:null;return t?u.tsx("div",{class:d.css.intervalSeparatorsContainer},u.tsx("div",{class:d.css.intervalSeparator},"|"),this._renderRampLabel(t)):null}_renderRampLabel(e){return u.tsx("div",{class:d.css.rampLabel},n.getRampStopLabel(e,this.legendElement.type,this.messages))}},t.__decorate([s.property()],e.default.prototype,"effectList",void 0),t.__decorate([s.property()],e.default.prototype,"legendElement",void 0),t.__decorate([s.property()],e.default.prototype,"messages",void 0),t.__decorate([s.property()],e.default.prototype,"opacity",void 0),e.default=t.__decorate([a.subclass("esri.widgets.Legend.styles.card.ColorRamp")],e.default),e.default});