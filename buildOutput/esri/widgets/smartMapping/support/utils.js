// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../Color","../../../intl/date","../../../intl/number","../../../renderers/support/utils","../../../renderers/visualVariables/SizeVariable"],function(t,e,n,i,a,o){"use strict";t.formatDateLabel=function(t){return n.formatDate(new Date(t),a.timelineDateFormatOptions)},t.formatNumberLabel=function(t){const e=Math.floor(Math.log10(Math.abs(t)))+1,n=e<4||e>6?4:e,a=Math.abs(t)>=1e6?"compact":"standard";return i.formatNumber(t,{notation:a,minimumSignificantDigits:2,maximumSignificantDigits:n})},t.getDeviationValues=function(t,e,n){if(null==e||null==t)return[];const i=[];for(let a=-1*n;a<=n;a++)0!==a&&i.push(e+a*t);return i},t.getDynamicPathForSizeStops=function(t){const{max:e,min:n,padding:i,pathHeight:a,pathWidth:o,stops:r}=t,s=e-n;let u,l=`M0 0 L${o} 0 `;const h=3===r.length?[r[0],r[1],r[2]]:[r[0],r[2],r[4]],m=Math.min.apply(Math,h.map(t=>t.size)),c=Math.max(Math.abs(h[0].size-h[1].size),Math.abs(h[2].size-h[1].size));return h.reverse(),h.forEach(({size:t,value:e},r)=>{const h=Math.round((t-m)/c*100)/100,f=Math.round(a-(e-n)/s*a);u=h*o,0===u&&(u=i*o),0===r&&(l+=`L${u} 0 `),l+=`L${u} ${f} `}),l+=`L${u} ${a} L0 ${a} L0 0 Z`,l},t.getFillFromColor=function(t){return t instanceof e?t.toCss(!0):e.fromString(t??"").toCss(!0)},t.getPathForSizeStops=function(t){const{bottomValue:e,bottomWidth:n,max:i,min:a,pathHeight:o,pathWidth:r,topValue:s,topWidth:u}=t,l=u*r,h=n*r,m=i-a,c=Math.round(o-(e-a)/m*o);return`M${l} 0 L${l} ${Math.round(o-(s-a)/m*o)} L${h} ${c} L${h} ${o} L0 ${o} L0 0 Z`},t.getSizesFromVariable=function(t){let e=t.maxSize,n=t.minSize;return e instanceof o&&(e=e.stops[0].size),n instanceof o&&(n=n.stops[0].size),[e,n]},t.getStopChanges=function(t,e,n){const i=n.length-1;if(i<0)return[];const a=n[0],o=n[i]-a,r=e-t,s=[];for(let e=1;e<i;e++){const i=(n[e]-a)/o*r+t;s.push({index:e,value:i})}return s.unshift({index:0,value:t}),s.push({index:i,value:e}),s},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});