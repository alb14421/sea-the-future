// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../chunks/tslib.es6","../../Color","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/cast","../../core/has","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","./SmartMappingSliderBase","./OpacitySlider/OpacitySliderViewModel","../support/globalCss","../support/widgetUtils","../support/decorators/messageBundle","../support/jsxFactory"],function(e,t,s,r,i,a,o,l,n,d,p,c,g){"use strict";var m;const u="esri-opacity-slider",h={base:u,rampElement:`${u}__ramp`,sliderContainer:`${u}__slider-container`,histogramContainer:`${u}__histogram-container`,track:`${u}--interactive-track`},v={trackFillColor:new t([0,121,193])};let b=m=class extends l{constructor(e,t){super(e,t),this.messages=null,this.style={...v},this.viewModel=new n,this._rampFillId=`${this.id}-ramp-fill`,this._bgFillId=`${this.id}-bg-fill`}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get stops(){return this.viewModel.stops}set stops(e){this.viewModel.stops=e}castStyle(e){return{...v,...e}}static fromVisualVariableResult(e,t){const{visualVariable:{stops:s},statistics:r}=e,{avg:i,max:a,min:o,stddev:l}=r;return new m({max:a??void 0,min:o??void 0,stops:s,histogramConfig:{average:i??void 0,standardDeviation:l??void 0,bins:t?t.bins:[]}})}updateFromVisualVariableResult(e,t){const{visualVariable:{stops:s},statistics:r}=e,{avg:i,max:a,min:o,stddev:l}=r;this.set({max:a,min:o,stops:s,histogramConfig:{average:i,standardDeviation:l,bins:t?t.bins:[]}})}render(){const{state:e,label:t,visibleElements:s}=this,r="disabled"===e,i=this.classes(h.base,d.globalCss.widget,d.globalCss.panel,{[d.globalCss.disabled]:r,[h.track]:!!s.interactiveTrack});return g.tsx("div",{"aria-label":t,class:i},r?null:this.renderContent(this._renderRamp(),h.sliderContainer,h.histogramContainer))}_renderRamp(){const{_bgFillId:e,_rampFillId:t,style:{trackFillColor:s},viewModel:r,zoomOptions:i}=this,a=r.getStopInfo(s);return g.tsx("div",{class:h.rampElement},g.tsx("svg",{xmlns:"http://www.w3.org/2000/svg"},g.tsx("defs",null,this.renderRampFillDefinition(t,a),this.renderBackgroundFillDefinition(e)),g.tsx("rect",{fill:`url(#${e})`,height:"100%",width:"100%",x:"0",y:"0"}),g.tsx("rect",{fill:`url(#${t})`,height:"100%",width:"100%",x:"0",y:"0"})),i?this.renderZoomCaps():null)}};return e.__decorate([s.property()],b.prototype,"label",null),e.__decorate([s.property(),c.messageBundle("esri/widgets/smartMapping/OpacitySlider/t9n/OpacitySlider")],b.prototype,"messages",void 0),e.__decorate([s.property()],b.prototype,"stops",null),e.__decorate([s.property()],b.prototype,"style",void 0),e.__decorate([r.cast("style")],b.prototype,"castStyle",null),e.__decorate([s.property({type:n})],b.prototype,"viewModel",void 0),b=m=e.__decorate([o.subclass("esri.widgets.smartMapping.OpacitySlider")],b),b});