// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/MapUtils"],function(e,t){"use strict";const o={key:Symbol(),label:"Otherâ€‹"},a=e=>"items"in e;e.isTemplateGroupInfo=function(e){return"templateInfos"in e},e.isTemplateItemGroup=a,e.loadLayerWithTemplates=async function(e,t){return"subtype-sublayer"===e.type?await(e.parent?.load(t)):await e.load(t),e},e.makeGroupItemInfos=function(e,a){const n=new Map;for(const l of e){const e=a(l),{key:r,label:s}=null!=e.key?e:o;t.getOrCreateMapValue(n,r,()=>({label:s,templateInfos:[]})).templateInfos.push(l)}return Array.from(n.values())},e.makeTemplateGroupInfoForLayer=function(e,t){return{label:e.title??"",templateInfos:t.map(t=>({layer:e,template:t}))}},e.makeTemplateItemInfos=function(e){const t=[];for(const{layer:o,templates:a}of e)for(const e of a)t.push({layer:o,template:e});return t},e.mapItemsByTemplate=function(e){const t=new Map,o=[];for(const n of e)if(a(n)){o.push(n);for(const e of n.items)t.set(e.template,e)}else t.set(n.template,n);return[t,o]},e.nullGroupBy=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});