// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../intl/substitute","../workflowUtils","./FooterActions","./Notices","./PanelContent","./PendingFeatureList","../../support/Heading","../../support/widgetUtils","../../support/jsxFactory"],function(e,t,o,n,a,i,s,l,r,u){"use strict";e.UpdateFeaturePanelContent=function({editorViewModel:e,headingLevel:r,messages:d,messagesCommon:c,onDelete:p,onDeleteAssociation:m,onSave:b,renderAttachments:g,renderFeatureForm:w,renderBatchAttributeForm:F,renderSketchToolbar:f}){const{activeFeatureCount:h,activeLeafWorkflow:v,activeWorkflow:y,formViewModel:C,syncing:k}=e;if(!v||!y||!C)return null;const A=v.type.includes("update"),x=o.isBatchAttributeFormViewModel(C),P=h>1?d.multiFeature:d.singleFeature,S=A&&!v.hasPendingEdits||k||C.updating||C.disabled||o.isBatchAttributeFormViewModel(C)&&C.readOnly,L=t.substitute(A?P.update:P.create,{count:h}),B="create-features"!==v?.type||!!v.data.selectedPendingFeature,H="shouldShowAttachments"in v&&v.shouldShowAttachments&&!x&&!C.activeRelationshipInput&&!C.activeAssociationInput,M=x?C.activeForm.inputs:C.inputs,D=o.isCreateFeaturesWorkflow(v)&&M.every(e=>!e.visible)&&!H,I=o.isUpdateFeaturesWorkflow(v)?F:w,T=D?u.tsx(i.PanelContentSection,null,u.tsx(s,{headingLevel:r,key:"pending-feature-list",workflow:v})):u.tsx(i.PanelContentSection,{key:"panel-content-section"},u.tsx(a.Notices,{activeFeatureCount:h,messages:d,workflow:y}),u.tsx(i.PanelContentSectionGroup,null,B||"create-features"!==v.type?I():u.tsx(s,{headingLevel:r,key:"pending-feature-list",workflow:v}),H?u.tsx("div",{key:"attachments"},u.tsx(l.Heading,{level:l.incrementHeadingLevel(r)},d.attachments),g()):null)),U={appearance:"solid",onClick:b,disabled:S,label:L,type:"button"},V={appearance:"outline",onClick:p,disabled:k,kind:"danger",label:t.substitute(P.delete,{count:h}),type:"button"},W={...V,onClick:m,label:d.deleteAssociationTitle,type:"button"},N={...V,primaryLabel:c.delete,primaryText:c.delete,dropdownItems:[{onClick:m,label:d.deleteAssociationTitle}],type:"split-button"},j={appearance:"outline",onClick:()=>{const{featureFormViewModel:t}=e;null!=t?.associationId&&(t.associationId=null)},disabled:k,label:c.cancel,type:"button"},O="viewing-associated-features"===e.page||"viewing-associated-layers"===e.page?[j]:[U,e.shouldShowDeleteButton&&!e.featureFormHasAssociation?V:void 0,e.shouldShowDeleteButton&&e.featureFormHasAssociation?N:void 0,!e.shouldShowDeleteButton&&e.featureFormHasAssociation?W:void 0];return u.tsx(u.tsxFragment,null,D?f?.():void 0,u.tsx(i.PanelContent,{key:"attribute-panel-content"},T),u.tsx(n.FooterActions,{buttons:O}))},e.loadUpdateFeaturePanelContentComponents=()=>Promise.all([n.loadFooterActionsComponents(),a.loadNoticesComponents(),i.loadPanelContentComponents()]),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});