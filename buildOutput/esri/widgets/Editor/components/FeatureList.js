// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/arrayUtils","../../../layers/support/fieldUtils","./PanelContent","../../../chunks/componentsUtils","../../support/ItemList","../../support/widgetUtils","../../support/jsxFactory"],function(e,t,o,n,a,s,l,r,i){"use strict";t.FeatureList=function({editorItems:e,filterText:t,id:s,messagesTemplates:r,onFilterTextChange:c,onSelectFeature:d,onZoomTo:u,workflow:m,editorMessages:p}){const f=new Map,y=m.data.candidates;let g=0;y.map(e=>{const t=function(e){const t=e.layer;if(!t)return null;const o=t.fieldsIndex.get(t.objectIdField),a=o.alias||o.name,{attributes:s}=e,l=n.getDisplayFieldName(t);return l&&s[l]&&`${s[l]}`||`${a}: ${s[o.name]}`}(e);return{label:t,id:e.attributes[e.layer.objectIdField],data:e}}).filter(({label:o,data:n})=>{const a=t.toLowerCase(),{title:s}=n.layer,l=e.find(e=>e.layer===n.sourceLayer);return l?l.supportsUpdateWorkflow&&(!a||o?.toLowerCase().includes(a)||s?.toLowerCase().includes(a)):null}).filter(o.isSome).forEach(e=>{g++;const t=e.data.layer;f.has(t)?f.get(t)?.items.push(e):f.set(t,{id:`${t.id}`,label:t.title??"",items:[e]})});const C=e.toArray().map(({layer:e})=>f.get(e)).filter(o.isSome),b=g>10||t.length>0;return i.tsx(a.PanelContent,{key:"feature-list"},i.tsx(a.PanelContentSection,null,l.ItemList({enableListScroll:!1,filterEnabled:b,filterText:t,id:s,items:C,messages:{filterPlaceholder:r.filterPlaceholder,noItems:r.noItems,noMatches:r.noMatches},onFilterChange:e=>c(e),onItemMouseEnter:e=>d(e.data),onItemMouseLeave:()=>d(null),onItemSelect:e=>d(e.data,!0),renderItemActionEnd:e=>{return t=e.data,o=u,n=p.zoomTo,i.tsx("calcite-action",{appearance:"transparent",icon:"zoom-to-object",onclick:()=>o(t),scale:"s",slot:"actions-end",text:n,title:n});var t,o,n}})))},t.loadFeatureListComponents=()=>Promise.all([a.loadPanelContentComponents(),s.loadCalciteComponents({action:()=>new Promise((t,o)=>e(["../../../chunks/index12"],t,o))})]),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});