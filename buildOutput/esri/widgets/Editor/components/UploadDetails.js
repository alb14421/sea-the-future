// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../core/Error","../../../layers/graphics/sources/support/uploadAssetErrors","./FooterActions","./PanelContent","../../../chunks/componentsUtils","../../support/widgetUtils","../../support/jsxFactory"],function(e,t,s,o,l,r,n,i,a){"use strict";const c="esri-editor__upload-details",d={base:c,status:`${c}__status`,titleWrapper:`${c}__title-wrapper`,title:`${c}__title`,description:`${c}__description`,loader:`${c}__loader`,iconSuccess:`${c}__icon ${c}__icon--success`,iconError:`${c}__icon ${c}__icon--error`,fileList:`${c}__file-list`,file:`${c}__file`,fileIcon:`${c}__file-icon`,fileName:`${c}__file-name`};function u(e,t){if(!e)return null;const l=t.modelUploads.error.messages;switch(e.constructor){case o.NoModelError:return l.noModel;case o.MultipleModelsError:return l.multipleModels;case o.Convert3DFailedError:return l.conversionFailed;case s:switch(e.name){case"glt-loader-error":case"gltf-loader-invalid-glb":return l.loadFailed;case"gltf-loader-unsupported-feature":return l.unsupportedFeature;case"glt-loader-request-error":return l.resourceRequestFailed;default:return l.default}default:return l.default}}function p(e){const t=e.name.split(".").pop()?.toLowerCase();return(t?g[t]:null)??f}const f="file",m="file-shape",_="file-image",g={glb:m,gltf:m,jpeg:_,jpg:_,png:_,svg:_,zip:"file-zip"};t.UploadDetails=function(e){const{messages:t,key:s,upload:o}=e;return a.tsx(a.tsxFragment,null,a.tsx(r.PanelContent,{key:s??"upload-details"},a.tsx(r.PanelContentSection,null,function(e){const t=function({helpMessage:e,messages:t,upload:s}){switch(s.state){case"pending":{const{title:e,description:o}=t.modelUploads.pending;return{title:e,description:o,iconContent:a.tsx("calcite-loader",{"aria-hidden":"true",class:d.loader,label:"",scale:"s",type:"determinate",value:Math.min(Math.round(100*s.progress),1===s.progress?100:99)})}}case"success":{const{title:s}=t.modelUploads.success;return{title:s,description:e||t.helpMessages3d.mesh,iconContent:a.tsx("calcite-icon",{class:i.classes(d.iconSuccess),icon:"check",scale:"l"})}}case"error":{const{title:e}=t.modelUploads.error;return{title:e,description:u(s.error,t),iconContent:a.tsx("calcite-icon",{class:i.classes(d.iconError),icon:"exclamation-mark-circle",scale:"l"})}}default:return null}}(e);return t?a.tsx("div",{class:d.base,"data-testid":"upload-details",key:"upload-details-content"},a.tsx("div",{class:d.status,key:"status"},t.iconContent,a.tsx("div",{class:d.titleWrapper,key:"text"},a.tsx("div",{class:d.title,key:"title"},t.title),a.tsx("div",{class:d.description,key:"description"},t.description))),function(e){return a.tsx("div",{class:d.fileList,key:"file-list"},e.files.map(e=>{return a.tsx("div",{class:d.file,key:`file-${e.name}`},a.tsx("calcite-icon",{class:d.fileIcon,icon:p(e),scale:"s"}),a.tsx("span",{class:d.fileName},(t=e.name,t.split("/").pop()?.split("\\").pop()??"")));var t}))}(e.upload)):null}(e))),"error"===o.state?a.tsx(l.FooterActions,{buttons:[{onClick:()=>o.retry(),label:t.modelUploads.error.uploadNew,iconStart:"upload-to",type:"button"}],key:"upload-details-footer-actions"}):null)},t.css=d,t.loadUploadDetailsComponents=()=>Promise.all([n.loadCalciteComponents({icon:()=>new Promise((t,s)=>e(["../../../chunks/index7"],t,s)),loader:()=>new Promise((t,s)=>e(["../../../chunks/index32"],t,s))}),l.loadFooterActionsComponents(),r.loadPanelContentComponents()]),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});