// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../chunks/tslib.es6","../../core/Accessor","../../core/Error","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","./Edits"],function(e,t,r,o,a,s,i,d,p){"use strict";var c;let n=c=class extends t{constructor(e){super(e),this.association=null,this.editorItem=null,this.edits=null,this.parent=null,this.featureFormCallbacks=null,this.viewModel=null,this.readOnly=!1}get attachmentsCapabilities(){const e=this.editorItem.capabilities.update.attachments.enabled;return{editing:!0,operations:{add:e,update:e,delete:e}}}get formTemplate(){return this.editorItem.formTemplate}static async create(e){const t=c._makeConstructorProps(e);return new c(t)}static _makeConstructorProps(e){const{association:t,feature:o,parent:a,featureFormCallbacks:s,viewModel:i,readOnly:d}=e,c=i.editorItems.find(e=>e.layer===o.sourceLayer);if(!c)throw new r("no-editorItem-found","The EditorViewModel provided did not have an EditorItem associated with the specified Graphic's layer");return{association:t,editorItem:c,edits:new p({feature:o}),parent:a,featureFormCallbacks:s,viewModel:i,readOnly:d}}};return e.__decorate([o.property()],n.prototype,"association",void 0),e.__decorate([o.property()],n.prototype,"attachmentsCapabilities",null),e.__decorate([o.property({constructOnly:!0})],n.prototype,"editorItem",void 0),e.__decorate([o.property()],n.prototype,"edits",void 0),e.__decorate([o.property()],n.prototype,"formTemplate",null),e.__decorate([o.property()],n.prototype,"parent",void 0),e.__decorate([o.property()],n.prototype,"featureFormCallbacks",void 0),e.__decorate([o.property()],n.prototype,"viewModel",void 0),e.__decorate([o.property()],n.prototype,"readOnly",void 0),n=c=e.__decorate([d.subclass("esri.widgets.Editor.UpdateRecordWorkflowData")],n),n});