// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../chunks/tslib.es6","../../../intl","../../../core/maybe","../../../core/reactiveUtils","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../Widget","../css","./Statistics","../support/intlUtils","../../../chunks/componentsUtils","../../support/widgetUtils","../../support/jsxFactory","../../../intl/substitute"],function(e,t,s,i,o,n,r,l,d,a,c,p,g,h,b,u,_,m,y){"use strict";t.LegendItem=class extends p{constructor(e,t){super(e,t),this.checkboxVisible=!0,this.expanded=!1}loadDependencies(){return u.loadCalciteComponents({action:()=>new Promise((t,s)=>e(["../../../chunks/index12"],t,s)),checkbox:()=>new Promise((t,s)=>e(["../../../chunks/index44"],t,s)),label:()=>new Promise((t,s)=>e(["../../../chunks/index5"],t,s))})}initialize(){this._statistics=new h.Statistics(this._statisticsProps),this.addHandles(n.watch(()=>this._statisticsProps,e=>this._statistics.set(e)))}destroy(){this._statistics=o.destroyMaybe(this._statistics)}render(){const e=this.expanded;return m.tsx("div",{class:this.classes(g.legendItemCss.base,{[g.legendItemCss.disabled]:this.disabled,[g.legendItemCss.expanded]:e}),key:this},this._renderColorIndicator(),m.tsx("div",{class:g.legendItemCss.header,key:"header"},this._renderLabelWithCheckbox(),this._renderCollapseToggleButton()),e?m.tsx("div",{class:g.legendItemCss.content,key:"content"},this._statistics.render()):null)}get disabled(){return!this.line.available}get _statisticsProps(){return{line:this.line,effectiveUnits:this.effectiveUnits}}_renderColorIndicator(){return m.tsx("div",{class:g.legendItemCss.colorIndicator,key:"color-indicator",styles:{backgroundColor:this.line.color.toCss()}})}_renderCollapseToggleButton(){const{expanded:e,messages:t}=this,s=e?t.hideDetails:t.showDetails;return m.tsx("calcite-action",{appearance:"transparent",bind:this,class:g.legendItemCss.collapseToggle,"data-testid":"legend-toggle",icon:e?"chevron-up":"chevron-down",key:"collapse-toggle",onclick:this._onCollapseToggleClick,scale:"s",text:s,title:s})}_onCollapseToggleClick(){this.onExpandedToggle()}_renderLabelWithCheckbox(){const{line:e,checkboxVisible:t,disabled:s,messages:i}=this;return m.tsx("calcite-label",{class:g.legendItemCss.label,disabled:s,key:`label-${e.id}`,layout:"inline"},t?this._renderCheckbox():null,b.getTranslatedLineTitle(e,i))}_renderCheckbox(){const{disabled:e,line:t,messages:s}=this,i=t.visible,o=i?s.hideProfile:s.showProfile,n=y.substitute(o,{name:b.getTranslatedLineTitle(t,s)});return m.tsx("calcite-checkbox",{checked:i,class:g.legendItemCss.checkbox,disabled:e,title:n,onCalciteCheckboxChange:()=>t.toggleVisibility()})}},s.__decorate([r.property()],t.LegendItem.prototype,"checkboxVisible",void 0),s.__decorate([r.property()],t.LegendItem.prototype,"disabled",null),s.__decorate([r.property({nonNullable:!0})],t.LegendItem.prototype,"effectiveUnits",void 0),s.__decorate([r.property()],t.LegendItem.prototype,"expanded",void 0),s.__decorate([r.property({nonNullable:!0})],t.LegendItem.prototype,"line",void 0),s.__decorate([r.property()],t.LegendItem.prototype,"messages",void 0),s.__decorate([r.property()],t.LegendItem.prototype,"onExpandedToggle",void 0),s.__decorate([r.property()],t.LegendItem.prototype,"_statistics",void 0),t.LegendItem=s.__decorate([c.subclass("esri.widgets.ElevationProfile.components.LegendItem")],t.LegendItem),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});