// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/Handles","../../../core/maybe","../../../core/reactiveUtils","./HoveredPoints","./InputRepresentation3D","./ProfileLines3D"],function(e,t,i,n,s,o,r){"use strict";e.ElevationProfileView3D=class{constructor(e,i){this._handles=new t,this._inputRepresentation=new o.InputRepresentation3D({view:e}),this._hoveredPoints=new s.HoveredPoints({view:e}),this._profileLines=new r.ProfileLines3D({view:e}),this._handles.add([n.watch(()=>i.viewModel.hoveredPoints,e=>this._hoveredPoints.update(e),n.syncAndInitial),n.watch(()=>{const{state:e,editable:t,highlightEnabled:n,viewModel:s}=i,o=s.input;return o&&(o.commitProperty("geometry"),o.commitProperty("layer")),{input:o,state:e,editable:t,highlightEnabled:n}},e=>this._updateInputRepresentation(e),n.syncAndInitial),n.watch(()=>i.viewModel.chartData,e=>this._profileLines.update(e),n.syncAndInitial),n.watch(()=>i.viewModel.input?.geometry,()=>{this._profileLines.remove()},n.syncAndInitial)])}destroy(){this._handles=i.destroyMaybe(this._handles),this._inputRepresentation=i.destroyMaybe(this._inputRepresentation),this._hoveredPoints=i.destroyMaybe(this._hoveredPoints),this._profileLines=i.destroyMaybe(this._profileLines)}_updateInputRepresentation({input:e,state:t,editable:i,highlightEnabled:n}){const s=this._inputRepresentation;if(!n)return s.remove();"selected"===t?s.showHighlight(e):"created"!==t||i?s.remove():s.showReshaping(e)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});