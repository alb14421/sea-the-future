// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","../chunks/tslib.es6","../core/deprecate","../core/Logger","../core/accessorSupport/decorators/property","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/subclass","../time/constants","./Widget","../chunks/componentsUtils","./support/globalCss","./support/widgetUtils","./support/decorators/messageBundle","./support/jsxFactory","./TimeZoneLabel/css","./TimeZoneLabel/TimeZoneLabelViewModel"],function(e,t,s,i,r,o,n,a,c,d,l,p,h,u,b,g,m){"use strict";let v=class extends d{constructor(e,t){super(e,t),this.disabled=!1,this.expanded=!1,this.messages=null,this.viewModel=new m,this._onExpanderClick=()=>{this.expanded=!this.expanded},s.deprecateWidget(i.getLogger(this),"Time Zone Label","arcgis-time-zone-label",{version:"4.33"})}loadDependencies(){return l.loadCalciteComponents({action:()=>new Promise((t,s)=>e(["../chunks/index12"],t,s)),icon:()=>new Promise((t,s)=>e(["../chunks/index7"],t,s)),"input-time-zone":()=>new Promise((t,s)=>e(["../chunks/index30"],t,s)),label:()=>new Promise((t,s)=>e(["../chunks/index5"],t,s))})}get expandDirection(){if(!this.view||!this.container)return"end";const e=h.isRTL();switch(this.view.ui.getPosition(this.container)){case"top-right":case"bottom-right":case"top-trailing":case"bottom-trailing":return e?"end":"start";case"top-left":case"bottom-left":case"top-leading":case"bottom-leading":return e?"start":"end";default:return"end"}}set expandDirection(e){this._overrideIfSome("expandDirection",e)}get icon(){return"time-zone"}set icon(e){this._overrideIfSome("icon",e)}get interactive(){return!(this.disabled||"disabled"===this.viewModel.state)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{expandDirection:e,interactive:t,label:s}=this,i=this.classes(g.css.base,p.globalCss.widget,!t&&p.globalCss.disabled),r=[this._renderExpander(),this._renderName(),this._renderBadge()];return"start"===e&&r.reverse(),b.tsx("div",{"aria-label":s,class:i},r)}_getIcon(){const{expanded:e,expandDirection:t}=this;return e?h.isRTL()?"start"===t?"chevrons-left":"chevrons-right":"start"===t?"chevrons-right":"chevrons-left":"time-zone"}_renderExpander(){const{interactive:e,label:t}=this,s=this._getIcon();return b.tsx("calcite-action",{active:!1,class:g.css.expander,disabled:!e,icon:s,key:g.css.expander,onclick:this._onExpanderClick,scale:"s",text:t,title:t})}_renderBadge(){const{expanded:e,interactive:t}=this;return b.tsx("div",{class:this.classes(g.css.badge,!e&&g.css.badgeHidden,!t&&g.css.badgeDisabled)},b.tsx("calcite-icon",{class:g.css.badgeIcon,icon:"time-zone",scale:"s"}))}_renderName(){const e=this.viewModel.view?.timeZone,t=e===c.system?c.systemTimeZone:e,s=e===c.unknown;return[b.tsx("calcite-label",{class:this.classes(g.css.label,(!this.expanded||!s)&&g.css.labelHidden,!this.interactive&&g.css.labelDisabled)},this.messages.noAdjustment),b.tsx("calcite-input-time-zone",{class:this.classes(g.css.name,(!this.expanded||!t||s)&&g.css.nameHidden),disabled:!this.interactive,mode:"region",readOnly:!0,value:t})]}};return t.__decorate([r.property()],v.prototype,"disabled",void 0),t.__decorate([r.property()],v.prototype,"expandDirection",null),t.__decorate([r.property()],v.prototype,"expanded",void 0),t.__decorate([r.property()],v.prototype,"icon",null),t.__decorate([r.property({readOnly:!0})],v.prototype,"interactive",null),t.__decorate([r.property()],v.prototype,"label",null),t.__decorate([r.property(),u.messageBundle("esri/widgets/TimeZoneLabel/t9n/TimeZoneLabel")],v.prototype,"messages",void 0),t.__decorate([r.property()],v.prototype,"view",null),t.__decorate([r.property()],v.prototype,"viewModel",void 0),v=t.__decorate([a.subclass("esri.widgets.TimeZoneLabel")],v),v});