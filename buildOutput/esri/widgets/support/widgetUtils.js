// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/ArrayPool","../../core/handleUtils","../../core/has","../../core/Logger","../../core/promiseUtils","../../core/reactiveUtils","../../core/scheduling","./vnodeCache"],function(e,t,n,i,o,r,s,a,c){"use strict";var u,d,l=function(e){u||function(e){if("WebkitTransition"in e.style)u="webkitTransitionEnd",d="webkitAnimationEnd";else{if(!("transition"in e.style))throw new Error("Your browser is not supported!");u="transitionend",d="animationend"}}(e)},f=function(e,t){return void 0===t&&(t=e+"-active"),function(n){l(n);var i=!1,o=function(r){i||(i=!0,n.removeEventListener(u,o),n.removeEventListener(d,o),n.classList.remove(e),n.classList.remove(t))};n.classList.add(e),n.addEventListener(u,o),n.addEventListener(d,o),requestAnimationFrame(function(){n.classList.add(t)})}},v=function(e,t){return void 0===t&&(t=e+"-active"),function(n,i){l(n);var o=!1,r=function(e){o||(o=!0,n.removeEventListener(u,r),n.removeEventListener(d,r),i())};n.classList.add(e),n.addEventListener(u,r),n.addEventListener(d,r),requestAnimationFrame(function(){n.classList.add(t)})}};const m=(()=>{const e=new Map,t=new ResizeObserver(t=>{c.clearVNodeCache();for(const n of t)e.get(n.target)?.(n)});return(i,o,r)=>{let a=null;return n.handlesGroup([s.watch(()=>"function"==typeof i?i():i,i=>{a?.remove(),i&&(a=((i,o,r)=>(e.set(i,o),t.observe(i,r),n.makeHandle(()=>{t.unobserve(i),e.delete(i)})))(i,o,r))},s.syncAndInitial),n.makeHandle(()=>a?.remove())])}})();e.classes=function(...e){const n=t.acquire();for(let t=0;t<e.length;t++){const i=e[t],o=typeof i;if("string"===o)n.push(i);else if(Array.isArray(i))n.push.apply(n,i);else if("object"===o)for(const e in i)i[e]&&n.push(e)}const i=n.join(" ");return t.release(n),i},e.cssTransition=function(e,t){return("enter"===e?f:v)(t)},e.discardNode=function(e){this[e.getAttribute("data-node-ref")]=null},e.isActivationKey=function(e){return"Enter"===e||" "===e},e.isRTL=function(e){const t=e?.closest("[dir]");return null!==t&&t instanceof HTMLElement&&"rtl"===t.dir||"rtl"===document.dir},e.onResize=m,e.setFocus=async function(e,t){await a.waitAnimationFrame(r.signalFromSignalOrOptions(t));const n="function"==typeof e?e():e;n&&("setFocus"in n&&"function"==typeof n.setFocus?await n.setFocus():n instanceof HTMLElement&&n.focus())},e.storeNode=function(e){this[e.getAttribute("data-node-ref")]=e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});