// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/handleUtils","./symbols"],function(e,t,o){"use strict";const r=[],n={},i=new WeakMap;function d(e,r,n,{parentWidget:d,widgetConstructor:s,widgetProperties:a}){const l=new s(a);l.container=e,i.set(e,l),l.afterCreate?.(l,e),d.addHandles(t.makeHandle(()=>c(e))),queueMicrotask(()=>{l[o.widgetTestDataSymbol].projector.renderNow()})}function s(e,t,o,{widgetProperties:r}){const n=i.get(e);n&&(n.set(r),n.afterUpdate?.(n,e))}function c(e){const t=i.get(e);t&&(t.afterRemoved?.(t,e),t.destroy(),i.delete(e))}function a(e){return"function"==typeof e&&e[o.widgetSymbol]}e.isWidgetConstructor=a,e.processWidgets=function e(t,o){let i=o.children;if(i?.length)for(let o=0;o<i.length;++o)i[o]=e(t,i[o]);else i=r;const l=o.vnodeSelector;if(a(l)){const e=o.properties||n,r=e.key||l,a={key:r,afterCreate:d,afterUpdate:s,afterRemoved:c,parentWidget:t,widgetConstructor:l,widgetProperties:{...e,key:r,children:i}};return{vnodeSelector:l.vnodeSelector,properties:a,children:void 0,text:void 0,domNode:null}}return o},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});