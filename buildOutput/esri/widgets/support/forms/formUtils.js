// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../form/support/formUtils","../../../layers/support/domainUtils","../../../layers/support/fieldUtils","../dateUtils"],function(e,t,n,i,r){"use strict";function a(e){return null==e||""===e}function u(e){return"number"==typeof e&&e>-1?e:-1}e.capabilitiesAllowEditType=(e,t)=>{if(!e)return!0;const{operations:n}=e;switch(t){case"INSERT":return n.supportsAdd;case"UPDATE":case"DELETE":return n.supportsUpdate;default:return!0}},e.dateIsValid=e=>e&&!Number.isNaN(e.valueOf()),e.ensureMinOrMaxLength=u,e.getMaxLength=function({dataType:e,field:n,input:i}){if("date"===e)return-1;const r=u(n.length);if(!i||!t.isTextInput(i))return r;const a=u(i.maxLength);return-1===a?r:-1===r?a:Math.min(r,a)},e.getMinLength=function({dataType:e,field:n,input:i}){if("date"===e)return-1;if(!i||!t.isTextInput(i))return-1;const r=u(i.minLength);if(r<0)return-1;const a=u(n.length);return a>-1&&a<r?-1:r},e.getRangeErrorMessage=function(e,t){return null!=e.max&&null!=e.min?t.outsideRange:null!=e.max?t.outsideRangeMax:t.outsideRangeMin},e.isEmptyValue=a,e.numberFormatOptions={type:"number"},e.scientificNumberFormatOptions={type:"number",intlOptions:{notation:"scientific"}},e.shouldUseScientificNotation=function(e){return e>=1e7||e<=-1e7},e.validateFormValue=function(e,t){const{dataType:a,domain:u,field:o,maxLength:l,minLength:s,range:d,required:f}=t;if(null==e)return f?"input-validation-error::cannot-be-empty":null;if("text"===a&&"string"==typeof e){if(s>-1&&e.length<s)return"length-validation-error::too-short";if(l>-1&&e.length>l)return"length-validation-error::too-long"}return"date"!==a||r.dateTimeIsInRange({type:o.type,range:d,value:e})?u?n.validateDomainValue(o,e,u):i.validateFieldValue(o,e)??n.validateDomainValue(o,e):"numeric-range-validation-error::out-of-range"},e.valuesAreEquivalent=function(e,t){return!(!a(e)||!a(t))||e===t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});