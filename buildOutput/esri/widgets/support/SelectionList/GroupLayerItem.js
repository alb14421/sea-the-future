// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../chunks/tslib.es6","../../../core/has","../../../core/accessorSupport/decorators/property","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","./ItemBase"],function(e,t,r,o,s,i,l){"use strict";let a=class extends l{constructor(e){super(e),this.items=[],this.layer=null}get layers(){const{layer:e}=this;return"group"===e.type?e.layers.toArray().reverse():"subtype-group"===e.type?e.sublayers.toArray().reverse():[]}get maxVisibleFeatureCountExceeded(){return this.items.some(e=>e.maxVisibleFeatureCountExceeded)}get total(){return this.items.reduce((e,t)=>e+t.total,0)}get visible(){return this.items.some(e=>e.visible)}get visibleTotal(){return this.items.reduce((e,t)=>e+t.visibleTotal,0)}reset(){this.items.forEach(e=>e.reset())}async sync({controller:e,promises:t}){const{layers:r,viewModel:o}=this;this.items=o.layersToItems({controller:e,groupLayerItem:this,layers:r,promises:t})}};return e.__decorate([r.property()],a.prototype,"items",void 0),e.__decorate([r.property()],a.prototype,"layer",void 0),e.__decorate([r.property()],a.prototype,"layers",null),e.__decorate([r.property()],a.prototype,"maxVisibleFeatureCountExceeded",null),e.__decorate([r.property()],a.prototype,"total",null),e.__decorate([r.property()],a.prototype,"visible",null),e.__decorate([r.property()],a.prototype,"visibleTotal",null),a=e.__decorate([i.subclass("esri.widgets.support.SelectionList.GroupLayerItem")],a),a});