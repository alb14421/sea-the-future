// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/reactiveUtils","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../../layers/support/fieldUtils","./conditionUtils"],function(e,t,r,l,i,o,d,a,s,n,p){"use strict";return e.default=class extends r{constructor(e){super(e),this.fieldName=null,this.layer=null,this.operator="is",this.operators=p.defaultOperatorNamesByFieldType,this.value=null}initialize(){this.addHandles(l.watch(()=>this.layer,async e=>{e&&!e.loaded&&await e.load()},l.initial))}get domain(){const{fieldName:e,layer:t}=this;if(e&&t)return t.getFieldDomain(e)}get field(){const{fieldName:e,layer:t}=this;if(e&&t)return t.fieldsIndex.get(e)}get fields(){return(this.layer?.fields??[]).filter(e=>!!(n.isStringField(e)||n.isNumericField(e)||n.isObjectIDField(e)||n.isGlobalIDField(e)))}get fieldLabel(){const{field:e}=this;return e&&(e.alias||e.name)||""}get isObjectIDField(){const{field:e}=this;return!!e&&n.isObjectIDField(e)}get isGlobalIDField(){const{field:e}=this;return!!e&&n.isGlobalIDField(e)}get isIntegerField(){return n.isIntegerField(this.field)}get isNumericField(){return n.isNumericField(this.field)}get isStringField(){return n.isStringField(this.field)}get isTimeOnlyField(){return n.isTimeOnlyField(this.field)}get normalizedFieldName(){return n.normalizeFieldName(this.field?.name)}get state(){const{layer:e}=this;return e?e.loaded?"ready":"loading":"disabled"}get valueAsString(){const{value:e}=this;return null==e||""===e?"":`${e}`}get normalizedValue(){const{value:e,isNumericField:t,isObjectIDField:r}=this;return null==e||""===e?"":t||r?`${e}`:`'${e}'`}get whereClause(){const{normalizedFieldName:e,operator:t,normalizedValue:r}=this;return e&&t?"isBlank"===t?`${e} IS NULL`:"isNotBlank"===t?`${e} IS NOT NULL`:"isEmpty"===t?`${e} = ''`:"isNotEmpty"===t?`${e} <> ''`:""===r?null:"is"===t?`${e} = ${r}`:"isNot"===t?`${e} <> ${r}`:"startsWith"===t?`${e} LIKE ${r}%`:"endsWith"===t?`${e} LIKE %${r}`:"contains"===t?`${e} LIKE %${r}%`:"doesNotContain"===t?`${e} NOT LIKE %${r}%`:null:null}},t.__decorate([i.property()],e.default.prototype,"domain",null),t.__decorate([i.property()],e.default.prototype,"field",null),t.__decorate([i.property()],e.default.prototype,"fields",null),t.__decorate([i.property()],e.default.prototype,"fieldLabel",null),t.__decorate([i.property()],e.default.prototype,"fieldName",void 0),t.__decorate([i.property()],e.default.prototype,"isObjectIDField",null),t.__decorate([i.property()],e.default.prototype,"isIntegerField",null),t.__decorate([i.property()],e.default.prototype,"isNumericField",null),t.__decorate([i.property()],e.default.prototype,"isStringField",null),t.__decorate([i.property()],e.default.prototype,"isTimeOnlyField",null),t.__decorate([i.property()],e.default.prototype,"layer",void 0),t.__decorate([i.property()],e.default.prototype,"normalizedFieldName",null),t.__decorate([i.property()],e.default.prototype,"operator",void 0),t.__decorate([i.property()],e.default.prototype,"operators",void 0),t.__decorate([i.property()],e.default.prototype,"state",null),t.__decorate([i.property()],e.default.prototype,"value",void 0),t.__decorate([i.property()],e.default.prototype,"valueAsString",null),t.__decorate([i.property()],e.default.prototype,"normalizedValue",null),t.__decorate([i.property()],e.default.prototype,"whereClause",null),e.default=t.__decorate([s.subclass("esri.widgets.support.FilterCondition.FilterConditionViewModel")],e.default),e.default});