// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./Cyclical","./mathUtils","./quantityUtils","./string","./unitUtils","../intl/number"],function(t,e,n,i,r,a,o){"use strict";function c(t,e,n){return t.units[e][n]}function m(t,e,n,i=2,r="abbr"){return`${o.formatNumber(e,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:e>0?"never":"exceptZero"})} ${c(t,n,r)}`}function u(t,e,n,i=2,r="abbr"){return`${o.formatNumber(e,{minimumFractionDigits:i,maximumFractionDigits:i,signDisplay:"exceptZero"})} ${c(t,n,r)}`}const l=new Map;function s(t,e){const n=JSON.stringify(e);let i=l.get(n);return i||(i=new Intl.NumberFormat("en-US",e),l.set(n,i)),/^[-+]?360\.?0*°?$/.test(i.format(t))?0:t}const f=["B","kB","MB","GB","TB"];t.formatAngleDegrees=function(t,n,r,c,m,u=e.cyclicalDegrees,l=!0){let f=u.normalize(i.convertRotationType(a.convertUnit(t,n,"degrees"),r,c),0,l);const g=((t,e)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e,minimumFractionDigits:e,signDisplay:t>0?"never":"exceptZero"}))(f,m??2);return f=s(f,g),o.formatNumber(f,g)},t.formatDMS=function(t,e,n=2){let i=a.convertUnit(t,e,"degrees"),r=i-Math.floor(i);i-=r,r*=60;let o=r-Math.floor(r);return r-=o,o*=60,`${i.toFixed()}° ${r.toFixed()}' ${o.toFixed(n)}"`},t.formatDecimal=m,t.formatFileSize=function(t,e){let i=0===(e=Math.round(e))?0:Math.floor(Math.log(e)/Math.log(1024));i=n.clamp(i,0,f.length-1);const a=o.formatNumber(e/1024**i,{maximumFractionDigits:2});return r.replace(t.units.bytes[f[i]],{fileSize:a})},t.formatImperialArea=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveImperialAreaUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatImperialLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveImperialLengthUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatImperialRelativeLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveImperialLengthUnit(e,n);return u(t,a.convertUnit(e,n,o),o,i,r)},t.formatImperialRelativeVerticalLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveImperialVerticalLengthUnit(e,n);return u(t,a.convertUnit(e,n,o),o,i,r)},t.formatImperialVerticalLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveImperialVerticalLengthUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatMetricArea=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveMetricAreaUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatMetricLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveMetricLengthUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatMetricRelativeLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveMetricLengthUnit(e,n);return u(t,a.convertUnit(e,n,o),o,i,r)},t.formatMetricRelativeVerticalLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveMetricVerticalLengthUnit(e,n);return u(t,a.convertUnit(e,n,o),o,i,r)},t.formatMetricVerticalLength=function(t,e,n,i=2,r="abbr"){const o=a.adaptiveMetricVerticalLengthUnit(e,n);return m(t,a.convertUnit(e,n,o),o,i,r)},t.formatRelativeAngleDegrees=function(t,e,n,i,r=2){n!==i&&(t=-t);const c={style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:r,minimumFractionDigits:r,signDisplay:"exceptZero"};let m=a.convertUnit(t,e,"degrees")%360;return m=s(m,c),o.formatNumber(m,c)},t.formatRelativeDecimal=u,t.unitName=c,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});