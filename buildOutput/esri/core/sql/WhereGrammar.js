// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports"],function(t){"use strict";class e extends SyntaxError{constructor(t,e,n,r){super(t),this.expected=e,this.found=n,this.location=r,this.name="SyntaxError"}format(t){let e="Error: "+this.message;if(this.location){let n=null;const r=t.find(t=>t.source===this.location.source);r&&(n=r.text.split(/\r\n|\n|\r/g));const o=this.location.start,i=this.location.source&&"function"==typeof this.location.source.offset?this.location.source.offset(o):o,u=this.location.source+":"+i.line+":"+i.column;if(n){const t=this.location.end,r="".padEnd(i.line.toString().length," "),l=n[o.line-1],a=(o.line===t.line?t.column:l.length+1)-o.column||1;e+="\n --\x3e "+u+"\n"+r+" |\n"+i.line+" | "+l+"\n"+r+" | "+"".padEnd(o.column-1," ")+"".padEnd(a,"^")}else e+="\n at "+u}return e}static buildMessage(t,e){function n(t){return t.codePointAt(0).toString(16).toUpperCase()}const r=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function o(t){return r?t.replace(r,t=>"\\u{"+n(t)+"}"):t}function i(t){return o(t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,t=>"\\x0"+n(t)).replace(/[\x10-\x1F\x7F-\x9F]/g,t=>"\\x"+n(t)))}function u(t){return o(t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,t=>"\\x0"+n(t)).replace(/[\x10-\x1F\x7F-\x9F]/g,t=>"\\x"+n(t)))}const l={literal:t=>'"'+i(t.text)+'"',class(t){const e=t.parts.map(t=>Array.isArray(t)?u(t[0])+"-"+u(t[1]):u(t));return"["+(t.inverted?"^":"")+e.join("")+"]"+(t.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:t=>t.description};function a(t){return l[t.type](t)}return"Expected "+function(t){const e=t.map(a);if(e.sort(),e.length>0){let t=1;for(let n=1;n<e.length;n++)e[n-1]!==e[n]&&(e[t]=e[n],t++);e.length=t}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."}}t.WhereGrammar=class{static parse(t){return function(t,n){const r={},o=(n=void 0!==n?n:{}).grammarSource,i={start:An};let u=An;const l="!",a="=",s=">=",c=">",f="<=",p="<>",d="!=",v="||",y="@",h="'",g="N'",E="''",m=".",C="null",b="true",A="false",L="in",T="is",w="like",x="escape",N="not",R="and",I="or",O="between",S="from",F="for",M="substring",$="extract",D="trim",U="position",_="timestamp",H="date",P="time",j="leading",Z="trailing",k="both",z="cast",G="as",W="integer",B="int",Y="smallint",q="float",K="real",V="varchar",X="to",J="interval",Q="year",tt="timezone_hour",et="timezone_minute",nt="month",rt="day",ot="hour",it="minute",ut="second",lt="dow",at="doy",st="week",ct="case",ft="end",pt="when",dt="then",vt="else",yt=",",ht="(",gt=")",Et="`",mt=/^[<-=]/,Ct=/^[+\-]/,bt=/^[*\/]/,At=/^[A-Za-z_\x80-\uFFFF]/,Lt=/^[A-Za-z0-9_]/,Tt=/^[A-Za-z0-9_.\x80-\uFFFF]/,wt=/^["]/,xt=/^[^']/,Nt=/^[0-9]/,Rt=/^[eE]/,It=/^[ \t\n\r]/,Ot=/^[^`]/,St=gn("!",!1),Ft=gn("=",!1),Mt=gn(">=",!1),$t=gn(">",!1),Dt=gn("<=",!1),Ut=gn("<>",!1),_t=En([["<","="]],!1,!1,!1),Ht=gn("!=",!1),Pt=En(["+","-"],!1,!1,!1),jt=gn("||",!1),Zt=En(["*","/"],!1,!1,!1),kt=En([["A","Z"],["a","z"],"_",["","￿"]],!1,!1,!1),zt=En([["A","Z"],["a","z"],["0","9"],"_"],!1,!1,!1),Gt=En([["A","Z"],["a","z"],["0","9"],"_",".",["","￿"]],!1,!1,!1),Wt=En(['"'],!1,!1,!1),Bt=gn("@",!1),Yt=gn("'",!1),qt=gn("N'",!1),Kt=gn("''",!1),Vt=En(["'"],!0,!1,!1),Xt=gn(".",!1),Jt=En([["0","9"]],!1,!1,!1),Qt=En(["e","E"],!1,!1,!1),te=gn("NULL",!0),ee=gn("TRUE",!0),ne=gn("FALSE",!0),re=gn("IN",!0),oe=gn("IS",!0),ie=gn("LIKE",!0),ue=gn("ESCAPE",!0),le=gn("NOT",!0),ae=gn("AND",!0),se=gn("OR",!0),ce=gn("BETWEEN",!0),fe=gn("FROM",!0),pe=gn("FOR",!0),de=gn("SUBSTRING",!0),ve=gn("EXTRACT",!0),ye=gn("TRIM",!0),he=gn("POSITION",!0),ge=gn("TIMESTAMP",!0),Ee=gn("DATE",!0),me=gn("TIME",!0),Ce=gn("LEADING",!0),be=gn("TRAILING",!0),Ae=gn("BOTH",!0),Le=gn("CAST",!0),Te=gn("AS",!0),we=gn("INTEGER",!0),xe=gn("INT",!0),Ne=gn("SMALLINT",!0),Re=gn("FLOAT",!0),Ie=gn("REAL",!0),Oe=gn("VARCHAR",!0),Se=gn("TO",!0),Fe=gn("INTERVAL",!0),Me=gn("YEAR",!0),$e=gn("TIMEZONE_HOUR",!0),De=gn("TIMEZONE_MINUTE",!0),Ue=gn("MONTH",!0),_e=gn("DAY",!0),He=gn("HOUR",!0),Pe=gn("MINUTE",!0),je=gn("SECOND",!0),Ze=gn("DOW",!0),ke=gn("DOY",!0),ze=gn("WEEK",!0),Ge=gn("CASE",!0),We=gn("END",!0),Be=gn("WHEN",!0),Ye=gn("THEN",!0),qe=gn("ELSE",!0),Ke=gn(",",!1),Ve=gn("(",!1),Xe=gn(")",!1),Je=En([" ","\t","\n","\r"],!1,!1,!1),Qe=gn("`",!1),tn=En(["`"],!0,!1,!1);function en(t,e,n){return{op:e,expr:n,location:yn()}}function nn(t,e,n){return{op:e,expr:n,location:yn()}}function rn(t,e){return{op:t,expr:e,location:yn()}}function on(t,e,n){return{op:e,expr:n,location:yn()}}function un(t,e,n){return{op:e,expr:n,location:yn()}}function ln(){return"'"}let an=0|n.peg$currPos,sn=an;const cn=[{line:1,column:1}];let fn,pn=an,dn=n.peg$maxFailExpected||[],vn=0|n.peg$silentFails;if(n.startRule){if(!(n.startRule in i))throw new Error("Can't start parsing from rule \""+n.startRule+'".');u=i[n.startRule]}function yn(){return Cn(sn,an)}function hn(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:Cn(sn,an))}function gn(t,e){return{type:"literal",text:t,ignoreCase:e}}function En(t,e,n,r){return{type:"class",parts:t,inverted:e,ignoreCase:n,unicode:r}}function mn(e){let n,r=cn[e];if(r)return r;if(e>=cn.length)n=cn.length-1;else for(n=e;!cn[--n];);for(r=cn[n],r={line:r.line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return cn[e]=r,r}function Cn(t,e,n){const r=mn(t),i=mn(e);return{source:o,start:{offset:t,line:r.line,column:r.column},end:{offset:e,line:i.line,column:i.column}}}function bn(t){an<pn||(an>pn&&(pn=an,dn=[]),dn.push(t))}function An(){let t,e;return t=an,Sr(),e=Tn(),e!==r?(Sr(),sn=t,t=e):(an=t,t=r),t}function Ln(){let t,e,n,o,i,u,l,a;if(t=an,e=Ir(),e!==r){for(Sr(),n=[],o=Tn();o!==r;)n.push(o),o=an,i=an,u=Sr(),l=Rr(),l!==r?(a=Sr(),u=[u,l,a],i=u):(an=i,i=r),i!==r?(i=Tn(),i===r?(an=o,o=r):o=i):o=i;o=Sr(),i=Or(),i!==r?(sn=t,s=n,t={type:"expression-list",location:yn(),value:s}):(an=t,t=r)}else an=t,t=r;var s;return t}function Tn(){let t,e,n,o,i,u;if(t=an,e=wn(),e!==r){for(n=[],o=an,Sr(),i=cr(),i!==r?(Sr(),u=wn(),u!==r?(sn=o,o=en(0,i,u)):(an=o,o=r)):(an=o,o=r);o!==r;)n.push(o),o=an,Sr(),i=cr(),i!==r?(Sr(),u=wn(),u!==r?(sn=o,o=en(0,i,u)):(an=o,o=r)):(an=o,o=r);sn=t,t=Dr(e,n)}else an=t,t=r;return t}function wn(){let t,e,n,o,i,u;if(t=an,e=xn(),e!==r){for(n=[],o=an,Sr(),i=sr(),i!==r?(Sr(),u=xn(),u!==r?(sn=o,o=nn(0,i,u)):(an=o,o=r)):(an=o,o=r);o!==r;)n.push(o),o=an,Sr(),i=sr(),i!==r?(Sr(),u=xn(),u!==r?(sn=o,o=nn(0,i,u)):(an=o,o=r)):(an=o,o=r);sn=t,t=Dr(e,n)}else an=t,t=r;return t}function xn(){let e,n,o,i,u;return e=an,n=ar(),n===r&&(n=an,33===t.charCodeAt(an)?(o=l,an++):(o=r,0===vn&&bn(St)),o!==r?(i=an,vn++,61===t.charCodeAt(an)?(u=a,an++):(u=r,0===vn&&bn(Ft)),vn--,u===r?i=void 0:(an=i,i=r),i!==r?(o=[o,i],n=o):(an=n,n=r)):(an=n,n=r)),n!==r?(o=Sr(),i=xn(),i!==r?(sn=e,e=function(t,e,n){return{type:"unary-expression",location:n,operator:"NOT",expr:e}}(0,i,yn())):(an=e,e=r)):(an=e,e=r),e===r&&(e=function(){let e,n,o,i;var u,l;return e=an,n=On(),n!==r?(o=an,Sr(),i=function(){let e;return e=function(){let t,e,n,o,i;if(t=an,e=[],n=an,Sr(),o=Nn(),o!==r?(Sr(),i=On(),i!==r?(sn=n,n=rn(o,i)):(an=n,n=r)):(an=n,n=r),n!==r)for(;n!==r;)e.push(n),n=an,Sr(),o=Nn(),o!==r?(Sr(),i=On(),i!==r?(sn=n,n=rn(o,i)):(an=n,n=r)):(an=n,n=r);else e=r;return e!==r&&(sn=t,e={type:"arithmetic",tail:e}),t=e,t}(),e===r&&(e=function(){let t,e,n;return t=an,e=In(),e!==r?(Sr(),n=Ln(),n!==r?(sn=t,t={op:e,right:n}):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=In(),e!==r?(Sr(),n=Zn(),n!==r?(sn=t,t={op:e,right:n}):(an=t,t=r)):(an=t,t=r)),t}(),e===r&&(e=function(){let t,e,n,o,i,u,l,a;var s,c;return t=an,e=ar(),e!==r?(Sr(),n=fr(),n!==r?(o=Sr(),i=an,u=On(),u!==r?(Sr(),l=sr(),l!==r?(Sr(),a=On(),a!==r?(sn=i,s=u,c=a,i=$r(yn(),s,c)):(an=i,i=r)):(an=i,i=r)):(an=i,i=r),i!==r?(sn=t,t={op:"NOT"+n,right:i}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=fr(),e!==r?(Sr(),n=an,o=On(),o!==r?(i=Sr(),u=sr(),u!==r?(Sr(),l=On(),l!==r?(sn=n,n=function(t,e,n){return $r(yn(),e,n)}(0,o,l)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r),n!==r?(sn=t,t={op:e,right:n}):(an=t,t=r)):(an=t,t=r)),t}(),e===r&&(e=function(){let t,e,n,o;return t=an,e=ur(),e!==r?(Sr(),n=ar(),n!==r?(Sr(),o=On(),o!==r?(sn=t,t={op:e+"NOT",right:o}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=ur(),e!==r?(Sr(),n=On(),n!==r?(sn=t,t={op:e,right:n}):(an=t,t=r)):(an=t,t=r)),t}(),e===r&&(e=function(){let e,n,o,i,u;return e=an,n=Rn(),n!==r?(Sr(),o=Kn(),o!==r?(Sr(),i=function(){let e,n,o,i;return e=an,n=t.substr(an,6),n.toLowerCase()===x?an+=6:(n=r,0===vn&&bn(ue)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="ESCAPE"):(an=e,e=r)):(an=e,e=r),e}(),i!==r?(Sr(),u=Vn(),u!==r?(sn=e,e={op:n,right:o,escape:u.value}):(an=e,e=r)):(an=e,e=r)):(an=e,e=r)):(an=e,e=r),e===r&&(e=an,n=Rn(),n!==r?(Sr(),o=Kn(),o!==r?(sn=e,e={op:n,right:o,escape:""}):(an=e,e=r)):(an=e,e=r)),e}())))),e}(),i!==r?o=i:(an=o,o=r),o===r&&(o=null),sn=e,u=n,e=""==(l=o)||null==l||null==l?u:"arithmetic"==l.type?Dr(u,l.tail):Mr(l.op,u,l.right,l.escape,yn())):(an=e,e=r),e}()),e}function Nn(){let e;return t.substr(an,2)===s?(e=s,an+=2):(e=r,0===vn&&bn(Mt)),e===r&&(62===t.charCodeAt(an)?(e=c,an++):(e=r,0===vn&&bn($t)),e===r&&(t.substr(an,2)===f?(e=f,an+=2):(e=r,0===vn&&bn(Dt)),e===r&&(t.substr(an,2)===p?(e=p,an+=2):(e=r,0===vn&&bn(Ut)),e===r&&(e=t.charAt(an),mt.test(e)?an++:(e=r,0===vn&&bn(_t)),e===r&&(t.substr(an,2)===d?(e=d,an+=2):(e=r,0===vn&&bn(Ht))))))),e}function Rn(){let t,e,n,o,i;var u;return t=an,e=an,n=ar(),n!==r?(o=Sr(),i=lr(),i!==r?(n=[n,o,i],e=n):(an=e,e=r)):(an=e,e=r),e!==r&&(sn=t,e=(u=e)[0]+" "+u[2]),t=e,t===r&&(t=lr()),t}function In(){let t,e,n,o,i;var u;return t=an,e=an,n=ar(),n!==r?(o=Sr(),i=ir(),i!==r?(n=[n,o,i],e=n):(an=e,e=r)):(an=e,e=r),e!==r&&(sn=t,e=(u=e)[0]+" "+u[2]),t=e,t===r&&(t=ir()),t}function On(){let t,e,n,o,i,u;if(t=an,e=Fn(),e!==r){for(n=[],o=an,Sr(),i=Sn(),i!==r?(Sr(),u=Fn(),u!==r?(sn=o,o=on(0,i,u)):(an=o,o=r)):(an=o,o=r);o!==r;)n.push(o),o=an,Sr(),i=Sn(),i!==r?(Sr(),u=Fn(),u!==r?(sn=o,o=on(0,i,u)):(an=o,o=r)):(an=o,o=r);sn=t,t=Dr(e,n)}else an=t,t=r;return t}function Sn(){let e;return e=t.charAt(an),Ct.test(e)?an++:(e=r,0===vn&&bn(Pt)),e===r&&(t.substr(an,2)===v?(e=v,an+=2):(e=r,0===vn&&bn(jt))),e}function Fn(){let t,e,n,o,i,u;if(t=an,e=$n(),e!==r){for(n=[],o=an,Sr(),i=Mn(),i!==r?(Sr(),u=$n(),u!==r?(sn=o,o=un(0,i,u)):(an=o,o=r)):(an=o,o=r);o!==r;)n.push(o),o=an,Sr(),i=Mn(),i!==r?(Sr(),u=$n(),u!==r?(sn=o,o=un(0,i,u)):(an=o,o=r)):(an=o,o=r);sn=t,t=Dr(e,n)}else an=t,t=r;return t}function Mn(){let e;return e=t.charAt(an),bt.test(e)?an++:(e=r,0===vn&&bn(Zt)),e}function $n(){let e,n,o,i;var u;return e=function(){let e;return e=Vn(),e===r&&(e=function(){let t,e,n,o;var i;return t=an,e=function(){let t,e,n,o;return t=an,e=tr(),e!==r?(n=er(),n!==r?(o=nr(),o!==r?(sn=t,t=parseFloat(e+n+o)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=tr(),e!==r?(n=er(),n!==r?(sn=t,t=parseFloat(e+n)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=tr(),e!==r?(n=nr(),n!==r?(sn=t,t=parseFloat(e+n)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=tr(),e!==r&&(sn=t,e=parseFloat(e)),t=e))),t}(),e!==r?(n=an,vn++,o=Un(),vn--,o===r?n=void 0:(an=n,n=r),n!==r?(sn=t,i=e,t={type:"number",location:yn(),value:i}):(an=t,t=r)):(an=t,t=r),t}(),e===r&&(e=function(){let e,n;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===b?an+=4:(n=r,0===vn&&bn(ee)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(n=[n,o],e=n):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"boolean",location:yn(),value:!0}),e=n,e===r&&(e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,5),n.toLowerCase()===A?an+=5:(n=r,0===vn&&bn(ne)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(n=[n,o],e=n):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"boolean",location:yn(),value:!1}),e=n),e}(),e===r&&(e=function(){let e,n;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===C?an+=4:(n=r,0===vn&&bn(te)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(n=[n,o],e=n):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"null",location:yn(),value:null}),e=n,e}(),e===r&&(e=function(){let t,e,n;var o,i;return t=an,e=yr(),e!==r?(Sr(),n=Kn(),n!==r?(sn=t,"string"===(o=n).type&&(i=o.value,!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(i)&&hn("Date literal is invalid")),t={type:"date",location:yn(),value:o.value}):(an=t,t=r)):(an=t,t=r),t}(),e===r&&(e=function(){let t,e,n;var o,i;return t=an,e=vr(),e!==r?(Sr(),n=Kn(),n!==r?(sn=t,"string"===(o=n).type&&(i=o.value,!0!==/^(\d{4})-(\d{1,2})-(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})?[ ]{0,1}(\+|\-)(\d{1,2}):(\d{1,2})$|^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/.test(i)&&hn("Timestamp literal is invalid")),t={type:"timestamp",location:yn(),value:o.value}):(an=t,t=r)):(an=t,t=r),t}(),e===r&&(e=function(){let e,n,o,i,u;var l,a,s;return e=an,n=gr(),n!==r?(Sr(),o=t.charAt(an),Ct.test(o)?an++:(o=r,0===vn&&bn(Pt)),o!==r?(Sr(),i=Kn(),i!==r?(Sr(),u=Wn(),u!==r?(sn=e,l=o,a=i,s=u,e={type:"interval",location:yn(),value:a,qualifier:s,op:l}):(an=e,e=r)):(an=e,e=r)):(an=e,e=r)):(an=e,e=r),e===r&&(e=an,n=gr(),n!==r?(Sr(),o=Kn(),o!==r?(Sr(),i=Wn(),i!==r?(sn=e,e=function(t,e){return{type:"interval",location:yn(),value:t,qualifier:e,op:""}}(o,i)):(an=e,e=r)):(an=e,e=r)):(an=e,e=r)),e}(),e===r&&(e=function(){let t,e,n;var o,i;return t=an,e=hr(),e!==r?(Sr(),n=Kn(),n!==r?(sn=t,"string"===(o=n).type&&(i=o.value,!0!==/^(\d{1,2}):(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2})$|^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/.test(i)&&hn("Time literal is invalid")),t={type:"time",location:yn(),value:o.value}):(an=t,t=r)):(an=t,t=r),t}()))))))),e}(),e===r&&(e=function(){let t,e,n,o,i,u,l,a;var s,c,f;return t=an,e=dr(),e!==r?(Sr(),n=an,o=Ir(),o!==r?(Sr(),i=Gn(),i!==r?(Sr(),u=pr(),u!==r?(Sr(),l=Tn(),l!==r?(Sr(),a=Or(),a!==r?(sn=n,c=i,f=l,n=$r(yn(),c,f)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r),n===r&&(n=an,o=Ir(),o!==r?(Sr(),i=Gn(),i!==r?(Sr(),u=Rr(),u!==r?(Sr(),l=Tn(),l!==r?(Sr(),a=Or(),a!==r?(sn=n,n=function(t,e){return $r(yn(),t,e)}(i,l)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r)):(an=n,n=r)),n!==r?(sn=t,s=n,t={type:"function",location:yn(),name:"extract",args:s}):(an=t,t=r)):(an=t,t=r),t}(),e===r&&(e=function(){let e,n,o,i,u,l,a,s,c,f,p;var d,v,y,h;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,9),n.toLowerCase()===M?an+=9:(n=r,0===vn&&bn(de)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="SUBSTRING"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=pr(),l!==r?(Sr(),a=Tn(),a!==r?(Sr(),s=an,c=function(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===F?an+=3:(n=r,0===vn&&bn(pe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="FOR"):(an=e,e=r)):(an=e,e=r),e}(),c!==r?(f=Sr(),p=Tn(),p!==r?(Sr(),s=p):(an=s,s=r)):(an=s,s=r),s===r&&(s=null),c=Or(),c!==r?(sn=o,v=u,y=a,h=s,o=$r(yn(),v,y,...h?[h]:[])):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r),o===r&&(o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=Rr(),l!==r?(Sr(),a=Tn(),a!==r?(Sr(),s=Rr(),s!==r?(c=Sr(),f=Tn(),f!==r?(p=Or(),p!==r?(sn=o,o=function(t,e,n){return $r(yn(),t,e,n)}(u,a,f)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)),o!==r?(sn=e,d=o,e={type:"function",location:yn(),name:"substring",args:d}):(an=e,e=r)):(an=e,e=r),e}(),e===r&&(e=function(){let e,n,o,i,u,l,a,s,c;var f,p,d,v;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===D?an+=4:(n=r,0===vn&&bn(ye)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TRIM"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=an,i=Ir(),i!==r?(Sr(),u=zn(),Sr(),l=Tn(),l!==r?(Sr(),a=pr(),a!==r?(Sr(),s=Tn(),s!==r?(Sr(),c=Or(),c!==r?(sn=o,p=u,d=l,v=s,o=$r(yn(),p,d,v)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r),o===r&&(o=an,i=Ir(),i!==r?(Sr(),u=zn(),Sr(),l=Tn(),l!==r?(Sr(),a=Or(),a!==r?(sn=o,o=function(t,e){return $r(yn(),t,e)}(u,l)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)),o!==r?(sn=e,f=o,e={type:"function",location:yn(),name:"trim",args:f}):(an=e,e=r)):(an=e,e=r),e}(),e===r&&(e=function(){let e,n,o,i,u,l,a,s;var c,f,p;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,8),n.toLowerCase()===U?an+=8:(n=r,0===vn&&bn(he)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="POSITION"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=ir(),l!==r?(Sr(),a=Tn(),a!==r?(Sr(),s=Or(),s!==r?(sn=o,f=u,p=a,o=$r(yn(),f,p)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r),o===r&&(o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=Rr(),l!==r?(Sr(),a=Tn(),a!==r?(Sr(),s=Or(),s!==r?(sn=o,o=function(t,e){return $r(yn(),t,e)}(u,a)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)),o!==r?(sn=e,c=o,e={type:"function",location:yn(),name:"position",args:c}):(an=e,e=r)):(an=e,e=r),e}(),e===r&&(e=function(){let e,n,o,i,u,l,a,s;var c,f,p;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===z?an+=4:(n=r,0===vn&&bn(Le)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="CAST"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=function(){let e,n,o,i;return e=an,n=t.substr(an,2),n.toLowerCase()===G?an+=2:(n=r,0===vn&&bn(Te)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="AS"):(an=e,e=r)):(an=e,e=r),e}(),l!==r?(Sr(),a=kn(),a!==r?(Sr(),s=Or(),s!==r?(sn=o,f=u,p=a,o=$r(yn(),f,p)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r),o===r&&(o=an,i=Ir(),i!==r?(Sr(),u=Tn(),u!==r?(Sr(),l=Rr(),l!==r?(Sr(),a=kn(),a!==r?(Sr(),s=Or(),s!==r?(sn=o,o=function(t,e){return $r(yn(),t,e)}(u,a)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)):(an=o,o=r)),o!==r?(sn=e,c=o,e={type:"function",location:yn(),name:"cast",args:c}):(an=e,e=r)):(an=e,e=r),e}(),e===r&&(e=function(){let e,n,o,i;var u,l;return e=an,n=an,vn++,o=dr(),vn--,o===r?n=void 0:(an=n,n=r),n!==r?(o=function(){let e,n,o,i;if(e=an,n=Dn(),n!==r&&(sn=e),e=n,e===r)if(e=an,96===t.charCodeAt(an)?(n=Et,an++):(n=r,0===vn&&bn(Qe)),n!==r){if(o=[],i=t.charAt(an),Ot.test(i)?an++:(i=r,0===vn&&bn(tn)),i!==r)for(;i!==r;)o.push(i),i=t.charAt(an),Ot.test(i)?an++:(i=r,0===vn&&bn(tn));else o=r;o!==r?(96===t.charCodeAt(an)?(i=Et,an++):(i=r,0===vn&&bn(Qe)),i!==r?(sn=e,e=o.join("")):(an=e,e=r)):(an=e,e=r)}else an=e,e=r;return e}(),o!==r?(Sr(),i=Ln(),i!==r?(sn=e,u=o,l=i,e={type:"function",location:yn(),name:u,args:l}):(an=e,e=r)):(an=e,e=r)):(an=e,e=r),e}(),e===r&&(e=function(){let t;return t=function(){let t,e,n,o,i,u,l;if(t=an,e=Tr(),e!==r)if(Sr(),n=Tn(),n!==r){for(Sr(),o=[],i=an,u=Jn(),u!==r?(l=Sr(),i=u):(an=i,i=r);i!==r;)o.push(i),i=an,u=Jn(),u!==r?(l=Sr(),i=u):(an=i,i=r);i=wr(),i!==r?(sn=t,a=n,s=o,t={type:"case-expression",location:yn(),format:"simple",operand:a,clauses:s,else:null,elseLocation:null}):(an=t,t=r)}else an=t,t=r;else an=t,t=r;var a,s;if(t===r)if(t=an,e=Tr(),e!==r)if(Sr(),n=Tn(),n!==r){for(Sr(),o=[],i=an,u=Jn(),u!==r?(l=Sr(),i=u):(an=i,i=r);i!==r;)o.push(i),i=an,u=Jn(),u!==r?(l=Sr(),i=u):(an=i,i=r);i=Qn(),i!==r?(u=Sr(),l=wr(),l!==r?(sn=t,t=function(t,e,n){return{type:"case-expression",location:yn(),format:"simple",operand:t,clauses:e,else:n.value,elseLocation:n.location}}(n,o,i)):(an=t,t=r)):(an=t,t=r)}else an=t,t=r;else an=t,t=r;return t}(),t===r&&(t=function(){let t,e,n,o,i,u;if(t=an,e=Tr(),e!==r){for(Sr(),n=[],o=an,i=Xn(),i!==r?(u=Sr(),o=i):(an=o,o=r);o!==r;)n.push(o),o=an,i=Xn(),i!==r?(u=Sr(),o=i):(an=o,o=r);o=wr(),o!==r?(sn=t,l=n,t={type:"case-expression",location:yn(),format:"searched",clauses:l,else:null,elseLocation:null}):(an=t,t=r)}else an=t,t=r;var l;if(t===r)if(t=an,e=Tr(),e!==r){for(Sr(),n=[],o=an,i=Xn(),i!==r?(u=Sr(),o=i):(an=o,o=r);o!==r;)n.push(o),o=an,i=Xn(),i!==r?(u=Sr(),o=i):(an=o,o=r);o=Qn(),o!==r?(i=Sr(),u=wr(),u!==r?(sn=t,t=function(t,e){return{type:"case-expression",location:yn(),format:"searched",clauses:t,else:e.value,elseLocation:e.location}}(n,o)):(an=t,t=r)):(an=t,t=r)}else an=t,t=r;return t}()),t}(),e===r&&(e=function(){let t,e;var n,o;return t=an,e=function(){let t,e;return t=an,e=function(){let t,e,n,o;if(t=an,e=Un(),e!==r){for(n=[],o=Hn();o!==r;)n.push(o),o=Hn();sn=t,t=e+n.join("")}else an=t,t=r;return t}(),e!==r&&(sn=t),t=e,t}(),e!==r&&(sn=t,e=/^CURRENT_DATE$/i.test(n=e)?{type:"current-time",location:yn(),mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(n)?{type:"current-time",location:yn(),mode:"timestamp"}:/^CURRENT_TIME$/i.test(n)?{type:"current-time",location:yn(),mode:"time"}:/^CURRENT_USER$/i.test(n)?{type:"current-user",location:yn()}:{type:"column-reference",location:yn(),table:"",column:n}),t=e,t===r&&(t=an,e=function(){let t,e,n,o;return t=an,e=jn(),e!==r?(n=function(){let t,e,n;for(t=an,e=[],n=Pn();n!==r;)e.push(n),n=Pn();return sn=t,e=e.join(""),t=e,t}(),o=jn(),o!==r?(sn=t,t=n):(an=t,t=r)):(an=t,t=r),t}(),e!==r&&(sn=t,o=e,e={type:"column-reference",location:yn(),table:"",column:o,delimited:!0}),t=e),t}(),e===r&&(e=Zn(),e===r&&(e=an,n=Ir(),n!==r?(Sr(),o=Tn(),o!==r?(Sr(),i=Or(),i!==r?(sn=e,(u=o).paren=!0,e=u):(an=e,e=r)):(an=e,e=r)):(an=e,e=r))))))))))),e}function Dn(){let t,e,n,o;if(t=an,e=Un(),e!==r){for(n=[],o=_n();o!==r;)n.push(o),o=_n();sn=t,t=e+n.join("")}else an=t,t=r;return t}function Un(){let e;return e=t.charAt(an),At.test(e)?an++:(e=r,0===vn&&bn(kt)),e}function _n(){let e;return e=t.charAt(an),Lt.test(e)?an++:(e=r,0===vn&&bn(zt)),e}function Hn(){let e;return e=t.charAt(an),Tt.test(e)?an++:(e=r,0===vn&&bn(Gt)),e}function Pn(){let e;return e=function(){let e;return e=t.charAt(an),Tt.test(e)?an++:(e=r,0===vn&&bn(Gt)),e}(),e===r&&(e=function(){let t,e,n;return t=an,e=jn(),e!==r?(n=jn(),n!==r?(sn=t,t='"'):(an=t,t=r)):(an=t,t=r),t}()),e}function jn(){let e;return e=t.charAt(an),wt.test(e)?an++:(e=r,0===vn&&bn(Wt)),e}function Zn(){let e,n,o,i;var u;return e=an,n=an,64===t.charCodeAt(an)?(o=y,an++):(o=r,0===vn&&bn(Bt)),o!==r?(i=Dn(),i!==r?(o=[o,i],n=o):(an=n,n=r)):(an=n,n=r),n!==r&&(sn=e,u=n,n={type:"parameter",location:yn(),value:u[1]}),e=n,e}function kn(){let e,n,o,i,u;var l;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,7),n.toLowerCase()===W?an+=7:(n=r,0===vn&&bn(we)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="INTEGER"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===B?an+=3:(n=r,0===vn&&bn(xe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="INT"):(an=e,e=r)):(an=e,e=r),e}()),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"integer"}}),e=n,e===r&&(e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,8),n.toLowerCase()===Y?an+=8:(n=r,0===vn&&bn(Ne)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="SMALLINT"):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"smallint"}}),e=n,e===r&&(e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,5),n.toLowerCase()===q?an+=5:(n=r,0===vn&&bn(Re)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="FLOAT"):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"float"}}),e=n,e===r&&(e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===K?an+=4:(n=r,0===vn&&bn(Ie)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="REAL"):(an=e,e=r)):(an=e,e=r),e}(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"real"}}),e=n,e===r&&(e=an,n=yr(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"date"}}),e=n,e===r&&(e=an,n=vr(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"timestamp"}}),e=n,e===r&&(e=an,n=hr(),n!==r&&(sn=e,n={type:"data-type",location:yn(),value:{type:"time"}}),e=n,e===r&&(e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,7),n.toLowerCase()===V?an+=7:(n=r,0===vn&&bn(Oe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="VARCHAR"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=Ir(),o!==r?(Sr(),i=rr(),i!==r?(Sr(),u=Or(),u!==r?(sn=e,l=i,e={type:"data-type",location:yn(),value:{type:"varchar",size:parseInt(l)}}):(an=e,e=r)):(an=e,e=r)):(an=e,e=r)):(an=e,e=r)))))))),e}function zn(){let e,n;var o;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,7),n.toLowerCase()===j?an+=7:(n=r,0===vn&&bn(Ce)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="LEADING"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,8),n.toLowerCase()===Z?an+=8:(n=r,0===vn&&bn(be)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TRAILING"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===k?an+=4:(n=r,0===vn&&bn(Ae)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="BOTH"):(an=e,e=r)):(an=e,e=r),e}())),n===r&&(n=null),sn=e,o=n,n={type:"string",location:yn(),value:o??"BOTH"},e=n,e}function Gn(){let e,n;var o;return e=an,n=Er(),n===r&&(n=mr(),n===r&&(n=Cr(),n===r&&(n=br(),n===r&&(n=Ar(),n===r&&(n=Lr(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,13),n.toLowerCase()===tt?an+=13:(n=r,0===vn&&bn($e)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TIMEZONE_HOUR"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,15),n.toLowerCase()===et?an+=15:(n=r,0===vn&&bn(De)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TIMEZONE_MINUTE"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===lt?an+=3:(n=r,0===vn&&bn(Ze)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="DOW"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===at?an+=3:(n=r,0===vn&&bn(ke)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="DOY"):(an=e,e=r)):(an=e,e=r),e}(),n===r&&(n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===st?an+=4:(n=r,0===vn&&bn(ze)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="WEEK"):(an=e,e=r)):(an=e,e=r),e}())))))))))),n!==r&&(sn=e,o=n,n={type:"string",location:yn(),value:o}),e=n,e}function Wn(){let e,n,o,i;var u,l;return e=an,n=function(){let t,e,n,o,i;var u,l;return t=an,e=Bn(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=qn(),o!==r?(Sr(),i=Or(),i!==r?(sn=t,u=e,l=o,t={type:"interval-period",location:yn(),period:u.value,precision:l,secondary:null}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Bn(),e!==r&&(sn=t,e=function(t){return{type:"interval-period",location:yn(),period:t.value,precision:null,secondary:null}}(e)),t=e),t}(),n!==r?(Sr(),o=function(){let e,n,o,i;return e=an,n=t.substr(an,2),n.toLowerCase()===X?an+=2:(n=r,0===vn&&bn(Se)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TO"):(an=e,e=r)):(an=e,e=r),e}(),o!==r?(Sr(),i=function(){let t,e,n,o,i,u,l;var a,s,c;return t=an,e=Bn(),e!==r&&(sn=t,a=e,e={type:"interval-period",location:yn(),period:a.value,precision:null,secondary:null}),t=e,t===r&&(t=an,e=Lr(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=qn(),o!==r?(Sr(),i=Rr(),i!==r?(Sr(),u=Yn(),u!==r?(Sr(),l=Or(),l!==r?(sn=t,s=o,c=u,t={type:"interval-period",location:yn(),period:"second",precision:s,secondary:c}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Lr(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=qn(),o!==r?(Sr(),i=Or(),i!==r?(sn=t,t=function(t){return{type:"interval-period",location:yn(),period:"second",precision:t,secondary:null}}(o)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Lr(),e!==r&&(sn=t,e={type:"interval-period",location:yn(),period:"second",precision:null,secondary:null}),t=e))),t}(),i!==r?(sn=e,u=n,l=i,e={type:"interval-qualifier",location:yn(),start:u,end:l}):(an=e,e=r)):(an=e,e=r)):(an=e,e=r),e===r&&(e=function(){let t,e,n,o,i,u,l;var a,s;return t=an,e=Bn(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=Yn(),o!==r?(Sr(),i=Or(),i!==r?(sn=t,a=e,s=o,t={type:"interval-period",location:yn(),period:a.value,precision:s,secondary:null}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Bn(),e!==r&&(sn=t,e=function(t){return{type:"interval-period",location:yn(),period:t.value,precision:null,secondary:null}}(e)),t=e,t===r&&(t=an,e=Lr(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=qn(),o!==r?(Sr(),i=Rr(),i!==r?(Sr(),u=Yn(),u!==r?(Sr(),l=Or(),l!==r?(sn=t,t=function(t,e){return{type:"interval-period",location:yn(),period:"second",precision:t,secondary:e}}(o,u)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Lr(),e!==r?(Sr(),n=Ir(),n!==r?(Sr(),o=Yn(),o!==r?(Sr(),i=Or(),i!==r?(sn=t,t=function(t){return{type:"interval-period",location:yn(),period:"second",precision:t,secondary:null}}(o)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t===r&&(t=an,e=Lr(),e!==r&&(sn=t,e={type:"interval-period",location:yn(),period:"second",precision:null,secondary:null}),t=e)))),t}()),e}function Bn(){let t,e;return t=an,e=Cr(),e!==r&&(sn=t,e={type:"string",location:yn(),value:"day"}),t=e,t===r&&(t=an,e=br(),e!==r&&(sn=t,e={type:"string",location:yn(),value:"hour"}),t=e,t===r&&(t=an,e=Ar(),e!==r&&(sn=t,e={type:"string",location:yn(),value:"minute"}),t=e,t===r&&(t=an,e=mr(),e!==r&&(sn=t,e={type:"string",location:yn(),value:"month"}),t=e,t===r&&(t=an,e=Er(),e!==r&&(sn=t,e={type:"string",location:yn(),value:"year"}),t=e)))),t}function Yn(){let t,e;return t=an,e=rr(),e!==r&&(sn=t,e=parseFloat(e)),t=e,t}function qn(){let t,e;return t=an,e=rr(),e!==r&&(sn=t,e=parseFloat(e)),t=e,t}function Kn(){let t;return t=Vn(),t===r&&(t=Zn()),t}function Vn(){let e,n,o,i,u;if(e=an,39===t.charCodeAt(an)?(n=h,an++):(n=r,0===vn&&bn(Yt)),n===r&&(t.substr(an,2)===g?(n=g,an+=2):(n=r,0===vn&&bn(qt))),n!==r){for(o=[],i=an,t.substr(an,2)===E?(u=E,an+=2):(u=r,0===vn&&bn(Kt)),u!==r&&(sn=i,u="'"),i=u,i===r&&(i=t.charAt(an),xt.test(i)?an++:(i=r,0===vn&&bn(Vt)));i!==r;)o.push(i),i=an,t.substr(an,2)===E?(u=E,an+=2):(u=r,0===vn&&bn(Kt)),u!==r&&(sn=i,u=ln()),i=u,i===r&&(i=t.charAt(an),xt.test(i)?an++:(i=r,0===vn&&bn(Vt)));39===t.charCodeAt(an)?(i=h,an++):(i=r,0===vn&&bn(Yt)),i!==r?(sn=e,l=o,e={type:"string",location:yn(),value:l.join("")}):(an=e,e=r)}else an=e,e=r;var l;return e}function Xn(){let t,e,n,o,i;var u,l;return t=an,e=xr(),e!==r?(Sr(),n=Tn(),n!==r?(Sr(),o=Nr(),o!==r?(Sr(),i=Tn(),i!==r?(sn=t,u=n,l=i,t={type:"when-clause",location:yn(),operand:u,value:l}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t}function Jn(){let t,e,n,o,i;var u,l;return t=an,e=xr(),e!==r?(Sr(),n=Tn(),n!==r?(Sr(),o=Nr(),o!==r?(Sr(),i=Tn(),i!==r?(sn=t,u=n,l=i,t={type:"when-clause",location:yn(),operand:u,value:l}):(an=t,t=r)):(an=t,t=r)):(an=t,t=r)):(an=t,t=r),t}function Qn(){let e,n,o;var i;return e=an,n=function(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===vt?an+=4:(n=r,0===vn&&bn(qe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="ELSE"):(an=e,e=r)):(an=e,e=r),e}(),n!==r?(Sr(),o=Tn(),o!==r?(sn=e,i=o,e={type:"else-clause",location:yn(),value:i}):(an=e,e=r)):(an=e,e=r),e}function tr(){let e,n,o;var i;return e=rr(),e===r&&(e=an,n=t.charAt(an),Ct.test(n)?an++:(n=r,0===vn&&bn(Pt)),n!==r?(o=rr(),o!==r?(sn=e,i=o,e=n[0]+i):(an=e,e=r)):(an=e,e=r)),e}function er(){let e,n,o;var i;return e=an,46===t.charCodeAt(an)?(n=m,an++):(n=r,0===vn&&bn(Xt)),n!==r?(o=rr(),o===r&&(o=null),sn=e,e="."+(null!=(i=o)?i:"")):(an=e,e=r),e}function nr(){let e,n,o;return e=an,n=function(){let e,n,o;var i;return e=an,n=t.charAt(an),Rt.test(n)?an++:(n=r,0===vn&&bn(Qt)),n!==r?(o=t.charAt(an),Ct.test(o)?an++:(o=r,0===vn&&bn(Pt)),o===r&&(o=null),sn=e,e="e"+(null===(i=o)?"":i)):(an=e,e=r),e}(),n!==r?(o=rr(),o!==r?(sn=e,e=n+o):(an=e,e=r)):(an=e,e=r),e}function rr(){let t,e,n;if(t=an,e=[],n=or(),n!==r)for(;n!==r;)e.push(n),n=or();else e=r;return e!==r&&(sn=t,e=e.join("")),t=e,t}function or(){let e;return e=t.charAt(an),Nt.test(e)?an++:(e=r,0===vn&&bn(Jt)),e}function ir(){let e,n,o,i;return e=an,n=t.substr(an,2),n.toLowerCase()===L?an+=2:(n=r,0===vn&&bn(re)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="IN"):(an=e,e=r)):(an=e,e=r),e}function ur(){let e,n,o,i;return e=an,n=t.substr(an,2),n.toLowerCase()===T?an+=2:(n=r,0===vn&&bn(oe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="IS"):(an=e,e=r)):(an=e,e=r),e}function lr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===w?an+=4:(n=r,0===vn&&bn(ie)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="LIKE"):(an=e,e=r)):(an=e,e=r),e}function ar(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===N?an+=3:(n=r,0===vn&&bn(le)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="NOT"):(an=e,e=r)):(an=e,e=r),e}function sr(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===R?an+=3:(n=r,0===vn&&bn(ae)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="AND"):(an=e,e=r)):(an=e,e=r),e}function cr(){let e,n,o,i;return e=an,n=t.substr(an,2),n.toLowerCase()===I?an+=2:(n=r,0===vn&&bn(se)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="OR"):(an=e,e=r)):(an=e,e=r),e}function fr(){let e,n,o,i;return e=an,n=t.substr(an,7),n.toLowerCase()===O?an+=7:(n=r,0===vn&&bn(ce)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="BETWEEN"):(an=e,e=r)):(an=e,e=r),e}function pr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===S?an+=4:(n=r,0===vn&&bn(fe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="FROM"):(an=e,e=r)):(an=e,e=r),e}function dr(){let e,n,o,i;return e=an,n=t.substr(an,7),n.toLowerCase()===$?an+=7:(n=r,0===vn&&bn(ve)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="EXTRACT"):(an=e,e=r)):(an=e,e=r),e}function vr(){let e,n,o,i;return e=an,n=t.substr(an,9),n.toLowerCase()===_?an+=9:(n=r,0===vn&&bn(ge)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TIMESTAMP"):(an=e,e=r)):(an=e,e=r),e}function yr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===H?an+=4:(n=r,0===vn&&bn(Ee)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="DATE"):(an=e,e=r)):(an=e,e=r),e}function hr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===P?an+=4:(n=r,0===vn&&bn(me)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="TIME"):(an=e,e=r)):(an=e,e=r),e}function gr(){let e,n,o,i;return e=an,n=t.substr(an,8),n.toLowerCase()===J?an+=8:(n=r,0===vn&&bn(Fe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="INTERVAL"):(an=e,e=r)):(an=e,e=r),e}function Er(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===Q?an+=4:(n=r,0===vn&&bn(Me)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="YEAR"):(an=e,e=r)):(an=e,e=r),e}function mr(){let e,n,o,i;return e=an,n=t.substr(an,5),n.toLowerCase()===nt?an+=5:(n=r,0===vn&&bn(Ue)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="MONTH"):(an=e,e=r)):(an=e,e=r),e}function Cr(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===rt?an+=3:(n=r,0===vn&&bn(_e)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="DAY"):(an=e,e=r)):(an=e,e=r),e}function br(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===ot?an+=4:(n=r,0===vn&&bn(He)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="HOUR"):(an=e,e=r)):(an=e,e=r),e}function Ar(){let e,n,o,i;return e=an,n=t.substr(an,6),n.toLowerCase()===it?an+=6:(n=r,0===vn&&bn(Pe)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="MINUTE"):(an=e,e=r)):(an=e,e=r),e}function Lr(){let e,n,o,i;return e=an,n=t.substr(an,6),n.toLowerCase()===ut?an+=6:(n=r,0===vn&&bn(je)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="SECOND"):(an=e,e=r)):(an=e,e=r),e}function Tr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===ct?an+=4:(n=r,0===vn&&bn(Ge)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="CASE"):(an=e,e=r)):(an=e,e=r),e}function wr(){let e,n,o,i;return e=an,n=t.substr(an,3),n.toLowerCase()===ft?an+=3:(n=r,0===vn&&bn(We)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="END"):(an=e,e=r)):(an=e,e=r),e}function xr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===pt?an+=4:(n=r,0===vn&&bn(Be)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="WHEN"):(an=e,e=r)):(an=e,e=r),e}function Nr(){let e,n,o,i;return e=an,n=t.substr(an,4),n.toLowerCase()===dt?an+=4:(n=r,0===vn&&bn(Ye)),n!==r?(o=an,vn++,i=_n(),vn--,i===r?o=void 0:(an=o,o=r),o!==r?(sn=e,e="THEN"):(an=e,e=r)):(an=e,e=r),e}function Rr(){let e;return 44===t.charCodeAt(an)?(e=yt,an++):(e=r,0===vn&&bn(Ke)),e}function Ir(){let e;return 40===t.charCodeAt(an)?(e=ht,an++):(e=r,0===vn&&bn(Ve)),e}function Or(){let e;return 41===t.charCodeAt(an)?(e=gt,an++):(e=r,0===vn&&bn(Xe)),e}function Sr(){let t,e;for(t=[],e=Fr();e!==r;)t.push(e),e=Fr();return t}function Fr(){let e;return e=t.charAt(an),It.test(e)?an++:(e=r,0===vn&&bn(Je)),e}function Mr(t,e,n,r,o){const i={type:"binary-expression",location:o,operator:t,left:e,right:n};return void 0!==r&&(i.escape=r),i}function $r(t,...e){return{type:"expression-list",location:t,value:e}}function Dr(t,e){let n=t;for(const{op:t,expr:r,location:{end:o}}of e)n=Mr(t,n,r,void 0,{...n.location,end:o});return n}fn=u();const Ur=fn!==r&&an===t.length;function _r(){throw fn!==r&&an<t.length&&bn({type:"end"}),function(t,n,r){return new e(e.buildMessage(t,n),t,n,r)}(dn,pn<t.length?function(e=an){const n=t.codePointAt(e);return void 0===n?"":String.fromCodePoint(n)}(pn):null,pn<t.length?Cn(pn,pn+1):Cn(pn,pn))}return n.peg$library?{peg$result:fn,peg$currPos:an,peg$FAILED:r,peg$maxFailExpected:dn,peg$maxFailPos:pn,peg$success:Ur,peg$throw:Ur?void 0:_r}:Ur?fn:void _r()}(t)}},t.visitAll=function t(e,n){if(null!=e)switch(n(e),e.type){case"when-clause":t(e.operand,n),t(e.value,n);break;case"case-expression":for(const r of e.clauses)t(r,n);"simple"===e.format&&t(e.operand,n),null!==e.else&&t(e.else,n);break;case"expression-list":for(const r of e.value)t(r,n);break;case"unary-expression":t(e.expr,n);break;case"binary-expression":t(e.left,n),t(e.right,n);break;case"function":t(e.args,n);break;case"interval":t(e.value,n),t(e.qualifier,n);break;case"interval-qualifier":t(e.start,n),t(e.end,n)}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});