// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./DateOnly","./errorSupport","./SqlInterval","./SqlTimestampOffset","./TimeOnly","./UnknownTimeZone","../../chunks/datetime"],function(e,n,t,r,a,i,s,o){"use strict";const l=/^(\d{1,2}):(\d{1,2}):(\d{1,2})$/,m=/^(\d{1,2}):(\d{1,2})$/,d=/^(\d{1,2}):(\d{1,2}):(\d{1,2}).([0-9]+)$/,p=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,u=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)?$/,f=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})(\.[0-9]+)? {0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,I=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})? {0,1}(\+|-)(\d{1,2}):(\d{1,2})$/,c=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/;function T(e,n,r=!1){let i=u.exec(e);if(null!==i){const[,e,r,a,l,m,d,p]=i,u=o.DateTime.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(l,10),minute:parseInt(m,10),second:parseInt(d,10),millisecond:p?parseInt(p.replace(".",""),10):0},{zone:s.substituteUnknownTimezone(n)});if(!1===u.isValid)throw new t.SqlError("InvalidTimeStamp");return u}if(i=f.exec(e),null!==i){const[,e,n,r,s,o,l,m,d,p,u]=i,f=a.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),parseInt(s,10),parseInt(o,10),parseInt(l,10),m?parseInt(m.replace(".",""),10):0,"-"===d,parseInt(p,10),parseInt(u,10));if(!1===f.isValid)throw new t.SqlError("InvalidTimeStamp");return f}if(i=I.exec(e),null!==i){const[,e,n,r,s,o,l,m,d]=i,p=a.SqlTimeStampOffset.fromParts(parseInt(e,10),parseInt(n,10),parseInt(r,10),parseInt(s,10),parseInt(o,10),0,0,"-"===l,parseInt(m,10),parseInt(d,10));if(!1===p.isValid)throw new t.SqlError("InvalidTimeStamp");return p}if(i=c.exec(e),null!==i){const[,e,r,a,l,m]=i,d=o.DateTime.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:parseInt(l,10),minute:parseInt(m,10),second:0},{zone:s.substituteUnknownTimezone(n)});if(!1===d.isValid)throw new t.SqlError("InvalidTimeStamp");return d}if(i=p.exec(e),null!==i){const[,e,r,a]=i,l=o.DateTime.fromObject({year:parseInt(e,10),month:parseInt(r,10),day:parseInt(a,10),hour:0,minute:0,second:0},{zone:s.substituteUnknownTimezone(n)});if(!1===l.isValid)throw new t.SqlError("InvalidTimeStamp");return l}throw new t.SqlError("InvalidTimeStamp")}e.convertToExecutingTimeZone=function(e,n){if(n instanceof o.Zone)return n===s.UnknownTimeZone.instance?o.DateTime.fromMillis(e.getTime(),{zone:s.UnknownTimeZone.instance}):o.DateTime.fromJSDate(e,{zone:n});switch(n){case"system":case"local":case null:return o.DateTime.fromJSDate(e);default:return"unknown"===n?.toLowerCase()?o.DateTime.fromMillis(e.getTime(),{zone:s.UnknownTimeZone.instance}):o.DateTime.fromJSDate(e,{zone:n})}},e.isDateOnly=function(e){return n.DateOnly.isDateOnly(e)},e.isDateTime=function(e){return o.DateTime.isDateTime(e)},e.isSqlInterval=function(e){return r.SqlInterval.isInterval(e)},e.isTimeOnly=function(e){return i.TimeOnly.isTimeOnly(e)},e.isTimestampOffset=function(e){return a.SqlTimeStampOffset.isTimestampOffset(e)},e.parseDate=function(e,r){const a=p.exec(e);if(null===a)try{return T(e,r)}catch{throw new t.SqlError("InvalidDate")}const[,i,s,o]=a,l=n.DateOnly.fromParts(parseInt(i,10),parseInt(s,10),parseInt(o,10));if(null===l)throw new t.SqlError("InvalidDate");return l},e.parseTime=function(e){let n=l.exec(e);if(null!==n){const[,e,r,a]=n,s=i.TimeOnly.fromParts(parseInt(e,10),parseInt(r,10),parseInt(a,10),0);if(null!==s)return s;throw new t.SqlError("InvalidTime")}if(n=m.exec(e),null!==n){const[,e,r]=n,a=i.TimeOnly.fromParts(parseInt(e,10),parseInt(r,10),0,0);if(null!==a)return a;throw new t.SqlError("InvalidTime")}if(n=d.exec(e),null!==n){const[,e,r,a,s]=n,o=i.TimeOnly.fromParts(parseInt(e,10),parseInt(r,10),parseInt(a,10),parseInt(s,10));if(null!==o)return o;throw new t.SqlError("InvalidTime")}throw new t.SqlError("InvalidTime")},e.parseTimestamp=T,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});