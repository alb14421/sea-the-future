// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./arrayUtils","./typedArrayUtil"],function(t,n,e){"use strict";function r(t){if(!t||"object"!=typeof t||"function"==typeof t)return t;const n=u(t);if(null!=n)return n;if(o(t))return t.clone();if(i(t))return t.map(r);if(f(t))throw new Error("Trying to clone an unclonable Accessor instance");const e={};for(const n of Object.getOwnPropertyNames(t))e[n]=r(t[n]);return e}function o(t){return"function"==typeof t.clone}function i(t){return"function"==typeof t.map&&"function"==typeof t.forEach}function f(t){return"function"==typeof t.notifyChange&&"function"==typeof t.watch}function c(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;const n=Object.getPrototypeOf(t);return null===n||n===Object.prototype}function u(t){if(e.isInt8Array(t)||e.isUint8Array(t)||e.isUint8ClampedArray(t)||e.isInt16Array(t)||e.isUint16Array(t)||e.isInt32Array(t)||e.isUint32Array(t)||e.isFloat32Array(t)||e.isFloat64Array(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const n=new Map;for(const[e,o]of t)n.set(e,r(o));return n}if(t instanceof Set){const n=new Set;for(const e of t)n.add(r(e));return n}return null}t.clone=r,t.equals=function(t,n){return t===n||"number"==typeof t&&isNaN(t)&&"number"==typeof n&&isNaN(n)||"function"==typeof t?.getTime&&"function"==typeof n?.getTime&&t.getTime()===n.getTime()||!1},t.equalsShallow=function(t,e){return t===e||(null==t||"string"==typeof t?t===e:"number"==typeof t?t===e||"number"==typeof e&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&n.equals(t,e):t instanceof Set?e instanceof Set&&function(t,n){if(t.size!==n.size)return!1;for(const e of t)if(!n.has(e))return!1;return!0}(t,e):t instanceof Map?e instanceof Map&&function(t,n){if(t.size!==n.size)return!1;for(const[e,r]of t){const t=n.get(e);if(t!==r||void 0===t&&!n.has(e))return!1}return!0}(t,e):!!c(t)&&c(e)&&function(t,n){if(null===t||null===n)return!1;const e=Object.keys(t);if(null===n||Object.keys(n).length!==e.length)return!1;for(const r of e)if(t[r]!==n[r]||!Object.prototype.hasOwnProperty.call(n,r))return!1;return!0}(t,e))},t.fixJson=function t(n,e){let r;if(e)for(r in n)n.hasOwnProperty(r)&&(void 0===n[r]?delete n[r]:n[r]instanceof Object&&t(n[r],!0));else for(r in n)n.hasOwnProperty(r)&&void 0===n[r]&&delete n[r];return n},t.isAccessorLike=f,t.isClonable=o,t.isPlainObject=c,t.tryClone=function t(n,e){if(!n||"object"!=typeof n||"function"==typeof n||"HTMLElement"in globalThis&&n instanceof HTMLElement)return n;const r=u(n);if(null!=r)return r;if(i(n)){let r=!0;const o=n.map(n=>{const o=t(n,e);return null!=n&&null==o&&(r=!1),o});return r?o:null}if(o(n))return n.clone(e);if(n instanceof File||n instanceof Blob)return n;if(f(n))return null;const c=new(0,Object.getPrototypeOf(n).constructor);for(const e of Object.getOwnPropertyNames(n)){const r=n[e],o=t(r);if(null!=r&&null==o)return null;c[e]=o}return c},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});