// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
!function(e,t){var r=function(){return void 0!==m&&"function"!=typeof m?m:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this}(),n=function(){},i=function(e){for(var t in e)return 0;return 1},s={}.toString,o=function(e){return"[object Function]"==s.call(e)},a=function(e){return"[object String]"==s.call(e)},l=function(e){return"[object Array]"==s.call(e)},u=function(e,t){if(e)for(var r=0;r<e.length;)t(e[r++])},c=function(e,t){for(var r in t)e[r]=t[r];return e},h=function(e,t){return c(new Error(e),{src:"dojoLoader",info:t})},f=1,d=function(){return"_"+f++},p=function(e,t,r){return ie(e,t,r,0,p)},m=r,y=m.document,g=y&&y.createElement("DiV"),_=p.has=function(e){return o(b[e])?b[e]=b[e](m,y,g):b[e]},b=_.cache=t.hasCache;for(var x in o(e)&&(e=e(r)),_.add=function(e,t,r,n){return(void 0===b[e]||n)&&(b[e]=t),r&&_(e)},_.add("host-webworker","undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope),_("host-webworker")&&(c(t.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,"dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),t.loaderPatch={injectUrl:function(e,t){try{importScripts(e),t()}catch(t){console.info("failed to load resource ("+e+")"),console.error(t)}}}),e.has)_.add(x,e.has[x],0,1);var w,T=0,S="sync",v=[],P=0,M=n,O=n;if(p.isXdUrl=n,p.initSyncLoader=function(e,t,r){return P||(P=e,M=t,O=r),{sync:S,requested:1,arrived:2,nonmodule:3,executing:4,executed:5,syncExecStack:v,modules:G,execQ:oe,getModule:be,injectModule:Ve,setArrived:ce,signal:C,finishExec:Ae,execModule:De,dojoRequirePlugin:P,getLegacyMode:function(){return T},guardCheckComplete:Re}},_("dom")||_("host-webworker")){var k=location.protocol,E=location.host;if(p.isXdUrl=function(e){if(/^\./.test(e))return!1;if(/^\/\//.test(e))return!0;var t=e.match(/^([^\/\:]+\:)\/+([^\/]+)/);return t&&(t[1]!=k||E&&t[2]!=E)},_.add("dojo-force-activex-xhr",_("host-browser")&&!y.addEventListener&&"file:"==window.location.protocol),_("dojo-force-activex-xhr")){for(var A,I=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],D=0;D<3;)try{if(A=I[D++],new ActiveXObject(A))break}catch(e){}w=function(){return new ActiveXObject(A)}}else w=function(){return new XMLHttpRequest};p.getXhr=w,_.add("dojo-gettext-api",1),p.getText=function(e,t,r){var n=w();if(n.open("GET",Le(e),!1),n.send(null),200!=n.status&&(location.host||n.status))throw h("xhrFailed",n.status);return r&&r(n.responseText,t),n.responseText}}p.eval=function(e,t){};var N={},R="error",C=p.signal=function(e,t){var r=N[e];u(r&&r.slice(0),function(e){e.apply(null,l(t)?t:[t])})},L=p.on=function(e,t){var r=N[e]||(N[e]=[]);return r.push(t),{remove:function(){for(var e=0;e<r.length;e++)if(r[e]===t)return void r.splice(e,1)}}},U=[],F={},j=[],V={},B=p.map={},z=[],G={},q="",W={},$="url:",H={},Z={},J=0;if(!_("foreign-loader"))var Y=function(e,t){var r,n,i,s,o;for(r in t=!1!==t,H)n=H[r],(i=r.match(/^url\:(.+)/))?W[$+we(i[1],e)]=n:"*now"==r?s=n:"*noref"!=r&&(o=ye(r,e,!0),W[o.mid]=W[$+o.url]=n);s&&s(se(e)),t&&(H={})};var K,X=function(e){return e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(e){return"\\"+e})},Q=function(e,t){for(var r in t.splice(0,t.length),e)t.push([r,e[r],new RegExp("^"+X(r)+"(/|$)"),r.length]);return t.sort(function(e,t){return t[3]-e[3]}),t},ee=function(e){var t=e.name;t||(e={name:t=e}),(e=c({main:"main"},e)).location=e.location?e.location:t,e.packageMap&&(B[t]=e.packageMap),e.main.indexOf("./")||(e.main=e.main.substring(2)),V[t]=e},te=[],re=function(e,t,r){for(var n in e){if("waitSeconds"==n&&(p.waitms=1e3*(e[n]||0)),"cacheBust"==n&&(q=e[n]?a(e[n])?e[n]:(new Date).getTime()+"":""),"baseUrl"!=n&&"combo"!=n||(p[n]=e[n]),"async"==n){var i=e[n];p.legacyMode=T=a(i)&&/sync|legacyAsync/.test(i)?i:!i&&S,p.async=!T}e[n]!==b&&(p.rawConfig[n]=e[n],"has"!=n&&_.add("config-"+n,e[n],0,t))}for(n in p.baseUrl||(p.baseUrl="./"),/\/$/.test(p.baseUrl)||(p.baseUrl+="/"),e.has)_.add(n,e.has[n],0,t);for(var s in u(e.packages,ee),e.packagePaths)u(e.packagePaths[s],function(e){var t=s+"/"+e;a(e)&&(e={name:e}),e.location=t,ee(e)});if(Q(c(B,e.map),z),u(z,function(e){e[1]=Q(e[1],[]),"*"==e[0]&&(z.star=e)}),Q(c(F,e.paths),j),function(e,t){u(e,function(e){t.push([a(e[0])?new RegExp("^"+X(e[0])+"$"):e[0],e[1]])})}(e.aliases,U),!_("foreign-loader")){if(t)te.push({config:e.config});else for(n in e.config){var o=be(n,r);o.config=c(o.config||{},e.config[n])}e.cache&&(Y(),H=e.cache,Y(0,!!e.cache["*noref"]))}C("config",[e,p.rawConfig])};if(p.rawConfig={},re(t,1),re(e,1),re(Z,1),!_("foreign-loader"))var ne=function(e){Re(function(){u(e.deps,Ve)})},ie=function(e,t,r,i,s){var o,u;if(a(e)){if((o=be(e,i,!0))&&o.executed)return o.result;throw h("undefinedModule",e)}if(l(e)||(re(e,0,i),e=t,t=r),l(e))if(e.length){u="require*"+d();for(var f,m=[],y=0;y<e.length;)f=e[y++],m.push(be(f,i));o=c(pe("",u,0,""),{injected:2,deps:m,def:t||n,require:i?i.require:p,gc:1}),G[o.mid]=o,ne(o);var g=Ne&&T!=S;Re(function(){De(o,g)}),o.executed||oe.push(o),Ce()}else t&&t();return s},se=function(e){if(!e)return p;var t=e.require;return t||(t=function(r,n,i){return ie(r,n,i,e,t)},e.require=c(t,p),t.module=e,t.toUrl=function(t){return we(t,e)},t.toAbsMid=function(t){return xe(t,e)},t.syncLoadNls=function(t){var r=ye(t,e),n=G[r.mid];return n&&n.executed||(Fe=W[r.mid]||W[$+r.url])&&(je(Fe),n=G[r.mid]),n&&n.executed&&n.result}),t},oe=[],ae=[],le={},ue=function(e){e.injected=1,le[e.mid]=1,e.url&&(le[e.url]=e.pack||1),qe()},ce=function(e){e.injected=2,delete le[e.mid],e.url&&delete le[e.url],i(le)&&(Ge(),"xd"==T&&(T=S))},he=p.idle=function(){return!ae.length&&i(le)&&!oe.length&&!Ne};var fe=function(e,t){if(t)for(var r=0;r<t.length;r++)if(t[r][2].test(e))return t[r];return 0},de=function(e){var t,r,n=[];for(e=e.replace(/\\/g,"/").split("/");e.length;)".."==(t=e.shift())&&n.length&&".."!=r?(n.pop(),r=n[n.length-1]):"."!=t&&n.push(r=t);return n.join("/")},pe=function(e,t,r,n){var i=p.isXdUrl(n);return{pid:e,mid:t,pack:r,url:n,executed:0,def:0,isXd:i,isAmd:!!(i||V[e]&&V[e].isAmd)}},me=function(e,t,r,n,i,s,a,l,c,f){var d,p,m,y,g,_,b;if(b=/^\./.test(e),/(^\/)|(\:)|(\.js$)/.test(e)||b&&!t)return pe(0,e,0,e);if(e=de(b?t.mid+"/../"+e:e),/^\./.test(e))throw h("irrationalPath",e);f||b||!s.star||(y=fe(e,s.star[1])),!y&&t&&(y=(y=fe(t.mid,s))&&fe(e,y[1])),y&&(e=y[1]+e.substring(y[3])),(p=r[d=(K=e.match(/^([^\/]+)(\/(.+))?$/))?K[1]:""])?e=d+"/"+(m=K[3]||p.main):d="";var x=0;return u(l,function(t){var r=e.match(t[0]);r&&r.length>0&&(x=o(t[1])?e.replace(t[0],t[1]):t[1])}),x?me(x,0,r,n,i,s,a,l,c):(_=n[e])?c?pe(_.pid,_.mid,_.pack,_.url):n[e]:(g=(y=fe(e,a))?y[1]+e.substring(y[3]):d?("/"===p.location.slice(-1)?p.location.slice(0,-1):p.location)+"/"+m:e,/(^\/)|(\:)/.test(g)||(g=i+g),pe(d,e,p,de(g+=".js")))},ye=function(e,t,r){return me(e,t,V,G,p.baseUrl,z,j,U,void 0,r)};if(!_("foreign-loader"))var ge=function(e,t,r){return e.normalize?e.normalize(t,function(e){return xe(e,r)}):xe(t,r)},_e=0,be=function(e,t,r){var n,i,s,o;return(n=e.match(/^(.+?)\!(.*)$/))?(i=be(n[1],t,r),T!=S||i.executed||(Ve(i),2!==i.injected||i.executed||Re(function(){De(i)}),i.executed?Ee(i):oe.unshift(i)),5!==i.executed||i.load||Ee(i),i.load?(s=ge(i,n[2],t),e=i.mid+"!"+(i.dynamic?++_e+"!":"")+s):(s=n[2],e=i.mid+"!"+ ++_e+"!waitingForPlugin"),o={plugin:i,mid:e,req:se(t),prid:s}):o=ye(e,t),G[o.mid]||!r&&(G[o.mid]=o)};var xe=p.toAbsMid=function(e,t){return ye(e,t).mid},we=p.toUrl=function(e,t){var r=ye(e+"/x",t),n=r.url;return Le(0===r.pid?e:n.substring(0,n.length-5))};if(!_("foreign-loader"))var Te={injected:2,executed:5,def:3,result:3},Se=function(e){return G[e]=c({mid:e},Te)},ve=Se("require"),Pe=Se("exports"),Me=Se("module"),Oe={},ke=0,Ee=function(e){var t=e.result;return e.dynamic=t.dynamic,e.normalize=t.normalize,e.load=t.load,e},Ae=function(e){for(p.trace("loader-finish-exec",[e.mid]),e.executed=5,e.defOrder=ke++,u(e.provides,function(e){e()}),e.loadQ&&(Ee(e),function(e){var t={};u(e.loadQ,function(r){var n=ge(e,r.prid,r.req.module),i=e.dynamic?r.mid.replace(/waitingForPlugin$/,n):e.mid+"!"+n,s=c(c({},r),{mid:i,prid:n,injected:0});G[i]&&G[i].injected||Ue(G[i]=s),t[r.mid]=G[i],ce(r),delete G[r.mid]}),e.loadQ=0;var r=function(e){for(var r,n=e.deps||[],i=0;i<n.length;i++)(r=t[n[i].mid])&&(n[i]=r)};for(var n in G)r(G[n]);u(oe,r)}(e)),D=0;D<oe.length;)oe[D]===e?oe.splice(D,1):D++;/^require\*/.test(e.mid)&&delete G[e.mid]},Ie=[],De=function(e,t){if(4===e.executed)return p.trace("loader-circular-dependency",[Ie.concat(e.mid).join("->")]),!e.def||t?Oe:e.cjs&&e.cjs.exports;if(!e.executed){if(!e.def)return Oe;var r,n,i=e.mid,a=e.deps||[],l=[],u=0;for(e.executed=4;r=a[u++];){if((n=r===ve?se(e):r===Pe?e.cjs.exports:r===Me?e.cjs:De(r,t))===Oe)return e.executed=0,p.trace("loader-exec-module",["abort",i]),Oe;l.push(n)}!function(e,t){p.trace("loader-run-factory",[e.mid]);var r,n,i=e.def;v.unshift(e),r=o(i)||(n=i,"[object AsyncFunction]"==s.call(n))?i.apply(null,t):i,e.result=void 0===r&&e.cjs?e.cjs.exports:r,v.shift(e)}(e,l),Ae(e)}return e.result},Ne=0,Re=function(e){try{Ne++,e()}catch(e){throw e}finally{Ne--}he()&&C("idle",[])},Ce=function(){Ne||Re(function(){M();for(var e,t,r=0;r<oe.length;)e=ke,t=oe[r],De(t),e!=ke?(M(),r=0):r++})};var Le="function"==typeof e.fixupUrl?e.fixupUrl:function(e){return(e+="")+(q?(/\?/.test(e)?"&":"?")+q:"")};void 0===_("dojo-loader-eval-hint-url")&&_.add("dojo-loader-eval-hint-url",1);var Ue=function(e){var t=e.plugin;5!==t.executed||t.load||Ee(t),t.load?t.load(e.prid,e.req,function(t){e.result=t,ce(e),Ae(e),Ce()}):t.loadQ?t.loadQ.push(e):(t.loadQ=[e],oe.unshift(t),Ve(t))},Fe=0,je=function(e,t){_("config-stripStrict")&&(e=e.replace(/(["'])use strict\1/g,"")),e===Fe?Fe.call(null):p.eval(e,_("dojo-loader-eval-hint-url")?t.url:t.mid)},Ve=function(e){var t=e.mid,r=e.url;if(!(e.executed||e.injected||le[t]||e.url&&(e.pack&&le[e.url]===e.pack||1==le[e.url])))if(ue(e),e.plugin)Ue(e);else{var n=function(){if(ze(e),2!==e.injected){if(_("dojo-enforceDefine"))return void C(R,h("noDefine",e));ce(e),c(e,Te),p.trace("loader-define-nonmodule",[e.url])}T?!v.length&&Ce():Ce()};if(Fe=W[t]||W[$+e.url])return p.trace("loader-inject",["cache",e.mid,r]),je(Fe,e),void n();if(T)if(e.isXd)T==S&&(T="xd");else if(!e.isAmd||T==S)return p.trace("loader-inject",["xhr",e.mid,r,T!=S]),void p.getText(r,T!=S,function(i){if(T==S){if(v.unshift(e),je(i,e),v.shift(),ze(e),e.cjs||(ce(e),Ae(e)),e.finish){var s=t+"*finish",o=e.finish;delete e.finish,He(s,["dojo",("dojo/require!"+o.join(",")).replace(/\./g,"/")],function(e){u(o,function(t){e.require(t)})}),oe.unshift(be(s))}n()}else(i=O(e,i))?(je(i,e),n()):p.injectUrl(Le(r),n,e)});p.trace("loader-inject",["script",e.mid,r]),p.injectUrl(Le(r),n,e)}},Be=function(e,t,r){p.trace("loader-define-module",[e.mid,t]);var n=e.mid;if(2===e.injected)return C(R,h("multipleDefine",e)),e;c(e,{deps:t,def:r,cjs:{id:e.mid,uri:e.url,exports:e.result={},setExports:function(t){e.cjs.exports=t},config:function(){return e.config}}});for(var i=0;t[i];i++)t[i]=be(t[i],e);return T&&!le[n]&&(ne(e),oe.push(e),Ce()),ce(e),o(r)||t.length||(e.result=r,Ae(e)),e},ze=function(e,t){for(var r,n,i=[];ae.length;)n=ae.shift(),t&&(n[0]=t.shift()),r=n[0]&&be(n[0])||e,i.push([r,n[1],n[2]]);Y(e),u(i,function(e){ne(Be.apply(null,e))})},Ge=n,qe=n;if(_("dom"),_("dom")){var We=function(e,t,r,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},$e=We(window,"load",0,function(){p.pageLoaded=1;try{"complete"!=y.readyState&&(y.readyState="complete")}catch(e){}$e()});J||(J=y.currentScript),p.injectUrl=function(e,t,r){var n=r.node=y.createElement("script"),i=We(n,"load",0,function(e){var r=(e=e||window.event).target||e.srcElement;("load"===e.type||/complete|loaded/.test(r.readyState))&&(i(),s(),t&&t())}),s=We(n,"error",0,function(t){i(),s(),C(R,h("scriptError: "+e,[e,t]))});return n.type="text/javascript",n.charset="utf-8",n.src=e,J.parentNode.insertBefore(n,J),n}}if(p.log=n,p.trace=n,_("foreign-loader"))He=n;else{var He=function(e,t,r){var n=arguments.length,i=["require","exports","module"],s=[0,e,t];1==n?s=[0,o(e)?i:[],e]:2==n&&a(e)?s=[e,o(t)?i:[],t]:3==n&&(s=[e,t,r]),p.trace("loader-define",s.slice(0,2));var l=s[0]&&be(s[0]);l&&!le[l.mid]?ne(Be(l,s[1],s[2])):ae.push(s)};He.amd={vendor:"dojotoolkit.org"}}if(c(c(p,t.loaderPatch),e.loaderPatch),L(R,function(e){try{if(console.error(e),e instanceof Error){for(var t in e)console.log(t+":",e[t]);console.log(".")}}catch(e){}}),c(p,{uid:d,cache:W,packs:V}),!m.define&&(m.define=He,m.require=p,!_("foreign-loader"))){u(te,function(e){re(e)});var Ze=Z.deps||e.deps||t.deps,Je=Z.callback||e.callback||t.callback;p.boot=Ze||Je?[Ze||[],Je]:0}}(function(e){return e.dojoConfig||e.djConfig||e.require||{}},{async:1,deps:["esri/kernel"],hasCache:{"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-loader":1,dom:1,"host-browser":1},packages:[{location:".",name:"dojo"},{location:"../esri",name:"esri"}]}),require({cache:{"esri/config":function(){define(["module","./core/has","./core/object"],function(e,t,r){"use strict";const n={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(r.deepMerge(n,globalThis.esriConfig,!0),delete n.has),!n.assetsPath){{const t=new URL(e.uri,document.baseURI).href;n.assetsPath=t.slice(0,t.lastIndexOf("esri/"))}n.defaultAssetsPath=n.assetsPath}return n})},"esri/core/has":function(){define(function(){"use strict";let e;const t=globalThis;function r(r){return"function"==typeof e[r]?e[r]=e[r](t):e[r]}return e=t.dojoConfig?.has||t.esriConfig?.has?{...t.dojoConfig?.has,...t.esriConfig?.has}:{},r.add=(t,n,i,s)=>{(s||void 0===e[t])&&(e[t]=n),i&&r(t)},r.cache=e,r.add("big-integer-warning-enabled",!0),r.add("esri-deprecation-warnings",!0),r.add("esri-tests-disable-screenshots",!1),r.add("esri-tests-use-full-window",!1),r.add("esri-tests-post-to-influx",!0),r.add("esri-cim-animations-enable-status","enabled"),r.add("esri-cim-animations-spotlight",!1),r.add("esri-cim-animations-freeze-time",!1),(()=>{r.add("host-webworker",void 0!==t.WorkerGlobalScope&&self instanceof t.WorkerGlobalScope);const e="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location===location&&window.document===document;if(r.add("host-browser",e),r.add("dom",e),r("host-browser")){const e=navigator,t=e.userAgent,n=e.appVersion,i=parseFloat(n);if(r.add("edge",parseFloat(t.split("Edge/")[1])||void 0),r.add("webkit",!r("edge")&&parseFloat(t.split("WebKit/")[1])||void 0),r.add("chrome",!r("edge")&&parseFloat(t.split("Chrome/")[1])||void 0),r.add("safari",!n.includes("Safari")||r("chrome")||r("edge")?void 0:parseFloat(n.split("Version/")[1])),r.add("mac",n.includes("Macintosh")),/(iPhone|iPod|iPad)/.test(t)){const e=RegExp.$1.replace(/P/,"p"),n=/OS ([\d_]+)/.test(t)?RegExp.$1:"1",i=parseFloat(n.replace(/_/,".").replaceAll("_",""));r.add(e,i),r.add("ios",i)}r("webkit")||(t.includes("Gecko")&&!r("edge")&&r.add("mozilla",i),r("mozilla")&&r.add("ff",parseFloat(t.split("Firefox/")[1]||t.split("Minefield/")[1])||void 0))}})(),(()=>{if(t.navigator){const e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(e),n=/iPhone/i.test(e);t&&r.add("esri-mobile",t),n&&r.add("esri-iPhone",n),r.add("esri-geolocation",!!navigator.geolocation)}r.add("esri-wasm","WebAssembly"in t),r.add("esri-performance-mode-frames-between-render",20),r.add("esri-force-performance-mode",!1),r.add("esri-shared-array-buffer",()=>{const e="SharedArrayBuffer"in t,r=!1===t.crossOriginIsolated;return e&&!r}),r.add("wasm-simd",()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11]))),r.add("esri-atomics","Atomics"in t),r.add("esri-workers","Worker"in t),r.add("web-feat:cache","caches"in t),r.add("esri-workers-arraybuffer-transfer",!r("safari")||Number(r("safari"))>=12),r.add("workers-pool-size",8),r.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),r.add("featurelayer-simplify-payload-size-factors",[1,1,4]),r.add("featurelayer-fast-triangulation-enabled",!0),r.add("featurelayer-animation-enabled",!0),r.add("featurelayer-snapshot-enabled",!0),r.add("featurelayer-snapshot-initial-tolerance",0),r.add("featurelayer-snapshot-point-min-threshold",8e4),r.add("featurelayer-snapshot-point-max-threshold",4e5),r.add("featurelayer-snapshot-multipoint-min-threshold",2e4),r.add("featurelayer-snapshot-multipoint-max-threshold",1e5),r.add("featurelayer-snapshot-polygon-min-threshold",1e3),r.add("featurelayer-snapshot-polygon-max-threshold",2e3),r.add("featurelayer-snapshot-polyline-min-threshold",1e3),r.add("featurelayer-snapshot-polyline-max-threshold",2e3),r.add("featurelayer-snapshot-max-vertex-count",25e4),r.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!1),r.add("featurelayer-snapshot-concurrency",4),r.add("featurelayer-snapshot-coverage",.1),r.add("featurelayer-query-max-depth",4),r.add("featurelayer-query-pausing-enabled",!1),r.add("featurelayer-query-tile-concurrency",4),r.add("featurelayer-query-tile-max-features",6e5),r.add("featurelayer-advanced-symbols",!1),r.add("featurelayer-pbf",!0),r.add("featurelayer-pbf-statistics",!1),r.add("feature-layers-workers",!0),r.add("feature-polyline-generalization-factor",1),r.add("mapview-transitions-duration",200),r.add("mapview-essential-goto-duration",200),r.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),r.add("mapserver-pbf-version-support",10.81),r.add("mapservice-popup-identify-max-tolerance",20),r.add("request-queue-concurrency-hosted",16),r.add("request-queue-concurrency-non-hosted",4),r.add("curve-densification-coarse-segments",128),r.add("curve-densification-max-segments",2e3),r.add("curve-densification-min-segments",3),r.add("curve-densification-pixel-deviation",.5),r.add("view-readyState-waiting-delay",1e3),r.add("gradient-depth-bias",.01),r.add("gradient-depth-epsilon",1e-8),r.add("enable-feature:esri-compress-textures",!0),r("host-webworker")||r("host-browser")&&(r.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),r.add("esri-image-decode",()=>{if("decode"in new Image){const e=new Image;return e.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void e.decode().then(()=>{r.add("esri-image-decode",!0,!0,!0)}).catch(()=>{r.add("esri-image-decode",!1,!0,!0)})}return!1}),r.add("esri-url-encodes-apostrophe",()=>{const e=window.document.createElement("a");return e.href="?'",e.href.includes("?%27")}))})(),r})},"esri/core/object":function(){define(["exports","./lang"],function(e,t){"use strict";function r(e,t,r){let n=r;for(const r of e){if(null==n)return;if(!(r in n)){if(!t)return;n[r]={}}n=n[r]}return n}function n(e,r,i){return r?Object.keys(r).reduce((e,s)=>{if("__proto__"===s)return e;let o=e[s],a=r[s];return o===a?e:void 0===o?(e[s]=t.clone(a),e):(Array.isArray(a)||Array.isArray(e)?(o=o?Array.isArray(o)?e[s]=o.slice():e[s]=[o]:e[s]=[],a&&(Array.isArray(a)||(a=[a]),i?a.forEach(e=>{o.includes(e)||o.push(e)}):e[s]=a.slice())):a&&"object"==typeof a?e[s]=n(o,a,i):e.hasOwnProperty(s)&&!r.hasOwnProperty(s)||(e[s]=a),e)},e||{}):e}e.deepMerge=function(e,t,r=!1){return n(e,t,r)},e.getDeepValue=function(e,t){if(null!=t)return t[e]||r(e.split("."),!1,t)},e.getKey=function(e,t){for(const r of Object.entries(e))if(t===r[1])return r[0]},e.hasValue=function(e,t){return Object.values(e).includes(t)},e.notDeepEqual=function e(t,r){if(null==t&&null==r)return!1;if(null==t)return!0;if(null==r)return!0;if("object"==typeof t){if(Array.isArray(t)){const n=r;if(t.length!==n.length)return!0;for(let r=0;r<t.length;r++)if(e(t[r],n[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(r).length)return!0;for(const n in t)if(e(t[n],r[n]))return!0;return!1}return t!==r},e.setDeepValue=function(e,t,n){const i=e.split("."),s=i.pop(),o=r(i,!0,n);o&&s&&(o[s]=t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/lang":function(){define(["exports","./arrayUtils","./typedArrayUtil"],function(e,t,r){"use strict";function n(e){if(!e||"object"!=typeof e||"function"==typeof e)return e;const t=l(e);if(null!=t)return t;if(i(e))return e.clone();if(s(e))return e.map(n);if(o(e))throw new Error("Trying to clone an unclonable Accessor instance");const r={};for(const t of Object.getOwnPropertyNames(e))r[t]=n(e[t]);return r}function i(e){return"function"==typeof e.clone}function s(e){return"function"==typeof e.map&&"function"==typeof e.forEach}function o(e){return"function"==typeof e.notifyChange&&"function"==typeof e.watch}function a(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function l(e){if(r.isInt8Array(e)||r.isUint8Array(e)||r.isUint8ClampedArray(e)||r.isInt16Array(e)||r.isUint16Array(e)||r.isInt32Array(e)||r.isUint32Array(e)||r.isFloat32Array(e)||r.isFloat64Array(e))return e.slice();if(e instanceof Date)return new Date(e.getTime());if(e instanceof ArrayBuffer)return e.slice(0,e.byteLength);if(e instanceof Map){const t=new Map;for(const[r,i]of e)t.set(r,n(i));return t}if(e instanceof Set){const t=new Set;for(const r of e)t.add(n(r));return t}return null}e.clone=n,e.equals=function(e,t){return e===t||"number"==typeof e&&isNaN(e)&&"number"==typeof t&&isNaN(t)||"function"==typeof e?.getTime&&"function"==typeof t?.getTime&&e.getTime()===t.getTime()||!1},e.equalsShallow=function(e,r){return e===r||(null==e||"string"==typeof e?e===r:"number"==typeof e?e===r||"number"==typeof r&&isNaN(e)&&isNaN(r):e instanceof Date?r instanceof Date&&e.getTime()===r.getTime():Array.isArray(e)?Array.isArray(r)&&t.equals(e,r):e instanceof Set?r instanceof Set&&function(e,t){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}(e,r):e instanceof Map?r instanceof Map&&function(e,t){if(e.size!==t.size)return!1;for(const[r,n]of e){const e=t.get(r);if(e!==n||void 0===e&&!t.has(r))return!1}return!0}(e,r):!!a(e)&&a(r)&&function(e,t){if(null===e||null===t)return!1;const r=Object.keys(e);if(null===t||Object.keys(t).length!==r.length)return!1;for(const n of r)if(e[n]!==t[n]||!Object.prototype.hasOwnProperty.call(t,n))return!1;return!0}(e,r))},e.fixJson=function e(t,r){let n;if(r)for(n in t)t.hasOwnProperty(n)&&(void 0===t[n]?delete t[n]:t[n]instanceof Object&&e(t[n],!0));else for(n in t)t.hasOwnProperty(n)&&void 0===t[n]&&delete t[n];return t},e.isAccessorLike=o,e.isClonable=i,e.isPlainObject=a,e.tryClone=function e(t,r){if(!t||"object"!=typeof t||"function"==typeof t||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const n=l(t);if(null!=n)return n;if(s(t)){let n=!0;const i=t.map(t=>{const i=e(t,r);return null!=t&&null==i&&(n=!1),i});return n?i:null}if(i(t))return t.clone(r);if(t instanceof File||t instanceof Blob)return t;if(o(t))return null;const a=new(0,Object.getPrototypeOf(t).constructor);for(const r of Object.getOwnPropertyNames(t)){const n=t[r],i=e(n);if(null!=n&&null==i)return null;a[r]=i}return a},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/arrayUtils":function(){define(["exports","./compilerUtils","./RandomLCG"],function(e,t,r){"use strict";function n(e){return e}function i(e,t=n){if(!e||0===e.length)return;let r=e[0],i=t(r);for(let n=1;n<e.length;++n){const s=e[n],o=Number(t(s));o>i&&(i=o,r=s)}return r}function s(e,t,r,n,i,s,o){if(null==e&&null==n)return!0;t=Math.max(0,t),i=Math.max(0,i),r=Math.max(0,r<0?(e?.length??0)+r:r),s=Math.max(0,s<0?(n?.length??0)+s:s);const a=r-t;if(null==e||null==n||a!==s-i)return!1;if(o){for(let r=0;r<a;r++)if(!o(e[t+r],n[i+r]))return!1}else for(let r=0;r<a;r++)if(e[t+r]!==n[i+r])return!1;return!0}class o{constructor(){this.last=0}}const a=new o;function l(e,t,r,n){n=n||a;const i=Math.max(0,n.last-10);for(let s=i;s<r;++s)if(e[s]===t)return n.last=s,s;const s=Math.min(i,r);for(let r=0;r<s;++r)if(e[r]===t)return n.last=r,r;return-1}const u=new Set;function c(e){return e?(h.seed=e,()=>h.getFloat()):Math.random}const h=new r;e.PositionHint=o,e.addMany=function(e,t){if(!t)return e;for(const r of t)e.push(r);return e},e.binaryIndexOf=function(e,t,r){const n=e.length;let i=0,s=n-1;for(;i<s;){const r=i+Math.floor((s-i)/2);t>e[r]?i=r+1:s=r}const o=e[i];return r?t>=e[n-1]?-1:o===t?i:i-1:o===t?i:-1},e.countIf=function(e,t){return e.reduce((e,r)=>t(r)?e+1:e,0)},e.difference=function(e,t,r){let n,i;return r?(n=t.filter(t=>!e.some(e=>r(e,t))),i=e.filter(e=>!t.some(t=>r(t,e)))):(n=t.filter(t=>!e.includes(t)),i=e.filter(e=>!t.includes(e))),{added:n,removed:i}},e.emptyArray=[],e.equals=function(e,t,r){return s(e,0,e?.length??0,t,0,t?.length??0,r)},e.filterInPlace=function(e,t){let r=0;for(let n=0;n<e.length;++n){const i=e[n];t(i,n)&&(e[r]=i,r++)}e.length=r},e.getRandomNumberGenerator=c,e.indexOf=l,e.intersect=function(e,t,r){return e&&t?r?e.filter(e=>t.findIndex(t=>r(e,t))>-1):e.filter(e=>t.includes(e)):[]},e.isArrayLike=function(e){return e&&"number"==typeof e.length},e.isSome=function(e,t){return null!=e},e.max=i,e.min=function(e,t=n){return i(e,e=>-t(e))},e.pickRandom=function(e,t,r){const n=e.length;if(t>=n)return e.slice();const i=c(r),s=new Set,o=[];for(;o.length<t;){const t=Math.floor(i()*n);s.has(t)||(s.add(t),o.push(e[t]))}return o},e.pushIfSome=function(e,...t){for(const r of t)null!=r&&e.push(r);return e.length},e.range=function(e,t){void 0===t&&(t=e,e=0);const r=new Array(t-e);for(let n=e;n<t;n++)r[n-e]=n;return r},e.reallocGrowthFactor=1.5,e.reallocShrinkFactor=1/1.5,e.reallocShrinkThreshold=.5,e.remove=function(e,t){const r=e.indexOf(t);return-1!==r?(e.splice(r,1),t):null},e.removeUnordered=function(e,r,n,i){const s=n??e.length,o=l(e,t.toConst(r),s,i);if(-1!==o)return e[o]=e[s-1],null==n&&e.pop(),r},e.removeUnorderedMany=function(e,t,r=e.length,n=t.length,i,s){if(0===n||0===r)return r;u.clear();for(let e=0;e<n;++e)u.add(t[e]);i=i||a;const o=Math.max(0,i.last-10);for(let t=o;t<r;++t)if(u.has(e[t])&&(s?.push(e[t]),u.delete(e[t]),e[t]=e[r-1],--r,--t,0===u.size||0===r))return u.clear(),r;for(let t=0;t<o;++t)if(u.has(e[t])&&(s?.push(e[t]),u.delete(e[t]),e[t]=e[r-1],--r,--t,0===u.size||0===r))return u.clear(),r;return u.clear(),r},e.shuffle=function(e,t){if(!e)return e;const r=c(t);for(let t=e.length-1;t>0;t--){const n=Math.floor(r()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},e.sliceEquals=s,e.splitIntoChunks=function(e,t){const r=e.length;if(0===r)return[];const n=[];for(let i=0;i<r;i+=t)n.push(e.slice(i,i+t));return n},e.unique=function(e,t){return t?e.filter((e,r,n)=>n.findIndex(t.bind(null,e))===r):Array.from(new Set(e))},e.update=function(e,t){let r=e.length!==t.length;r&&(e.length=t.length);for(let n=0;n<t.length;++n)e[n]!==t[n]&&(e[n]=t[n],r=!0);return r},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/compilerUtils":function(){define(["exports","./has"],function(e,t){"use strict";e.neverReached=function(e){},e.neverReachedSilent=function(e){},e.toConst=function(e){return e},e.typeCast=function(e){return()=>e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/RandomLCG":function(){define(function(){"use strict";class e{static{this._m=2147483647}static{this._a=48271}static{this._c=0}constructor(e=1){this._seed=e}set seed(t){this._seed=t??Math.random()*e._m}getInt(){return this._seed=(e._a*this._seed+e._c)%e._m,this._seed}getFloat(){return this.getInt()/(e._m-1)}getIntRange(e,t){return Math.round(this.getFloatRange(e,t))}getFloatRange(t,r){const n=r-t;return t+this.getInt()/e._m*n}}return e})},"esri/core/typedArrayUtil":function(){define(["exports","./has"],function(e,t){"use strict";function r(e){return"Int8Array"===e?.constructor?.name}function n(e){return"Uint8Array"===e?.constructor?.name}function i(e){return"Uint8ClampedArray"===e?.constructor?.name}function s(e){return"Int16Array"===e?.constructor?.name}function o(e){return"Uint16Array"===e?.constructor?.name}function a(e){return"Int32Array"===e?.constructor?.name}function l(e){return"Uint32Array"===e?.constructor?.name}function u(e){return"Float16Array"===e?.constructor?.name}function c(e){return"Float32Array"===e?.constructor?.name}function h(e){return"Float64Array"===e?.constructor?.name}e.isArrayBuffer=function(e){return e instanceof ArrayBuffer},e.isFloat=function(e){return h(e)||c(e)},e.isFloat16Array=u,e.isFloat32Array=c,e.isFloat64Array=h,e.isInt16Array=s,e.isInt32Array=a,e.isInt8Array=r,e.isSigned=function(e){return h(e)||c(e)||a(e)||s(e)||r(e)},e.isTypedArray=function(e){return"buffer"in e},e.isUint16Array=o,e.isUint32Array=l,e.isUint8Array=n,e.isUint8ClampedArray=i,e.maxUint16=65535,e.maxUint32=2**32-1,e.maximumValue=function(e){return h(e)?179769e303:u(e)?65504:c(e)?3402823e32:l(e)?4294967295:o(e)?65535:n(e)||i(e)?255:a(e)?2147483647:s(e)?32767:r(e)?127:256},e.minInt16=-32768,e.minInt32=-2147483648,e.nativeArrayMaxSize=1024,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/reactiveUtils":function(){define(["exports","./events","./handleUtils","./maybe","./promiseUtils","./accessorSupport/watch","./accessorSupport/trackingUtils"],function(e,t,r,n,i,s,o){"use strict";function a(e,t,r={}){return l(e,t,r,c)}function l(e,t,r={},i){let o=null;const a=r.once?(e,r)=>{i(e)&&(n.removeMaybe(o),t(e,r))}:(e,r)=>{i(e)&&t(e,r)};if(o=s.watchTracked(e,a,r.sync,r.equals),r.initial){const t=e();a(t,t)}return o}function u(e,t,s){if(i.isAborted(s))return Promise.reject(i.createAbortError());const o=e();if(t?.(o))return Promise.resolve(o);let a=null;function u(){a=n.removeMaybe(a)}return new Promise((n,o)=>{a=r.handlesGroup([i.onAbort(s,()=>{u(),o(i.createAbortError())}),l(e,e=>{u(),n(e)},{sync:!1,once:!0},t??c)])})}function c(e){return!0}function h(e){return!!e}e.autorun=o.autorun,e.initial={initial:!0},e.on=function(e,i,s,o={}){let l=null,u=null,c=null;function h(){l&&u&&(u.remove(),o.onListenerRemove?.(l),l=null,u=null)}function f(e){o.once&&o.once&&n.removeMaybe(c),s(e)}const d=a(e,(e,r)=>{h(),t.isEventedOrEventTarget(e)&&(l=e,u=t.on(e,i,f),o.onListenerAdd?.(e))},{sync:o.sync,initial:!0});return c=r.makeHandle(()=>{d.remove(),h()}),c},e.once=function(e,t){return u(e,null,t)},e.pausable=function(e,t,r={}){let n=!1;const i=a(e,(e,r)=>{n||t(e,r)},r);return{remove(){i.remove()},pause(){n=!0},resume(){n=!1}}},e.sync={sync:!0},e.syncAndInitial={sync:!0,initial:!0},e.watch=a,e.when=function(e,t,r={}){return l(e,t,r,h)},e.whenOnce=function(e,t){return u(e,h,t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/events":function(){define(["exports","./handleUtils"],function(e,t){"use strict";function r(e){return function(e){return null!=e&&"object"==typeof e&&"on"in e&&"function"==typeof e.on}(e)||n(e)}function n(e){return null!=e&&"object"==typeof e&&"addEventListener"in e&&"function"==typeof e.addEventListener}function i(e,t,i){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");return n(e)?s(e,t,i):e.on(t,i)}function s(e,r,n,i){if(Array.isArray(r)){const s=r.slice();for(const t of s)e.addEventListener(t,n,i);return t.makeHandle(()=>{for(const t of s)e.removeEventListener(t,n,i)})}return e.addEventListener(r,n,i),t.makeHandle(()=>e.removeEventListener(r,n,i))}e.addEventListener=s,e.isEventedOrEventTarget=r,e.on=i,e.once=function(e,t,n){if(!r(e))throw new TypeError("target is not a Evented or EventTarget object");if("once"in e)return e.once(t,n);const s=i(e,t,t=>{s.remove(),n.call(e,t)});return s},e.pausable=function(e,t,r){let n=!1;const s=i(e,t,t=>{n||r.call(e,t)});return{resume(){n=!1},pause(){n=!0},remove(){s.remove()}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/handleUtils":function(){define(["exports"],function(e){"use strict";const t={remove:()=>{}};function r(e){return e?{remove(){e&&(e(),e=void 0)}}:t}function n(e){e.forEach(e=>e?.remove())}function i(e){return"object"==typeof e&&!!e&&"remove"in e&&"function"==typeof e.remove}e.abortHandle=function(e){return r(()=>e?.abort())},e.asyncHandle=function(e,t){let n=!1,i=null;return e.then(e=>{n?e.remove():i=e}),r(()=>{n=!0,null!=i?i.remove():null!=t&&(t.abort(),t=null)})},e.destroyHandle=function(e){return r(null!=e?()=>e.destroy():void 0)},e.disposable=function(e){return{[Symbol.dispose](){e.remove()}}},e.drainHandles=function(e){n(e),e.length=0},e.handlesGroup=function(e){return r(()=>n(e))},e.isHandle=i,e.makeHandle=r,e.refHandle=function(e){return r(()=>e()?.remove())},e.removeHandles=n,e.removeIfHandle=function(e){i(e)&&e.remove()},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/maybe":function(){define(["exports"],function(e){"use strict";e.abortMaybe=function(e){return e?.abort(),null},e.assertIsSome=function(e,t){if(null==e)throw new Error(t??"value is None")},e.destroyMaybe=function(e){return e?.destroy(),null},e.disposeMaybe=function(e){return e?.dispose(),null},e.equalsMaybe=function(e,t,r){return null!=e&&null!=t?null!=r?r(e,t):e.equals(t):e===t},e.mappedFind=function(e,t){let r;return e.some((e,n)=>(r=t(e,n),null!=r)),r??void 0},e.maybeProperty=function(e,t){return e?.[t]},e.releaseMaybe=function(e){return e?.release(),null},e.removeMaybe=function(e){return e?.remove(),null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/promiseUtils":function(){define(["exports","./clock","./Error","./events","./Logger","./maybe"],function(e,t,r,n,i,s){"use strict";function o(e="Aborted"){return new r("AbortError",e)}function a(e,t="Aborted"){if(u(e))throw o(t)}function l(e){return e instanceof AbortSignal?e:e?.signal??void 0}function u(e){const t=l(e);return null!=t&&t.aborted}function c(e,t){const r=l(e);if(null!=r){if(!r.aborted)return n.once(r,"abort",()=>t());t()}}function h(e){return"AbortError"===e?.name}async function f(e){if(!e)return;if("function"!=typeof e.forEach){const t=Object.keys(e),r=t.map(t=>e[t]),n=await f(r),i={};return t.map((e,t)=>i[e]=n[t]),i}const t=e;return Promise.allSettled(t).then(e=>Array.from(t,(t,r)=>{const n=e[r];return"fulfilled"===n.status?{promise:t,value:n.value}:{promise:t,error:n.reason}}))}function d(e,t=void 0,r){const n=new AbortController;return c(r,()=>n.abort()),new Promise((r,i)=>{let s=setTimeout(()=>{s=0,r(t)},e);c(n,()=>{s&&(clearTimeout(s),i(o()))})})}function p(e){return e&&"function"==typeof e.then}function m(e){return p(e)?e:Promise.resolve(e)}function y(){let e,r;const n=new Promise((t,n)=>{e=t,r=n}),i=t=>{e(t)};return i.resolve=t=>e(t),i.reject=e=>r(e),i.timeout=(e,r)=>t.clock.setTimeout(()=>i.reject(r),e),i.promise=n,i}e.after=d,e.allSettledErrors=async function(e){return(await Promise.allSettled(e)).filter(e=>"rejected"===e.status).map(e=>e.reason)},e.allSettledValues=async function(e){return(await Promise.allSettled(e)).filter(e=>"fulfilled"===e.status).map(e=>e.value)},e.always=function(e,t){return e.then(t,t)},e.createAbortError=o,e.createResolver=y,e.debounce=function(e,t=-1){let r,n,i,s,a=null;const l=(...u)=>{if(r){n=u,s&&s.reject(o()),s=y();const e=s.promise;if(a){const e=a;a=null,e.abort()}return e}if(i=s||y(),s=null,t>0){const n=new AbortController;r=m(e(...u,n.signal));const i=r;d(t).then(()=>{r===i&&(s?n.abort():a=n)})}else r=1,r=m(e(...u));const c=()=>{const e=n;n=i=r=a=null,null!=e&&l(...e)},h=r,f=i;return h.then(c,c),h.then(f.resolve,f.reject),f.promise};return l},e.eachAlways=f,e.eachAlwaysValues=async function(e){return(await f(e)).filter(e=>!!e.value).map(e=>e.value)},e.filter=async function(e,t){const r=e.slice(),n=await Promise.all(e.map((e,r)=>t(e,r)));return r.filter((e,t)=>n[t])},e.ignoreAbortErrors=async function(e){try{return await e}catch(e){if(!h(e))throw e;return}},e.isAbortError=h,e.isAborted=u,e.isPromiseLike=p,e.logOnError=async function(e,t=i.getLogger("esri")){try{return await e}catch(e){h(e)||t.error(e)}},e.onAbort=c,e.onAbortOrThrow=function(e,t){const r=l(e);if(null!=r)return a(r),n.once(r,"abort",()=>t(o()))},e.settleWithPromise=function(e,t){t.then(e.resolve,e.reject)},e.signalFromSignalOrOptions=l,e.throwIfAbortError=function(e){if(h(e))throw e},e.throwIfAborted=a,e.throwIfDestroyed=function(e,t="Aborted"){if(e?.destroyed)throw o(t)},e.throwIfNotAbortError=function(e){if(!h(e))throw e},e.timeout=function(e,t,n,i){const s=n&&"abort"in n?n:null;null!=i||s||(i=n);let o=setTimeout(()=>{o=0,s?.abort()},t);const a=()=>i||new r("promiseUtils:timeout","The wrapped promise did not resolve within "+t+" ms");return e.then(e=>{if(0===o)throw a();return clearTimeout(o),e},e=>{throw clearTimeout(o),0===o?a():e})},e.waitTick=async function(e){await Promise.resolve(),a(e)},e.when=m,e.whenOrAbort=function(e,t){return null==l(t)?e:new Promise((r,n)=>{let i=c(t,()=>n(o()));const a=()=>{i=s.removeMaybe(i)};e.then(a,a),e.then(r,n)})},e.whenOrTimeout=function(e,t,n){return Promise.race([e,d(t).then(()=>{throw new r("timeout",`Did not resolve within ${t} milliseconds (${n??"timeout"})`)})])},e.wrapAbortWithTimeout=function(e,t){const r=new AbortController,n=setTimeout(()=>r.abort(),t);return c(e,()=>{r.abort(),clearTimeout(n)}),{...e,signal:r.signal}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/clock":function(){define(["exports","./handleUtils"],function(e,t){"use strict";function r(e){return{setTimeout:(r,n)=>{const i=e.setTimeout(r,n);return t.makeHandle(()=>e.clearTimeout(i))}}}const n=r(globalThis);e.clock=n,e.wrap=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/Error":function(){define(["./lang","./Logger","./Message"],function(e,t,r){"use strict";class n extends r{constructor(e,t,r){super(e,t,r)}toJSON(){if(null!=this.details)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(t,r)=>{if(r&&"object"==typeof r&&"function"==typeof r.toJSON)return r;try{return e.clone(r)}catch(e){return"[object]"}}))}}catch(e){throw t.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new n(e.name,e.message,e.details)}}return n.prototype.type="error",n})},"esri/core/Logger":function(){define(["../config","./has","./string"],function(e,t,r){"use strict";const n={info:0,warn:1,error:2,none:3};class i{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},null!=e.level&&(this.level=e.level),null!=e.writer&&(this.writer=e.writer),this._module=e.module,i._loggers.set(this.module,this);const t=this.module.lastIndexOf(".");-1!==t&&(this._parent=i.getLogger(this.module.slice(0,t)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e="string"!=typeof e?e.declaredClass:e,i._loggers.get(e)||new i({module:e})}static{this._loggers=new Map}static{this._tickCounter=0}static{this._tickCounterScheduled=!1}static{this._throttlingDisabled=!1}_log(t,n,...s){if(this._matchLevel(t)){if("always"!==n&&!i._throttlingDisabled){const e=function(...e){return r.numericHash(JSON.stringify(e,(e,t)=>"object"!=typeof t||Array.isArray(t)?t:"[Object]"))}(s),o=this._loggedMessages[t].get(e);if("once"===n&&null!=o||"oncePerTick"===n&&o&&o>=i._tickCounter)return;this._loggedMessages[t].set(e,i._tickCounter),i._scheduleTickCounterIncrement()}for(const r of e.log.interceptors)if(r(t,this.module,...s))return;this._inheritedWriter()(t,this.module,...s)}}_parentWithMember(e,t){let r=this;for(;null!=r;){const t=r[e];if(null!=t)return t;r=r.parent}return t}_inheritedWriter(){return this._parentWithMember("writer",s)}_matchLevel(t){const r=e.log.level||"warn";return n[this._parentWithMember("level",r)]<=n[t]}static _scheduleTickCounterIncrement(){i._tickCounterScheduled||(i._tickCounterScheduled=!0,Promise.resolve().then(()=>{i._tickCounter++,i._tickCounterScheduled=!1}))}}function s(e,t,...r){console[e](`[${t}]`,...r)}return i})},"esri/core/string":function(){define(["exports","./object"],function(e,t){"use strict";const r=/\{([^}]+)\}/g;function n(e){return e??""}let i;e.escapeRegExpString=function(e,t){return e.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,e=>t?.includes(e)?e:`\\${e}`)},e.numericHash=function(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t},e.replace=function(e,i){return i?e.replaceAll(r,"object"==typeof i?(e,r)=>n(t.getDeepValue(r,i)):(e,t)=>n(i(t))):e},e.safeToString=function(e,...t){let r=e[0];for(let n=0;n<t.length;++n)r+=t[n]+e[n+1];return r},e.stripHTML=function(e){return i??=new DOMParser,i.parseFromString(e||"","text/html").body.innerText||""},e.templateHasKey=function(e,t){return new RegExp(`{${t}}`,"ig").test(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/Message":function(){define(["./object"],function(e){"use strict";return class{constructor(t,r,n=void 0){var i;this.name=t,this.details=n,this.message=(r&&(i=n,r.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(t,r)=>""===r?"$":(e.getDeepValue(r,i)??"").toString())))??""}toString(){return"["+this.name+"]: "+this.message}}})},"esri/core/accessorSupport/watch":function(){define(["exports","../ArrayPool","../handleUtils","../lang","../ReentrantObjectPool","../scheduling","../SetUtils","../uid","./get","./Lifecycle","./trackingUtils","./utils"],function(e,t,r,n,i,s,o,a,l,u,c,h){"use strict";class f{constructor(){this.uid=a.generateUID(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static{this.pool=new i.ReentrantObjectPool(f)}static acquireUntracked(e,t,r,i,s){return this.pool.acquire(0,e,t,r,i,s,n.equals)}static acquireTracked(e,t,r,n){return this.pool.acquire(1,e,t,r,null,null,n)}notify(e,t){0===this.type?this.callback.call(this.target,e,t,this.path,this.target):this.callback.call(null,e,t,void 0,void 0)}acquire(e,t,r,n,i,s,o){this.uid=a.generateUID(),this.removed=!1,this.type=e,this.oldValue=t,this.callback=r,this.getValue=n,this.target=i,this.path=s,this.equals=o}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=a.generateUID(),this.removed=!0}}const d=new t,p=new Set;let m;function y(e){p.delete(e),p.add(e),m||(m=s.schedule(_))}function g(e){if(e.removed)return;const t=e.oldValue,r=e.getValue();e.equals(t,r)||(e.oldValue=r,e.notify(r,t))}function _(){let e=10;for(;m&&e--;){m=null;const e=b(),t=d.acquire();for(const r of e){const e=r.uid;g(r),e===r.uid&&r.removed&&t.push(r)}for(const e of p)e.removed&&(t.push(e),p.delete(e));for(const e of t)f.pool.release(e);d.release(t),d.release(e),x.forEach(e=>e())}}function b(){const e=d.acquire();e.length=p.size;let t=0;for(const r of p)e[t]=r,++t;return p.clear(),e}const x=new Set;e.afterDispatch=function(e){return x.add(e),r.makeHandle(()=>x.delete(e))},e.dispatch=_,e.isValueInUse=function(e){return o.someSet(p,t=>t.oldValue===e)},e.removeTarget=function(e){for(const t of p.values())t.target===e&&(t.removed=!0)},e.watch=function(e,t,i,s=!1){return e.__accessor__&&e.__accessor__.lifecycle!==u.Lifecycle.DESTROYED?s?function(e,t,r){const i=h.parse(e,t,r,(e,t,r)=>{let s=!1;return c.reaction(()=>l.valueOf(e,t),(o,a)=>{e.__accessor__.lifecycle!==u.Lifecycle.DESTROYED?s||(s=!0,n.equals(a,o)||r.call(e,o,a,t,e),s=!1):i.remove()})});return i}(e,t,i):function(e,t,n){let i=h.parse(e,t,n,(e,t,n)=>{let s,o,a=c.reactionDeferred(()=>l.valueOf(e,t),(r,a)=>{e.__accessor__?.lifecycle===u.Lifecycle.DESTROYED||s&&s.uid!==o?i.remove():(s||(s=f.acquireUntracked(r,n,a,e,t),o=s.uid),y(s))});return r.makeHandle(()=>{a.remove(),s&&(s.uid!==o||s.removed||(s.removed=!0,y(s)),s=null),i=a=null})});return i}(e,t,i):r.makeHandle()},e.watchTracked=function(e,t,i=!1,s=n.equalsShallow){return i?function(e,t,r){let n=!1;return c.reaction(e,(e,i)=>{n||(n=!0,r(i,e)||t(e,i),n=!1)})}(e,t,s):function(e,t,n){let i,s,o=c.reactionDeferred(e,(e,r)=>{i&&i.uid!==s?o.remove():(i||(i=f.acquireTracked(e,t,r,n),s=i.uid),y(i))});return r.makeHandle(()=>{o.remove(),i&&(i.uid!==s||i.removed||(i.removed=!0,y(i)),i=null),o=null})}(e,t,s)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/ArrayPool":function(){define(["./ObjectPool"],function(e){"use strict";function t(e){e.length=0}class r{constructor(r=50,n=50){this._pool=new e(Array,void 0,t,n,r)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return n.acquire()}static release(e){return n.release(e)}static prune(){n.prune()}}const n=new r(100);return r})},"esri/core/ObjectPool":function(){define(["./has"],function(e){"use strict";class t{constructor(e,t,r,n=1,i=0){this._ctor=e,this._acquireFunction=t,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(i),this._initialSize=i;for(let e=0;e<i;e++)this._pool[e]=new this._ctor;this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...e){let r;if(t.test.disabled)r=new this._ctor;else{if(0===this._pool.length){const e=this.allocationSize;for(let t=0;t<e;t++)this._pool[t]=new this._ctor}r=this._pool.pop()}return this._acquireFunction?this._acquireFunction(r,...e):function(e){return e?.acquire&&"function"==typeof e.acquire}(r)&&r.acquire(...e),r}release(e){e&&!t.test.disabled&&(this._releaseFunction?this._releaseFunction(e):function(e){return e?.release&&"function"==typeof e.release}(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let t=e;t<this._pool.length;++t){const e=this._pool[t];this._dispose(e)}this._pool.length=e}}_dispose(e){e.dispose&&"function"==typeof e.dispose&&e.dispose()}static{this.test={disabled:!!e("esri-tests-disable-memory-pools")}}}return t})},"esri/core/ReentrantObjectPool":function(){define(["exports","./ObjectPool"],function(e,t){"use strict";e.ReentrantObjectPool=class extends t{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const t=super.acquire(...e);return this._set.delete(t),t}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/scheduling":function(){define(["exports","./nextTick","./PerformanceSampler","./PooledArray","./promiseUtils","./time"],function(e,t,r,n,i,s){"use strict";class o{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}}class a{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}}let l=0,u=0;const c={time:s.Milliseconds(0),deltaTime:s.Milliseconds(0),elapsedFrameTime:s.Milliseconds(0),frameDuration:s.Milliseconds(0)},h=["prepare","preRender","render","postRender","update","finish"],f=[],d=new n;class p{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,m()}}function m(){null==b&&(l=performance.now(),b=requestAnimationFrame(x))}const y={frameTasks:d,willDispatch:!1,clearFrameTasks:function(e=!1){d.forAll(e=>{e.removed=!0}),e&&T()},dispatch:S,executeFrameTasks:function(e){const t=s.Milliseconds(e-l);l=e;const r=u>0?u:1e3/60,n=Math.max(0,t-r);c.time=e,c.frameDuration=s.Milliseconds(r-n);for(let r=0;r<h.length;r++){const n=performance.now(),i=h[r];d.forAll(n=>{n.paused||n.removed||(0===r&&n.ticks++,n.phases[i]&&(c.elapsedFrameTime=s.Milliseconds(performance.now()-e),c.deltaTime=0===n.ticks?s.Milliseconds(0):t,n.phases[i]?.call(n,c)))}),M[r].push(performance.now()-n)}T(),O.push(performance.now()-e)},reschedule:function(){null!=b&&(cancelAnimationFrame(b),b=requestAnimationFrame(x))}};function g(e){const r=new a(e);return f.push(r),y.willDispatch||(y.willDispatch=!0,t.nextTick(S)),r}function _(e){const t=new o(e);return d.push(t),m(),new p(t)}let b=null;function x(){const e=performance.now();b=null;const t=d.some(e=>!e.paused&&!e.removed);b=t?requestAnimationFrame(x):null,y.executeFrameTasks(e)}const w=new n;function T(){d.forAll(e=>{e.removed&&w.push(e)}),d.removeUnorderedMany(w.data,w.length),w.clear()}function S(){for(;f.length;){const e=f.shift();e.isActive&&e.callback()}y.willDispatch=!1}function v(e=1,r){const n=i.createResolver(),s=()=>{i.isAborted(r)?n.reject(i.createAbortError()):0===e?n():(--e,t.nextTick(()=>s()))};return s(),n.promise}function P(e){return v(1,e)}const M=h.map(e=>new r(e)),O=new r("total");e.FrameTaskHandle=p,e.addFrameTask=_,e.cleanupScheduling=function(){d.prune(),w.prune()},e.debug=y,e.performanceInfo=M,e.performanceTotal=O,e.schedule=g,e.setFrameDuration=function(e){u=Math.max(0,e)},e.waitAnimationFrame=async function(e){await P(e),await new Promise(t=>requestAnimationFrame(()=>{e?.aborted||t()}))},e.waitRender=function(){const e=i.createResolver(),t=_({postRender:()=>{t.remove(),g(e)}});return e.promise},e.waitTick=P,e.waitTicks=v,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/nextTick":function(){define(["exports"],function(e){"use strict";const t=[];e.nextTick=function(e){t.push(e),1===t.length&&queueMicrotask(()=>{const e=t.slice();t.length=0;for(const t of e)t()})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/PerformanceSampler":function(){define(function(){"use strict";return class{constructor(e,t=30){this.name=e,this._counter=0,this._samples=new Array(t)}push(e){null!=e&&(this._samples[++this._counter%this._samples.length]=e)}set(e){null!=e&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,t)=>e-t)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,t)=>e+t,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}}})},"esri/core/PooledArray":function(){define(["./arrayUtils","./compilerUtils","./heapSort"],function(e,t,r){"use strict";class n{constructor(t){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new e.PositionHint,t&&(t.initialSize&&(this.data=new Array(t.initialSize)),t.allocator&&(this._allocator=t.allocator),void 0!==t.deallocator&&(this._deallocator=t.deallocator),t.shrink&&(this._shrink=()=>i(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const t=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];e(n)&&t.push(n)}return t}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,t){const r=this.data.indexOf(e,t);return-1!==r&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let t=e;t<this._length;++t)this.data[t]=this._deallocator(this.data[t]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,t=e.length){for(let r=0;r<t;r++)this.data[this._length++]=e[r]}fill(e,t){for(let r=0;r<t;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,i(this)}pop(){if(0===this.length)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(r){const n=e.indexOf(this.data,t.toConst(r),this.length,this._hint);if(-1!==n)return this.data.splice(n,1),this.length=this.length-1,r}removeUnordered(r){return this.removeUnorderedIndex(e.indexOf(this.data,t.toConst(r),this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(t,r=t.length,n){this.length=e.removeUnorderedMany(this.data,t,this.length,r,this._hint,n),this._shrink()}front(){if(0!==this.length)return this.data[0]}back(){if(0!==this.length)return this.data[this.length-1]}swapElements(e,t){if(e>=this.length||t>=this.length||e===t)return;const r=this.data[e];this.data[e]=this.data[t],this.data[t]=r}sort(e){r.sort(this.data,0,this.length,e)}iterableSort(e){return r.iterableSort(this.data,0,this.length,e)}some(e,t){for(let r=0;r<this.length;++r)if(e.call(t,this.data[r],r,this.data))return!0;return!1}find(e,t){const{data:r,length:n}=this;for(let i=0;i<n;++i)if(e.call(t,r[i]))return r[i]}filterInPlace(e,t){let r=0;for(let n=0;n<this._length;++n){const i=this.data[n];e.call(t,i,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=i,r++)}if(this._deallocator)for(let e=r;e<this._length;e++)this.data[e]=this._deallocator(this.data[e]);return this._length=r,this._shrink(),this}forAll(e,t){const{data:r,length:n}=this;for(let i=0;i<n;++i)e.call(t,r[i],i,r)}forEach(e,t){this.data.slice(0,this.length).forEach(e,t)}map(e,t){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(t,this.data[n],n,this.data);return r}reduce(e,t){let r=t;for(let t=0;t<this.length;++t)r=e(r,this.data[t],t,this.data);return r}has(e){const t=this.length,r=this.data;for(let n=0;n<t;++n)if(r[n]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}}function i(e){e.data.length>1.5*e.length&&(e.data.length=Math.floor(1.1*e.length))}return n})},"esri/core/heapSort":function(){define(["exports"],function(e){"use strict";const t=(e,t,r,n)=>{let i=t,s=t;const o=r>>>1,a=e[i-1];for(;s<=o;){s=i<<1,s<r&&n(e[s-1],e[s])<0&&++s;const t=e[s-1];if(n(t,a)<=0)break;e[i-1]=t,i=s}e[i-1]=a},r=(e,t)=>e<t?-1:e>t?1:0;e.iterableSort=function*(e,n,i,s){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===s&&(s=r);for(let r=i>>>1;r>n;r--)t(e,r,i,s),yield;const o=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,o,r,s),yield}},e.sort=function(e,n,i,s){void 0===n&&(n=0),void 0===i&&(i=e.length),void 0===s&&(s=r);for(let r=i>>>1;r>n;r--)t(e,r,i,s);const o=n+1;for(let r=i-1;r>n;r--){const i=e[n];e[n]=e[r],e[r]=i,t(e,o,r,s)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/time":function(){define(["exports"],function(e){"use strict";e.Milliseconds=function(e){return e},e.Seconds=function(e){return e},e.millisecondsFromSeconds=function(e){return 1e3*e},e.now=function(){return performance.now()},e.secondsFromMilliseconds=function(e){return.001*e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/SetUtils":function(){define(["exports"],function(e){"use strict";function t(e,t){if(!t)return e;for(const r of t)null!=r&&e.add(r);return e}function r(e,r){const n=new Set;return t(n,e),t(n,r),n}function n(e,t){const r=new Set;for(const n of t)e.has(n)&&r.add(n);return r}function i(e,t){const r=new Set(e);for(const e of t)r.delete(e);return r}e.addMany=t,e.addMaybe=function(e,t){return null!=t&&e.add(t),e},e.difference=i,e.equals=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0},e.first=function(e){return e.values().next().value},e.intersection=n,e.isSubsetOf=function(e,t){if(!e||!t)return!1;if(e===t)return!0;for(const r of e)if(!t.has(r))return!1;return!0},e.last=function(e){let t;for(t of e);return t},e.someSet=function(e,t){for(const r of e.values())if(t(r))return!0;return!1},e.symmetricDifference=function(e,t){return i(r(e,t),n(e,t))},e.union=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/uid":function(){define(["exports"],function(e){"use strict";let t=0;e.generateUID=function(){return++t},e.nullUid=0,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/get":function(){define(["exports","./utils"],function(e,t){"use strict";function r(e,r){const n=e.endsWith("?")?e.slice(0,-1):e;if(null!=r.getItemAt||Array.isArray(r)){const e=parseInt(n,10);if(!isNaN(e))return Array.isArray(r)?r[e]:r.at(e)}const i=t.getProperties(r);return t.isPropertyDeclared(i,n)?i.get(n):r[n]}function n(e,t,i){if(null==e)return e;const s=r(t[i],e);return!s&&i<t.length-1?void 0:i===t.length-1?s:n(s,t,i+1)}function i(e,i,s=0){return"string"!=typeof i||i.includes(".")?n(e,t.pathToArray(i),s):r(i,e)}e.exists=function(e,t){return void 0!==i(t,e)},e.get=function(e,t){return i(e,t)},e.valueOf=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/utils":function(){define(["exports","../handleUtils","../lang"],function(e,t,r){"use strict";function n(e){return e.__accessor__??null}function i(e,t,n){return t?Object.keys(t).reduce((e,s)=>{const o=s;if("__proto__"===o)return e;let a=null,l="merge";if(n&&(a=n.path?`${n.path}.${s}`:s,l=n.policy(a)),"replace"===l)return e[o]=t[o],e;if("replace-arrays"===l&&Array.isArray(e[o]))return e[o]=t[o],e;if(void 0===e[o])return e[o]=r.clone(t[o]),e;let u=e[o],c=t[o];if(u===c)return e;if(Array.isArray(c)||Array.isArray(e))u=u?Array.isArray(u)?e[o]=u.slice():e[o]=[u]:e[o]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(e=>{u.includes(e)||u.push(e)}));else if(c&&"object"==typeof c)if(n){const t=n.path;n.path=a,e[o]=i(u,c,n),n.path=t}else e[o]=i(u,c,null);else e.hasOwnProperty(s)&&!t.hasOwnProperty(s)||(e[o]=c);return e},e||{}):e}function s(e){return e.includes(",")?e.split(",").map(e=>e.trim()):[e.trim()]}function o(e){if(Array.isArray(e)){const t=[];for(const r of e)t.push(...s(r));return t}return s(e)}e.getDependsInfo=function(e,t){const r=n(e);return r?r.getDependsInfo(e,t,""):""},e.getProperties=n,e.isPropertyDeclared=function(e,t){return null!=e?.metadata?.[t]},e.merge=function(e,t,r){return i(e,t,r?{policy:r,path:""}:null)},e.parse=function(e,r,n,i){const s=o(r);if(1!==s.length){const r=s.map(t=>i(e,t,n));return t.handlesGroup(r)}return i(e,s[0],n)},e.pathToArray=function(e){return Array.isArray(e)?e:e.split(".")},e.splitPath=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Lifecycle":function(){define(["exports"],function(e){"use strict";e.Lifecycle={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/trackingUtils":function(){define(["exports","../handleUtils","./tracking","./tracking/SimpleTrackingTarget"],function(e,t,r,n){"use strict";let i=!1;const s=[];function o(e){s.includes(e)||s.unshift(e)}function a(){for(;s.length;)s.pop()()}e.autorun=function(e,s){let l=!1,u=!1;const c=!!s?.sync;let h=new n.SimpleTrackingTarget(()=>{l||u||(u=!0,c?f():queueMicrotask(f))});function f(){u=!1,h&&!l&&(i?o(f):(h.clear(),i=!0,l=!0,r.runTracked(h,e),l=!1,i=!1,a()))}return l=!0,r.runTracked(h,e),l=!1,t.makeHandle(function(){h&&(h.destroy(),h=null)})},e.drainNotificationQueue=a,e.reaction=function(e,s){let l=new n.SimpleTrackingTarget(function t(){if(!l||c)return;if(i)return void o(t);const n=u;l.clear(),i=!0,c=!0,u=r.runTracked(l,e),c=!1,i=!1,s(u,n),a()}),u=null,c=!1;return c=!0,u=r.runTracked(l,e),c=!1,t.makeHandle(function(){l&&(l.destroy(),l=null,u=null)})},e.reactionDeferred=function(e,i){let s=new n.SimpleTrackingTarget(function(){i(o,a)}),o=null;function a(){return s?(s.clear(),o=r.runTracked(s,e),o):null}return a(),t.makeHandle(function(){s&&(s.destroy(),s=null),o=null})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking":function(){define(["exports","../has","../Logger","./utils","./tracking/Flags","./tracking/TrackingTarget"],function(e,t,r,n,i,s){"use strict";const o=new s.TrackingTarget,a=[];let l=o;function u(e){l.onAccessed(e)}let c=!1,h=!1;function f(e,t,r){if(c)return d(e,t,r);let n=null;return p(e),n=t.call(r),m(),n}function d(e,t,n){const i=c;c=!0,p(e);let s=null;try{s=t.call(n)}catch(e){h&&r.getLogger("esri.core.accessorSupport.tracking").error(e)}return m(),c=i,s}function p(e){l=e,a.push(e)}function m(){const e=a.length;if(e>1){const t=a.pop();l=a[e-2],t.onTrackingEnd()}else if(1===e){const e=a.pop();l=o,e.onTrackingEnd()}else l=o}function y(e,t){if(t.flags&i.Flags.DepTrackingInitialized)return;t.flags|=i.Flags.DepTrackingInitialized;const r=h;h=!1,t.flags&i.Flags.AutoTracked?d(t.trackingTarget,t.metadata.get,e):_(e,t),h=r}const g=[];function _(e,t){t.flags&i.Flags.ExplicitlyTracking||(t.flags|=i.Flags.ExplicitlyTracking,d(t.trackingTarget,()=>{const r=t.metadata.dependsOn||g;for(const t of r)if("string"!=typeof t||t.includes(".")){const r=n.pathToArray(t);for(let t=0,n=e;t<r.length&&null!=n&&"object"==typeof n;++t)n=b(n,r[t],t!==r.length-1)}else b(e,t,!1)}),t.flags&=~i.Flags.ExplicitlyTracking)}function b(e,t,r){const i=t.endsWith("?")?t.slice(0,-1):t;if(null!=e.getItemAt||Array.isArray(e)){const t=parseInt(i,10);if(!isNaN(t))return Array.isArray(e)?e[t]:e.at(t)}const s=n.getProperties(e);if(s){const t=s.propertiesByName.get(i);t&&(u(t),y(e,t))}return r?e[i]:void 0}e.initializeDependencyTracking=y,e.runTracked=f,e.runTrackedNoThrow=d,e.runUntracked=function(e,t){return f(o,e,t)},e.trackAccess=u,e.trackExplicitDependencies=_,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/Flags":function(){define(["exports"],function(e){"use strict";e.Flags={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/TrackingTarget":function(){define(["exports"],function(e){"use strict";e.TrackingTarget=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){null!=this._observer&&e!==this._observer&&(null==this.accessed&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){null!=this._observer&&(this.clear(),null!=this.accessed&&(null==this._handles&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(null!=this._handles){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleTrackingTarget":function(){define(["exports","./TrackingTarget"],function(e,t){"use strict";class r extends t.TrackingTarget{constructor(e){super(new n(e)),this._observer&&i.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&i.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}}class n{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(1===e)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=s}}const i=new FinalizationRegistry(e=>{e.deref()?.destroy()});function s(){}e.SimpleTrackingTarget=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/RemoteClient":function(){define(["../../kernel","../Error","../events","../handleUtils","../maybe","../promiseUtils","./InvokeHandler","./registry","./utils","../../support/revision"],function(e,t,r,n,i,s,o,a,l,u){"use strict";const{CLOSE:c,ABORT:h,INVOKE:f,RESPONSE:d,OPEN_PORT:p,ON:m}=l.MessageType;class y{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===h?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),null===this._timer&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}}class g{static{this.kernelInfo={buildDate:u.buildDate,fullVersion:e.fullVersion,revision:u.commitHash}}static{this.clients=new Map}static connect(e,t){const r=new MessageChannel;let n;n="function"==typeof e?new e:"default"in e&&"function"==typeof e.default?new e.default:e;const i=new g(r.port1,{channel:r,client:n,schedule:t});return"object"==typeof n&&"remoteClient"in n&&(n.remoteClient=i),g.clients.set(i,n),r.port2}static loadWorker(e){const t=a.registry[e];return t?t():Promise.resolve(null)}constructor(e,t,r,n){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new y(e=>this._onInvokeMessage(e)),this._client=t.client,this._onMessage=this._onMessage.bind(this),this._channel=t.channel,this._schedule=t.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:c}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,t,r){return this.apply(e,[t],r)}apply(e,r,n){const o=n?.signal,a=n?.transferList;if(!this._port)return Promise.reject(new t(l.portClosedErrorName,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:r}));const u=l.newJobId();return new Promise((t,n)=>{if(s.isAborted(o))return this._processWork(),void n(s.createAbortError());const l=s.onAbort(o,()=>{const e=this._outJobs.get(u);e&&(this._outJobs.delete(u),this._processWork(),i.removeMaybe(e.abortHandle),this._post({type:h,jobId:u}),n(s.createAbortError()))}),c={resolve:t,reject:n,abortHandle:l,debugInfo:e};this._outJobs.set(u,c),this._post({type:f,jobId:u,methodName:e,abortable:null!=o},r,a)})}createInvokeProxy(e){return o.createInvokeProxy(this,e)}on(e,t){const r=new MessageChannel;function i(e){t(e.data)}return this._port.postMessage({type:m,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",i),r.port1.start(),n.makeHandle(()=>{r.port1.postMessage({type:c}),r.port1.close(),r.port1.removeEventListener("message",i)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:p,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=2)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:t,data:r,invokeOptions:n,resolver:i}=e;this.apply(t,r,n).then(e=>i.resolve(e)).catch(e=>i.reject(e))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{i.removeMaybe(e.abortHandle),e.reject(s.createAbortError(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){null!=this._schedule?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,t){const r=l.receiveMessage(e);if(r)switch(r.type){case d:this._onResponseMessage(r);break;case f:t?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case h:this._onAbortMessage(r);break;case c:this._onCloseMessage();break;case p:this._onOpenPortMessage(r);break;case m:this._onOnMessage(r)}}_onAbortMessage(e){const t=this._inJobs,r=e.jobId,n=t.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),t.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&g.clients.get(this)===e&&e.destroy(),g.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:t,jobId:r,data:n=[],abortable:i}=e,o=i?new AbortController:null,a=this._inJobs;let u,c=this._client,h=c[t];try{if(!h&&t&&t.includes(".")){const e=t.split(".");for(let t=0;t<e.length-1;t++)c=c[e[t]],h=c[e[t+1]]}if("function"!=typeof h)throw new TypeError(`${t} is not a function`);n.push({client:this,signal:o?o.signal:null}),u=h.apply(c,n)}catch(e){return void this._post({type:d,jobId:r,error:l.toInvokeError(e)})}s.isPromiseLike(u)?(a.set(r,{controller:o,promise:u}),u.then(e=>{a.has(r)&&(a.delete(r),this._post({type:d,jobId:r},e))},e=>{a.has(r)&&(a.delete(r),s.isAbortError(e)||this._post({type:d,jobId:r,error:l.toInvokeError(e||{message:`Error encountered at method ${t}`})}))})):this._post({type:d,jobId:r},u)}_onOpenPortMessage(e){new g(e.port,{client:this._client})}_onOnMessage(e){const{port:t}=e,n=this._client.on(e.eventType,e=>{t.postMessage(e)}),i=r.on(e.port,"message",e=>{const r=l.receiveMessage(e);r?.type===c&&(i.remove(),n.remove(),t.close())})}_onResponseMessage(e){const{jobId:r,error:n,data:s}=e,o=this._outJobs;if(!o.has(r))return;const a=o.get(r);o.delete(r),this._processWork(),i.removeMaybe(a.abortHandle),n?a.reject(t.fromJSON(JSON.parse(n))):a.resolve(s)}_post(e,t,r){return l.postMessage(this._port,e,t,r)}}return g})},"esri/kernel":function(){define(["require","exports","./core/has","./core/urlUtils","./support/revision"],function(e,t,r,n,i){"use strict";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const s="4.34";if(t.fullVersion=s,t.fullVersion="4.34.0-next.46",t.id=void 0,r("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),!r("host-webworker")){console.info(`Using ArcGIS Maps SDK for JavaScript ${t.fullVersion} [Date: ${i.buildDate}, Revision: ${i.commitHash.slice(0,8)}]`);{let e;"function"==typeof globalThis.require&&(e=globalThis.require);const t=t=>{if(!e)return Promise.reject("global AMD `require` function not found");const r=t.startsWith("@arcgis/core/")?t.replace("@arcgis/core/","esri/").replace(/.js$/,""):t;return new Promise(t=>e([r],e=>{t(e)}))},r=e=>{const t=globalThis.$arcgis.importMap?.imports;return t&&e in t?t[e]:null},i=e=>{let i;const s=r(e);return s?(i=!0,e=s):i=e.startsWith("/")||e.startsWith("./")||e.startsWith("../")||n.isAbsolute(e),i?import(e):t(e)};globalThis.$arcgis.import||Object.defineProperty(globalThis.$arcgis,"import",{configurable:!1,enumerable:!0,writable:!1,value:e=>Array.isArray(e)?Promise.all(e.map(i)):i(e)})}}t.buildDate=i.buildDate,t.revision=i.commitHash,t.addTokenParameter=function(e){const r=t.id?.findCredential(e);return r?.token?n.addQueryParameter(e,"token",r.token):e},t.setId=function(e){t.id=e},t.version=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/urlUtils":function(){define(["exports","../config","./arrayUtils","./Error","./Logger","./support/jsonUtils","../portal/support/urlUtils","../support/base64Utils"],function(e,t,r,n,i,s,o,a){"use strict";const l=t.request,u="esri/config: esriConfig.request.proxyUrl is not set.",c=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,h=/^\s*http:/i,f=/^\s*https:/i,d=/^\s*file:/i,p=/:\d+$/,m=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,y=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),g=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");class _{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let t=this.uri.match(y);this.scheme=t[2]||(t[1]?"":null),this.authority=t[4]||(t[3]?"":null),this.path=t[5],this.query=t[7]||(t[6]?"":null),this.fragment=t[9]||(t[8]?"":null),null!=this.authority&&(t=this.authority.match(g),this.user=t[3]||null,this.password=t[4]||null,this.host=t[6]||t[7],this.port=t[9]||null)}toString(){return this.uri}}const b={},x=new _(t.applicationUrl);let w=x;const T=function(){const e=w.path,t=e.slice(0,e.lastIndexOf("/")+1);return`${w.scheme}://${w.host}${null!=w.port?`:${w.port}`:""}${t}`}();let S=T;const v={setAppUrl:e=>w=e,setAppBaseUrl:e=>S=e,restoreUrls:()=>{w=x,S=T}};function P(e){if(!e)return null;const t={path:null,query:null},r=new _(e),n=e.indexOf("?");return null===r.query?t.path=e:(t.path=e.slice(0,n),t.query=M(r.query)),r.fragment&&(t.hash=r.fragment,null===r.query&&(t.path=t.path.slice(0,t.path.length-(r.fragment.length+1)))),t}function M(e){const t=e.split("&"),r={};for(const e of t){if(!e)continue;const t=e.indexOf("=");let n,i;t<0?(n=decodeURIComponent(e),i=""):(n=decodeURIComponent(e.slice(0,t)),i=decodeURIComponent(e.slice(t+1)));let s=r[n];"string"==typeof s&&(s=r[n]=[s]),Array.isArray(s)?s.push(i):r[n]=i}return r}function O(e,t){return e?t&&"function"==typeof t?Object.keys(e).map(r=>encodeURIComponent(r)+"="+encodeURIComponent(t(r,e[r]))).join("&"):Object.keys(e).map(r=>{const n=e[r];if(null==n)return"";const i=encodeURIComponent(r)+"=",o=t?.[r];return o?i+encodeURIComponent(o(n)):Array.isArray(n)?n.map(e=>s.isSerializable(e)?i+encodeURIComponent(JSON.stringify(e)):i+encodeURIComponent(e)).join("&"):s.isSerializable(n)?i+encodeURIComponent(JSON.stringify(n)):i+encodeURIComponent(n)}).filter(e=>e).join("&"):""}function k(e=!1){let t,r=l.proxyUrl;if("string"==typeof e){t=Y(e);const n=D(e);n&&(r=n.proxyUrl)}else t=!!e;if(!r)throw i.getLogger("esri.core.urlUtils").warn(u),new n("urlUtils:proxy-not-set",u);return t&&X()&&(r=K(r)),P(r)}const E={path:"",query:""};function A(e){const t=e.indexOf("?");return-1!==t?(E.path=e.slice(0,t),E.query=e.slice(t+1)):(E.path=e,E.query=null),E}function I(e){return(e=Q(e=ee(e=A(e).path),!0)).toLowerCase()}function D(e){const t=l.proxyRules,r=I(e);for(let e=0;e<t.length;e++)if(r.startsWith(t[e].urlPrefix))return t[e]}function N(e){const t=(e=U(e)).indexOf("/sharing");return t>0?e.slice(0,t):e.replace(/\/+$/,"")}function R(e,t,r=!1){if(!e||!t)return!1;const n=te(e),i=te(t);return!(!r&&n.scheme!==i.scheme)&&null!=n.host&&null!=i.host&&n.host.toLowerCase()===i.host.toLowerCase()&&n.port===i.port}function C(e){return b[e]||(J(e)||Z(e)?b[e]=[new _(L(e))]:b[e]=[new _(`http://${e}`),new _(`https://${e}`)]),b[e]}function L(e,t=S,r){return Z(e)?r?.preserveProtocolRelative?e:"http"===w.scheme&&w.authority===j(e).slice(2)?`http:${e}`:`https:${e}`:J(e)?e:F(e.startsWith("/")?function(e){const t=e.indexOf("//"),r=e.indexOf("/",t+2);return-1===r?e:e.slice(0,r)}(t):t,e)}function U(e){return function(e){const t=l.httpsDomains;if(!function(e){return null!=e&&h.test(e)||"http"===w.scheme&&Z(e)}(e))return e;const r=e.indexOf("/",7);let n;if(n=-1===r?e:e.slice(0,r),n=n.toLowerCase().slice(7),p.test(n)){if(!n.endsWith(":80"))return e;n=n.slice(0,-3),e=e.replace(":80","")}return"http"!==w.scheme||n!==w.authority||m.test(e)?((X()&&n===w.authority||t&&t.some(e=>n===e||n.endsWith(`.${e}`))||X()&&!D(e))&&(e=K(e)),e):e}(e=function(e){return e.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}(e=function(e){if(/^https?:\/\//i.test(e)){const t=A(e);e=(e=t.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),t.query&&(e+=`?${t.query}`)}return e}(e=L(e=e.trim()))))}function F(...e){const t=e.filter(r.isSome);if(!t?.length)return;const n=[];if(V(t[0])){const e=t[0],r=e.indexOf("//");-1!==r&&(n.push(e.slice(0,r+1)),null!=(i=t[0])&&d.test(i)&&(n[0]+="/"),t[0]=e.slice(r+2))}else t[0].startsWith("/")&&n.push("");var i;const s=t.reduce((e,t)=>t?e.concat(t.split("/")):e,[]);for(let e=0;e<s.length;e++){const t=s[e];".."===t&&n.length>0&&".."!==n[n.length-1]?n.pop():(!t&&e===s.length-1||t&&("."!==t||0===n.length))&&n.push(t)}return n.join("/")}function j(e,t=!1){if(null==e||B(e)||z(e))return null;let r=e.indexOf("://");if(-1===r&&Z(e))r=2;else{if(-1===r)return null;r+=3}const n=e.indexOf("/",r);return-1!==n&&(e=e.slice(0,n)),t&&(e=Q(e,!0)),e}function V(e){return Z(e)||J(e)}function B(e){return null!=e&&e.startsWith("blob:")}function z(e){return null!=e&&e.startsWith("data:")}function G(e){const t=W(e);return t?.isBase64?a.base64ToArrayBuffer(t.data):null}const q=/^data:(.*?)(;base64)?,(.*)$/;function W(e){const t=e.match(q);if(!t)return null;const[,r,n,i]=t;return{mediaType:r,isBase64:!!n,data:i}}function $(e){const t=G(e);if(!t)return null;const r=W(e);return new Blob([t],{type:r.mediaType})}function H(e,t){if(!e)return!1;const r=document.createElement("a");if(!("download"in r))return!1;const n=URL.createObjectURL(e);return r.download=t,r.href=n,r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n),!0}function Z(e){return null!=e&&e.startsWith("/")&&"/"===e[1]}function J(e){return null!=e&&c.test(e)}function Y(e){return null!=e&&f.test(e)||"https"===w.scheme&&Z(e)}function K(e){return Z(e)?`https:${e}`:e.replace(h,"https:")}function X(){return"https"===w.scheme}function Q(e,t=!1){return Z(e)?e.slice(2):(e=e.replace(c,""),t&&e.length>1&&e.startsWith("/")&&"/"===e[1]&&(e=e.slice(2)),e)}function ee(e){return e.endsWith("/")?e:`${e}/`}function te(e){return"string"==typeof e?new _(L(e)):(e.scheme||(e.scheme=w.scheme),e)}const re=/([^.]*)\.([^/]*)$/,ne=/(^data:image\/svg|\.svg$)/i;e.Url=_,e.addProxy=function(e,t=!1){const r=D(e);let n,i;if(r){const e=A(r.proxyUrl);n=e.path,i=e.query?M(e.query):null}else if(t){const t=k(e);n=t.path,i=t.query}if(n){const t=P(e);e=n+"?"+t.path;const r=O({...i,...t.query});r&&(e=`${e}?${r}`)}return e},e.addProxyRule=function(e){const t={proxyUrl:e.proxyUrl,urlPrefix:I(e.urlPrefix)},r=l.proxyRules,n=t.urlPrefix;let i=r.length;for(let e=0;e<r.length;e++){const t=r[e].urlPrefix;if(n.startsWith(t)){if(n.length===t.length)return-1;i=e;break}t.startsWith(n)&&(i=e+1)}return r.splice(i,0,t),i},e.addQueryParameter=function(e,t,r){const n=P(e),i=n.query||{};return i[t]=String(r),`${n.path}?${O(i)}`},e.addQueryParameters=function(e,t){if(!t)return e;const r=P(e),n=r.query||{};for(const[e,r]of Object.entries(t))null!=r&&(n[e]=r);const i=O(n);return i?`${r.path}?${i}`:r.path},e.base64UrlEncode=function(e){return a.arrayBufferToBase64(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")},e.blobUrlToBlob=async function(e){return(await fetch(e)).blob()},e.changeDomain=function(e,t,r){if(!(t&&r&&e&&V(e)))return e;const n=e.indexOf("//"),i=e.indexOf("/",n+2),s=e.indexOf(":",n+2),o=Math.min(i<0?e.length:i,s<0?e.length:s);return e.slice(n+2,o).toLowerCase()!==t.toLowerCase()?e:`${e.slice(0,n+2)}${r}${e.slice(o)}`},e.changeHost=function(e,t){const r=new URL(e);return r.host=t,r.port&&!p.test(t)&&(r.port=""),r.toString()},e.dataComponents=W,e.dataToArrayBuffer=G,e.dataToBlob=$,e.downloadBlobAsFile=function(e,t){H(e,t)},e.downloadDataAsFile=function(e,t){!function(e,t){const r=$(e);if(!r)return!1;H(r,t)}(e,t)},e.ensureTrailingSlash=ee,e.getAppBaseUrl=()=>S,e.getAppUrl=()=>w,e.getFilename=function(e,t){if(!e)return"";const r=P(e).path.replace(/\/+$/,""),n=r.slice(r.lastIndexOf("/")+1);if(!t?.length)return n;const i=new RegExp(`\\.(${t.join("|")})$`,"i");return n.replace(i,"")},e.getHost=function(e){return new URL(e).host},e.getInterceptor=function(e,t=l.interceptors){const r=t=>t instanceof RegExp?t.test(e):"string"==typeof t?e.startsWith(t):null==t;if(t)for(const e of t)if(Array.isArray(e.urls)){if(e.urls.some(r))return e}else if(r(e.urls))return e;return null},e.getOrigin=j,e.getPathExtension=function(e){if(null==e)return null;const t=e.match(re);return t?t[2]:null},e.getProxyRule=D,e.getProxyUrl=k,e.hasProtocol=J,e.hasSameCanonicalArcGISOnlinePortal=function(e,t){if(!e||!t)return!1;e=N(e),t=N(t);const r=o.parseKnownArcGISOnlineDomain(e),n=o.parseKnownArcGISOnlineDomain(t);return null!=r&&null!=n&&r.portalHostname===n.portalHostname},e.hasSameCanonicalPortal=function(e,t){if(!e||!t)return!1;e=N(e),t=N(t);const r=o.parseKnownArcGISOnlineDomain(e),n=o.parseKnownArcGISOnlineDomain(t);return null!=r&&null!=n?r.portalHostname===n.portalHostname:null==r&&null==n&&R(e,t,!0)},e.hasSameOrigin=R,e.hasSamePortal=function(e,t){return e=N(e),t=N(t),Q(e)===Q(t)},e.isAbsolute=V,e.isAppHTTPS=X,e.isBlobProtocol=B,e.isDataProtocol=z,e.isHTTPSProtocol=Y,e.isProtocolRelative=Z,e.isSVG=function(e){return ne.test(e)},e.isTrustedServer=function(e){if("string"==typeof e){if(!V(e))return!0;e=te(e)}if(R(e,w))return!0;const t=l.trustedServers||[];for(let r=0;r<t.length;r++){const n=C(t[r]);for(let t=0;t<n.length;t++)if(R(e,n[t]))return!0}return!1},e.join=F,e.makeAbsolute=L,e.makeData=function(e){return e.isBase64?`data:${e.mediaType};base64,${e.data}`:`data:${e.mediaType},${e.data}`},e.makeRelative=function(e,t=S,r){if(null==e||!V(e))return e;const n=U(e),i=n.toLowerCase(),s=U(t).toLowerCase().replace(/\/+$/,""),o=r?U(r).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return e;const a=(e,t,r)=>-1===(r=e.indexOf(t,r))?e.length:r;let l=a(i,"/",i.indexOf("//")+2),u=-1;for(;i.slice(0,l+1)===s.slice(0,l)+"/"&&(u=l+1,l!==i.length);)l=a(i,"/",l+1);if(-1===u)return e;if(o&&u<o.length)return e;e=n.slice(u);const c=s.slice(u-1).replaceAll(/[^/]+/g,"").length;if(c>0)for(let t=0;t<c;t++)e=`../${e}`;else e=`./${e}`;return e},e.normalize=U,e.objectToQuery=O,e.parseData=async function(e){return"string"==typeof e?W(e)??{data:e}:new Promise((t,r)=>{const n=new FileReader;n.readAsDataURL(e),n.onload=()=>t(W(n.result)),n.onerror=e=>r(e)})},e.queryToObject=M,e.removeFile=function(e){let t=0;if(V(e)){const r=e.indexOf("//");-1!==r&&(t=r+2)}const r=e.lastIndexOf("/");return r<t?e:e.slice(0,r+1)},e.removeQueryParameter=function(e,t){const{path:r,query:n}=P(e);if(!n)return e;delete n[t];const i=O(n);return i?`${r}?${i}`:r},e.removeQueryParameters=function(e,t){const r=P(e),n=Object.keys(r.query||{});return n.length>0&&t&&t.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${n.join(", ")}.`),r.path},e.removeTrailingSlash=function(e){return e.replace(/\/+$/,"")},e.splitPathExtension=function(e){if(null==e)return null;const t=e.match(re);return t?{path:t[1],extension:t[2]}:{path:e,extension:null}},e.test=v,e.toHTTP=function(e){return Z(e)?`http:${e}`:e.replace(f,"http:")},e.toHTTPS=K,e.trustedServersUrlCache=b,e.urlToObject=P,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/support/jsonUtils":function(){define(["exports"],function(e){"use strict";e.isSerializable=function(e){return e&&"object"==typeof e&&"toJSON"in e&&"function"==typeof e.toJSON},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/portal/support/urlUtils":function(){define(["exports"],function(e){"use strict";const t=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,r={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};e.isSecureProxyService=function(e){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(e)},e.normalizeArcGISOnlineOrgDomain=function(e){const t=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,r=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,n=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return t.test(e)?e=e.replace(t,"https://www.arcgis.com"):r.test(e)?e=e.replace(r,"https://devext.arcgis.com"):n.test(e)&&(e=e.replace(n,"https://qaext.arcgis.com")),e},e.parseKnownArcGISOnlineDomain=function(e){const n=e?.match(t);if(!n)return null;const[,i,s,o]=n;if(!i)return null;let a=null,l=null,u=null;const{devext:c,qaext:h,www:f}=r;if(s)if(a=i,o)switch(o.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:u}=c);break;case"qa":({customBaseUrl:l,portalHostname:u}=h);break;default:return null}else({customBaseUrl:l,portalHostname:u}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:l,portalHostname:u}=c);break;case"qaext":({customBaseUrl:l,portalHostname:u}=h);break;case"www":({customBaseUrl:l,portalHostname:u}=f);break;default:return null}return{customBaseUrl:l,isPortal:!1,portalHostname:u,urlKey:a}},e.reArcGISOnlineDomain=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/base64Utils":function(){define(["exports"],function(e){"use strict";e.arrayBufferToBase64=function(e){const t=new Uint8Array(e);let r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)},e.base64ToArrayBuffer=function(e){const t=atob(e),r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);return r.buffer},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/revision":function(){define(["exports"],function(e){"use strict";e.buildDate="20250727",e.commitHash="dc07ab9824458d7c8be6f41020a84653d5bf521a",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/InvokeHandler":function(){define(["exports"],function(e){"use strict";e.createInvokeProxy=function(e,t){return new Proxy({},{get:(r,n,i)=>(...r)=>{let i,s;const o=r[r.length-1];var a;return"object"!=typeof(a=o)||Array.isArray(a)||null==a||!("signal"in a)&&!("transferList"in a)&&0!==Object.keys(a).length||(i=o.signal,s=o.transferList,r.pop()),e.apply(t?`${t}.${n.toString()}`:n.toString(),r,{transferList:s,signal:i})}})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/registry":function(){define(["require","exports"],function(e,t){"use strict";const r=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"})),n={statsWorker:()=>new Promise((t,r)=>e(["../../smartMapping/statistics/support/statsWorker"],t,r)),geometryEngineWorker:()=>new Promise((t,r)=>e(["../../geometry/geometryEngineWorker"],t,r)),arcadeGeometryOperatorsWorker:()=>new Promise((t,r)=>e(["../../arcade/geometry/operatorsWorker"],t,r)),CSVSourceWorker:()=>new Promise((t,n)=>e(["../../layers/graphics/sources/support/CSVSourceWorker"],e=>t(r(e)),n)),EdgeProcessingWorker:()=>new Promise((t,n)=>e(["../../views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker"],e=>t(r(e)),n)),ElevationSamplerWorker:()=>new Promise((t,n)=>e(["../../geometry/support/meshUtils/ElevationSamplerWorker"],e=>t(r(e)),n)),FeatureServiceSnappingSourceWorker:()=>new Promise((t,n)=>e(["../../views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceSnappingSourceWorker"],e=>t(r(e)),n)),GaussianSplatSortWorker:()=>new Promise((t,r)=>e(["../../views/3d/support/GaussianSplatSortWorker"],t,r)),GeoJSONSourceWorker:()=>new Promise((t,n)=>e(["../../layers/graphics/sources/geojson/GeoJSONSourceWorker"],e=>t(r(e)),n)),LercWorker:()=>new Promise((t,n)=>e(["../../layers/support/LercWorker"],e=>t(r(e)),n)),MemorySourceWorker:()=>new Promise((t,n)=>e(["../../layers/graphics/sources/support/MemorySourceWorker"],e=>t(r(e)),n)),PBFDecoderWorker:()=>new Promise((t,n)=>e(["../../views/3d/support/PBFDecoderWorker"],e=>t(r(e)),n)),FeaturePipelineWorker:()=>new Promise((t,n)=>e(["../../views/2d/layers/features/FeaturePipelineWorker"],e=>t(r(e)),n)),PointCloudWorker:()=>new Promise((t,n)=>e(["../../views/3d/layers/PointCloudWorker"],e=>t(r(e)),n)),RasterWorker:()=>new Promise((t,n)=>e(["../../layers/support/RasterWorker"],e=>t(r(e)),n)),SceneLayerSnappingSourceWorker:()=>new Promise((t,n)=>e(["../../views/interactive/snapping/featureSources/sceneLayerSource/SceneLayerSnappingSourceWorker"],e=>t(r(e)),n)),SceneLayerWorker:()=>new Promise((t,r)=>e(["../../views/3d/layers/SceneLayerWorker"],t,r)),WFSSourceWorker:()=>new Promise((t,n)=>e(["../../layers/graphics/sources/WFSSourceWorker"],e=>t(r(e)),n)),WorkerTileHandler:()=>new Promise((t,n)=>e(["../../views/2d/engine/vectorTiles/WorkerTileHandler"],e=>t(r(e)),n)),Lyr3DWorker:()=>new Promise((t,r)=>e(["../../views/3d/layers/Lyr3DWorker"],t,r)),Feature3DPipelineWorker:()=>new Promise((t,n)=>e(["../../views/3d/layers/graphics/pipeline/Feature3DPipelineWorker"],e=>t(r(e)),n)),TextureCompressionWorker:()=>new Promise((t,r)=>e(["../../views/support/TextureCompressionWorker"],t,r)),FlowWorker:()=>new Promise((t,n)=>e(["../../views/3d/support/flow/FlowWorker"],e=>t(r(e)),n)),ParquetSourceWorker:()=>new Promise((t,n)=>e(["../../layers/graphics/sources/support/ParquetSourceWorker"],e=>t(r(e)),n)),PanoramicMeshWorker:()=>new Promise((t,r)=>e(["../../widgets/PanoramicViewer/support/PanoramicMeshWorker"],t,r))};t.registry=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/utils":function(){define(["exports","../has","../promiseUtils"],function(e,t,r){"use strict";const n="worker:port-closed",i={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let s=0;function o(e){return e&&"object"==typeof e&&("result"in e||"transferList"in e)}function a(e){return e?"string"==typeof e?JSON.stringify({name:"message",message:e}):e.toJSON?JSON.stringify(e):JSON.stringify({name:e.name,message:e.message,details:e.details||{stack:e.stack}}):null}function l(e){if(!e?.length)return null;if(t("esri-workers-arraybuffer-transfer"))return e;const r=e.filter(e=>{return!((t=e)instanceof ArrayBuffer||"ArrayBuffer"===t?.constructor?.name);var t});return r.length?r:null}e.MessageType=i,e.ignoreConnectionErrors=async function(e){try{return await e}catch(e){const t=e?.name===n;if(!r.isAbortError(e)&&!t)throw e;return}},e.isTransferableResult=o,e.newJobId=function(){return s++},e.portClosedErrorName=n,e.postMessage=function e(r,n,s,u){if(n.type===i.OPEN_PORT)return void r.postMessage(n,[n.port]);if(n.type!==i.INVOKE&&n.type!==i.RESPONSE)return void r.postMessage(n);let c;if(o(s)?(c=l(s.transferList),n.data=s.result):(c=l(u),n.data=s),c){if(t("ff"))for(const t of c)if("byteLength"in t&&t.byteLength>267386880){const t="Worker call with large ArrayBuffer would crash Firefox";switch(n.type){case i.INVOKE:throw t;case i.RESPONSE:return void e(r,{type:i.RESPONSE,jobId:n.jobId,error:a(t)})}}r.postMessage(n,c)}else r.postMessage(n)},e.receiveMessage=function(e){if(!e)return null;const t=e.data;return t?"string"==typeof t?JSON.parse(t):t:null},e.toInvokeError=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/workers/request":function(){define(["exports","../Error"],function(e,t){"use strict";e.execute=function(e,r){let n=r.responseType;n?"array-buffer"!==n&&"blob"!==n&&"json"!==n&&"native"!==n&&"native-request-init"!==n&&"text"!==n&&(n="text"):n="json",r.responseType=n;const i=r.signal;return delete r.signal,globalThis.invokeStaticMessage("request",{url:e,options:r},{signal:i}).then(async s=>{let o,a,l,u,c;if(s.data)if(s.data instanceof ArrayBuffer){if(!("json"!==n&&"text"!==n&&"blob"!==n||(o=new Blob([s.data]),"json"!==n&&"text"!==n||(u=await o.text(),"json"!==n)))){try{a=JSON.parse(u||null)}catch(n){const i={...n,url:e,requestOptions:r};throw new t("request:server",n.message,i)}if(a.error){const n={...a.error,url:e,requestOptions:r};throw new t("request:server",a.error.message,n)}}}else"native"===n&&(s.data.signal=i,l=await fetch(s.data.url,s.data),s.httpStatus=l.status);switch(n){case"blob":c=o;break;case"json":c=a;break;case"native":c=l;break;case"text":c=u;break;default:c=s.data}return{data:c,httpStatus:s.httpStatus,requestOptions:r,ssl:s.ssl,url:e}})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry":function(){define(["exports","./core/deprecate","./core/Logger","./geometry/Extent","./geometry/Multipoint","./geometry/Point","./geometry/Polygon","./geometry/Polyline","./geometry/SpatialReference"],function(e,t,r,n,i,s,o,a,l){"use strict";const u=l,c=n,h=i,f=s,d=o,p=a;t.deprecatedModule(r.getLogger("esri.geometry"),"esri.geometry",{replacement:"Individual geometry module imports",version:"4.32",warnOnce:!0}),e.Extent=c,e.Multipoint=h,e.Point=f,e.Polygon=d,e.Polyline=p,e.SpatialReference=u,e.__exported__=function(){},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/deprecate":function(){define(["exports","./has"],function(e,t){"use strict";const r=new WeakMap,n="https://www.esriurl.com/";function i(e,n,i={}){if(t("esri-deprecation-warnings")){const{replacement:t,version:s,see:o,warnOnce:a}=i;let l=n;if(t&&(l+=`\n\t🛠️ Replacement: ${t}`),s&&(l+=`\n\t⚙️ Version: ${s}`),o)if(Array.isArray(o)){l+="\n\t🔗 See for more details:";for(const e of o)l+=`\n\t\t${e}`}else l+=`\n\t🔗 See ${o} for more details.`;!function(e,t,n=!1){const i=`🛑 DEPRECATED - ${t}`;if(!n)return void e.warn(i);let s=r.get(e);s||(s=new Set,r.set(e,s)),s.has(t)||(s.add(t),e.warn(i))}(e,l,a)}}e.deprecateUnnecessaryViewModel=function(e,r,s,o={}){t("esri-deprecation-warnings")&&i(e,`This view model is deprecated. Use the ${r} component directly instead.`,{see:[`${r} component reference: ${n}${s}/`,`Esri's move to web components: ${n}components-transition-plan/`],replacement:`<${s}></${s}>`,warnOnce:!0,...o})},e.deprecateWidget=function(e,r,s,o={}){t("esri-deprecation-warnings")&&i(e,`This widget is deprecated. Use the ${r} component instead.`,{see:[`${r} component reference: ${n}${s}/`,`Esri's move to web components: ${n}components-transition-plan/`],replacement:`<${s}></${s}>`,warnOnce:!0,...o})},e.deprecated=i,e.deprecatedConstructorSignature=function(e,r,n={}){t("esri-deprecation-warnings")&&i(e,`Multiple argument constructor: ${r}`,{warnOnce:!0,replacement:`new ${r}({ <your properties here> })`,...n})},e.deprecatedFunction=function(e,r,n={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=n;i(e,"Function: "+(t?t+"::":"")+r+"()",n)}},e.deprecatedModule=function(e,r,n={}){t("esri-deprecation-warnings")&&i(e,`Module: ${r}`,n)},e.deprecatedProperty=function(e,r,n={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=n;i(e,"Property: "+(t?t+"::":"")+r,n)}},e.deprecatedPropertyValue=function(e,r,n,s={}){if(t("esri-deprecation-warnings")){const{moduleName:t}=s;i(e,`'${(t?t+"::":"")+r}' value: ${n}`,s)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Extent":function(){define(["exports","../chunks/tslib.es6","../core/string","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./Geometry","./Point","./SpatialReference","./support/contains","./support/intersectsBase","./support/spatialReferenceUtils","./support/webMercatorUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p){"use strict";var m;function y(e,t,r){return null==t?r:null==r?t:e(t,r)}function g(e,t){const[r,n]=t.valid,i=2*n;let s,o=0;return e>n?(s=Math.ceil(Math.abs(e-n)/i),e-=s*i,o=s):e<r&&(s=Math.ceil(Math.abs(e-r)/i),e+=s*i,o=-s),{x:e,frameId:o}}return e.default=m=class extends l{constructor(...e){super(...e),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(e,t,r,n,i){return!(s=e)||"esri.geometry.SpatialReference"!==s.declaredClass&&null==s.wkid?"object"==typeof e?(e.spatialReference=null==e.spatialReference?c.WGS84:e.spatialReference,e):{xmin:e,ymin:t,xmax:r,ymax:n,spatialReference:i??c.WGS84}:{spatialReference:e,xmin:0,ymin:0,xmax:0,ymax:0};var s}static fromPoint(e){return new m({xmin:e.x,ymin:e.y,zmin:e.z,xmax:e.x,ymax:e.y,zmax:e.z,spatialReference:e.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const e=new u({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(e.z=.5*(this.zmin+this.zmax)),this.hasM&&(e.m=.5*(this.mmin+this.mmax)),e}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(e){const t=this.center;return null!=e.z&&this.hasZ?this.offset(e.x-t.x,e.y-t.y,e.z-t.z):this.offset(e.x-t.x,e.y-t.y)}clone(){const e=new m;return e.xmin=this.xmin,e.ymin=this.ymin,e.xmax=this.xmax,e.ymax=this.ymax,e.spatialReference=this.spatialReference,null!=this.zmin&&(e.zmin=this.zmin,e.zmax=this.zmax),null!=this.mmin&&(e.mmin=this.mmin,e.mmax=this.mmax),e}contains(e){if(!e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),"point"===e.type?h.extentContainsPoint(this,e):"extent"===e.type&&h.extentContainsExtent(this,e)}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,r=e.spatialReference;return t&&r&&!t.equals(r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),this.xmin===e.xmin&&this.ymin===e.ymin&&this.zmin===e.zmin&&this.mmin===e.mmin&&this.xmax===e.xmax&&this.ymax===e.ymax&&this.zmax===e.zmax&&this.mmax===e.mmax}expand(e){const t=.5*(1-e),r=this.width*t,n=this.height*t;if(this.xmin+=r,this.ymin+=n,this.xmax-=r,this.ymax-=n,this.hasZ){const e=(this.zmax-this.zmin)*t;this.zmin+=e,this.zmax-=e}if(this.hasM){const e=(this.mmax-this.mmin)*t;this.mmin+=e,this.mmax-=e}return this}intersects(e){if(null==e)return!1;"mesh"===e.type&&(e=e.extent);const t=this.spatialReference,r=e.spatialReference;return t&&r&&!d.equals(t,r)&&p.canProject(t,r)&&(e=t.isWebMercator?p.geographicToWebMercator(e):p.webMercatorToGeographic(e,!0)),f.getFeatureExtentIntersector(e.type)(this,e)}normalize(){const e=this._normalize(!1,!0);return Array.isArray(e)?e:[e]}offset(e,t,r){return this.xmin+=e,this.ymin+=t,this.xmax+=e,this.ymax+=t,null!=r&&(this.zmin+=r,this.zmax+=r),this}shiftCentralMeridian(){return this._normalize(!0)}union(e){return this===e||(this.xmin=Math.min(this.xmin,e.xmin),this.ymin=Math.min(this.ymin,e.ymin),this.xmax=Math.max(this.xmax,e.xmax),this.ymax=Math.max(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=y(Math.min,this.zmin,e.zmin),this.zmax=y(Math.max,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=y(Math.min,this.mmin,e.mmin),this.mmax=y(Math.max,this.mmax,e.mmax))),this}intersection(e){return this===e?this:null!=e&&this.intersects(e)?(this.xmin=Math.max(this.xmin,e.xmin),this.ymin=Math.max(this.ymin,e.ymin),this.xmax=Math.min(this.xmax,e.xmax),this.ymax=Math.min(this.ymax,e.ymax),(this.hasZ||e.hasZ)&&(this.zmin=y(Math.max,this.zmin,e.zmin),this.zmax=y(Math.min,this.zmax,e.zmax)),(this.hasM||e.hasM)&&(this.mmin=y(Math.max,this.mmin,e.mmin),this.mmax=y(Math.min,this.mmax,e.mmax)),this):null}toJSON(e){return this.write({},e)}_shiftCM(e=d.getInfo(this.spatialReference)){if(!e||!this.spatialReference)return this;const t=this.spatialReference,n=this._getCM(e);if(n){const i=t.isWebMercator?p.webMercatorToGeographic(n):n;this.xmin-=n.x,this.xmax-=n.x,t.isWebMercator||(i.x=g(i.x,e).x),this.spatialReference=new c(r.replace((t.isWGS84?e.altTemplate:null)??e.wkTemplate,{Central_Meridian:i.x}))}return this}_getCM(e){let t=null;const[r,n]=e.valid,i=this.xmin,s=this.xmax;return i>=r&&i<=n&&s>=r&&s<=n||(t=this.center),t}_normalize(e,t,r){const n=this.spatialReference;if(!n)return this;const i=r??d.getInfo(n);if(null==i)return this;const s=this._getParts(i).map(e=>e.extent);if(s.length<2)return s[0]||this;if(s.length>2)return e?this._shiftCM(i):this.set({xmin:i.valid[0],xmax:i.valid[1]});if(e)return this._shiftCM(i);if(t)return s;let o=!0,a=!0;return s.forEach(e=>{e.hasZ||(o=!1),e.hasM||(a=!1)}),{rings:s.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(o){const r=(e.zmax-e.zmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}if(a){const r=(e.mmax-e.mmin)/2;for(let e=0;e<t.length;e++)t[e].push(r)}return t}),hasZ:o,hasM:a,spatialReference:n}}_getParts(e){let t=this.cache._parts;if(!t){t=[];const{ymin:r,ymax:n,spatialReference:i}=this,s=this.width,o=this.xmin,a=this.xmax;let l;e=e||d.getInfo(i);const[u,c]=e.valid;l=g(this.xmin,e);const h=l.x,f=l.frameId;l=g(this.xmax,e);const p=l.x,y=l.frameId,_=h===p&&s>0;if(s>2*c){const e=new m(o<a?h:p,r,c,n,i),s=new m(u,r,o<a?p:h,n,i),l=new m(0,r,c,n,i),d=new m(u,r,0,n,i),g=[],_=[];e.contains(l)&&g.push(f),e.contains(d)&&_.push(f),s.contains(l)&&g.push(y),s.contains(d)&&_.push(y);for(let e=f+1;e<y;e++)g.push(e),_.push(e);t.push({extent:e,frameIds:[f]},{extent:s,frameIds:[y]},{extent:l,frameIds:g},{extent:d,frameIds:_})}else h>p||_?t.push({extent:new m(h,r,c,n,i),frameIds:[f]},{extent:new m(u,r,p,n,i),frameIds:[y]}):t.push({extent:new m(h,r,p,n,i),frameIds:[f]});this.cache._parts=t}const r=this.hasZ,n=this.hasM;if(r||n){const e={};r&&(e.zmin=this.zmin,e.zmax=this.zmax),n&&(e.mmin=this.mmin,e.mmax=this.mmax);for(let r=0;r<t.length;r++)t[r].extent.set(e)}return t}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"center",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasM",null),t.__decorate([n.property({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasZ",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"height",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"width",null),t.__decorate([n.property({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],e.default.prototype,"xmin",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"ymin",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"mmin",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"zmin",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"xmax",void 0),t.__decorate([n.property({type:Number,json:{write:!0}})],e.default.prototype,"ymax",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"mmax",void 0),t.__decorate([n.property({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"zmax",void 0),e.default=m=t.__decorate([a.subclass("esri.geometry.Extent")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default})},"esri/chunks/tslib.es6":function(){define(["exports"],function(e){"use strict";var t="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};e.__addDisposableResource=function(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(i=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t},e.__awaiter=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,a)}l((n=n.apply(e,t||[])).next())})},e.__decorate=function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},e.__disposeResources=function(e){function r(r){e.error=e.hasError?new t(r,e.error,"An error was suppressed during disposal."):r,e.hasError=!0}var n,i=0;return function t(){for(;n=e.stack.pop();)try{if(!n.async&&1===i)return i=0,e.stack.push(n),Promise.resolve().then(t);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(s).then(t,function(e){return r(e),t()})}else i|=1}catch(e){r(e)}if(1===i)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()},e.__param=function(e,t){return function(r,n){t(r,n,e)}}})},"esri/core/accessorSupport/decorators/property":function(){define(["exports","../../Logger","../ensureType","../get","../metadata","../set"],function(e,t,r,n,i,s){"use strict";function o(e,t){if(e||t)return e?t?(r,n)=>t(e(r,n),n):e:t}e.composeCasters=o,e.property=function(e={}){return(a,l)=>{if(a===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${a.name}.${l}. Accessor does not support static properties.`);const u=Object.getOwnPropertyDescriptor(a,l),c=i.getPropertyMetadata(a,l);u&&(u.get||u.set?(c.get=u.get||c.get,c.set=u.set||c.set):"value"in u&&("value"in e&&t.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${l}" on "${a.constructor.name}" already defined in the metadata`,e),c.value=e.value=u.value)),null!=e.readOnly&&(c.readOnly=e.readOnly);const h=e.aliasOf;if(h){const e="string"==typeof h?h:h.source,t="string"==typeof h?null:!0===h.overridable;let r;c.dependsOn=[e],c.get=function(){let t=n.get(this,e);if("function"==typeof t){r||(r=e.split(".").slice(0,-1).join("."));const i=n.get(this,r);i&&(t=t.bind(i))}return t},c.readOnly||(c.set=t?function(e){this._override(l,e)}:function(t){s.set(this,e,t)})}const f=e.type,d=e.types;if(!c.cast){let t;f?t=function(e){let t=0,n=e;if(r.isLongFormType(e))return r.ensureLongFormType(e);for(;Array.isArray(n)&&1===n.length&&"string"!=typeof n[0]&&"number"!=typeof n[0];)n=n[0],t++;const i=n;if(r.isOneOf(i))return 0===t?r.ensureOneOf(i):r.ensureNArrayTyped(r.ensureOneOf(i),t);if(1===t)return r.ensureArray(i);if(t>1)return r.ensureNArray(i,t);const s=e;return s.from?s.from:r.ensureType(s)}(f):d&&(t=Array.isArray(d)?r.ensureArrayTyped(r.ensureOneOfType(d[0])):r.ensureOneOfType(d)),e.cast=o(e.cast,t)}i.mergeProperty(c,e),e.range&&(c.cast=r.ensureRange(c.cast,e.range))}},e.propertyJSONMeta=function(e,t,r){const n=i.getPropertyMetadata(e,r);n.json||(n.json={});let s=n.json;return void 0!==t&&(s.origins||(s.origins={}),s.origins[t]||(s.origins[t]={}),s=s.origins[t]),s},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ensureType":function(){define(["exports","../has","../Logger","../MapUtils"],function(e,t,r,n){"use strict";const i=()=>r.getLogger("esri.core.accessorSupport.ensureTypes");function s(e){if(null==e)return e;const t=new Date(e);return isNaN(t.getTime())?(i().error("Accessor#set",`Invalid date value: '${e}', falling back to current date`),new Date):t}function o(e){return null==e?e:!!e}function a(e){return null==e?e:e.toString()}function l(e,t=0){return null==e?e:(e=parseFloat(e),isNaN(e)?t:e)}function u(e){return null==e?e:Math.round(parseFloat(e))}function c(e){return null}function h(e){return e?.constructor&&void 0!==e.constructor.__accessorMetadata__}function f(e,t){return null!=t&&e&&!(t instanceof e)}function d(e){return e&&"isCollection"in e}function p(e){return e?.Type?"function"==typeof e.Type?e.Type:e.Type.base:null}function m(e,t){return!!h(t)&&(i().error("Accessor#set","Assigning an instance of '"+(t.declaredClass||"unknown")+"' which is not a subclass of '"+g(e)+"'"),!0)}function y(e,t){return null==t?t:d(e)?function(e,t){if(!t?.constructor||!d(t.constructor))return m(e,t)?t:new e(t);const r=p(e.prototype.itemType),n=p(t.constructor.prototype.itemType);return r?n?r===n?t:r.prototype.isPrototypeOf(n.prototype)?new e(t):(m(e,t),t):new e(t):t}(e,t):f(e,t)?m(e,t)?t:new e(t):t}function g(e){return e?.prototype?.declaredClass||"unknown"}const _=new WeakMap;function b(e,t){const r=function(e){switch(e){case Number:return e=>l(e);case S:return u;case Boolean:return o;case String:return a;case Date:return s;case v:return c;default:return n.getOrCreateMapValue(_,e,()=>y.bind(null,e))}}(e);return 1===arguments.length?r:r(t)}function x(e,t,r){return 1===arguments.length?x.bind(null,e):t?Array.isArray(t)?t.map(t=>e(t,r)):[e(t,r)]:t}function w(e,t,r){return 0!==t&&Array.isArray(r)?r.map(r=>w(e,t-1,r)):e(r)}function T(e,t,r){if(2===arguments.length)return r=>T(e,t,r);if(!r)return r;r=w(e,t,r);let n=t,i=r;for(;n>0&&Array.isArray(i);)n--,i=i[0];if(void 0!==i)for(let e=0;e<n;e++)r=[r];return r}class S{}class v{}function P(e){switch(e.type){case"native":switch(e.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case S:return"integer";case Date:return"date";case v:return"null";default:return g(e.value)}case"array":return`array of ${P(e.value)}`;case"one-of":{const t=e.values.map(e=>P(e));return`one of ${t.slice(0,-1)} or ${t[t.length-1]}`}}return"unknown"}function M(e,t){if(null==e)return!0;switch(t.type){case"native":switch(t.value){case Number:case S:return"number"==typeof e;case Boolean:return"boolean"==typeof e;case String:return"string"==typeof e;case v:return null===e}return e instanceof t.value;case"array":return!!Array.isArray(e)&&!e.some(e=>!M(e,t.value));case"one-of":return t.values.some(t=>M(e,t))}}e.Integer=S,e.Null=v,e.ensureArray=function(e,t){return 1===arguments.length?x(t=>b(e,t)):x(t=>b(e,t),t)},e.ensureArrayTyped=x,e.ensureBoolean=o,e.ensureClass=y,e.ensureDate=s,e.ensureInteger=u,e.ensureLongFormType=function e(t){switch(t.type){case"native":return b(t.value);case"array":return x(e(t.value));case"one-of":return function(e){let t=null;return(r,n)=>M(r,e)?r:(null==t&&(t=P(e)),i().error("Accessor#set",`Invalid property value, value needs to be of type ${t}`),n&&(n.valid=!1),null)}(t);default:return null}},e.ensureNArray=function(e,t,r){return 2===arguments.length?T(t=>b(e,t),t):T(t=>b(e,t),t,r)},e.ensureNArrayTyped=T,e.ensureNull=c,e.ensureNumber=l,e.ensureOneOf=function e(t,r){if(2===arguments.length)return e(t).call(null,r);const n=new Set,s=t.filter(e=>"function"!=typeof e),o=t.filter(e=>"function"==typeof e);for(const e of t)"string"!=typeof e&&"number"!=typeof e||n.add(e);let a=null,l=null;return(e,t)=>{if(null==e)return e;const r=typeof e,u="string"===r||"number"===r;return u&&(n.has(e)||o.some(e=>"string"===r&&e===String||"number"===r&&e===Number))||"object"===r&&o.some(t=>!f(t,e))?e:(u&&s.length?(a||(a=s.map(e=>"string"==typeof e?`'${e}'`:`${e}`).join(", ")),i().error("Accessor#set",`'${e}' is not a valid value for this property, only the following values are valid: ${a}`)):"object"==typeof e&&o.length?(l||(l=o.map(e=>g(e)).join(", ")),i().error("Accessor#set",`'${e}' is not a valid value for this property, value must be one of ${l}`)):i().error("Accessor#set",`'${e}' is not a valid value for this property`),t&&(t.valid=!1),null)}},e.ensureOneOfType=function e(t,r){if(2===arguments.length)return e(t).call(null,r);const n={},s=[],o=[];for(const e in t.typeMap){const r=t.typeMap[e];n[e]=b(r),s.push(g(r)),o.push(e)}const a="string"==typeof t.key?e=>e[t.key]:t.key;return e=>{if(t.base&&!f(t.base,e))return e;if(null==e)return e;const r=a(e)||t.defaultKeyValue,l=n[r];if(!l)return i().error("Accessor#set",`Invalid property value, value needs to be one of '${s.join("', '")}', or a plain object that can autocast (having .type = '${o.join("', '")}')`),null;if(!f(t.typeMap[r],e))return e;if("string"==typeof t.key&&!h(e)){const r={};for(const n in e)n!==t.key&&(r[n]=e[n]);return l(r)}return l(e)}},e.ensureRange=function(e,t){return r=>{let n=e(r);return null!=t.step&&(n=Math.round(n/t.step)*t.step),null!=t.min&&(n=Math.max(t.min,n)),null!=t.max&&(n=Math.min(t.max,n)),n}},e.ensureString=a,e.ensureType=b,e.isClassedType=h,e.isLongFormType=function(e){if(!e||!("type"in e))return!1;switch(e.type){case"native":case"array":case"one-of":return!0}return!1},e.isOneOf=function(e){return!!Array.isArray(e)&&!e.some(t=>{const r=typeof t;return!("string"===r||"number"===r||"function"===r&&e.length>1)})},e.requiresType=f,e.types={native:e=>({type:"native",value:e}),array:e=>({type:"array",value:e}),oneOf:e=>({type:"one-of",values:e})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/MapUtils":function(){define(["exports"],function(e){"use strict";e.equals=function(e,t){if(null==e&&null==t)return!0;if(null==e||null==t||e.size!==t.size)return!1;for(const[r,n]of e)if(!t.has(r)||n!==t.get(r))return!1;return!0},e.everyMap=function(e,t){for(const r of e.values())if(!t(r))return!1;return!0},e.findInMap=function(e,t){for(const r of e.values())if(t(r))return r;return null},e.getOrCreateMapValue=function(e,t,r){const n=e.get(t);if(void 0!==n)return n;const i=r();return e.set(t,i),i},e.memoize=function(e){const t=new Map;return r=>(t.has(r)||t.set(r,e(r)),t.get(r))},e.someMap=function(e,t){for(const r of e.values())if(t(r))return!0;return!1},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/metadata":function(){define(["exports","../lang","./utils"],function(e,t,r){"use strict";function n(e){let r=e.constructor.__accessorMetadata__;const n=Object.prototype.hasOwnProperty.call(e.constructor,"__accessorMetadata__");if(r){if(!n){r=Object.create(r);for(const e in r)r[e]=t.clone(r[e]);Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0})}}else r={},Object.defineProperty(e.constructor,"__accessorMetadata__",{value:r,enumerable:!1,configurable:!0,writable:!0});return e.constructor.__accessorMetadata__}const i=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function s(e){return i.test(e)?"replace":"merge"}e.getPropertiesMetadata=n,e.getPropertyMetadata=function(e,t){const r=n(e);let i=r[t];return i||(i=r[t]={}),i},e.mergeProperty=function(e,t){return r.merge(e,t,s)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/set":function(){define(["exports","../Error","../has","../Logger","./get"],function(e,t,r,n,i){"use strict";e.set=function e(n,s,o){if(n&&s)if("object"==typeof s)for(const t of Object.getOwnPropertyNames(s))e(n,t,s[t]);else{if(s.includes(".")){const t=s.split("."),r=t.splice(-1,1)[0];return void e(i.get(n,t),r,o)}const a=n.__accessor__;null!=a&&function(e,n){if(r("esri-unknown-property-errors")&&!function(e,t){return null!=t.metadata[e]}(e,n))throw new t("set:unknown-property",function(e,t){return"setting unknown property '"+e+"' on instance of "+t.host.declaredClass}(e,n))}(s,a),n[s]=o}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/subclass":function(){define(["exports","../../has","../../Logger","../beforeDestroy","../Lifecycle","../metadata","../tracking","../extensions/serializableProperty"],function(e,t,r,n,i,s,o,a){"use strict";const l=new Set,u=new Set;function c(e,t){return null==t.get?function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0===r)return;t.mutable&&o.trackAccess(r);const n=t.store;return n.has(e)?n.get(e):r.metadata.value}:function(){const t=this.__accessor__,r=t.propertiesByName.get(e);if(void 0!==r)return r.getComputed(t)}}function h(e){const t=e.prototype,r=s.getPropertiesMetadata(t),n={};for(const e of Object.getOwnPropertyNames(r)){const t=r[e];a.processPrototypePropertyMetadata(t),n[e]={enumerable:!0,configurable:!0,get:c(e,t),set(r){const n=this.__accessor__;if(void 0!==n){if(n.mutable)return n.initialized&&t.readOnly?f("read-only",e):n.lifecycle===i.Lifecycle.CONSTRUCTED&&t.constructOnly?f("construct-only",e):void n.set(e,r)}else Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:r})}}}Object.defineProperties(e.prototype,n)}const f=(e,t)=>{r.getLogger("esri.core.Accessor").error(`cannot assign to ${e} property '${t}'`)};e.finalizeClass=h,e.subclass=function(e){return t=>{e??="esri.core.Accessor",t.prototype.declaredClass=e,h(t);const r=[],o=[];let a=t.prototype;for(;a;)a.hasOwnProperty("initialize")&&!l.has(a.initialize)&&(l.add(a.initialize),r.push(a.initialize)),a.hasOwnProperty("destroy")&&!u.has(a.destroy)&&(u.add(a.destroy),o.push(a.destroy)),a=Object.getPrototypeOf(a);l.clear(),u.clear();const c=class extends t{constructor(...e){if(super(...e),this.constructor===c&&"function"==typeof this.postscript){if(r.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let e=r.length-1;e>=0;e--)r[e].call(this)}}),o.length){let e=!1;const t=this[n.beforeDestroySymbol];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!e){this.__accessor__.lifecycle=i.Lifecycle.DESTROYING,e=!0,t.call(this);for(let e=0;e<o.length;e++)o[e].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};c.__accessorMetadata__=s.getPropertiesMetadata(t.prototype),c.prototype.declaredClass=e;const f=(e||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(c,"name",{value:f,configurable:!0}),c}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/beforeDestroy":function(){define(["exports"],function(e){"use strict";const t=Symbol("Accessor-beforeDestroy");e.beforeDestroySymbol=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty":function(){define(["exports","../ensureType","./serializableProperty/originAliases","./serializableProperty/reader","./serializableProperty/shorthands","./serializableProperty/writer"],function(e,t,r,n,i,s){"use strict";function o(e,t,r){let n=e?.json;if(n?.origins&&r){let e;e="link-chart"===r?n.origins[r]&&("any"===t||t in n.origins[r])?n.origins[r]:n.origins["web-map"]:n.origins[r],e&&("any"===t||t in e)&&(n=e)}return n}function a(e){return e.type?l(e):u(e)}function l(e){if(!e.type)return;let r=0,n=e.type;for(;Array.isArray(n)&&!t.isOneOf(n);)n=n[0],r++;return{type:n,ndimArray:r}}function u(e){if(!e.types)return;let t=0,r=e.types;for(;Array.isArray(r);)r=r[0],t++;return{types:r,ndimArray:t}}e.originSpecificPropertyDefinition=function(e,t){return o(e,"any",t?.origin)},e.originSpecificReadPropertyDefinition=function(e,t){return o(e,"read",t?.origin)},e.originSpecificWritePropertyDefinition=function(e,t){return o(e,"write",t?.origin)},e.processPrototypePropertyMetadata=function(e){i.process(e)&&(r.process(e),function(e){const t=(r=e).json.types?u(r.json):r.type?l(r):u(r);var r;if(e.json.origins)for(const r in e.json.origins){const i=e.json.origins[r],o=i.types?a(i):t;n.create(o,i,!1),i.types&&!i.write&&e.json.write?.enabled&&(i.write={...e.json.write}),s.create(o,i)}n.create(t,e.json,!0),s.create(t,e.json)}(e))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/originAliases":function(){define(["exports"],function(e){"use strict";e.process=function(e){if(e.json&&e.json.origins){const t=e.json.origins,r={"web-document":["web-scene","web-map"]};for(const e in r)if(t[e]){const n=t[e];r[e].forEach(e=>{t[e]=n}),delete t[e]}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/reader":function(){define(["exports","../../../Logger","../../../object","../../../Warning","../../metadata","./type"],function(e,t,r,n,i,s){"use strict";const o=()=>t.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function a(e){const t=e.ndimArray??0;if(t>1)return function(e){const t=l(e),r=u.bind(null,t),n=e.ndimArray??0;return(e,t,i)=>{if(null==e)return e;e=r(e,i,n);let s=n,o=e;for(;s>0&&Array.isArray(o);)s--,o=o[0];if(void 0!==o)for(let t=0;t<s;t++)e=[e];return e}}(e);if(1===t)return c(e);if("type"in e&&h(e.type)){const t=e.type.prototype?.itemType?.Type,r=c("function"==typeof t?{type:t}:{types:t});return(t,n,i)=>{const s=r(t,n,i);return s?new e.type(s):s}}return l(e)}function l(e){return"type"in e?function(e){return e.prototype.read?(t,r,n)=>{if(null==t)return t;const i=typeof t;if("object"!==i)return void o().error(`Expected JSON value of type 'object' to deserialize type '${e.prototype.declaredClass}', but got '${i}'`);const s=new e;return s.read(t,n),s}:e.fromJSON}(e.type):function(e){let t=null;const r=e.errorContext??"type",s=e.validate;return(a,l,u)=>{if(null==a)return a;const c=typeof a;if("object"!==c)return void o().error(`Expected JSON value of type 'object' to deserialize, but got '${c}'`);t||(t=function(e){const t={};for(const r in e.typeMap){const n=e.typeMap[r],s=i.getPropertiesMetadata(n.prototype);if("function"==typeof e.key)continue;const o=s[e.key];if(!o)continue;if(o.json?.type&&Array.isArray(o.json.type)&&1===o.json.type.length&&"string"==typeof o.json.type[0]){t[o.json.type[0]]=n;continue}const a=o.json?.write;if(!a?.writer){t[r]=n;continue}const l=a.target,u="string"==typeof l?l:e.key,c={};a.writer(r,c,u),c[u]&&(t[c[u]]=n)}return t}(e));const h=e.key;if("string"!=typeof h)return;const f=a[h],d=f?t[f]:e.defaultKeyValue?e.typeMap[e.defaultKeyValue]:void 0;if(!d){const e=`Type '${f||"unknown"}' is not supported`;return u?.messages&&a&&u.messages.push(new n(`${r}:unsupported`,e,{definition:a,context:u})),void o().error(e)}const p=new d;return p.read(a,u),s?s(p):p}}(e.types)}function u(e,t,r,n){return 0!==n&&Array.isArray(t)?t.map(t=>u(e,t,r,n-1)):e(t,void 0,r)}function c(e){const t=l(e);return(e,r,n)=>{if(null==e)return e;if(Array.isArray(e)){const r=[];for(const i of e){const e=t(i,void 0,n);void 0!==e&&r.push(e)}return r}const i=t(e,void 0,n);return void 0!==i?[i]:void 0}}function h(e){if(!s.isCollection(e))return!1;const t=e.prototype.itemType;return!(!t||!t.Type)&&("function"==typeof t.Type?f(t.Type):d(t.Type))}function f(e){return!Array.isArray(e)&&!!e&&e.prototype&&("read"in e.prototype||"fromJSON"in e||h(e))}function d(e){for(const t in e.typeMap)if(!f(e.typeMap[t]))return!1;return!0}e.create=function(e,t,n){e&&(!n&&!t.read||t.read?.reader||!1===t.read?.enabled||function(e){return"types"in e?d(e.types):f(e.type)}(e)&&r.setDeepValue("read.reader",a(e),t))},e.createTypeReader=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/Warning":function(){define(["./Message"],function(e){"use strict";class t extends e{constructor(e,t,r){super(e,t,r)}}return t.prototype.type="warning",t})},"esri/core/accessorSupport/extensions/serializableProperty/type":function(){define(["exports"],function(e){"use strict";e.isCollection=function(e){return!!e&&e.prototype?.declaredClass&&0===e.prototype.declaredClass.indexOf("esri.core.Collection")},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/shorthands":function(){define(["exports"],function(e){"use strict";function t(e){e.name&&(e.read&&"object"==typeof e.read?void 0===e.read.source&&(e.read.source=e.name):e.read={source:e.name},e.write&&"object"==typeof e.write?void 0===e.write.target&&(e.write.target=e.name):e.write={target:e.name})}function r(e){"boolean"==typeof e.read?e.read={enabled:e.read}:"function"==typeof e.read?e.read={enabled:!0,reader:e.read}:e.read&&"object"==typeof e.read&&void 0===e.read.enabled&&(e.read.enabled=!0)}function n(e){"boolean"==typeof e.write?e.write={enabled:e.write}:"function"==typeof e.write?e.write={enabled:!0,writer:e.write}:e.write&&"object"==typeof e.write&&void 0===e.write.enabled&&(e.write.enabled=!0)}e.process=function(e){if(e.json||(e.json={}),r(e.json),n(e.json),t(e.json),e.json.origins)for(const i in e.json.origins)r(e.json.origins[i]),n(e.json.origins[i]),t(e.json.origins[i]);return!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/extensions/serializableProperty/writer":function(){define(["exports","../../../Error","../../../Logger","../../../object","./type"],function(e,t,r,n,i){"use strict";function s(e,n,i){for(const t in n.typeMap)if(e instanceof n.typeMap[t])return!0;if(i?.messages){const s=n.errorContext??"type",o=`Values of type '${("function"!=typeof n.key?e[n.key]:e.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&e&&i.messages.push(new t(`${s}:unsupported`,o,{definition:e,context:i})),r.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(o)}return!1}function o(e,t,r,i){n.setDeepValue(r,a(e,i),t)}function a(e,t){return e&&"function"==typeof e.write?e.write({},t):e&&"function"==typeof e.toJSON?e.toJSON():"number"==typeof e?l(e):e}function l(e){return e===-1/0?-Number.MAX_VALUE:e===1/0?Number.MAX_VALUE:isNaN(e)?null:e}function u(e,t,r,i){let s;null===e?s=null:e&&"function"==typeof e.map?(s=e.map(e=>a(e,i)),"function"==typeof s.toArray&&(s=s.toArray())):s=[a(e,i)],n.setDeepValue(r,s,t)}function c(e,t,r){return 0!==r&&Array.isArray(e)?e.map(e=>c(e,t,r-1)):a(e,t)}e.create=function(e,t){if(!t.write||t.write.writer||!1===t.write.enabled&&!t.write.overridePolicy)return;const r=e?.ndimArray??0;var a,l;e&&(1===r||"type"in e&&i.isCollection(e.type))?t.write.writer=u:r>1?t.write.writer=(l=r,(e,t,r,i)=>{let s;if(null===e)s=null;else{s=c(e,i,l);let t=l,r=s;for(;t>0&&Array.isArray(r);)t--,r=r[0];if(void 0!==r)for(let e=0;e<t;e++)s=[s]}n.setDeepValue(r,s,t)}):t.types?Array.isArray(t.types)?t.write.writer=(a=t.types[0],(e,t,r,n)=>e&&Array.isArray(e)?o(e.filter(e=>s(e,a,n)),t,r,n):o(e,t,r,n)):t.write.writer=function(e){return(t,r,n,i)=>t?s(t,e,i)?o(t,r,n,i):void 0:o(t,r,n,i)}(t.types):t.write.writer=o},e.numberToJSON=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Geometry":function(){define(["exports","../chunks/tslib.es6","../core/JSONSupport","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","./SpatialReference"],function(e,t,r,n,i,s,o,a,l,u){"use strict";return e.default=class extends r.JSONSupport{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=u.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,t){if(e instanceof u)return e;if(null!=e){const r=new u;return r.read(e,t),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,t){this.cache[e]=t}},t.__decorate([n.property()],e.default.prototype,"type",void 0),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"hasM",void 0),t.__decorate([n.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"hasZ",void 0),t.__decorate([n.property({type:u,json:{write:!0},value:u.WGS84})],e.default.prototype,"spatialReference",void 0),t.__decorate([a.reader("spatialReference")],e.default.prototype,"readSpatialReference",null),e.default=t.__decorate([l.subclass("esri.geometry.Geometry")],e.default),e.default})},"esri/core/JSONSupport":function(){define(["exports","../chunks/tslib.es6","./Accessor","./accessorSupport/DefaultsStore","./accessorSupport/defaultsStoreUtils","./accessorSupport/read","./accessorSupport/utils","./accessorSupport/write","./accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l){"use strict";const u=e=>{const r=e;let u=class extends r{constructor(...e){super(...e);const t=o.getProperties(this),r=t.store,s=new n.DefaultsStore;t.store=s,i.setupConstructedDefaults(t,r,s)}read(e,t){s.read(this,e,t)}write(e,t){return a.write(this,e??{},t)}toJSON(e){return this.write({},e)}static fromJSON(e,t){return c.call(this,e,t)}};return u=t.__decorate([l.subclass("esri.core.JSONSupport")],u),u.prototype.toJSON.isDefaultToJSON=!0,u};function c(e,t){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");const r=new this;return r.read(e,t),r}const h=u(r);e.JSONSupport=h,e.JSONSupportMixin=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/Accessor":function(){define(["./deprecate","./Handles","./Logger","./maybe","./accessorSupport/beforeDestroy","./accessorSupport/get","./accessorSupport/Lifecycle","./accessorSupport/metadata","./accessorSupport/Properties","./accessorSupport/set","./accessorSupport/testSupport","./accessorSupport/watch","./accessorSupport/decorators/property","./accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d){"use strict";var p,m;function y(e){if(null==e)return{value:e};if(Array.isArray(e))return{type:[e[0]],value:null};switch(typeof e){case"object":return e.constructor?.__accessorMetadata__||e instanceof Date?{type:e.constructor,value:e}:e;case"boolean":return{type:Boolean,value:e};case"string":return{type:String,value:e};case"number":return{type:Number,value:e};case"function":return{type:e,value:null};default:return}}const g=Symbol("Accessor-Handles"),_=Symbol("Accessor-Initialized");class b{static{p=g,m=_}static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:t,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const i=this;class s extends i{constructor(...e){super(...e),this.inherited=null,n&&n.apply(this,e)}}a.getPropertiesMetadata(s.prototype);for(const t in e){const r=e[t];s.prototype[t]="function"==typeof r?function(...e){const n=this.inherited;let s;this.inherited=function(...e){if(i.prototype[t])return i.prototype[t].apply(this,e)};try{s=r.apply(this,e)}catch(e){throw this.inherited=n,e}return this.inherited=n,s}:e[t]}for(const e in t){const r=y(t[e]);f.property(r)(s.prototype,e)}return d.subclass(r)(s)}static freeze(e){return e instanceof b?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof b?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[p]=null,this[m]=!1,this.constructor===b)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const t=new l(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:t}),e.length>0&&(t.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0]),c.getAccessorInterceptor()?.onInstanceConstruct(this)}postscript(){const e=this.__accessor__,t=e.ctorArgs;e.initialize(),t&&(this.set(t),e.ctorArgs=null),e.constructed(),this.initialize(),this[_]=!0}initialize(){}[i.beforeDestroySymbol](){this[g]=n.destroyMaybe(this[g])}destroy(){this.destroyed||(h.removeTarget(this),this.__accessor__.destroy(),c.getAccessorInterceptor()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[_]}get destroyed(){return this.__accessor__?.lifecycle===o.Lifecycle.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===o.Lifecycle.DESTROYING||!1}commitProperty(e){s.get(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,t){return u.set(this,e,t),this}watch(t,n,i){return e.deprecatedFunction(r.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),h.watch(this,t,n,i)}addHandles(e,r){if(this.destroyed){const t=Array.isArray(e)?e:[e];for(const e of t)e.remove();return}(this[g]??=new t).add(e,r)}removeHandles(e){this[g]?.remove(e)}removeAllHandles(){this[g]?.removeAll()}removeHandlesReference(e){this[g]?.removeReference(e)}hasHandles(e){return!0===this[g]?.has(e)}_override(e,t){void 0===t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,t){null==t?this.__accessor__.clearOverride(e):this.__accessor__.override(e,t)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,t){return this.__accessor__.internalSet(e,t),this}}return b})},"esri/core/Handles":function(){define(["./iteratorUtils"],function(e){"use strict";class t{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(t=>{e+=t.length}),e}add(t,r){if(e.isIterable(t)){const e=this._getOrCreateGroup(r);for(const r of t)i(r)&&e.push(r)}else i(t)&&this._getOrCreateGroup(r).push(t);return this}forEach(e,t){if("function"==typeof e)this._groups.forEach(t=>t.forEach(e));else{const r=this._getGroup(e);r&&t&&r.forEach(t)}}has(e){return this._groups.has(r(e))}remove(t){if("string"!=typeof t&&e.isIterable(t)){for(const e of t)this.remove(e);return this}return this.has(t)?(n(this._getGroup(t)),this._groups.delete(r(t)),this):this}removeAll(){return this._groups.forEach(n),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const t=[];return this._groups.set(r(e),t),t}_getGroup(e){return this._groups.get(r(e))}}function r(e){return e||"_default_"}function n(e){for(const r of e)r instanceof t?r.removeAll():r.remove()}function i(e){return null!=e&&(!!e.remove||e instanceof t)}return t})},"esri/core/iteratorUtils":function(){define(["exports"],function(e){"use strict";e.cache=function(e){const t=[];return function*(){yield*t;for(const r of e)t.push(r),yield r}},e.find=function(e,t){for(const r of e)if(null!=r&&t(r))return r},e.isIterable=function(e){return null!=e&&"function"==typeof e[Symbol.iterator]},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Properties":function(){define(["../has","../lang","../Logger","../ObjectPool","./Lifecycle","./Property","./PropertyOrigin","./Store","./tracking","./tracking/Flags","./tracking/TrackingTarget"],function(e,t,r,n,i,s,o,a,l,u,c){"use strict";function h(e,t,r){return void 0!==e}function f(e,t,r,n){return!(void 0===e||null==r&&e.flags&u.Flags.NonNullable&&(n.lifecycle,i.Lifecycle.INITIALIZING,1))}const d=new n(class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}});return class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=i.Lifecycle.INITIALIZING,this.store=new a.Store,this.mutable=!0,this._origin=7;const t=this.host.constructor.__accessorMetadata__;for(const e in t){const r=new s.Property(e,t[e]);this.propertiesByName.set(e,r)}this.metadata=t}initialize(){this.lifecycle=i.Lifecycle.CONSTRUCTING}constructed(){this.lifecycle=i.Lifecycle.CONSTRUCTED}destroy(){this.lifecycle=i.Lifecycle.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==i.Lifecycle.INITIALIZING}get(e){const t=this.propertiesByName.get(e);if(!h(t))return;if(t.metadata.get)return t.getComputed(this);this.mutable&&l.trackAccess(t);const r=this.store;return r.has(e)?r.get(e):t.metadata.value}originOf(e){const t=this.store.originOf(e);if(void 0===t){const t=this.propertiesByName.get(e);if(void 0!==t&&t.flags&u.Flags.HasDefaultValue)return"defaults"}return o.idToName(t)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const t=this.propertiesByName.get(e);if(h(t))return this.store.has(e)?this.store.get(e):t.metadata.value}internalSet(e,t){const r=this.propertiesByName.get(e);h(r)&&this._internalSet(r,t)}getDependsInfo(e,t,r){const n=this.propertiesByName.get(t);if(!h(n))return"";const i=new c.TrackingTarget,o=l.runTracked(i,()=>n.metadata.get?.call(e));let a=`${r}${e.declaredClass.split(".").pop()}.${t}: ${o}\n`;const u=i.accessed??new Set;if(0===u.size)return a;r+="  ";for(const e of u)e instanceof s.Property&&(a+=`${r}${e.propertyName}: undefined\n`);return a}setAtOrigin(e,t,r){const n=this.propertiesByName.get(e);if(h(n))return this._setAtOrigin(n,t,r)}isOverridden(e){const t=this.propertiesByName.get(e);return void 0!==t&&!!(t.flags&u.Flags.Overridden)}clearOrigin(e,t){const r=this.store,n=this.propertiesByName.get(e);if(!h(n))return;const i=r.isAtOrigin(e,t)&&!(n.flags&u.Flags.Overridden);r.delete(e,t),i&&n.notifyChange()}clearOverride(e){const t=this.propertiesByName.get(e);t&&t.flags&u.Flags.Overridden&&(t.flags&=~u.Flags.Overridden,t.notifyChange())}override(e,t){const r=this.propertiesByName.get(e);if(!f(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(d.release(e),!r)return;t=i}r.flags|=u.Flags.Overridden,this._internalSet(r,t)}set(e,t){const r=this.propertiesByName.get(e);if(!f(r,0,t,this))return;const n=r.metadata.cast;if(n){const e=this._cast(n,t),{valid:r,value:i}=e;if(d.release(e),!r)return;t=i}const i=r.metadata.set;i?i.call(this.host,t):this._internalSet(r,t)}setDefaultOrigin(e){this._origin=o.nameToId(e)}getDefaultOrigin(){return o.idToName(this._origin)}notifyChange(e){const t=this.propertiesByName.get(e);void 0!==t&&t.notifyChange()}invalidate(e){const t=this.propertiesByName.get(e);void 0!==t&&t.invalidate()}commit(e){const t=this.propertiesByName.get(e);void 0!==t&&t.commit()}_internalSet(e,t){const r=this.lifecycle!==i.Lifecycle.INITIALIZING?this._origin:0;this._setAtOrigin(e,t,r)}_setAtOrigin(e,r,n){const i=this.store,s=e.propertyName;if(i.isAtOrigin(s,n)&&t.equals(r,i.get(s))&&~e.flags&u.Flags.Overridden)return;const o=i.isBelowOrigin(s,n)||i.isAtOrigin(s,n);o&&e.invalidate(),i.set(s,r,n),o&&e.commit(),l.initializeDependencyTracking(this.host,e)}_cast(e,t){const r=d.acquire();return r.valid=!0,r.value=t,e&&(r.value=e.call(this.host,t,r)),r}}})},"esri/core/accessorSupport/Property":function(){define(["exports","./ObservableBase","./tracking","./tracking/Flags","./tracking/TrackingTarget"],function(e,t,r,n,i){"use strict";class s extends t.ObservableBase{constructor(e,t){super(),this.propertyName=e,this.metadata=t,this.trackingTarget=new i.TrackingTarget(this),this.flags=0,this.flags=n.Flags.Dirty|(t.nonNullable?n.Flags.NonNullable:0)|(t.hasOwnProperty("value")?n.Flags.HasDefaultValue:0)|(void 0===t.get?n.Flags.DepTrackingInitialized:0)|(void 0===t.dependsOn?n.Flags.AutoTracked:0)}destroy(){this.flags&n.Flags.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&r.trackAccess(this);const t=e.store,i=this.propertyName,s=this.flags,o=t.get(i);if(s&n.Flags.Computing)return o;if(~s&n.Flags.Dirty&&t.has(i))return o;this.flags|=n.Flags.Computing;const a=e.host;let l;s&n.Flags.AutoTracked?l=r.runTracked(this.trackingTarget,this.metadata.get,a):(r.trackExplicitDependencies(a,this),l=this.metadata.get.call(a)),this.flags|=n.Flags.DepTrackingInitialized,t.set(i,l,1);const u=t.get(i);return u===o?this.flags&=~n.Flags.Dirty:r.runUntracked(this.commit,this),this.flags&=~n.Flags.Computing,u}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~n.Flags.Dirty,this.onCommitted()}onInvalidated(){~this.flags&n.Flags.Overridden&&(this.flags|=n.Flags.Dirty);const e=this._observers;if(e&&e.length>0)for(const t of e)t.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onCommitted()}}}e.Property=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/ObservableBase":function(){define(["exports","../handleUtils","./tracking/ObservationHandle"],function(e,t,r){"use strict";const n=t.makeHandle();e.ObservableBase=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return n;null==this._observers&&(this._observers=[]);const t=this._observers;let i=!1,s=!1;const o=t.length;for(let r=0;r<o;++r){const n=t[r];if(n.destroyed)s=!0;else if(n===e){i=!0;break}}return i||(t.push(e),s&&this._removeDestroyedObservers()),new r.ObservationHandle(t,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||0===e.length)return;const t=e.length;let r=0;for(let n=0;n<t;++n){for(;n+r<t&&e[n+r].destroyed;)++r;if(r>0){if(!(n+r<t))break;e[n]=e[n+r]}}e.length=t-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(null!=e){for(const t of e)t.onCommitted();this._observers=null}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/ObservationHandle":function(){define(["exports","../../arrayUtils"],function(e,t){"use strict";e.ObservationHandle=class{constructor(e,t){this._observers=e,this._observer=t}remove(){t.remove(this._observers,this._observer)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/PropertyOrigin":function(){define(["exports"],function(e){"use strict";function t(e){switch(e){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function r(e){switch(e){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}e.idToName=r,e.idToReadableName=function(e){return r(e)},e.idToWritableName=function(e){return r(e)},e.nameToId=t,e.originIdNum=8,e.readableNameToId=function(e){return t(e)},e.writableNameToId=function(e){return t(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/Store":function(){define(["exports","../lang"],function(e,t){"use strict";class r{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new r;return this._values.forEach((r,i)=>{e&&e.has(i)||n.set(i,t.clone(r))}),n}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,t){this._values.set(e,t)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,t){return this.has(e)}isBelowOrigin(e,t){return!this.has(e)}forEach(e){this._values.forEach(e)}}e.Store=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/testSupport":function(){define(["exports"],function(e){"use strict";let t;e.getAccessorInterceptor=function(){return t},e.setAccessorInterceptor=function(e){t=e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/DefaultsStore":function(){define(["exports","../lang"],function(e,t){"use strict";class r{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const n=new r;return this._values.forEach((r,i)=>{e&&e.has(i)||n.set(i,t.clone(r.value),r.origin)}),n}get(e,t){t=this._normalizeOrigin(t);const r=this._values.get(e);return null==t||r?.origin===t?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const t=[...this._values.keys()];return null==e?t:t.filter(t=>this._values.get(t)?.origin===e)}set(e,t,r){if(0===(r=this._normalizeOrigin(r))){const t=this._values.get(e);if(null!=t?.origin&&t.origin>r)return}this._values.set(e,new n(t,r))}delete(e,t){null!=(t=this._normalizeOrigin(t))&&this._values.get(e)?.origin!==t||this._values.delete(e)}has(e,t){return null!=(t=this._normalizeOrigin(t))?this._values.get(e)?.origin===t:this._values.has(e)}isAtOrigin(e,t){return t=this._normalizeOrigin(t),this.has(e,t)&&this.originOf(e)===t}isBelowOrigin(e,t){return t=this._normalizeOrigin(t),!this.has(e)||this.originOf(e)<t}forEach(e){this._values.forEach(({value:t},r)=>e(t,r))}_normalizeOrigin(e){if(null!=e)return 0===e?e:7}}class n{constructor(e,t){this.value=e,this.origin=t}}e.DefaultsStore=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/defaultsStoreUtils":function(){define(["exports"],function(e){"use strict";e.setupConstructedDefaults=function(e,t,r){t.keys().forEach(e=>{r.set(e,t.get(e),0)});const n=e.metadata;Object.keys(n).forEach(t=>{e.internalGet(t)&&r.set(t,e.internalGet(t),0)})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/read":function(){define(["exports","./get","./utils","./extensions/serializableProperty"],function(e,t,r,n){"use strict";function i(e,r,n){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const i=e.read.source;if("string"==typeof i){if(i===r)return!0;if(i.includes(".")&&i.startsWith(r)&&t.exists(i,n))return!0}else for(const e of i){if(e===r)return!0;if(e.includes(".")&&e.startsWith(r)&&t.exists(e,n))return!0}return!1}function s(e,t,r,s,o){let a=n.originSpecificReadPropertyDefinition(t[r],o);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[r]=!0);for(const l of Object.getOwnPropertyNames(t))a=n.originSpecificReadPropertyDefinition(t[l],o),i(a,r,s)&&(e[l]=!0)}function o(e,t,r,i){const s=r.metadata,o=n.originSpecificPropertyDefinition(s[t],i),a=o?.default;if(void 0===a)return;const l="function"==typeof a?a.call(e,t,i):a;void 0!==l&&r.set(t,l)}const a={origin:"service"};e.read=function(e,i,l=a){if(!i||"object"!=typeof i)return;const u=r.getProperties(e),c=u.metadata,h={};for(const e of Object.getOwnPropertyNames(i))s(h,c,e,i,l);u.setDefaultOrigin(l.origin);for(const r of Object.getOwnPropertyNames(h)){const s=n.originSpecificReadPropertyDefinition(c[r],l).read,o=s?.source;let a;a=o&&"string"==typeof o?t.valueOf(i,o):i[r],s?.reader&&(a=s.reader.call(e,a,i,l)),void 0!==a&&u.set(r,a)}if(!l||!l.ignoreDefaults){u.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(c))h[t]||o(e,t,u,l)}u.setDefaultOrigin("user")},e.readLoadable=function(e,t,r,n=a){const i={...n,messages:[]};r(i),i.messages?.forEach(t=>{"warning"!==t.type||e.loaded?n?.messages&&n.messages.push(t):e.loadWarnings.push(t)})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/write":function(){define(["exports","../arrayUtils","../Error","../Logger","./get","./PropertyOrigin","./utils","./extensions/serializableProperty"],function(e,t,r,n,i,s,o,a){"use strict";function l(e,t,r,n,i){const s={};return t.write?.writer?.call(e,n,s,r,i),s}function u(e,o,a,l,u,c){if(!l?.write)return!1;const h=i.get(e,a);if(!u&&l.write.overridePolicy){const t=l.write.overridePolicy.call(e,h,a,c??void 0);void 0!==t&&(u=t)}if(u||(u=l.write),!u||!1===u.enabled)return!1;if(u.layerContainerTypes&&c?.layerContainerType&&!u.layerContainerTypes.includes(c.layerContainerType))return!1;if((null===h&&!u.allowNull&&!u.writerEnsuresNonNull||void 0===h)&&u.isRequired){const t=new r("web-document-write:property-required",`Missing value for required property '${a}' on '${e.declaredClass}'`,{propertyName:a,target:e});return t&&c?.messages?c.messages.push(t):t&&!c&&n.getLogger("esri.core.accessorSupport.write").error(t.name,t.message),!1}return!(void 0===h||null===h&&!u.allowNull&&!u.writerEnsuresNonNull||!(u.alwaysWriteDefaults||o.store.multipleOriginsSupported&&0!==o.store.originOf(a))&&function(e,r,n,i,s){const o=i.default;if(void 0===o)return!1;if(null!=i.defaultEquals)return i.defaultEquals(s);if("function"==typeof o){if(Array.isArray(s)){const i=o.call(e,r,n??void 0);return t.equals(i,s)}return!1}return o===s}(e,a,c,l,h)||!u.ignoreOrigin&&c?.origin&&o.store.multipleOriginsSupported&&o.store.originOf(a)<s.nameToId(c.origin))}e.willPropertyWrite=function(e,t,r,n){const i=o.getProperties(e),s=i.metadata,l=a.originSpecificWritePropertyDefinition(s[t],n);return!!l&&u(e,i,t,l,r,n)},e.write=function(e,t,r){if(e&&"function"==typeof e.toJSON&&(!e.toJSON.isDefaultToJSON||!e.write))return o.merge(t,e.toJSON(r));const n=o.getProperties(e),c=n.metadata;for(const h in c){const f=a.originSpecificWritePropertyDefinition(c[h],r);if(!u(e,n,h,f,void 0,r))continue;const d=i.get(e,h),p=l(e,f,f.write&&"string"==typeof f.write.target?f.write.target:h,d,r);Object.keys(p).length>0&&(t=o.merge(t,p),r?.resources?.pendingOperations?.length&&r.resources.pendingOperations.push(Promise.all(r.resources.pendingOperations).then(()=>o.merge(t,p,()=>"replace-arrays"))),r?.writtenProperties&&r.writtenProperties.push({target:e,propName:h,oldOrigin:s.idToReadableName(n.store.originOf(h)),newOrigin:r.origin}))}return t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/decorators/reader":function(){define(["exports","./property"],function(e,t){"use strict";e.reader=function(e,r,n){let i,s;return void 0===r||Array.isArray(r)?(s=e,n=r,i=[void 0]):(s=r,i=Array.isArray(e)?e:[e]),(e,r)=>{const o=e.constructor.prototype;i.forEach(i=>{const a=t.propertyJSONMeta(e,i,s);a.read&&"object"==typeof a.read||(a.read={}),a.read.reader=o[r],n&&(a.read.source=(a.read.source||[]).concat(n))})}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/SpatialReference":function(){define(["exports","../chunks/tslib.es6","../core/Accessor","../core/JSONSupport","../core/lang","../core/unitUtils","../core/accessorSupport/ensureType","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./support/spatialReferenceUtils"],function(e,t,r,n,i,s,o,a,l,u,c){"use strict";var h;return e.default=class extends n.JSONSupport{static{h=this}static{this.GCS_NAD_1927=null}static{this.WGS84=null}static{this.WebMercator=null}static{this.PlateCarree=null}static fromJSON(e){if(!e)return null;if(102100===e?.wkid)return h.WebMercator;if(4326===e?.wkid)return h.WGS84;const t=new h;return t.read(e),t}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){if(e&&"object"==typeof e)return e;const t="string"==typeof e?"wkt":"wkid";return{[t]:e}}get isWGS84(){return c.isWGS84(this)}get isWebMercator(){return c.isWebMercator(this)}get isGeographic(){return c.isGeographic(this)}get isWrappable(){return c.isWrappable(this)}get metersPerUnit(){return s.getMetersPerUnitForSR(this)}get unit(){return s.getUnitString(this)||(this.isGeographic?"degrees":null)}writeWkt(e,t){this.wkid||(t.wkt=e)}clone(){if(this===h.WGS84)return new h(c.wgs84);if(this===h.WebMercator)return new h(c.webMercator);const e=new h;return null!=this.wkid?(e.wkid=this.wkid,null!=this.latestWkid&&(e.latestWkid=this.latestWkid),null!=this.vcsWkid&&(e.vcsWkid=this.vcsWkid),null!=this.latestVcsWkid&&(e.latestVcsWkid=this.latestVcsWkid)):(null!=this.wkt&&(e.wkt=this.wkt),null!=this.wkt2&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=i.clone(this.imageCoordinateSystem)),e}equals(e){if(null==e)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(null==this.imageCoordinateSystem||null==e.imageCoordinateSystem)return!1;const{id:t,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,i=this.imageCoordinateSystem;return null==t||n?JSON.stringify(i)===JSON.stringify(e.imageCoordinateSystem):r?i.id===t&&i.referenceServiceName===r:i.id===t}return c.equals(this,e)}toJSON(e){return this.write(void 0,e)}},t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWGS84",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWebMercator",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isGeographic",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"isWrappable",null),t.__decorate([a.property({type:o.Integer,json:{write:!0}})],e.default.prototype,"latestWkid",void 0),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"metersPerUnit",null),t.__decorate([a.property({readOnly:!0})],e.default.prototype,"unit",null),t.__decorate([a.property({type:o.Integer,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkt}}}}}}})],e.default.prototype,"wkid",void 0),t.__decorate([a.property({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:null==this.wkid}}}}}}})],e.default.prototype,"wkt",void 0),t.__decorate([u.writer("wkt"),u.writer("web-scene","wkt")],e.default.prototype,"writeWkt",null),t.__decorate([a.property({type:String,json:{write:!1}})],e.default.prototype,"wkt2",void 0),t.__decorate([a.property({type:o.Integer,json:{write:!0}})],e.default.prototype,"vcsWkid",void 0),t.__decorate([a.property({type:o.Integer,json:{write:!0}})],e.default.prototype,"latestVcsWkid",void 0),t.__decorate([a.property()],e.default.prototype,"imageCoordinateSystem",void 0),e.default=h=t.__decorate([l.subclass("esri.geometry.SpatialReference")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default.GCS_NAD_1927=r.freeze(new e.default({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),e.default.WGS84=r.freeze(new e.default(c.wgs84)),e.default.WebMercator=r.freeze(new e.default(c.webMercator)),e.default.PlateCarree=r.freeze(new e.default(c.plateCarree)),e.default})},"esri/core/unitUtils":function(){define(["exports","./has","./jsonMap","../geometry/ellipsoidUtils","../geometry/support/Ellipsoid","../geometry/support/spatialReferenceUtils","../geometry/support/WKIDUnitConversion"],function(e,t,r,n,i,s,o){"use strict";const a=i.earth.radius*Math.PI/200,l=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,u=o,c=/UNIT\[([^\]]+)]/i,h=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),f=r.strict()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),d=e=>e*e,p=e=>e*e*e,m={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:d(.001)},"square-centimeters":{inBaseUnits:d(.01)},"square-decimeters":{inBaseUnits:d(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:d(1e3)},"square-inches":{inBaseUnits:d(.0254)},"square-feet":{inBaseUnits:d(.3048)},"square-yards":{inBaseUnits:d(.9144)},"square-miles":{inBaseUnits:d(1609.344)},"square-nautical-miles":{inBaseUnits:d(1852)},"square-us-feet":{inBaseUnits:d(1200/3937)},acres:{inBaseUnits:.0015625*d(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*p(.001)},"cubic-centimeters":{inBaseUnits:1e3*p(.01)},"cubic-decimeters":{inBaseUnits:1e3*p(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*p(1e3)},"cubic-inches":{inBaseUnits:1e3*p(.0254)},"cubic-feet":{inBaseUnits:1e3*p(.3048)},"cubic-yards":{inBaseUnits:1e3*p(.9144)},"cubic-miles":{inBaseUnits:1e3*p(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},y=(()=>{const e={};for(const t in m)for(const r in m[t].units)e[r]=t;return e})(),g=["metric","imperial"],_=[...g,"square-inches","square-feet","square-yards","square-miles","square-nautical-miles","square-us-feet","square-millimeters","square-centimeters","square-decimeters","square-meters","square-kilometers","acres","ares","hectares"],b=[...g,"inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],x=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function w(e){const t=y[e];if(!t)throw new Error("unknown type");return t}function T(e){return m[e].baseUnit}function S(e,t=null){return t=t||w(e),m[t].baseUnit===e}function v(e,t,r){if(t===r)return e;const n=w(t);if(n!==w(r))throw new Error("incompatible units");const i=S(t,n)?e:function(e,t,r){return e*m[r].units[t].inBaseUnits}(e,t,n);return S(r,n)?i:function(e,t,r){return e/m[r].units[t].inBaseUnits}(i,r,n)}function P(e){switch(e){case"metric":return"meters";case"imperial":return"feet";default:return e}}function M(e,t){const r=v(e,t,"meters");return Math.abs(r)<3e3?"meters":"kilometers"}function O(e,t){const r=v(e,t,"meters");return Math.abs(r)<1e5?"meters":"kilometers"}function k(e,t){const r=v(e,t,"feet");return Math.abs(r)<1e3?"feet":"miles"}function E(e,t){const r=v(e,t,"feet");return Math.abs(r)<1e5?"feet":"miles"}function A(e,t){const r=v(e,t,"square-meters");return Math.abs(r)<3e6?"square-meters":"square-kilometers"}function I(e,t){const r=v(e,t,"square-feet");return Math.abs(r)<1e6?"square-feet":"square-miles"}function D(e){return f.fromJSON(e.toLowerCase())||null}function N(e){return R(e)>=n.getReferenceEllipsoid(e).metersPerDegree?"meters":F(e)}function R(e,t=i.earth.metersPerDegree){return C(e,!0)??t}function C(e,t=!1){const r=e?.wkid??null,n=e?.wkt2??e?.wkt??null;let o=null;if(r){if(s.isWKIDFromMars(r))return i.mars.metersPerDegree;if(s.isWKIDFromMoon(r))return i.moon.metersPerDegree;o=u.values[u[r]],!o&&t&&h.has(r)&&(o=a)}else n&&(V(n)?o=L(l.exec(n),o):j(n)&&(o=L(c.exec(n),o)));return o}function L(e,t){return e?.[1]?U(e[1]):t}function U(e){return parseFloat(e.split(",")[1])}function F(e){const t=e?.wkid??null,r=e?.wkt2??e?.wkt??null;let n=null;if(t)n=u.units[u[t]];else if(r){const e=V(r)?l:j(r)?c:null;if(e){const t=e.exec(r);t?.[1]&&(n=function(e){const t=/[\\"']([^\\"']+)/.exec(e);let r=t?.[1];if(!r||!D(r)){const t=U(e);r=null;const n=u.values;for(let e=0;e<n.length;++e)if(Math.abs(t-n[e])<B){r=u.units[e];break}}return r}(t[1]))}}return null!=n?D(n):null}function j(e){return/^GEOCCS/i.test(e)}function V(e){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(e)}const B=1e-7,z=r.strict()({esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"}),G=r.strict()({esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"}),q=r.strict()({esriDUDecimalDegrees:"degrees",esriDURadians:"radians"});e.adaptiveAreaUnit=function(e,t,r){switch(r){case"metric":return A(e,t);case"imperial":return I(e,t);default:return r}},e.adaptiveImperialAreaUnit=I,e.adaptiveImperialLengthUnit=k,e.adaptiveImperialVerticalLengthUnit=E,e.adaptiveLengthUnit=function(e,t,r){switch(r){case"metric":return M(e,t);case"imperial":return k(e,t);default:return r}},e.adaptiveMetricAreaUnit=A,e.adaptiveMetricLengthUnit=M,e.adaptiveMetricVerticalLengthUnit=O,e.adaptiveVerticalLengthUnit=function(e,t,r){switch(r){case"metric":return O(e,t);case"imperial":return E(e,t);default:return r}},e.angleUnitsJSONMap=q,e.areaUnitFromSpatialReference=function(e){const t=F(e);return null==t?null:x.get(t)},e.areaUnitsJSONMap=z,e.baseUnitForUnit=function(e){return T(w(e))},e.baseUnitForUnitType=T,e.convertFromSpatialReferenceUnit=function(e,t,r,n=!1){if(!n&&s.isGeographic(t))throw new Error("Unable to convert from an angular unit to a linear unit.");const i=F(t);return i!==r&&(e=i?v(e,i,r):v(e*=R(t),"meters",r)),e},e.convertToSpatialReferenceUnit=function(e,t,r,n=!1){if(!n&&s.isGeographic(r))throw new Error("Unable to convert from a linear unit to an angular unit.");const i=F(r);return t!==i&&(e=i?v(e,t,i):v(e,t,"meters")/R(r)),e},e.convertUnit=v,e.defaultAreaUnit=function(e){switch(e){case"metric":return"square-meters";case"imperial":return"square-feet";default:return e}},e.defaultLengthUnit=P,e.defaultVerticalLengthUnit=function(e){return P(e)},e.getDefaultUnitSystem=function(e){const t=F(e);if(null==t)return null;switch(t){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null},e.getMetersPerCartesianUnitForSR=function(e){return s.isGeographic(e)?1:R(e)},e.getMetersPerUnit=C,e.getMetersPerUnitForSR=R,e.getMetersPerVerticalUnitForSR=function(e){if(null!=e&&!s.isEarth(e))return 1;const t=R(e);return t>1e5?1:t},e.getUnitString=F,e.getVerticalUnitStringForSR=N,e.gradGcsIds=h,e.inchesPerMeter=39.37,e.isBaseUnit=S,e.isMeasurementSystem=function(e){return"imperial"===e||"metric"===e},e.isProjectedWKT=V,e.lengthToDegrees=function(e,t,r){return v(e,t,"meters")/(r*Math.PI/180)},e.lengthUnitFromSpatialReference=function(e){const t=F(e);return null!=t&&b.includes(t)?t:null},e.lengthUnitsJSONMap=G,e.measurementAreaUnits=_,e.measurementLengthUnits=b,e.unitFromRESTJSON=D,e.unitType=w,e.verticalLengthUnitFromSpatialReference=function(e){const t=N(e);return null!=t&&b.includes(t)?t:null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/jsonMap":function(){define(["exports","./object"],function(e,t){"use strict";class r{constructor(e,r={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=r,this.apiValues=[],this.jsonValues=[],this._apiToJSON=function(e){const t={};for(const r in e)t[e[r]]=r;return t}(e),this.apiValues=n(this._apiToJSON),this.jsonValues=n(this._jsonToAPI),this.read=e=>this.fromJSON(e),this.write=(e,r,n)=>{const i=this.toJSON(e);void 0!==i&&t.setDeepValue(n,i,r)},this.write.isJSONMapWriter=!0}toJSON(e){if(null==e)return null;if(this._apiToJSON.hasOwnProperty(e)){const t=this._apiToJSON[e];return this._options.useNumericKeys?+t:t}return this._options.ignoreUnknown?null:e}fromJSON(e){return null!=e&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}}function n(e){const t=[];for(const r in e)t.push(r);return t.sort(),t}e.JSONMap=r,e.strict=function(){return function(e,t){return new r(e,{ignoreUnknown:!0,...t})}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/ellipsoidUtils":function(){define(["exports","./support/Ellipsoid","./support/spatialReferenceUtils"],function(e,t,r){"use strict";function n(e){return{wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${e.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`}}const i=n(t.earth),s=n(t.mars),o=n(t.moon),a={wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${t.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`},l=s.wkt.toUpperCase(),u=o.wkt.toUpperCase();function c(e){return r.equals(e,i)}e.SphericalECEFSpatialReferenceLike=i,e.SphericalPCPFMarsLike=s,e.SphericalPCPFMoonLike=o,e.WGS84ECEFSpatialReferenceLike=a,e.getReferenceEllipsoid=function(e){if(null!=e&&r.isValid(e)){const n=e.wkid,i=e.wkt2??e.wkt;if(r.isWKIDFromMars(n))return t.mars;const s=i?.toUpperCase();if(i&&s===l)return t.mars;if(r.isWKIDFromMoon(n)||s&&s===u)return t.moon}return t.earth},e.getReferenceEllipsoidFromWKID=function(e){return r.isWKIDFromMars(e)?t.mars:r.isWKIDFromMoon(e)?t.moon:t.earth},e.isSphericalECEF=c,e.isSphericalPCPF=function(e){return c(e)||r.equals(e,s)||r.equals(e,o)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/Ellipsoid":function(){define(["exports"],function(e){"use strict";class t{constructor(e,t,r,n,i,s){this.semiMajorAxis=e,this.flattening=t,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=i;const o=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*o,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=s||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}}const r=new t(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),n=new t(3396190,1/169.8944472236118,23e4,6e4,.111),i=new t(1737400,0,0,0,0);e.Ellipsoid=t,e.earth=r,e.mars=n,e.moon=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/spatialReferenceUtils":function(){define(["exports","../../core/string","../../chunks/pe","./WKIDUnitConversion"],function(e,t,r,n){"use strict";const i=[102100,102113,3857,3785,900913],s=[4326,...i,104905,104971],o=[-20037508.342788905,20037508.342788905],a=[-20037508.342787,20037508.342787],l={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:o,origin:a,dx:1e-5},u={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:o,origin:a,dx:1e-5},102100:l,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:o,origin:a,dx:1e-5},3857:l,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:l};function c(e){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(e)}function h(e){const t=e?.wkid;return null!=t&&t>=2e3&&i.includes(t)}function f(e){return 104971===e||104905===e}function d(e){return f(e?.wkid)}function p(e){return 104903===e}function m(e){return p(e?.wkid)}function y(e){if(null==e)return!1;const t=e.wkid;return null!=t&&t>=2e3||null!=e.wkt2||null!=e.wkt}const g={wkid:4326,wkt:t.replace(u[4326].wkTemplate,{Central_Meridian:"0.0"})};e.equals=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;const r=e.wkid,n=t.wkid;if(null!=r||null!=n){if(r===n)return!0;if(h(e)&&h(t))return!0;const i=e.latestWkid;if(null!=i&&n===i)return!0;const s=t.latestWkid;return null!=s&&r===s}let i,s;return e.wkt2&&t.wkt2?(i=e.wkt2,s=t.wkt2):e.wkt&&t.wkt&&(i=e.wkt,s=t.wkt),!(!i||!s)&&i.toUpperCase()===s.toUpperCase()},e.equalsWithProjectionEngine=async function(e,t){if(e===t)return!0;r.isLoaded()||await r.load();const n=e=>{const t=e.wkt2||e.wkt;if(t){const e=r.PeFactory.fromString(r.PeDefs.PE_TYPE_COORDSYS,t);return e?.getCode()}const n=e.wkid??e.latestWkid;return n?r.PeFactory.coordsys(n)?.getCode():null},i=e?n(e):null,s=t?n(t):null;return null!=i&&null!=s&&i===s},e.getInfo=function(e){const t=e?.wkid;return null!=t&&t>=2e3&&u[t]||null},e.getWktFromWkt=async function(e,t){if(1===t&&!c(e)||2===t&&c(e))return e;r.isLoaded()||await r.load();const n=r.PeFactory.fromString(r.PeDefs.PE_TYPE_NONE,e);return n?.toString(1===t?r.PeDefs.PE_STR_FMT_WKT:r.PeDefs.PE_STR_FMT_WKT2)??null},e.isCGCS2000=function(e){return 4490===e?.wkid},e.isEarth=function(e){return!(d(e)||m(e))},e.isGeographic=function(e){if(!y(e))return!1;const{wkid:t}=e;if(t)return null==n[t];const r=e.wkt2||e.wkt;return!!r&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(r)},e.isMars=d,e.isMoon=m,e.isPlateCarree=function(e){return 32662===e?.wkid},e.isValid=y,e.isWGS84=function(e){return 4326===e?.wkid},e.isWKIDFromMars=f,e.isWKIDFromMoon=p,e.isWKT2=c,e.isWebMercator=h,e.isWrappable=function(e){const t=e?.wkid;return null!=t&&t>=2e3&&s.includes(t)},e.plateCarree={wkid:32662},e.srToRESTValue=function(e){if(!e)return;const{wkid:t,vcsWkid:r}=e;if(t)return r?JSON.stringify({wkid:t,vcsWkid:r}):String(t);const n=e.wkt||e.wkt2;return JSON.stringify(n?r?{wkt:n,vcsWkid:r}:{wkt:n}:{})},e.webMercator={wkid:102100,latestWkid:3857},e.webMercatorOrigin=a,e.webMercatorValid=o,e.wgs84=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/pe":function(){define(["require","exports","../assets","../core/has"],function(e,t,r,n){"use strict";let i;function s(){return!!t._pe}function o(){return!!n("esri-wasm")}function a(){return i||(i=new Promise((t,r)=>e(["./pe-wasm"],t,r)).then(({default:e})=>e({locateFile:e=>r.getAssetUrl(`esri/geometry/support/${e}`)})).then(e=>{k(e)}),i)}t._pe=null;const l={geogToProj(e,r,n){t._pe.ensureCache.prepare();const i=I(n),s=n===i,o=t._pe.ensureFloat64(i),a=t._pe._pe_geog_to_proj(t._pe.getPointer(e),r,o);return a&&D(n,r,o,s),a},projGeog(e,t,r,n){switch(n){case u.PE_TRANSFORM_P_TO_G:return l.projToGeog(e,t,r);case u.PE_TRANSFORM_G_TO_P:return l.geogToProj(e,t,r)}return 0},projToGeog:(e,t,r)=>l.projToGeogCenter(e,t,r,0),projToGeogCenter(e,r,n,i){t._pe.ensureCache.prepare();const s=I(n),o=n===s,a=t._pe.ensureFloat64(s),l=t._pe._pe_proj_to_geog_center(t._pe.getPointer(e),r,a,i);return l&&D(n,r,a,o),l}};class u{static init(){u.PE_BUFFER_MAX=t._pe.PeDefs.prototype.PE_BUFFER_MAX,u.PE_NAME_MAX=t._pe.PeDefs.prototype.PE_NAME_MAX,u.PE_MGRS_MAX=t._pe.PeDefs.prototype.PE_MGRS_MAX,u.PE_USNG_MAX=t._pe.PeDefs.prototype.PE_USNG_MAX,u.PE_DD_MAX=t._pe.PeDefs.prototype.PE_DD_MAX,u.PE_DDM_MAX=t._pe.PeDefs.prototype.PE_DDM_MAX,u.PE_DMS_MAX=t._pe.PeDefs.prototype.PE_DMS_MAX,u.PE_UTM_MAX=t._pe.PeDefs.prototype.PE_UTM_MAX,u.PE_PARM_MAX=t._pe.PeDefs.prototype.PE_PARM_MAX,u.PE_TYPE_NONE=t._pe.PeDefs.prototype.PE_TYPE_NONE,u.PE_TYPE_GEOGCS=t._pe.PeDefs.prototype.PE_TYPE_GEOGCS,u.PE_TYPE_PROJCS=t._pe.PeDefs.prototype.PE_TYPE_PROJCS,u.PE_TYPE_GEOGTRAN=t._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN,u.PE_TYPE_COORDSYS=t._pe.PeDefs.prototype.PE_TYPE_COORDSYS,u.PE_TYPE_UNIT=t._pe.PeDefs.prototype.PE_TYPE_UNIT,u.PE_TYPE_LINUNIT=t._pe.PeDefs.prototype.PE_TYPE_LINUNIT,u.PE_STR_OPTS_NONE=t._pe.PeDefs.prototype.PE_STR_OPTS_NONE,u.PE_STR_AUTH_NONE=t._pe.PeDefs.prototype.PE_STR_AUTH_NONE,u.PE_STR_AUTH_TOP=t._pe.PeDefs.prototype.PE_STR_AUTH_TOP,u.PE_STR_NAME_CANON=t._pe.PeDefs.prototype.PE_STR_NAME_CANON,u.PE_STR_FMT_WKT=t._pe.PeDefs.prototype.PE_STR_FMT_WKT,u.PE_STR_FMT_WKT2=t._pe.PeDefs.prototype.PE_STR_FMT_WKT2,u.PE_PARM_X0=t._pe.PeDefs.prototype.PE_PARM_X0,u.PE_PARM_ND=t._pe.PeDefs.prototype.PE_PARM_ND,u.PE_TRANSFORM_1_TO_2=t._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2,u.PE_TRANSFORM_2_TO_1=t._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1,u.PE_TRANSFORM_P_TO_G=t._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G,u.PE_TRANSFORM_G_TO_P=t._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P,u.PE_HORIZON_RECT=t._pe.PeDefs.prototype.PE_HORIZON_RECT,u.PE_HORIZON_POLY=t._pe.PeDefs.prototype.PE_HORIZON_POLY,u.PE_HORIZON_LINE=t._pe.PeDefs.prototype.PE_HORIZON_LINE,u.PE_HORIZON_DELTA=t._pe.PeDefs.prototype.PE_HORIZON_DELTA}}t.PeDouble=null;const c={},h={},f=e=>{const r=e.getType();switch(r){case u.PE_TYPE_GEOGCS:e=t._pe.castObject(e,t._pe.PeGeogcs);break;case u.PE_TYPE_PROJCS:e=t._pe.castObject(e,t._pe.PeProjcs);break;case u.PE_TYPE_GEOGTRAN:e=t._pe.castObject(e,t._pe.PeGeogtran);break;default:r&u.PE_TYPE_UNIT&&(e=t._pe.castObject(e,t._pe.PeUnit))}return e},d={initialize(){t._pe.PeFactory.prototype.initialize(null)},coordsys:e=>d.factoryByType(u.PE_TYPE_COORDSYS,e),factoryByType(e,r){let n=null,i=c[e];if(i||(i={},c[e]=i),i.hasOwnProperty(String(r))&&(n=i[r],t._pe.compare(n,t._pe.NULL)&&(n=null)),!n){const s=t._pe.PeFactory.prototype.factoryByType(e,r);t._pe.compare(s,t._pe.NULL)||(n=f(s),i[r]=n)}return n},fromString(e,r){let n=null,i=h[e];if(i||(i={},h[e]=i),i.hasOwnProperty(r)&&(n=i[r],t._pe.compare(n,t._pe.NULL)&&(n=null)),!n){const s=t._pe.PeFactory.prototype.fromString(e,r);t._pe.compare(s,t._pe.NULL)||(n=f(s),i[r]=n)}return n},geogcs:e=>d.factoryByType(u.PE_TYPE_GEOGCS,e),geogtran:e=>d.factoryByType(u.PE_TYPE_GEOGTRAN,e),getCode:e=>t._pe.PeFactory.prototype.getCode(e),projcs:e=>d.factoryByType(u.PE_TYPE_PROJCS,e),unit:e=>d.factoryByType(u.PE_TYPE_UNIT,e)};let p;t.PeGCSExtent=null;const m={PE_GTLIST_OPTS_COMMON:0,init(){m.PE_GTLIST_OPTS_COMMON=t._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,p=t._pe._pe_getPeGTlistExtendedEntrySize()},getGTlist(e,r,n,i,s,o){let a=null;const l=new t._pe.PeInteger(o);try{const u=t._pe.PeGTlistExtended.prototype.getGTlist(e,r,n,i,s,l);if((o=l.val)&&(a=[u],o>1)){const e=t._pe.getPointer(u);for(let r=1;r<o;r++)a.push(t._pe.wrapPointer(e+p*r,t._pe.PeGTlistExtendedEntry))}}finally{t._pe.destroy(l)}return a}},y={destroy(e){if(e?.length){for(const t of e)E(t),t.getEntries().forEach(e=>{E(e);const t=e.getGeogtran();E(t),t.getParameters().forEach(E),[t.getGeogcs1(),t.getGeogcs2()].forEach(e=>{E(e);const t=e.getDatum();E(t),E(t.getSpheroid()),E(e.getPrimem()),E(e.getUnit())})});t._pe.PeGTlistExtendedEntry.prototype.Delete(e[0])}}},g={geogToGeog(e,r,n,i,s){t._pe.ensureCache.prepare();const o=I(n),a=n===o,l=t._pe.ensureFloat64(o);let u=0;i&&(u=t._pe.ensureFloat64(i));const c=t._pe._pe_geog_to_geog(t._pe.getPointer(e),r,l,u,s);return c&&D(n,r,l,a),c}},_={geodesicCoordinate(e,r,n,i,s,o,a,l){t._pe.PeLineType.prototype.geodesic_coordinate(e,r,n,i,s,o,a,l)},geodeticCoordinate(e,r,n,i,s,o,a,l,u){t._pe.PeLineType.prototype.geodetic_coordinate(e,r,n,i,s,o,a,l,u)},geodeticDistance(e,r,n,i,s,o,a,l,u,c){t._pe.PeLineType.prototype.geodetic_distance(e,r,n,i,s,o,a,l,u,c)},greatEllipticDistance(e,r,n,i,s,o,a,l,u){t._pe.PeLineType.prototype.great_elliptic_distance(e,r,n,i,s,o,a,l,u)}},b={phiToEta:(e,r)=>t._pe.PeMath.prototype.phi_to_eta(e,r),etaToPhi:(e,r)=>t._pe.PeMath.prototype.eta_to_phi(e,r),phiToPhig:(e,r)=>t._pe.PeMath.prototype.phi_to_phig(e,r),q:(e,r,n)=>t._pe.PeMath.prototype.q(e,r,n),q90:(e,r)=>t._pe.PeMath.prototype.q90(e,r)},x=(e,r,n,i,s,o)=>{let a,l;switch(t._pe.ensureCache.prepare(),e){case"dd":a=t._pe._pe_geog_to_dd,l=u.PE_DD_MAX;break;case"ddm":a=t._pe._pe_geog_to_ddm,l=u.PE_DDM_MAX;break;case"dms":a=t._pe._pe_geog_to_dms,l=u.PE_DMS_MAX}let c=0;r&&(c=t._pe.getPointer(r));const h=I(i),f=t._pe.ensureFloat64(h),d=A(n,l),p=a(c,n,f,s,t._pe.ensureInt32(d));if(p)for(let e=0;e<n;e++)o[e]=t._pe.UTF8ToString(d[e]);return p},w=(e,r,n,i,s)=>{let o;switch(t._pe.ensureCache.prepare(),e){case"dd":o=t._pe._pe_dd_to_geog;break;case"ddm":o=t._pe._pe_ddm_to_geog;break;case"dms":o=t._pe._pe_dms_to_geog}let a=0;r&&(a=t._pe.getPointer(r));const l=i.map(e=>t._pe.ensureString(e)),u=t._pe.ensureInt32(l),c=t._pe.ensureFloat64(new Array(2*n)),h=o(a,n,u,c);return h&&D(s,n,c),h},T={geogToDms:(e,t,r,n,i)=>x("dms",e,t,r,n,i),dmsToGeog:(e,t,r,n)=>w("dms",e,t,r,n),geogToDdm:(e,t,r,n,i)=>x("ddm",e,t,r,n,i),ddmToGeog:(e,t,r,n)=>w("ddm",e,t,r,n),geogToDd:(e,t,r,n,i)=>x("dd",e,t,r,n,i),ddToGeog:(e,t,r,n)=>w("dd",e,t,r,n)};class S{static init(){S.PE_MGRS_STYLE_NEW=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,S.PE_MGRS_STYLE_OLD=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,S.PE_MGRS_STYLE_AUTO=t._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,S.PE_MGRS_180_ZONE_1_PLUS=t._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,S.PE_MGRS_ADD_SPACES=t._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,r,n,i,s,o,a){t._pe.ensureCache.prepare();let l=0;e&&(l=t._pe.getPointer(e));const c=I(n),h=t._pe.ensureFloat64(c),f=A(r,u.PE_MGRS_MAX),d=t._pe.ensureInt32(f),p=t._pe._pe_geog_to_mgrs_extended(l,r,h,i,s,o,d);if(p)for(let e=0;e<r;e++)a[e]=t._pe.UTF8ToString(f[e]);return p}static mgrsToGeogExtended(e,r,n,i,s){t._pe.ensureCache.prepare();let o=0;e&&(o=t._pe.getPointer(e));const a=n.map(e=>t._pe.ensureString(e)),l=t._pe.ensureInt32(a),u=t._pe.ensureFloat64(new Array(2*r)),c=t._pe._pe_mgrs_to_geog_extended(o,r,l,i,u);return c&&D(s,r,u),c}}const v={geogToUsng(e,r,n,i,s,o,a){t._pe.ensureCache.prepare();let l=0;e&&(l=t._pe.getPointer(e));const c=I(n),h=t._pe.ensureFloat64(c),f=A(r,u.PE_MGRS_MAX),d=t._pe.ensureInt32(f),p=t._pe._pe_geog_to_usng(l,r,h,i,s,o,d);if(p)for(let e=0;e<r;e++)a[e]=t._pe.UTF8ToString(f[e]);return p},usngToGeog(e,r,n,i){t._pe.ensureCache.prepare();let s=0;e&&(s=t._pe.getPointer(e));const o=n.map(e=>t._pe.ensureString(e)),a=t._pe.ensureInt32(o),l=t._pe.ensureFloat64(new Array(2*r)),u=t._pe._pe_usng_to_geog(s,r,a,l);return u&&D(i,r,l),u}};class P{static init(){P.PE_UTM_OPTS_NONE=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,P.PE_UTM_OPTS_ADD_SPACES=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,P.PE_UTM_OPTS_NS=t._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,r,n,i,s){t._pe.ensureCache.prepare();let o=0;e&&(o=t._pe.getPointer(e));const a=I(n),l=t._pe.ensureFloat64(a),c=A(r,u.PE_UTM_MAX),h=t._pe.ensureInt32(c),f=t._pe._pe_geog_to_utm(o,r,l,i,h);if(f)for(let e=0;e<r;e++)s[e]=t._pe.UTF8ToString(c[e]);return f}static utmToGeog(e,r,n,i,s){t._pe.ensureCache.prepare();let o=0;e&&(o=t._pe.getPointer(e));const a=n.map(e=>t._pe.ensureString(e)),l=t._pe.ensureInt32(a),u=t._pe.ensureFloat64(new Array(2*r)),c=t._pe._pe_utm_to_geog(o,r,l,i,u);return c&&D(s,r,u),c}}class M{static{this.cache=new Map}static init(){M.PE_PCSINFO_OPTION_NONE=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,M.PE_PCSINFO_OPTION_DOMAIN=t._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,M.PE_POLE_OUTSIDE_BOUNDARY=t._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,M.PE_POLE_POINT=t._pe.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,r=M.PE_PCSINFO_OPTION_DOMAIN){let n=null,i=null;return M.cache.has(e)&&(i=M.cache.get(e),i[r]&&(n=i[r])),n||(n=t._pe.PePCSInfo.prototype.generate(e,r),i||(i=[],M.cache.set(e,i)),i[r]=n),n}}const O={versionString:()=>t._pe.PeVersion.prototype.version_string()};function k(e){function r(e,t,r){e[t]=r(e[t])}t._pe=e,u.init(),m.init(),S.init(),P.init(),M.init(),t.PeDouble=class extends t._pe.PeDouble{constructor(e=NaN){super(e)}destroy(){t._pe.destroy(this)}[Symbol.dispose](){this.destroy()}},t.PeGCSExtent=class extends t._pe.PeGCSExtent{destroy(){t._pe.destroy(this)}[Symbol.dispose](){this.destroy()}};const n=[t._pe.PeAngunit,t._pe.PeDatum,t._pe.PeGeogcs,t._pe.PeGeogtran,t._pe.PeObject,t._pe.PeParameter,t._pe.PePrimem,t._pe.PeProjcs,t._pe.PeSpheroid,t._pe.PeUnit];for(const e of n)r(e.prototype,"getName",e=>function(){return e.call(this,new Array(u.PE_NAME_MAX))});for(const e of[t._pe.PeGeogtran,t._pe.PeProjcs])r(e.prototype,"getParameters",e=>function(){const r=new Array(u.PE_PARM_MAX);let n=e.call(this);for(let e=0;e<r.length;e++){const i=t._pe.getValue(n,"*");r[e]=i?t._pe.wrapPointer(i,t._pe.PeParameter):null,n+=Int32Array.BYTES_PER_ELEMENT}return r});r(t._pe.PeHorizon.prototype,"getCoord",e=>function(t=!1){const r=this.getSize();if(!r)return null;const n=[];return D(n,r,e.call(this),t),n}),r(t._pe.PeGTlistExtendedEntry.prototype,"getEntries",e=>{const r=t._pe._pe_getPeGTlistExtendedGTsSize();return function(){let n=null;const i=e.call(this);if(!t._pe.compare(i,t._pe.NULL)){n=[i];const e=this.getSteps();if(e>1){const s=t._pe.getPointer(i);for(let i=1;i<e;i++)n.push(t._pe.wrapPointer(s+r*i,t._pe.PeGTlistExtendedGTs))}}return n}});const i=t._pe._pe_getPeHorizonSize(),s=e=>function(){let r=this._cache;if(r||(r=new Map,this._cache=r),r.has(e))return r.get(e);let n=null;const s=e.call(this);if(!t._pe.compare(s,t._pe.NULL)){n=[s];const e=s.getNump();if(e>1){const r=t._pe.getPointer(s);for(let s=1;s<e;s++)n.push(t._pe.wrapPointer(r+i*s,t._pe.PeHorizon))}}return r.set(e,n),n};r(t._pe.PeProjcs.prototype,"horizonGcsGenerate",s),r(t._pe.PeProjcs.prototype,"horizonPcsGenerate",s),t._pe.PeObject.prototype.toString=function(e=u.PE_STR_OPTS_NONE){t._pe.ensureCache.prepare();const r=t._pe.getPointer(this),n=t._pe.ensureInt8(new Array(u.PE_BUFFER_MAX));return t._pe.UTF8ToString(t._pe._pe_object_to_string_ext(r,e,n))},t._pe.PeGeogcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},t._pe.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},t._pe.PeProjcs.prototype.destroy=function(){this.Delete(),E(this),this.ptr=0},t._pe.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function E(e){if(!e)return;const r=t._pe.getClass(e);if(!r)return;const n=t._pe.getCache(r);if(!n)return;const i=t._pe.getPointer(e);i&&delete n[i]}function A(e,r){const n=[],i=new Array(r);for(let r=0;r<e;r++)n.push(t._pe.ensureInt8(i));return n}function I(e){return ArrayBuffer.isView(e)?e:Array.isArray(e[0])?e.flat():e}function D(e,r,n,i=!1){if(i)for(let i=0;i<2*r;i++)e[i]=t._pe.getValue(n+i*Float64Array.BYTES_PER_ELEMENT,"double");else{const i=0===e.length;for(let s=0;s<r;s++)i&&(e[s]=new Array(2)),e[s][0]=t._pe.getValue(n,"double"),e[s][1]=t._pe.getValue(n+Float64Array.BYTES_PER_ELEMENT,"double"),n+=2*Float64Array.BYTES_PER_ELEMENT}}const N=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:l,PeDefs:u,get PeDouble(){return t.PeDouble},PeFactory:d,get PeGCSExtent(){return t.PeGCSExtent},PeGTTransformations:g,PeGTlistExtended:m,PeGTlistExtendedEntry:y,PeLineType:_,PeMath:b,PeNotationDms:T,PeNotationMgrs:S,PeNotationUsng:v,PeNotationUtm:P,PePCSInfo:M,PeVersion:O,_init:k,get _pe(){return t._pe},isLoaded:s,isSupported:o,load:a},Symbol.toStringTag,{value:"Module"}));t.PeCSTransformations=l,t.PeDefs=u,t.PeFactory=d,t.PeGTTransformations=g,t.PeGTlistExtended=m,t.PeGTlistExtendedEntry=y,t.PeLineType=_,t.PeMath=b,t.PeNotationDms=T,t.PeNotationMgrs=S,t.PeNotationUsng=v,t.PeNotationUtm=P,t.PePCSInfo=M,t.PeVersion=O,t._init=k,t.isLoaded=s,t.isSupported=o,t.load=a,t.pe=N})},"esri/assets":function(){define(["exports","./config","./request","./core/Error","./core/Logger","./core/urlUtils"],function(e,t,r,n,i,s){"use strict";function o(e){if(!t.assetsPath)throw i.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new n("assets:path-not-set","config.assetsPath is not set");return s.join(t.assetsPath,e)}e.fetchAsset=function(e,t){return r(o(e),t)},e.getAssetUrl=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/request":function(){define(["require","./config","./kernel","./core/Error","./core/has","./core/lang","./core/MapUtils","./core/promiseUtils","./core/urlUtils","./layers/support/arcgisLayerUrl","./portal/support/urlUtils","./support/apiKeyUtils","./support/requestUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h,f){"use strict";const d=e=>Object.freeze(Object.defineProperty({__proto__:null,default:e},Symbol.toStringTag,{value:"Module"}));async function p(t,r){t instanceof URL&&(t=t.toString()),r?.query instanceof URLSearchParams&&(r.query=l.queryToObject(r.query.toString().replaceAll("+"," ")));const n=l.isDataProtocol(t),s=l.isBlobProtocol(t);s||n||(t=l.normalize(t));const c={url:t,requestOptions:{...r}},h=e=>({data:e,getAllHeaders:T,getHeader:T,httpStatus:200,requestOptions:c.requestOptions,url:c.url}),f=l.getInterceptor(t,g.internalInterceptors);if(f){const e=await E(f,c);if(null!=e)return h(e)}let d=l.getInterceptor(t);if(d){const e=await E(d,c);if(null!=e)return h(e);d.after||d.error||(d=null)}if(t=c.url,"image"===(r=c.requestOptions).responseType&&(i("host-webworker")||i("host-node")))throw P("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),c);if("head"===r.method){if(r.body)throw P("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),c);if(n||s)throw P("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),c)}if(await async function(){i("host-webworker")&&(!m&&globalThis.invokeStaticMessage?m=await new Promise((t,r)=>e(["./core/workers/request"],t,r)):y=!0)}(),m)return m.execute(t,r);const p=new AbortController,_=a.onAbort(r,()=>p.abort()),b={controller:p,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:d,params:c,redoRequest:!1,useIdentity:g.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},x=r.useRequestQueue?async function(t){const r=function(e){let t,r;return"string"==typeof e?(t=l.getOrigin(e,!0),r=u.isHostedAgolService(e)):(t=e.origin,r=u.isHostedAgolService(e.toString())),null==t?null:{origin:t,isHosted:r}}(t.params.url);if(!r)return D(t);const{QueueProcessor:n}=await new Promise((t,r)=>e(["./core/QueueProcessor"],t,r)),s=o.getOrCreateMapValue(I,r.origin,()=>{const e=r.isHosted?i("request-queue-concurrency-hosted"):i("request-queue-concurrency-non-hosted");return new n({concurrency:e,process:e=>{if(a.isAborted(e.params.requestOptions))throw P("",a.createAbortError("Request canceled"),e.params);return D(e)}})});return s.push(t)}(b):D(b),w=await x.finally(()=>_?.remove());return d?.after?.(w),w}let m,y=!1;const g=t.request,_="FormData"in globalThis,b=new Set([499,498,403,401]),x=new Set(["COM_0056","COM_0057","SB_0008"]),w=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],T=()=>null,S=Symbol();function v(e){const t=l.getOrigin(e);return!t||t.endsWith(".arcgis.com")||p._corsServers.includes(t)||l.isTrustedServer(t)}function P(e,t,r,i){let o;const l={url:r.url,requestOptions:r.requestOptions,getAllHeaders:T,getHeader:T,ssl:!1};if(t instanceof n)return t.details?(t.details=s.clone(t.details),t.details.url=r.url,t.details.requestOptions=r.requestOptions):t.details=l,t;if(t){const e=i&&(()=>Array.from(i.headers)),r=i&&(e=>i.headers.get(e)),n=i?.status,s=t.message;s&&(o=s),e&&r&&(l.getAllHeaders=e,l.getHeader=r),l.httpStatus=(null!=t.httpCode?t.httpCode:t.code)||n||0,l.subCode=t.subcode,l.messageCode=t.messageCode,"string"==typeof t.details?(l.messages=[t.details],o??=t.details):(l.messages=t.details,o??=l.messages?.[0]),l.raw=S in t?t[S]:t}return o??="Error",a.isAbortError(t)?a.createAbortError():new n(e,o,l)}async function M(){r.id||await new Promise((t,r)=>e(["./identity/IdentityManager"],e=>t(d(e)),r))}function O(e){return w.some(t=>t.test(e))}async function k(e){let t=e.params.url,n=f.getPreferredUrl(t);const s=e.params.requestOptions,o=e.fetchOptions??{},u=l.isBlobProtocol(t)||l.isDataProtocol(t),h=s.responseType||"json",d=u?0:null!=s.timeout?s.timeout:g.timeout;let m=!1;if(!u){e.useSSL&&(t=l.toHTTPS(t));let a={...s.query};e.credentialToken&&(a.token=e.credentialToken);let u=l.objectToQuery(a);i("esri-url-encodes-apostrophe")&&(u=u.replaceAll("'","%27"));const h=n.length+1+u.length;let d;m="delete"===s.method||"post"===s.method||"put"===s.method||!!s.body||h>g.maxUrlLength;const p=s.useProxy||!!l.getProxyRule(t);if(p){const e=l.getProxyUrl(t);d=e.path,!m&&d.length+1+h>g.maxUrlLength&&(m=!0),e.query&&(a={...e.query,...a})}if("HEAD"===o.method&&(m||p)){if(m){if(h>g.maxUrlLength)throw P("request:invalid-parameters",new Error("URL exceeds maximum length"),e.params);throw P("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),e.params)}if(p)throw P("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),e.params)}if(m?(o.method="delete"===s.method?"DELETE":"put"===s.method?"PUT":"POST",s.body?t=l.addQueryParameters(t,a):(o.body=l.objectToQuery(a),o.headers||(o.headers={}),o.headers["Content-Type"]="application/x-www-form-urlencoded")):t=l.addQueryParameters(t,a),p&&(e.useProxy=!0,t=`${d}?${t}`),a.token&&_&&o.body instanceof FormData&&!c.isSecureProxyService(t)&&o.body.set("token",a.token),s.hasOwnProperty("withCredentials"))e.withCredentials=s.withCredentials;else if(!l.hasSameOrigin(t,l.getAppUrl()))if(l.isTrustedServer(t))e.withCredentials=!0;else if(r.id){const n=r.id.findServerInfo(t);n?.webTierAuth&&(e.withCredentials=!0)}e.withCredentials&&(o.credentials="include",f.isNoCorsRequestRequired(t)&&await f.sendNoCorsRequest(m?l.addQueryParameters(t,a):t)),n=f.getPreferredUrl(t)}let y,b,x=0,w=!1;d>0&&(x=setTimeout(()=>{w=!0,e.controller.abort()},d));try{if("native-request-init"===s.responseType)b=o,b.url=n,s.signal?b.signal=s.signal:delete b.signal;else if("image"!==s.responseType||"default"!==o.cache||"GET"!==o.method||m||function(e){if(e)for(const t of Object.getOwnPropertyNames(e))if(e[t])return!0;return!1}(s.headers)||!u&&!e.useProxy&&g.proxyUrl&&!v(t)){if(p._beforeFetch&&await p._beforeFetch(t,o),y=await fetch(n,o),p._afterFetch&&await p._afterFetch(y),e.useProxy||function(e){const t=l.getOrigin(e);t&&!p._corsServers.includes(t)&&p._corsServers.push(t)}(t),"native"===s.responseType)b=y;else if("HEAD"!==o.method)if(y.ok){switch(h){case"array-buffer":b=await y.arrayBuffer();break;case"blob":case"image":b=await y.blob();break;default:b=await y.text()}if(x&&(clearTimeout(x),x=0),"json"===h||"xml"===h||"document"===h)if(b)switch(h){case"json":b=JSON.parse(b);break;case"xml":b=A(b,"application/xml");break;case"document":b=A(b,"text/html")}else b=null;if(b){if("array-buffer"===h||"blob"===h){const e=y.headers.get("Content-Type");if(e&&/application\/json|text\/plain/i.test(e)&&b["blob"===h?"size":"byteLength"]<=750)try{const e=await new Response(b).json();e.error&&(b=e)}catch{}}"image"===h&&b instanceof Blob&&(b=await R(URL.createObjectURL(b),e,!0))}}else{b=await y.text();try{b=JSON.parse(b)}catch{}}}else b=await R(n,e)}catch(r){if("AbortError"===r.name){if(w)throw f.createTimeoutError();throw a.createAbortError("Request canceled")}if(!(!y&&r instanceof TypeError&&g.proxyUrl)||s.body||"delete"===s.method||"head"===s.method||"post"===s.method||"put"===s.method||e.useProxy||v(t))throw r;e.redoRequest=!0,l.addProxyRule({proxyUrl:g.proxyUrl,urlPrefix:l.getOrigin(t)??""})}finally{x&&clearTimeout(x)}return[y,b]}async function E(e,t){if(null!=e.responseData)return e.responseData;if(e.headers&&(t.requestOptions.headers={...t.requestOptions.headers,...e.headers}),e.query&&(t.requestOptions.query={...t.requestOptions.query,...e.query}),e.before){let r,i;try{i=await e.before(t)}catch(e){r=P("request:interceptor",e,t)}if((i instanceof Error||i instanceof n)&&(r=P("request:interceptor",i,t)),r)throw e.error&&e.error(r),r;return i}}function A(e,t){let r;try{r=(new DOMParser).parseFromString(e,t)}catch{}if(!r||r.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return r}p._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],p._beforeFetch=void 0,p._afterFetch=void 0;const I=new Map;async function D(e){let t,n;await async function(e){const t=e.params.url,n=e.params.requestOptions,i=e.controller.signal,s=n.body;let o=null,l=null;if(_&&"HTMLFormElement"in globalThis&&(s instanceof FormData?o=s:s instanceof HTMLFormElement&&(o=new FormData(s))),"string"==typeof s&&(l=s),e.fetchOptions={cache:n.cacheBust?"no-cache":"default",credentials:"same-origin",headers:n.headers||{},method:"head"===n.method?"HEAD":"GET",mode:"cors",priority:g.priority,redirect:"follow",signal:i},(o||l)&&(e.fetchOptions.body=o||l),(y||"anonymous"===n.authMode)&&(e.useIdentity=!1),e.hasToken=!!(/token=/i.test(t)||n.query?.token||o?.get("token")),!e.hasToken){const r=h.getApiKey(t);r&&(n.query??={},n.query.token=r,e.hasToken=!0)}if(e.useIdentity&&!e.hasToken&&!e.credential&&!e.credentialToken&&!O(t)&&!a.isAborted(i)){let s;"immediate"===n.authMode?(await M(),s=await r.id.getCredential(t,{signal:i})):"no-prompt"===n.authMode?(await M(),s=await r.id.getCredential(t,{prompt:!1,signal:i}).catch(()=>{})):r.id&&(s=r.id.findCredential(t)),s&&(e.credential=s,e.credentialToken=s.token,e.useSSL=!!s.ssl)}}(e);try{do{[t,n]=await k(e)}while(!await N(e,t,n))}catch(r){const n=P("request:server",r,e.params,t);throw n.details.ssl=e.useSSL,e.interceptor?.error&&e.interceptor.error(n),n}const i=e.params.url;if(n)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(i)){if(!e.hasToken&&!e.credentialToken&&n.user?.username&&!l.isTrustedServer(i)){const e=l.getOrigin(i,!0);e&&g.trustedServers.push(e)}Array.isArray(n.authorizedCrossOriginNoCorsDomains)&&f.registerNoCorsDomains(n.authorizedCrossOriginNoCorsDomains)}else"json"===(e.params.requestOptions.responseType||"json")&&f.setPreferredHost(i,n);const s=e.credential;if(s&&r.id){const e=r.id.findServerInfo(s.server);let t=e?.owningSystemUrl;if(t){t=t.replace(/\/?$/,"/sharing");const e=r.id.findCredential(t,s.userId);e&&-1===r.id._getIdenticalSvcIdx(t,e)&&e.resources.unshift(t)}}return{data:n,getAllHeaders:t?()=>Array.from(t.headers):T,getHeader:t?e=>t.headers.get(e):T,httpStatus:t?.status??200,requestOptions:e.params.requestOptions,ssl:e.useSSL,url:e.params.url}}async function N(e,t,n){if(e.redoRequest)return e.redoRequest=!1,!1;const i=e.params.requestOptions;if(!t||"native"===i.responseType||"native-request-init"===i.responseType)return!0;let s,o;if(n&&(n.error&&"object"==typeof n.error?s=n.error:"error"===n.status&&Array.isArray(n.messages)&&(s={...n},s[S]=n,s.details=n.messages)),!s&&!t.ok)throw s=new Error(`Unable to load ${t.url} status: ${t.status}`),s[S]=n,s;let a,l=null;s&&(o=Number(s.code),l=s.hasOwnProperty("subcode")?Number(s.subcode):null,a=s.messageCode,a=a?.toUpperCase());const u=i.authMode;if(403===o&&(4===l||s.message?.toLowerCase().includes("ssl")&&!s.message.toLowerCase().includes("permission"))){if(!e.useSSL)return e.useSSL=!0,!1}else if(!e.hasToken&&e.useIdentity&&("no-prompt"!==u||498===o)&&void 0!==o&&b.has(o)&&!O(e.params.url)&&(403!==o||(!a||!x.has(a))&&(null==l||2===l&&e.credentialToken))){await M();try{const t=await r.id.getCredential(e.params.url,{error:P("request:server",s,e.params),credential:e.credential,prompt:"no-prompt"!==u,signal:e.controller.signal,token:e.credentialToken});return e.credential=t,e.credentialToken=t.token,e.useSSL=e.useSSL||t.ssl,!1}catch(t){if("no-prompt"===u)return e.credential=void 0,e.credentialToken=void 0,!1;s=t}}if(s)throw s;return!0}function R(e,t,r=!1){const n=t.controller.signal,i=new Image;return t.withCredentials?i.crossOrigin="use-credentials":i.crossOrigin="anonymous",i.alt="",i.fetchPriority=g.priority,i.src=e,f.loadImageAsync(i,e,r,n)}return p})},"esri/layers/support/arcgisLayerUrl":function(){define(["exports","../../core/urlUtils","../../chunks/persistableUrlUtils"],function(e,t,r){"use strict";const n={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},i=Object.values(n),s=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),o=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${i.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),a=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function l(e){if(null==e)return null;const r=t.urlToObject(e),i=r?.path.match(s)||r?.path.match(o);if(!i)return null;const[,a,l,u,h]=i,f=l.indexOf("/");return{title:c(-1!==f?l.slice(f+1):l),serverType:n[u.toLowerCase()],sublayer:null!=h&&""!==h?parseInt(h,10):null,url:{path:a}}}function u(e){const r=t.urlToObject(e).path.match(a);return r?{serviceUrl:r[1],sublayerId:Number(r[2])}:null}function c(e){return(e=e.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+e.slice(1)}e.cleanTitle=c,e.isArcGISUrl=function(e){return s.test(e)},e.isHostedAgolService=function(e){let r=t.getOrigin(e,!0);return!!r&&(r=r.toLowerCase(),r.endsWith(".arcgis.com")&&(r.startsWith("services")||r.startsWith("tiles")||r.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(r)))},e.isServerOrServicesAGOLUrl=function(e){if(!e)return!1;const r=new t.Url(t.makeAbsolute(e)),n=r.authority?.toLowerCase();return"server.arcgisonline.com"===n||"services.arcgisonline.com"===n},e.isWmsServer=function(e){if(!e)return!1;const t=e.toLowerCase(),r=t.includes("/services/"),n=t.includes("/mapserver/wmsserver"),i=t.includes("/imageserver/wmsserver"),s=t.includes("/wmsserver");return r&&(n||i||s)},e.parse=l,e.parseNonStandardSublayerUrl=u,e.sanitizeUrl=function(e,r){return e?t.removeTrailingSlash(t.removeQueryParameters(e,r)):e},e.sanitizeUrlWithLayerId=function(e){let{url:r}=e;if(!r)return{url:r};r=t.removeQueryParameters(r,e.logger);const n=t.urlToObject(r),i=l(n.path);let s;if(null!=i)null!=i.sublayer&&null==e.layer.layerId&&(s=i.sublayer),r=i.url.path;else if(e.nonStandardUrlAllowed){const e=u(n.path);null!=e&&(r=e.serviceUrl,s=e.sublayerId)}return{url:t.removeTrailingSlash(r),layerId:s}},e.serverTypes=i,e.titleFromUrlAndName=function(e,t){const r=[];if(e){const t=l(e);null!=t&&t.title&&r.push(t.title)}if(t){const e=c(t);r.push(e)}if(2===r.length){if(r[0].toLowerCase().includes(r[1].toLowerCase()))return r[0];if(r[1].toLowerCase().includes(r[0].toLowerCase()))return r[1]}return r.join(" - ")},e.writeUrlWithLayerId=function(e,n,i,s,o){r.write(n,s,"url",o),s.url&&null!=e.layerId&&(s.url=t.join(s.url,i,e.layerId.toString()))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/persistableUrlUtils":function(){define(["exports","../kernel","../core/urlUtils","../portal/support/urlUtils"],function(e,t,r,n){"use strict";function i(e,t){const n=t?.url?.path;if(e&&n&&(e=r.makeAbsolute(e,n,{preserveProtocolRelative:!0}),t.portalItem&&t.readResourcePaths)){const n=r.makeRelative(e,t.portalItem.itemUrl);null!=n&&n.startsWith(u)&&t.readResourcePaths.push(t.portalItem.resourceFromPath(n).path)}return(e=d(e,t?.portal))&&l.test(e)?p(e):e}function s(e,t,n=0){if(null==(e=e&&l.test(e)?m(e):e))return e;!r.isAbsolute(e)&&t?.blockedRelativeUrls&&t.blockedRelativeUrls.push(e);let i=r.makeAbsolute(e);if(t){const n=t.verifyItemRelativeUrls?.rootPath||t.url?.path;if(n){const s=d(n,t.portal),o=d(i,t.portal);i=r.makeRelative(o,s,s),null!=i&&i!==o&&i!==e&&t.verifyItemRelativeUrls&&t.verifyItemRelativeUrls.writtenUrls.push(i)}}return i=f(i,t?.portal),r.isAbsolute(i)&&(i=r.normalize(i)),t?.resources&&t?.portalItem&&!r.isAbsolute(i)&&!r.isDataProtocol(i)&&0===n&&t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(i),compress:!1}),i}function o(e,t,r){return i(e,r)}function a(e,t,r,n){const i=s(e,n);void 0!==i&&(t[r]=i)}const l=/\/items\/([^/]+)\/resources\/(.*)/,u="./resources/";function c(e){const t=e?.match(l)??null;return t?.[1]??null}function h(e){const t=e?.match(l)??null;if(null==t)return null;const n=t[2],i=n.lastIndexOf("/");if(-1===i){const{path:e,extension:t}=r.splitPathExtension(n);return{prefix:null,filename:e,extension:t}}const{path:s,extension:o}=r.splitPathExtension(n.slice(i+1));return{prefix:n.slice(0,i),filename:s,extension:o}}function f(e,t){return t&&!t.isPortal&&t.urlKey&&t.customBaseUrl?r.changeDomain(e,`${t.urlKey}.${t.customBaseUrl}`,t.portalHostname):e}function d(e,t){if(!t||t.isPortal||!t.urlKey||!t.customBaseUrl)return e;const n=`${t.urlKey}.${t.customBaseUrl}`,i=r.getAppUrl();return r.hasSameOrigin(i,`${i.scheme}://${n}`)?r.changeDomain(e,t.portalHostname,n):r.changeDomain(e,n,t.portalHostname)}function p(e){if(!e)return e||null;let r=e;return r&&t.id&&!t.id.findCredential(r)&&(r=n.normalizeArcGISOnlineOrgDomain(r),r=r.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),r=r.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),r=r.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),r}function m(e){if(!e)return e||null;let r=e;return r=r.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),r=r.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),r=r.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),r&&t.id&&!t.id.findCredential(r)&&(r=n.normalizeArcGISOnlineOrgDomain(r)),r}const y=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:f,fromCDNUrl:m,fromJSON:i,itemIdFromResourceUrl:c,prefixAndFilenameFromResourceUrl:h,read:o,toCDNUrl:p,toJSON:s,write:a},Symbol.toStringTag,{value:"Module"}));e.ensureMainOnlineDomain=f,e.fromCDNUrl=m,e.fromJSON=i,e.itemIdFromResourceUrl=c,e.persistableUrlUtils=y,e.prefixAndFilenameFromResourceUrl=h,e.read=o,e.toCDNUrl=p,e.toJSON=s,e.write=a})},"esri/support/apiKeyUtils":function(){define(["exports","../config","../core/urlUtils"],function(e,t,r){"use strict";const n=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function i(e){if(!s(e))return null;const r=t=>t instanceof RegExp?t.test(e):"string"==typeof t&&e.startsWith(t),n=t.apiKeys;if(Array.isArray(n.scopes))for(const e of n.scopes)if(Array.isArray(e.urls)){if(e.urls.some(r))return e.token}else if(r(e.urls))return e.token;return n.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(e)?n.basemapStyles:t.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(e)?t.apiKey:null}function s(e){const t=r.getOrigin(e,!0);return!!t&&!n.has(t)&&!e.endsWith("/sharing/rest/generateToken")}e.getApiKey=i,e.hasBasemapStylesApiKey=function(){return null!=t.apiKey||null!=t.apiKeys.basemapStyles},e.isApiKeyApplicable=function(e,t){return t?s(e):null!=i(e)},e.supportsApiKey=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/requestUtils":function(){define(["exports","../config","../core/has","../core/promiseUtils","../core/urlUtils","../layers/support/arcgisLayerUrl","../portal/support/urlUtils"],function(e,t,r,n,i,s,o){"use strict";function a(){try{return new DOMException("Aborted","AbortError")}catch{const e=new Error;return e.name="AbortError",e}}const l="Timeout exceeded",u=new Map;e.createTimeoutError=function(){return new Error(l)},e.getPreferredUrl=function(e){const t=s.parse(e)?.url.path.toLowerCase();if(!t)return e;const r=u.get(t);return r?i.changeHost(e,r):e},e.isNoCorsRequestRequired=function(e){const r=t.request.crossOriginNoCorsDomains;if(r){let t=i.getOrigin(e);if(t)return t=t.toLowerCase(),!i.hasSameOrigin(t,i.getAppUrl())&&r[t]<Date.now()-36e5}return!1},e.isTimeoutError=function(e){return"object"==typeof e&&!!e&&"message"in e&&e.message===l},e.loadImageAsync=function(e,t,i=!1,s){return new Promise((o,l)=>{if(n.isAborted(s))return void l(a());let u=()=>{f(),l(new Error(`Unable to load ${t}`))},c=()=>{const t=e;f(),o(t)},h=()=>{if(!e)return;const t=e;f(),t.src="",l(a())};const f=()=>{r("esri-image-decode")||(e.removeEventListener("error",u),e.removeEventListener("load",c)),u=null,c=null,e=null,null!=s&&s.removeEventListener("abort",h),h=null,i&&URL.revokeObjectURL(t)};null!=s&&s.addEventListener("abort",h),r("esri-image-decode")?e.decode().then(c,u):(e.addEventListener("error",u),e.addEventListener("load",c))})},e.preferredHosts=u,e.registerNoCorsDomains=function(e){t.request.crossOriginNoCorsDomains||(t.request.crossOriginNoCorsDomains={});const r=t.request.crossOriginNoCorsDomains;for(let t of e)t=t.toLowerCase(),/^https?:\/\//.test(t)?r[i.getOrigin(t)??""]=0:(r[i.getOrigin("http://"+t)??""]=0,r[i.getOrigin("https://"+t)??""]=0)},e.sendNoCorsRequest=async function(e){const r=i.urlToObject(e);e=r.path,"json"===r.query?.f&&(e+="?f=json");try{await fetch(e,{mode:"no-cors",credentials:"include"})}catch{}const n=t.request.crossOriginNoCorsDomains,s=i.getOrigin(e);n&&s&&(n[s.toLowerCase()]=Date.now())},e.setPreferredHost=function(e,t){const r=t?.preferredHost;if(!r||i.hasSameOrigin(e,`https://${r}`,!0))return;const n=s.parse(e);if(!n||"FeatureServer"!==n.serverType||o.isSecureProxyService(e))return;const a=n.url.path.toLowerCase();u.has(a)||u.set(a,r)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/WKIDUnitConversion":function(){define(function(){"use strict";let e;const t={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(e=2e3;e<=2045;e++)t[e]=0;for(e=2056;e<=2065;e++)t[e]=0;for(e=2067;e<=2135;e++)t[e]=0;for(e=2137;e<=2154;e++)t[e]=0;for(e=2161;e<=2170;e++)t[e]=0;for(e=2172;e<=2193;e++)t[e]=0;for(e=2195;e<=2198;e++)t[e]=0;for(e=2200;e<=2203;e++)t[e]=0;for(e=2205;e<=2217;e++)t[e]=0;for(e=2222;e<=2224;e++)t[e]=1;for(e=2225;e<=2250;e++)t[e]=2;for(e=2251;e<=2253;e++)t[e]=1;for(e=2257;e<=2264;e++)t[e]=2;for(e=2274;e<=2279;e++)t[e]=2;for(e=2280;e<=2282;e++)t[e]=1;for(e=2283;e<=2289;e++)t[e]=2;for(e=2290;e<=2292;e++)t[e]=0;for(e=2308;e<=2313;e++)t[e]=0;for(e=2315;e<=2491;e++)t[e]=0;for(e=2494;e<=2866;e++)t[e]=0;for(e=2867;e<=2869;e++)t[e]=1;for(e=2870;e<=2888;e++)t[e]=2;for(e=2891;e<=2895;e++)t[e]=2;for(e=2896;e<=2898;e++)t[e]=1;for(e=2902;e<=2908;e++)t[e]=2;for(e=2915;e<=2920;e++)t[e]=2;for(e=2921;e<=2923;e++)t[e]=1;for(e=2924;e<=2930;e++)t[e]=2;for(e=2931;e<=2962;e++)t[e]=0;for(e=2964;e<=2968;e++)t[e]=2;for(e=2969;e<=2973;e++)t[e]=0;for(e=2975;e<=2991;e++)t[e]=0;for(e=2995;e<=3051;e++)t[e]=0;for(e=3054;e<=3079;e++)t[e]=0;for(e=3081;e<=3088;e++)t[e]=0;for(e=3092;e<=3101;e++)t[e]=0;for(e=3106;e<=3138;e++)t[e]=0;for(e=3146;e<=3151;e++)t[e]=0;for(e=3153;e<=3166;e++)t[e]=0;for(e=3168;e<=3172;e++)t[e]=0;for(e=3174;e<=3203;e++)t[e]=0;for(e=3294;e<=3358;e++)t[e]=0;for(e=3367;e<=3403;e++)t[e]=0;for(e=3408;e<=3416;e++)t[e]=0;for(e=3417;e<=3438;e++)t[e]=2;for(e=3441;e<=3446;e++)t[e]=2;for(e=3447;e<=3450;e++)t[e]=0;for(e=3451;e<=3459;e++)t[e]=2;for(e=3460;e<=3478;e++)t[e]=0;for(e=3554;e<=3559;e++)t[e]=0;for(e=3560;e<=3570;e++)t[e]=2;for(e=3571;e<=3581;e++)t[e]=0;for(e=3594;e<=3597;e++)t[e]=0;for(e=3601;e<=3604;e++)t[e]=0;for(e=3637;e<=3639;e++)t[e]=0;for(e=3665;e<=3667;e++)t[e]=0;for(e=3693;e<=3695;e++)t[e]=0;for(e=3701;e<=3727;e++)t[e]=0;for(e=3728;e<=3739;e++)t[e]=2;for(e=3740;e<=3751;e++)t[e]=0;for(e=3753;e<=3760;e++)t[e]=2;for(e=3761;e<=3773;e++)t[e]=0;for(e=3775;e<=3777;e++)t[e]=0;for(e=3779;e<=3781;e++)t[e]=0;for(e=3783;e<=3785;e++)t[e]=0;for(e=3788;e<=3791;e++)t[e]=0;for(e=3797;e<=3802;e++)t[e]=0;for(e=3814;e<=3816;e++)t[e]=0;for(e=3825;e<=3829;e++)t[e]=0;for(e=3832;e<=3841;e++)t[e]=0;for(e=3844;e<=3852;e++)t[e]=0;for(e=3873;e<=3885;e++)t[e]=0;for(e=3890;e<=3893;e++)t[e]=0;for(e=3907;e<=3912;e++)t[e]=0;for(e=3942;e<=3950;e++)t[e]=0;for(e=3968;e<=3970;e++)t[e]=0;for(e=3973;e<=3976;e++)t[e]=0;for(e=3986;e<=3989;e++)t[e]=0;for(e=3994;e<=3997;e++)t[e]=0;for(e=4048;e<=4051;e++)t[e]=0;for(e=4056;e<=4063;e++)t[e]=0;for(e=4093;e<=4096;e++)t[e]=0;for(e=4390;e<=4398;e++)t[e]=0;for(e=4399;e<=4413;e++)t[e]=2;for(e=4418;e<=4433;e++)t[e]=2;for(e=4455;e<=4457;e++)t[e]=2;for(e=4484;e<=4489;e++)t[e]=0;for(e=4491;e<=4554;e++)t[e]=0;for(e=4568;e<=4589;e++)t[e]=0;for(e=4652;e<=4656;e++)t[e]=0;for(e=4766;e<=4800;e++)t[e]=0;for(e=5014;e<=5016;e++)t[e]=0;for(e=5069;e<=5072;e++)t[e]=0;for(e=5105;e<=5130;e++)t[e]=0;for(e=5167;e<=5188;e++)t[e]=0;for(e=5253;e<=5259;e++)t[e]=0;for(e=5269;e<=5275;e++)t[e]=0;for(e=5292;e<=5311;e++)t[e]=0;for(e=5329;e<=5331;e++)t[e]=0;for(e=5343;e<=5349;e++)t[e]=0;for(e=5355;e<=5357;e++)t[e]=0;for(e=5387;e<=5389;e++)t[e]=0;for(e=5459;e<=5463;e++)t[e]=0;for(e=5479;e<=5482;e++)t[e]=0;for(e=5518;e<=5520;e++)t[e]=0;for(e=5530;e<=5539;e++)t[e]=0;for(e=5550;e<=5552;e++)t[e]=0;for(e=5562;e<=5583;e++)t[e]=0;for(e=5623;e<=5625;e++)t[e]=2;for(e=5631;e<=5639;e++)t[e]=0;for(e=5649;e<=5653;e++)t[e]=0;for(e=5663;e<=5680;e++)t[e]=0;for(e=5682;e<=5685;e++)t[e]=0;for(e=5875;e<=5877;e++)t[e]=0;for(e=5896;e<=5899;e++)t[e]=0;for(e=5921;e<=5940;e++)t[e]=0;for(e=6050;e<=6125;e++)t[e]=0;for(e=6244;e<=6275;e++)t[e]=0;for(e=6328;e<=6348;e++)t[e]=0;for(e=6350;e<=6356;e++)t[e]=0;for(e=6366;e<=6372;e++)t[e]=0;for(e=6381;e<=6387;e++)t[e]=0;for(e=6393;e<=6404;e++)t[e]=0;for(e=6480;e<=6483;e++)t[e]=0;for(e=6511;e<=6514;e++)t[e]=0;for(e=6579;e<=6581;e++)t[e]=0;for(e=6619;e<=6624;e++)t[e]=0;for(e=6625;e<=6627;e++)t[e]=2;for(e=6628;e<=6632;e++)t[e]=0;for(e=6634;e<=6637;e++)t[e]=0;for(e=6669;e<=6692;e++)t[e]=0;for(e=6707;e<=6709;e++)t[e]=0;for(e=6720;e<=6723;e++)t[e]=0;for(e=6732;e<=6738;e++)t[e]=0;for(e=6931;e<=6933;e++)t[e]=0;for(e=6956;e<=6959;e++)t[e]=0;for(e=7005;e<=7007;e++)t[e]=0;for(e=7057;e<=7070;e++)t[e]=2;for(e=7074;e<=7082;e++)t[e]=0;for(e=7109;e<=7118;e++)t[e]=0;for(e=7119;e<=7127;e++)t[e]=1;for(e=7374;e<=7376;e++)t[e]=0;for(e=7528;e<=7586;e++)t[e]=0;for(e=7587;e<=7645;e++)t[e]=2;for(e=7692;e<=7696;e++)t[e]=0;for(e=7755;e<=7787;e++)t[e]=0;for(e=7791;e<=7795;e++)t[e]=0;for(e=7799;e<=7801;e++)t[e]=0;for(e=7803;e<=7805;e++)t[e]=0;for(e=7825;e<=7831;e++)t[e]=0;for(e=7845;e<=7859;e++)t[e]=0;for(e=8013;e<=8032;e++)t[e]=0;for(e=8065;e<=8068;e++)t[e]=1;for(e=8518;e<=8529;e++)t[e]=2;for(e=8533;e<=8536;e++)t[e]=2;for(e=8538;e<=8540;e++)t[e]=2;for(e=8677;e<=8679;e++)t[e]=0;for(e=8836;e<=8840;e++)t[e]=0;for(e=8857;e<=8859;e++)t[e]=0;for(e=8908;e<=8910;e++)t[e]=0;for(e=9154;e<=9159;e++)t[e]=0;for(e=9205;e<=9218;e++)t[e]=0;for(e=9271;e<=9273;e++)t[e]=0;for(e=9295;e<=9297;e++)t[e]=0;for(e=9356;e<=9360;e++)t[e]=0;for(e=9404;e<=9407;e++)t[e]=0;for(e=9476;e<=9482;e++)t[e]=0;for(e=9487;e<=9494;e++)t[e]=0;for(e=9697;e<=9699;e++)t[e]=0;for(e=9821;e<=9865;e++)t[e]=0;for(e=10285;e<=10291;e++)t[e]=0;for(e=10314;e<=10317;e++)t[e]=0;for(e=10448;e<=10465;e++)t[e]=0;for(e=10726;e<=10729;e++)t[e]=0;for(e=10731;e<=10733;e++)t[e]=0;for(e=11114;e<=11118;e++)t[e]=0;for(e=20004;e<=20032;e++)t[e]=0;for(e=20047;e<=20049;e++)t[e]=0;for(e=20062;e<=20092;e++)t[e]=0;for(e=20135;e<=20138;e++)t[e]=0;for(e=20248;e<=20258;e++)t[e]=0;for(e=20348;e<=20358;e++)t[e]=0;for(e=20436;e<=20440;e++)t[e]=0;for(e=20822;e<=20824;e++)t[e]=0;for(e=20904;e<=20932;e++)t[e]=0;for(e=20934;e<=20936;e++)t[e]=0;for(e=21004;e<=21032;e++)t[e]=0;for(e=21035;e<=21037;e++)t[e]=0;for(e=21095;e<=21097;e++)t[e]=0;for(e=21148;e<=21150;e++)t[e]=0;for(e=21207;e<=21264;e++)t[e]=0;for(e=21307;e<=21364;e++)t[e]=0;for(e=21413;e<=21423;e++)t[e]=0;for(e=21453;e<=21463;e++)t[e]=0;for(e=21473;e<=21483;e++)t[e]=0;for(e=21780;e<=21782;e++)t[e]=0;for(e=21891;e<=21894;e++)t[e]=0;for(e=21896;e<=21899;e++)t[e]=0;for(e=22171;e<=22177;e++)t[e]=0;for(e=22181;e<=22187;e++)t[e]=0;for(e=22191;e<=22197;e++)t[e]=0;for(e=22207;e<=22222;e++)t[e]=0;for(e=22229;e<=22232;e++)t[e]=0;for(e=22234;e<=22236;e++)t[e]=0;for(e=22243;e<=22250;e++)t[e]=0;for(e=22262;e<=22265;e++)t[e]=0;for(e=22307;e<=22322;e++)t[e]=0;for(e=22348;e<=22357;e++)t[e]=0;for(e=22407;e<=22422;e++)t[e]=0;for(e=22462;e<=22465;e++)t[e]=0;for(e=22521;e<=22525;e++)t[e]=0;for(e=22607;e<=22622;e++)t[e]=0;for(e=22641;e<=22646;e++)t[e]=0;for(e=22648;e<=22657;e++)t[e]=0;for(e=22707;e<=22722;e++)t[e]=0;for(e=22762;e<=22765;e++)t[e]=0;for(e=22807;e<=22822;e++)t[e]=0;for(e=22991;e<=22994;e++)t[e]=0;for(e=23028;e<=23038;e++)t[e]=0;for(e=23301;e<=23333;e++)t[e]=2;for(e=23830;e<=23853;e++)t[e]=0;for(e=23866;e<=23872;e++)t[e]=0;for(e=23877;e<=23884;e++)t[e]=0;for(e=23886;e<=23894;e++)t[e]=0;for(e=23946;e<=23948;e++)t[e]=0;for(e=24311;e<=24313;e++)t[e]=0;for(e=24342;e<=24347;e++)t[e]=0;for(e=24370;e<=24374;e++)t[e]=10;for(e=24375;e<=24381;e++)t[e]=0;for(e=24718;e<=24721;e++)t[e]=0;for(e=24817;e<=24821;e++)t[e]=0;for(e=24877;e<=24882;e++)t[e]=0;for(e=24891;e<=24893;e++)t[e]=0;for(e=25391;e<=25395;e++)t[e]=0;for(e=25828;e<=25838;e++)t[e]=0;for(e=26191;e<=26195;e++)t[e]=0;for(e=26391;e<=26393;e++)t[e]=0;for(e=26701;e<=26722;e++)t[e]=0;for(e=26729;e<=26799;e++)t[e]=2;for(e=26801;e<=26803;e++)t[e]=2;for(e=26811;e<=26813;e++)t[e]=2;for(e=26847;e<=26870;e++)t[e]=2;for(e=26891;e<=26899;e++)t[e]=0;for(e=26901;e<=26923;e++)t[e]=0;for(e=26929;e<=26946;e++)t[e]=0;for(e=26948;e<=26998;e++)t[e]=0;for(e=27037;e<=27040;e++)t[e]=0;for(e=27205;e<=27232;e++)t[e]=0;for(e=27258;e<=27260;e++)t[e]=0;for(e=27391;e<=27398;e++)t[e]=0;for(e=27561;e<=27564;e++)t[e]=0;for(e=27571;e<=27574;e++)t[e]=0;for(e=27581;e<=27584;e++)t[e]=0;for(e=27591;e<=27594;e++)t[e]=0;for(e=27700;e<=27707;e++)t[e]=0;for(e=28191;e<=28193;e++)t[e]=0;for(e=28348;e<=28358;e++)t[e]=0;for(e=28402;e<=28432;e++)t[e]=0;for(e=28462;e<=28492;e++)t[e]=0;for(e=29118;e<=29122;e++)t[e]=0;for(e=29168;e<=29172;e++)t[e]=0;for(e=29177;e<=29185;e++)t[e]=0;for(e=29187;e<=29195;e++)t[e]=0;for(e=29900;e<=29903;e++)t[e]=0;for(e=30161;e<=30179;e++)t[e]=0;for(e=30491;e<=30494;e++)t[e]=0;for(e=30729;e<=30732;e++)t[e]=0;for(e=31251;e<=31259;e++)t[e]=0;for(e=31265;e<=31268;e++)t[e]=0;for(e=31275;e<=31279;e++)t[e]=0;for(e=31281;e<=31297;e++)t[e]=0;for(e=31461;e<=31469;e++)t[e]=0;for(e=31491;e<=31495;e++)t[e]=0;for(e=31917;e<=31922;e++)t[e]=0;for(e=31965;e<=32e3;e++)t[e]=0;for(e=32001;e<=32003;e++)t[e]=2;for(e=32005;e<=32031;e++)t[e]=2;for(e=32033;e<=32060;e++)t[e]=2;for(e=32064;e<=32067;e++)t[e]=2;for(e=32074;e<=32077;e++)t[e]=2;for(e=32081;e<=32086;e++)t[e]=0;for(e=32107;e<=32130;e++)t[e]=0;for(e=32133;e<=32159;e++)t[e]=0;for(e=32164;e<=32167;e++)t[e]=2;for(e=32180;e<=32199;e++)t[e]=0;for(e=32201;e<=32260;e++)t[e]=0;for(e=32301;e<=32360;e++)t[e]=0;for(e=32401;e<=32460;e++)t[e]=0;for(e=32501;e<=32560;e++)t[e]=0;for(e=32601;e<=32662;e++)t[e]=0;for(e=32664;e<=32667;e++)t[e]=2;for(e=32701;e<=32761;e++)t[e]=0;for(e=53001;e<=53004;e++)t[e]=0;for(e=53008;e<=53019;e++)t[e]=0;for(e=53021;e<=53032;e++)t[e]=0;for(e=53034;e<=53037;e++)t[e]=0;for(e=53042;e<=53046;e++)t[e]=0;for(e=53074;e<=53080;e++)t[e]=0;for(e=54001;e<=54004;e++)t[e]=0;for(e=54008;e<=54019;e++)t[e]=0;for(e=54021;e<=54032;e++)t[e]=0;for(e=54034;e<=54037;e++)t[e]=0;for(e=54042;e<=54046;e++)t[e]=0;for(e=54048;e<=54053;e++)t[e]=0;for(e=54074;e<=54080;e++)t[e]=0;for(e=54090;e<=54096;e++)t[e]=0;for(e=54098;e<=54101;e++)t[e]=0;for(e=65161;e<=65163;e++)t[e]=0;for(e=102001;e<=102040;e++)t[e]=0;for(e=102042;e<=102063;e++)t[e]=0;for(e=102065;e<=102067;e++)t[e]=0;for(e=102070;e<=102117;e++)t[e]=0;for(e=102122;e<=102216;e++)t[e]=0;for(e=102221;e<=102377;e++)t[e]=0;for(e=102382;e<=102388;e++)t[e]=0;for(e=102389;e<=102398;e++)t[e]=2;for(e=102399;e<=102444;e++)t[e]=0;for(e=102445;e<=102447;e++)t[e]=2;for(e=102448;e<=102458;e++)t[e]=0;for(e=102459;e<=102468;e++)t[e]=2;for(e=102469;e<=102499;e++)t[e]=0;for(e=102500;e<=102519;e++)t[e]=1;for(e=102520;e<=102524;e++)t[e]=0;for(e=102525;e<=102529;e++)t[e]=2;for(e=102530;e<=102588;e++)t[e]=0;for(e=102590;e<=102598;e++)t[e]=0;for(e=102601;e<=102603;e++)t[e]=0;for(e=102605;e<=102628;e++)t[e]=0;for(e=102629;e<=102646;e++)t[e]=2;for(e=102648;e<=102700;e++)t[e]=2;for(e=102701;e<=102703;e++)t[e]=0;for(e=102707;e<=102730;e++)t[e]=2;for(e=102733;e<=102758;e++)t[e]=2;for(e=102767;e<=102900;e++)t[e]=0;for(e=102901;e<=102933;e++)t[e]=2;for(e=102934;e<=102950;e++)t[e]=13;for(e=102951;e<=102963;e++)t[e]=0;for(e=102965;e<=102969;e++)t[e]=0;for(e=102971;e<=102973;e++)t[e]=0;for(e=102975;e<=102989;e++)t[e]=0;for(e=102990;e<=102992;e++)t[e]=1;for(e=102997;e<=103002;e++)t[e]=0;for(e=103003;e<=103008;e++)t[e]=2;for(e=103009;e<=103011;e++)t[e]=0;for(e=103012;e<=103014;e++)t[e]=2;for(e=103019;e<=103021;e++)t[e]=0;for(e=103022;e<=103024;e++)t[e]=2;for(e=103029;e<=103031;e++)t[e]=0;for(e=103032;e<=103034;e++)t[e]=2;for(e=103065;e<=103068;e++)t[e]=0;for(e=103074;e<=103076;e++)t[e]=0;for(e=103077;e<=103079;e++)t[e]=1;for(e=103080;e<=103082;e++)t[e]=0;for(e=103083;e<=103085;e++)t[e]=2;for(e=103090;e<=103093;e++)t[e]=0;for(e=103097;e<=103099;e++)t[e]=0;for(e=103100;e<=103102;e++)t[e]=2;for(e=103107;e<=103109;e++)t[e]=0;for(e=103110;e<=103112;e++)t[e]=2;for(e=103113;e<=103116;e++)t[e]=0;for(e=103117;e<=103120;e++)t[e]=2;for(e=103153;e<=103157;e++)t[e]=0;for(e=103158;e<=103162;e++)t[e]=2;for(e=103163;e<=103165;e++)t[e]=0;for(e=103166;e<=103168;e++)t[e]=1;for(e=103169;e<=103171;e++)t[e]=2;for(e=103186;e<=103188;e++)t[e]=0;for(e=103189;e<=103191;e++)t[e]=2;for(e=103192;e<=103195;e++)t[e]=0;for(e=103196;e<=103199;e++)t[e]=2;for(e=103200;e<=103224;e++)t[e]=0;for(e=103225;e<=103227;e++)t[e]=1;for(e=103232;e<=103237;e++)t[e]=0;for(e=103238;e<=103243;e++)t[e]=2;for(e=103244;e<=103246;e++)t[e]=0;for(e=103247;e<=103249;e++)t[e]=2;for(e=103254;e<=103256;e++)t[e]=0;for(e=103257;e<=103259;e++)t[e]=2;for(e=103264;e<=103266;e++)t[e]=0;for(e=103267;e<=103269;e++)t[e]=2;for(e=103300;e<=103375;e++)t[e]=0;for(e=103381;e<=103383;e++)t[e]=0;for(e=103384;e<=103386;e++)t[e]=1;for(e=103387;e<=103389;e++)t[e]=0;for(e=103390;e<=103392;e++)t[e]=2;for(e=103397;e<=103399;e++)t[e]=0;for(e=103400;e<=103471;e++)t[e]=2;for(e=103476;e<=103478;e++)t[e]=0;for(e=103479;e<=103481;e++)t[e]=2;for(e=103486;e<=103488;e++)t[e]=0;for(e=103489;e<=103491;e++)t[e]=2;for(e=103492;e<=103495;e++)t[e]=0;for(e=103496;e<=103499;e++)t[e]=2;for(e=103528;e<=103543;e++)t[e]=0;for(e=103544;e<=103548;e++)t[e]=2;for(e=103549;e<=103551;e++)t[e]=0;for(e=103552;e<=103554;e++)t[e]=1;for(e=103555;e<=103557;e++)t[e]=2;for(e=103558;e<=103560;e++)t[e]=0;for(e=103571;e<=103573;e++)t[e]=0;for(e=103574;e<=103576;e++)t[e]=2;for(e=103577;e<=103580;e++)t[e]=0;for(e=103581;e<=103583;e++)t[e]=2;for(e=103595;e<=103694;e++)t[e]=0;for(e=103696;e<=103699;e++)t[e]=0;for(e=103700;e<=103793;e++)t[e]=2;for(e=103794;e<=103890;e++)t[e]=0;for(e=103891;e<=103896;e++)t[e]=2;for(e=103900;e<=103971;e++)t[e]=2;for(e=103972;e<=103977;e++)t[e]=0;for(e=112e3;e<=112101;e++)t[e]=0;return t})},"esri/core/accessorSupport/decorators/writer":function(){define(["exports","./property"],function(e,t){"use strict";e.writer=function(e,r,n){let i,s;return void 0===r?(s=e,i=[void 0]):"string"!=typeof r?(s=e,i=[void 0],n=r):(s=r,i=Array.isArray(e)?e:[e]),(e,r)=>{const o=e.constructor.prototype;for(const a of i){const i=t.propertyJSONMeta(e,a,s);i.write&&"object"==typeof i.write||(i.write={}),n&&(i.write.target=n),i.write.writer=o[r]}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Point":function(){define(["exports","../chunks/tslib.es6","../core/Accessor","../core/Logger","../core/accessorSupport/decorators/property","../core/accessorSupport/decorators/cast","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../core/accessorSupport/ensureType","./Geometry","./SpatialReference","./support/pointUtils","./support/spatialReferenceUtils","./support/webMercatorUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p,m,y){"use strict";var g;const _=[0,0];function b(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}return e.default=g=class extends f{static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const n=e._get("spatialReference");t._set("spatialReference",r.isFrozen(n)?n:n.clone())}constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(e,t,r,i,s){let o;if(Array.isArray(e))o=e,s=t,e=o[0],t=o[1],r=o[2],i=o[3];else if(e&&"object"==typeof e){if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,r=o.z,i=o.m,(s=o.spatialReference)&&"esri.geometry.SpatialReference"!==s.declaredClass&&(s=new d(s)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)n.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)n.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&s?.isWebMercator){const r=y.lngLatToXY(o.longitude,o.latitude,_);e=r[0],t=r[1]}}else b(r)?(s=r,r=null):b(i)&&(s=i,i=null);const a={x:e,y:t};return null==a.x&&null!=a.y?n.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&n.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),null!=s&&(a.spatialReference=s),null!=r&&(a.z=r),null!=i&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e))}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e))}get latitude(){return p.getLatitude(this)}set latitude(e){const{spatialReference:t,x:r}=this;null!=e&&t&&(t.isWebMercator?this._set("y",y.lngLatToXY(r,e,_)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e))}get longitude(){return p.getLongitude(this)}set longitude(e){const{y:t,spatialReference:r}=this;null!=e&&r&&(r.isWebMercator?this._set("x",y.lngLatToXY(e,t,_)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e))}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e}readX(e){return"string"==typeof e?NaN:e}clone(){const e=new g;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return g.copy(e,this),this}equals(e){if(null==e)return!1;const{x:t,y:r,z:n,m:i,spatialReference:s}=this,{z:o,m:a}=e;let{x:l,y:u,spatialReference:c}=e;if(!s.equals(c))if(s.isWebMercator&&c.isWGS84)[l,u]=y.lngLatToXY(l,u),c=s;else{if(!s.isWGS84||!c.isWebMercator)return!1;[l,u]=y.xyToLngLat(l,u),c=s}return t===l&&r===u&&n===o&&i===a&&s.wkid===c.wkid}offset(e,t,r){return this.x+=e,this.y+=t,null!=r&&(this.z=(this.z??0)+r),this}normalize(){if(!this.spatialReference)return this;const e=m.getInfo(this.spatialReference);if(!e)return this;let t=this.x;const[r,n]=e.valid,i=2*n;let s;return t>n?(s=Math.ceil(Math.abs(t-n)/i),t-=s*i):t<r&&(s=Math.ceil(Math.abs(t-r)/i),t+=s*i),this._set("x",t),this}distance(e){return p.distance(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write({},e)}},t.__decorate([i.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([i.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasM",null),t.__decorate([i.property({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],e.default.prototype,"hasZ",null),t.__decorate([i.property({type:Number})],e.default.prototype,"latitude",null),t.__decorate([i.property({type:Number})],e.default.prototype,"longitude",null),t.__decorate([i.property({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),s.cast(e=>isNaN(e)?e:h.ensureNumber(e))],e.default.prototype,"x",void 0),t.__decorate([c.writer("x")],e.default.prototype,"writeX",null),t.__decorate([l.reader("x")],e.default.prototype,"readX",null),t.__decorate([i.property({type:Number,json:{write:!0}})],e.default.prototype,"y",void 0),t.__decorate([i.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],e.default.prototype,"z",void 0),t.__decorate([i.property({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],e.default.prototype,"m",void 0),e.default=g=t.__decorate([u.subclass("esri.geometry.Point")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default})},"esri/core/accessorSupport/decorators/cast":function(){define(["exports","../ensureType","../metadata"],function(e,t,r){"use strict";const n=Object.prototype.toString;function i(e){const r="__accessorMetadata__"in e?t.ensureType(e):e;return function(...e){if(e.push(r),"number"==typeof e[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return s.apply(this,e)}}function s(e,t,n,i){r.getPropertyMetadata(e,t).cast=i}e.cast=function(...e){var t;if(3!==e.length||"string"!=typeof e[1])return 1===e.length&&"[object Function]"===n.call(e[0])?i(e[0]):1===e.length&&"string"==typeof e[0]?(t=e[0],(e,n)=>{r.getPropertyMetadata(e,t).cast=e[n]}):void 0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/pointUtils":function(){define(["exports","./spatialReferenceUtils","./webMercatorUtils"],function(e,t,r){"use strict";function n({x:e,y:n,spatialReference:i},s=[0,0]){if(i){if(t.isWebMercator(i))return r.xyToLngLat(e,n,s);if(t.isGeographic(i))return s[0]=e,s[1]=n,s}return null}const i=[0,0];e.distance=function(e,t){const r=e.x-t.x,n=e.y-t.y,i=null!=e.z&&null!=t.z?e.z-t.z:0;return Math.sqrt(r*r+n*n+i*i)},e.getLatitude=function(e){return n(e,i)?.[1]??null},e.getLongitude=function(e){return n(e,i)?.[0]??null},e.getLongitudeLatitude=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/webMercatorUtils":function(){define(["exports","../../core/lang","../asserts","../SpatialReference","./Ellipsoid","./spatialReferenceUtils"],function(e,t,r,n,i,s){"use strict";function o(e){return 57.29577951308232*e}function a(e){return.017453292519943*e}function l(e){return null!=e.wkid||null!=e.wkt}const u=[0,0];function c(e,t,r,n,i){const s=e,o=i;if(o.spatialReference=r,"x"in s&&"x"in o)[o.x,o.y]=t(s.x,s.y,u,n);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=t(s.xmin,s.ymin,u,n),[o.xmax,o.ymax]=t(s.xmax,s.ymax,u,n);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const e="paths"in s?s.paths:s.rings,r=[];let i;for(let s=0;s<e.length;s++){const o=e[s];i=[],r.push(i);for(let e=0;e<o.length;e++)i.push(t(o[e][0],o[e][1],[0,0],n)),o[e].length>2&&i[e].push(o[e][2]),o[e].length>3&&i[e].push(o[e][3])}"paths"in o?o.paths=r:o.rings=r}else if("points"in s&&"points"in o){const e=s.points,r=[];for(let i=0;i<e.length;i++)r[i]=t(e[i][0],e[i][1],[0,0],n),e[i].length>2&&r[i].push(e[i][2]),e[i].length>3&&r[i].push(e[i][3]);o.points=r}return i}function h(e,t){const r=e&&(l(e)?e:e.spatialReference),n=t&&(l(t)?t:t.spatialReference);return!(e&&"type"in e&&"mesh"===e.type||t&&"type"in t&&"mesh"===t.type||!r||!n)&&(!!s.equals(n,r)||s.isWebMercator(n)&&s.isWGS84(r)||s.isWebMercator(r)&&s.isWGS84(n))}function f(e,t,r=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const n=a(t);return r[0]=a(e)*i.earth.radius,r[1]=i.earth.halfSemiMajorAxis*Math.log((1+Math.sin(n))/(1-Math.sin(n))),r}function d(e,t,r=[0,0],n=!1){if(e===s.webMercatorValid[0])r[0]=-180;else if(e===s.webMercatorValid[1])r[0]=180;else{const t=o(e/i.earth.radius);r[0]=n?t:t-360*Math.floor((t+180)/360)}return r[1]=o(Math.PI/2-2*Math.atan(Math.exp(-t/i.earth.radius))),r}e.canProject=h,e.geographicToWebMercator=function(e,i=!1,s=t.clone(e)){return r.assertNotMesh(e),r.assertNotMesh(s),c(e,f,n.WebMercator,i,s)},e.lngLatToXY=f,e.project=function(e,r){if(null==e)return null;const i=e.spatialReference,o=r&&(l(r)?r:r.spatialReference);return h(i,o)?s.equals(i,o)?t.clone(e):s.isWebMercator(o)?c(e,f,n.WebMercator,!1,t.clone(e)):s.isWGS84(o)?c(e,d,n.WGS84,!1,t.clone(e)):null:null},e.webMercatorToGeographic=function(e,i=!1,s=t.clone(e)){return r.assertNotMesh(e),r.assertNotMesh(s),c(e,d,n.WGS84,i,s)},e.x2lon=function(e){return e/i.earth.radius},e.xyToLngLat=d,e.y2lat=function(e){return Math.PI/2-2*Math.atan(Math.exp(-e/i.earth.radius))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/asserts":function(){define(["exports","../core/Error"],function(e,t){"use strict";function r(e){if(e&&"object"==typeof e&&"type"in e&&"mesh"===e.type)throw new t("internal:mesh","Mesh geometries are not supported for this operation")}e.assertNotMesh=r,e.assertNotMeshes=function(e){e.forEach(r)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/contains":function(){define(["exports"],function(e){"use strict";const t=[0,0];function r(e,t){return n(e,t[0],t[1])}function n(e,t,r,n){return t>=e.xmin&&t<=e.xmax&&r>=e.ymin&&r<=e.ymax&&(null==n||!e.hasZ||n>=e.zmin&&n<=e.zmax)}function i(e,t){return s(e.rings,t)}function s(e,t){if(!e)return!1;if(function(e){return!Array.isArray(e[0][0])}(e))return o(!1,e,t);let r=!1;for(let n=0,i=e.length;n<i;n++)r=o(r,e[n],t);return r}function o(e,t,r){const[n,i]=r;let s=e,o=0;for(let e=0,r=t.length;e<r;e++){o++,o===r&&(o=0);const[a,l]=t[e],[u,c]=t[o];(l<i&&c>=i||c<i&&l>=i)&&a+(i-l)/(c-l)*(u-a)<n&&(s=!s)}return s}e.extentContainsCoords2D=r,e.extentContainsCoords3D=function(e,t){return n(e,t[0],t[1],t[2])},e.extentContainsExtent=function(e,t){const{xmin:r,ymin:i,zmin:s,xmax:o,ymax:a,zmax:l}=t;return e.hasZ&&t.hasZ?n(e,r,i,s)&&n(e,r,a,s)&&n(e,o,a,s)&&n(e,o,i,s)&&n(e,r,i,l)&&n(e,r,a,l)&&n(e,o,a,l)&&n(e,o,i,l):n(e,r,i)&&n(e,r,a)&&n(e,o,a)&&n(e,o,i)},e.extentContainsMultipoint=function(e,t){if(!t.points?.length)return!1;for(const n of t.points)if(!r(e,n))return!1;return!0},e.extentContainsPoint=function(e,t){return null!=t&&n(e,t.x,t.y,t.z)},e.extentContainsXYZ=n,e.polygonContainsCoords=i,e.polygonContainsPoint=function(e,r){return t[1]=r.y,t[0]=r.x,i(e,t)},e.ringsContainsCoords=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/intersectsBase":function(){define(["exports","./contains"],function(e,t){"use strict";function r(e,r){return t.extentContainsPoint(e,r)}function n(e,t){const r=e.hasZ&&t.hasZ;let n,i,s;if(e.xmin<=t.xmin){if(n=t.xmin,e.xmax<n)return!1}else if(n=e.xmin,t.xmax<n)return!1;if(e.ymin<=t.ymin){if(i=t.ymin,e.ymax<i)return!1}else if(i=e.ymin,t.ymax<i)return!1;if(r&&t.hasZ)if(e.zmin<=t.zmin){if(s=t.zmin,e.zmax<s)return!1}else if(s=e.zmin,t.zmax<s)return!1;return!0}function i(e,r){const{points:n,hasZ:i}=r,s=i?t.extentContainsCoords3D:t.extentContainsCoords2D;for(const t of n)if(s(e,t))return!0;return!1}const s=[0,0],o=[0,0],a=[0,0],l=[0,0],u=[s,o,a,l],c=[[a,s],[s,o],[o,l],[l,a]];function h(e,r){return function(e,r){s[0]=e.xmin,s[1]=e.ymax,o[0]=e.xmax,o[1]=e.ymax,a[0]=e.xmin,a[1]=e.ymin,l[0]=e.xmax,l[1]=e.ymin;for(const e of u)if(t.ringsContainsCoords(r,e))return!0;for(const n of r){if(!n.length)continue;let r=n[0];if(t.extentContainsCoords2D(e,r))return!0;for(let i=1;i<n.length;i++){const s=n[i];if(t.extentContainsCoords2D(e,s)||p(r,s,c))return!0;r=s}}return!1}(e,r.rings)}function f(e,r){s[0]=e.xmin,s[1]=e.ymax,o[0]=e.xmax,o[1]=e.ymax,a[0]=e.xmin,a[1]=e.ymin,l[0]=e.xmax,l[1]=e.ymin;const n=r.paths;for(const r of n){if(!n.length)continue;let i=r[0];if(t.extentContainsCoords2D(e,i))return!0;for(let n=1;n<r.length;n++){const s=r[n];if(t.extentContainsCoords2D(e,s)||p(i,s,c))return!0;i=s}}return!1}const d=[0,0];function p(e,t,r){for(let n=0;n<r.length;n++)if(m(e,t,r[n][0],r[n][1]))return!0;return!1}function m(e,t,r,n,i){const[s,o]=e,[a,l]=t,[u,c]=r,[h,f]=n,d=h-u,p=s-u,m=a-s,y=f-c,g=o-c,_=l-o,b=y*m-d*_;if(0===b)return!1;const x=(d*g-y*p)/b,w=(m*g-_*p)/b;return x>=0&&x<=1&&w>=0&&w<=1&&(i&&(i[0]=s+x*(a-s),i[1]=o+x*(l-o)),!0)}e.extentIntersectsExtent=n,e.extentIntersectsMultipoint=i,e.extentIntersectsPoint=r,e.extentIntersectsPolygon=h,e.extentIntersectsPolyline=f,e.getFeatureExtentIntersector=function(e){switch(e){case"esriGeometryEnvelope":case"extent":return n;case"esriGeometryMultipoint":case"multipoint":return i;case"esriGeometryPoint":case"point":return r;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return h;case"esriGeometryPolyline":case"polyline":return f}},e.isSelfIntersecting=function(e){for(let t=0;t<e.length;t++){const r=e[t];for(let n=0;n<r.length-1;n++){const i=r[n],s=r[n+1];for(let r=t+1;r<e.length;r++)for(let t=0;t<e[r].length-1;t++){const n=e[r][t],o=e[r][t+1];if(m(i,s,n,o,d)&&!(d[0]===i[0]&&d[1]===i[1]||d[0]===n[0]&&d[1]===n[1]||d[0]===s[0]&&d[1]===s[1]||d[0]===o[0]&&d[1]===o[1]))return!0}}const n=r.length;if(!(n<=4))for(let e=0;e<n-3;e++){let t=n-1;0===e&&(t=n-2);const i=r[e],s=r[e+1];for(let n=e+2;n<t;n++){const e=r[n],t=r[n+1];if(m(i,s,e,t,d)&&!(d[0]===i[0]&&d[1]===i[1]||d[0]===e[0]&&d[1]===e[1]||d[0]===s[0]&&d[1]===s[1]||d[0]===t[0]&&d[1]===t[1]))return!0}}}return!1},e.segmentIntersects=m,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Multipoint":function(){define(["exports","../chunks/tslib.es6","../core/lang","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./support/zmUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h){"use strict";var f;function d(e){return(t,r)=>null==t?r:null==r?t:e(t,r)}return e.default=f=class extends u{constructor(...e){super(...e),this.points=[],this.type="multipoint"}normalizeCtorArgs(e,t){if(!e&&!t)return{};const r={};var n;Array.isArray(e)?(r.points=e,r.spatialReference=t):!(n=e)||"esri.geometry.SpatialReference"!==n.declaredClass&&null==n.wkid?(e.points&&(r.points=e.points),e.spatialReference&&(r.spatialReference=e.spatialReference),e.hasZ&&(r.hasZ=e.hasZ),e.hasM&&(r.hasM=e.hasM)):r.spatialReference=e;const i=r.points?.[0];return i&&(void 0===r.hasZ&&void 0===r.hasM?(r.hasZ=i.length>2,r.hasM=!1):void 0===r.hasZ?r.hasZ=i.length>3:void 0===r.hasM&&(r.hasM=i.length>3)),r}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const e=this.points;if(!e.length)return null;const t=new l,r=this.hasZ,n=this.hasM,i=r?3:2,s=e[0],o=d(Math.min),a=d(Math.max);let u,c,h,f,[p,m]=s,[y,g]=s;for(let t=0,s=e.length;t<s;t++){const s=e[t],[l,d]=s;if(p=o(p,l),m=o(m,d),y=a(y,l),g=a(g,d),r&&s.length>2){const e=s[2];u=o(u,e),h=a(h,e)}if(n&&s.length>i){const e=s[i];c=o(c,e),f=a(f,e)}}return t.xmin=p,t.ymin=m,t.xmax=y,t.ymax=g,t.spatialReference=this.spatialReference,r?(t.zmin=u,t.zmax=h):(t.zmin=void 0,t.zmax=void 0),n?(t.mmin=c,t.mmax=f):(t.mmin=void 0,t.mmax=void 0),t}writePoints(e,t){t.points=r.clone(this.points)}addPoint(e){return h.updateSupportFromPoint(this,e),Array.isArray(e)?this.points.push(e):this.points.push(e.toArray()),this.notifyChange("points"),this}clone(){const e={points:r.clone(this.points),spatialReference:this.spatialReference};return this.hasZ&&(e.hasZ=!0),this.hasM&&(e.hasM=!0),new f(e)}getPoint(e){if(!this._validateInputs(e))return null;const t=this.points[e],r={x:t[0],y:t[1],spatialReference:this.spatialReference};let n=2;return this.hasZ&&(r.z=t[2],n=3),this.hasM&&(r.m=t[n]),new c(r)}removePoint(e){if(!this._validateInputs(e))return null;const t=new c(this.points.splice(e,1)[0],this.spatialReference);return this.notifyChange("points"),t}setPoint(e,t){return this._validateInputs(e)?(h.updateSupportFromPoint(this,t),Array.isArray(t)||(t=t.toArray()),this.points[e]=t,this.notifyChange("points"),this):this}toJSON(e){return this.write({},e)}_validateInputs(e){return null!=e&&e>=0&&e<this.points.length}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property()],e.default.prototype,"extent",null),t.__decorate([n.property({type:[[Number]],json:{write:{isRequired:!0}}})],e.default.prototype,"points",void 0),t.__decorate([a.writer("points")],e.default.prototype,"writePoints",null),e.default=f=t.__decorate([o.subclass("esri.geometry.Multipoint")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default})},"esri/geometry/support/zmUtils":function(){define(["exports"],function(e){"use strict";e.updateSupportFromPoint=function(e,t,r=!1){let{hasM:n,hasZ:i}=e;Array.isArray(t)?4!==t.length||n||i?3===t.length&&r&&!n?(i=!0,n=!1):3===t.length&&n&&i&&(n=!1,i=!1):(n=!0,i=!0):(i=!i&&t.hasZ&&(!n||t.hasM),n=!n&&t.hasM&&(!i||t.hasZ)),e.hasZ=i,e.hasM=n},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polygon":function(){define(["exports","../chunks/tslib.es6","../core/arrayUtils","../core/deprecate","../core/lang","../core/Logger","../core/accessorSupport/decorators/property","../core/has","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./SpatialReference","./support/centroid","./support/contains","./support/coordsUtils","./support/extentUtils","./support/intersectsBase","./support/webMercatorUtils","./support/zmUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p,m,y,g,_,b,x){"use strict";var w;function T(e){return!Array.isArray(e[0])}return e.default=w=class extends h{static fromExtent(e){const t=e.clone().normalize(),{spatialReference:r}=e;let n=!1,i=!1;for(const e of t)e.hasZ&&(n=!0),e.hasM&&(i=!0);const s={rings:t.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(n&&e.hasZ){const r=e.zmin+.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(i&&e.hasM){const r=e.mmin+.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t}),spatialReference:r};return n&&(s.hasZ=!0),i&&(s.hasM=!0),new w(s)}constructor(e){super(function(e){if(!e)return;let{rings:t,hasM:r,hasZ:n,spatialReference:i}=e;var s;switch(t??=[],s=t,"number"==typeof s[0]?.[0]&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=!0!==r,r??=!n;break;default:n??=!1,r??=!1}return i??=d.WGS84,{...e,hasM:r,hasZ:n,rings:t,spatialReference:i}}(e)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){const e=p.polygonCentroid(this);if(!e||isNaN(e[0])||isNaN(e[1])||this.hasZ&&isNaN(e[2]))return null;const t=new f;return t.x=e[0],t.y=e[1],t.spatialReference=this.spatialReference,this.hasZ&&(t.z=e[2]),t}writeCurveRings(e,t){t.curveRings=i.clone(e)}get extent(){const e=g.getPolygonExtent(this),{spatialReference:t}=this;return e?new c({...e,spatialReference:t}):null}get isSelfIntersecting(){return n.deprecatedProperty(s.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),_.isSelfIntersecting(this.rings)}writeRings(e,t){t.rings=i.clone(this.rings)}addRing(e){if(!e)return;const t=this.rings,r=t.length;if(T(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("rings"),this}clone(){const e=new w;return e.spatialReference=this.spatialReference,e.rings=i.clone(this.rings),e.curveRings=i.clone(this.curveRings),e.hasZ=this.hasZ,e.hasM=this.hasM,e}equals(e){if(this===e)return!0;if(null==e)return!1;const t=this.spatialReference,n=e.spatialReference;if(null!=t!=(null!=n))return!1;if(null!=t&&null!=n&&!t.equals(n))return!1;if(this.rings.length!==e.rings.length)return!1;const i=([e,t,r,n],[i,s,o,a])=>e===i&&t===s&&(null==r&&null==o||r===o)&&(null==n&&null==a||n===a);for(let t=0;t<this.rings.length;t++){const n=this.rings[t],s=e.rings[t];if(!r.equals(n,s,i))return!1}return!0}contains(e){if(!e)return!1;const t=b.project(e,this.spatialReference);return m.polygonContainsPoint(this,null!=t?t:e)}isClockwise(e){const t=T(e)?e.map(e=>this.hasZ?this.hasM?[e.x,e.y,e.z,e.m]:[e.x,e.y,e.z]:[e.x,e.y]):e;return y.isClockwise(t)}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.rings[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new f(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new f(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new f(r[0],r[1],r[2],r[3],this.spatialReference):new f(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(x.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e].splice(t,0,r),this.notifyChange("rings"),this):this}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new f(this.rings[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(e){if(!this._validateInputs(e,null))return null;const t=this.rings.splice(e,1)[0],r=this.spatialReference,n=t.map(e=>new f(e,r));return this.notifyChange("rings"),n}setPoint(e,t,r){return this._validateInputs(e,t)?(x.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[e][t]=r,this.notifyChange("rings"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.rings.length)return!1;if(null!=t){const n=this.rings[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}},t.__decorate([o.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([o.property({readOnly:!0})],e.default.prototype,"centroid",null),t.__decorate([o.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],e.default.prototype,"curveRings",void 0),t.__decorate([u.writer("curveRings")],e.default.prototype,"writeCurveRings",null),t.__decorate([o.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([o.property({readOnly:!0})],e.default.prototype,"isSelfIntersecting",null),t.__decorate([o.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.default.prototype,"rings",void 0),t.__decorate([u.writer("rings")],e.default.prototype,"writeRings",null),e.default=w=t.__decorate([l.subclass("esri.geometry.Polygon")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default})},"esri/geometry/support/centroid":function(){define(["exports","../geometryCursorCollectUtils","./coordsUtils"],function(e,t,r){"use strict";function n(e,t){if(!e?.length)return null;const r=[],n=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let r=0,s=e.length;r<s;r++){const s=i(e[r],t,o);s&&n.push(s)}if(n.sort((e,r)=>{let n=e[2]-r[2];return 0===n&&t&&(n=e[4]-r[4]),n}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],t&&(r[2]=n[0][3]),(r[0]<o[0]||r[0]>o[1]||r[1]<o[2]||r[1]>o[3]||t&&(r[2]<o[4]||r[2]>o[5]))&&(r.length=0)),!r.length){const n=e[0]&&e[0].length?s(e[0],t):null;if(!n)return null;r[0]=n[0],r[1]=n[1],t&&n.length>2&&(r[2]=n[2])}return r}function i(e,t,r){let n=0,i=0,s=0,o=0,a=0;const l=e.length?e[0][0]:0,u=e.length?e[0][1]:0,c=e.length&&t?e[0][2]:0;for(let h=0;h<e.length;h++){const f=e[h],d=e[(h+1)%e.length],[p,m,y]=f,g=p-l,_=m-u,[b,x,w]=d,T=b-l,S=x-u,v=g*S-T*_;if(o+=v,n+=(g+T)*v,i+=(_+S)*v,t&&f.length>2&&d.length>2){const e=y-c,t=w-c,r=g*t-T*e;s+=(e+t)*r,a+=r}p<r[0]&&(r[0]=p),p>r[1]&&(r[1]=p),m<r[2]&&(r[2]=m),m>r[3]&&(r[3]=m),t&&(y<r[4]&&(r[4]=y),y>r[5]&&(r[5]=y))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const h=[n/(6*o)+l,i/(6*o)+u,o];return t&&(r[4]===r[5]||0===a?(h[3]=(r[4]+r[5])/2,h[4]=0):(h[3]=s/(6*a)+c,h[4]=a)),h}function s(e,t){const n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;for(let u=0,c=e.length;u<c-1;u++){const c=e[u],h=e[u+1];if(c&&h){n[0]=c[0],n[1]=c[1],i[0]=h[0],i[1]=h[1],t&&c.length>2&&h.length>2&&(n[2]=c[2],i[2]=h[2]);const e=r.getLength(n,i);if(e){s+=e;const n=r.getMidpoint(c,h);o+=e*n[0],a+=e*n[1],t&&n.length>2&&(l+=e*n[2])}}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.length?e[0]:null}function o(e){const{hasZ:r,totalSize:n}=e;if(0===n)return null;const s=[],o=[],l=r?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(e.reset();e.nextPath();){const r=i(t.collectPath(e),e.hasZ,l);r&&o.push(r)}if(o.sort((e,t)=>{let n=e[2]-t[2];return 0===n&&r&&(n=e[4]-t[4]),n}),o.length&&(s[0]=o[0][0],s[1]=o[0][1],r&&(s[2]=o[0][3]),(s[0]<l[0]||s[0]>l[1]||s[1]<l[2]||s[1]>l[3]||r&&(s[2]<l[4]||s[2]>l[5]))&&(s.length=0)),!s.length){e.reset(),e.nextPath();const t=e.pathSize?a(e):null;if(!t)return null;s[0]=t[0],s[1]=t[1],r&&t.length>2&&(s[2]=t[2])}return s}function a(e){const{hasZ:t}=e,n=t?[0,0,0]:[0,0],i=t?[0,0,0]:[0,0];let s=0,o=0,a=0,l=0;if(e.nextPoint()){let u=e.x,c=e.y,h=e.z;for(;e.nextPoint();){const f=e.x,d=e.y,p=e.z;n[0]=u,n[1]=c,i[0]=f,i[1]=d,t&&(n[2]=h,i[2]=p);const m=r.getLength(n,i);if(m){s+=m;const e=r.getMidpoint(n,i);o+=m*e[0],a+=m*e[1],t&&e.length>2&&(l+=m*e[2])}u=f,c=d,h=p}}return s>0?t?[o/s,a/s,l/s]:[o/s,a/s]:e.pathSize?(e.seekPathStart(),e.nextPoint(),[e.x,e.y]):null}const l=1/3;function u(e,t,r){if(!e||!r||r.pathSize<3)return null;r.nextPoint();const n=r.x,i=r.y;r.nextPoint();let s,o=r.x-n,a=r.y-i,u=0,c=0;for(;r.nextPoint();)u=r.x-n,c=r.y-i,s=.5*l*(u*a-c*o),e[0]+=s*(o+u),e[1]+=s*(a+c),o=u,a=c;const h=r.getCurrentRingArea(),f=[n,i];return f[0]-=t[0],f[1]-=t[1],f[0]*=h,f[1]*=h,e[0]+=f[0],e[1]+=f[1],e}e.extentCentroid=function(e){return e?e.hasZ?[e.xmax-e.xmin/2,e.ymax-e.ymin/2,e.zmax-e.zmin/2]:[e.xmax-e.xmin/2,e.ymax-e.ymin/2]:null},e.lineCentroid=s,e.lineCentroidCursor=a,e.polygonCentroid=function(e){return e?n(e.rings,e.hasZ??!1):null},e.ringCentroid=i,e.ringCentroidCursorXY=function(e,t){let r=0,n=0,i=0;e.nextPoint();const s=e.pathSize?e.x:0,o=e.pathSize?e.y:0;for(let a=0;a<e.pathSize;a++){e.seekInPath(a);const l=[e.x,e.y];e.seekInPath((a+1)%e.pathSize);const u=[e.x,e.y],[c,h]=l,f=c-s,d=h-o,[p,m]=u,y=p-s,g=m-o,_=f*g-y*d;i+=_,r+=(f+y)*_,n+=(d+g)*_,c<t[0]&&(t[0]=c),c>t[1]&&(t[1]=c),h<t[2]&&(t[2]=h),h>t[3]&&(t[3]=h)}return i>0&&(i*=-1),i?(i*=.5,[r/(6*i)+s,n/(6*i)+o,i]):null},e.ringsCentroid=n,e.ringsCentroidCursor=o,e.weightedAreaCentroid=function(e){let t=0;for(e.reset();e.nextPath();)t+=e.getCurrentRingArea();if(t<1e-6){const t=o(e);return t?[t[0],t[1]]:null}const r=[0,0];if(e.reset(),!e.nextPath()||!e.nextPoint())return null;const n=[e.x,e.y];for(e.reset();e.nextPath();)u(r,n,e);return r[0]*=1/t,r[1]*=1/t,r[0]+=n[0],r[1]+=n[1],r},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/geometryCursorCollectUtils":function(){define(["exports"],function(e){"use strict";e.collectMultipath=function(e){const t=[];for(e.reset();e.nextPath();){const r=[];for(;e.nextPoint();)r.push([e.x,e.y]);t.push(r)}return e.reset(),t},e.collectPath=function(e){const t=[];for(;e.nextPoint();)t.push([e.x,e.y]);return e.seekPathStart(),t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/coordsUtils":function(){define(["exports","../../core/arrayUtils","./spatialReferenceUtils"],function(e,t,r){"use strict";function n(e,t){const r=t[0]-e[0],n=t[1]-e[1];if(e.length>2&&t.length>2){const i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}return Math.sqrt(r*r+n*n)}function i(e,t,r){const n=e[0]+r*(t[0]-e[0]),i=e[1]+r*(t[1]-e[1]);return e.length>2&&t.length>2?[n,i,e[2]+r*(t[2]-e[2])]:[n,i]}function s(e,t,r,n){const[i,s]=t,[o,a]=r,[l,u]=n,c=l-o,h=u-a,f=c*c+h*h,d=(i-o)*c+(s-a)*h,p=Math.min(1,Math.max(0,d/f));return e[0]=o+c*p,e[1]=a+h*p,e}function o(e,t,r,n,i,s){let o=r,a=n,l=i-o,u=s-a;if(0!==l||0!==u){const r=((e-o)*l+(t-a)*u)/(l*l+u*u);r>1?(o=i,a=s):r>0&&(o+=l*r,a+=u*r)}return l=e-o,u=t-a,l*l+u*u}function a(e,t=0,r=1){let n=0;const i=e.length;let s=e[0];for(let o=1;o<i;o++){const i=e[o];n+=(i[t]-s[t])*(i[r]+s[r]),s=i}if(l(e)){const i=e[0];n+=(i[t]-s[t])*(i[r]+s[r])}return n>=0}function l(e){const r=e.length;return r>0&&!t.equals(e[0],e[r-1])}function u(e){if("rings"in e)for(const t of e.rings)l(t)&&t.push(t[0].slice())}function c(e,t){const n=r.getInfo(t);if(!n)return;const i=n.valid[0],s=n.valid[1],o=s-i;for(const t of e){let e=1/0,r=-1/0;for(const n of t){const t=h(n[0],i,s);e=Math.min(e,t),r=Math.max(r,t),n[0]=t}const n=r-e;o-n<n&&t.forEach(e=>{e[0]<0&&(e[0]+=o)})}}function h(e,t,r){const n=r-t;return e<t?r-(t-e)%n:e>r?t+(e-t)%n:e}e.closeRings=u,e.closeRingsAndFixWinding=function(e){"rings"in e&&(u(e),function(e){if(!("rings"in e))return!1;if(0===e.rings.length||a(e.rings[0]))return!1;for(const t of e.rings)t.reverse()}(e))},e.distanceFromPointToPolygon=function(e,t,r){let n,i,s,a,l=!1,u=1/0;for(r.reset();r.nextPath();)if(r.nextPoint())for(n=r.x,i=r.y;r.nextPoint();)s=r.x,a=r.y,i>t!=a>t&&e<(s-n)*(t-i)/(a-i)+n&&(l=!l),u=Math.min(u,o(e,t,n,i,s,a)),n=s,i=a;return 0===u?0:(l?1:-1)*Math.sqrt(u)},e.distanceToSegmentSquared=o,e.geometryToCoordinates=function(e){if(!e)return null;if(Array.isArray(e))return e;const t=e.hasZ,r=e.hasM;if("point"===e.type)return r&&t?[e.x,e.y,e.z,e.m]:t?[e.x,e.y,e.z]:r?[e.x,e.y,e.m]:[e.x,e.y];if("polygon"===e.type)return e.rings.slice();if("polyline"===e.type)return e.paths.slice();if("multipoint"===e.type)return e.points.slice();if("extent"===e.type){const t=e.clone().normalize();if(!t)return null;let r=!1,n=!1;return t.forEach(e=>{e.hasZ&&(r=!0),e.hasM&&(n=!0)}),t.map(e=>{const t=[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]];if(r&&e.hasZ){const r=.5*(e.zmax-e.zmin);for(let e=0;e<t.length;e++)t[e].push(r)}if(n&&e.hasM){const r=.5*(e.mmax-e.mmin);for(let e=0;e<t.length;e++)t[e].push(r)}return t})}return null},e.getLength=n,e.getMidpoint=function(e,t){return i(e,t,.5)},e.getPathLength=function(e){const t=e.length;let r=0;for(let i=0;i<t-1;++i)r+=n(e[i],e[i+1]);return r},e.getPointOnPath=function(e,t){if(t<=0)return e[0];const r=e.length;let s=0;for(let o=0;o<r-1;++o){const r=n(e[o],e[o+1]);if(t-s<r){const n=(t-s)/r;return i(e[o],e[o+1],n)}s+=r}return e[r-1]},e.hasCompatibleTopology=function(e,t){if(e===t)return!0;if(e.type!==t.type)return!1;if("point"===e.type||"mesh"===e.type||"extent"===e.type)return!0;if("multipoint"===e.type)return e.points.length===t.points.length;const[r,n]="polyline"===e.type?[e.paths,t.paths]:[e.rings,t.rings];return r.length===n.length&&r.every((e,t)=>e.length===n[t].length)},e.isClockwise=a,e.projectPointOnLine=function(e,t,r,n){return s(e,t,r[n],r[n+1])},e.projectPointOnLineSeg=s,e.unnormalizeGeometryOnDatelineCrossing=function(e){return"polygon"!==e.type&&"polyline"!==e.type||c("polygon"===e.type?e.rings:e.paths,e.spatialReference),e},e.unnormalizeVerticesOnDatelineCrossing=c,e.unnormalizedCoordinate=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/extentUtils":function(){define(["exports","./boundsUtils"],function(e,t){"use strict";const r=[];function n(e,t,r,n){return{xmin:e,ymin:t,xmax:r,ymax:n}}function i(e,t,r,n,i,s){return{xmin:e,ymin:t,zmin:r,xmax:n,ymax:i,zmax:s}}function s(e,t,r,n,i,s){return{xmin:e,ymin:t,mmin:r,xmax:n,ymax:i,mmax:s}}function o(e,t,r,n,i,s,o,a){return{xmin:e,ymin:t,zmin:r,mmin:n,xmax:i,ymax:s,zmax:o,mmax:a}}function a(e,t=!1,r=!1){return t?r?o(e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]):i(e[0],e[1],e[2],e[3],e[4],e[5]):r?s(e[0],e[1],e[2],e[3],e[4],e[5]):n(e[0],e[1],e[2],e[3])}function l(e){const{hasZ:n,hasM:i,points:s}=e;return a(t.getPointsBounds(r,s,n??!1,i??!1),n,i)}function u(e){const{x:t,y:r,z:a,m:l}=e,u=null!=l;return null!=a?u?o(t,r,a,l,t,r,a,l):i(t,r,a,t,r,a):u?s(t,r,l,t,r,l):n(t,r,t,r)}function c(e){const{hasZ:n,hasM:i,rings:s}=e,o=t.getRingsOrPathsBounds(r,s,n??!1,i??!1);return o?a(o,n,i):null}function h(e){const{hasZ:n,hasM:i,paths:s}=e,o=t.getRingsOrPathsBounds(r,s,n??!1,i??!1);return o?a(o,n,i):null}e.getGeometryExtent=function(e){return e?void 0!==(t=e).xmin&&void 0!==t.ymin&&void 0!==t.xmax&&void 0!==t.ymax?e:function(e){return void 0!==e.x&&void 0!==e.y}(e)?u(e):function(e){return void 0!==e.rings}(e)?c(e):function(e){return void 0!==e.paths}(e)?h(e):function(e){return void 0!==e.points}(e)?l(e):null:null;var t},e.getMultipointExtent=l,e.getPointExtent=u,e.getPolygonExtent=c,e.getPolylineExtent=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/boundsUtils":function(){define(["exports","./aaBoundingRect"],function(e,t){"use strict";function r(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function n(e){return void 0!==e.points}function i(e){return void 0!==e.x&&void 0!==e.y}function s(e){return void 0!==e.paths}function o(e){return void 0!==e.rings}function a(e){return function(t,r){return null==t?r:null==r?t:e(t,r)}}const l=a(Math.min),u=a(Math.max);function c(e){let r,n,i,s;for(r=i=1/0,n=s=-1/0;e.nextPoint();)r=Math.min(e.x,r),i=Math.min(e.y,i),n=Math.max(e.x,n),s=Math.max(e.y,s);return t.create([r,i,n,s])}function h(e,t,r,n){const i=r?3:2;if(!t.length||!t[0].length)return null;let s,o,a,c,[h,f]=t[0][0],[d,p]=t[0][0];for(let e=0;e<t.length;e++){const m=t[e];for(let e=0;e<m.length;e++){const t=m[e],[y,g]=t;if(h=l(h,y),f=l(f,g),d=u(d,y),p=u(p,g),r&&t.length>2){const e=t[2];s=l(s,e),o=u(o,e)}if(n&&t.length>i){const e=t[i];a=l(s,e),c=u(o,e)}}}return r?n?(e[0]=h,e[1]=f,e[2]=s,e[3]=a,e[4]=d,e[5]=p,e[6]=o,e[7]=c,e.length=8,e):(e[0]=h,e[1]=f,e[2]=s,e[3]=d,e[4]=p,e[5]=o,e.length=6,e):n?(e[0]=h,e[1]=f,e[2]=a,e[3]=d,e[4]=p,e[5]=c,e.length=6,e):(e[0]=h,e[1]=f,e[2]=d,e[3]=p,e.length=4,e)}function f(e,t,r,n,i,s){const o=t.xmin,a=t.xmax,l=t.ymin,u=t.ymax;let c=t.zmin,h=t.zmax,f=t.mmin,d=t.mmax;return i?(c=c||0,h=h||0,s?(f=f||0,d=d||0,e[0]=o,e[1]=l,e[2]=c,e[3]=f,e[4]=a,e[5]=u,e[6]=h,e[7]=d,e):(e[0]=o,e[1]=l,e[2]=c,e[3]=a,e[4]=u,e[5]=h,e)):s?(f=f||0,d=d||0,e[0]=o,e[1]=l,e[2]=f,e[3]=a,e[4]=u,e[5]=d,e):(e[0]=o,e[1]=l,e[2]=a,e[3]=u,e)}function d(e,t,r,n,i,s){const o=r?3:2,a=n&&s,c=r&&i;if(!t.length||!t[0].length)return null;let h,f,d,p,[m,y]=t[0],[g,_]=t[0];for(let e=0;e<t.length;e++){const r=t[e],[n,i]=r;if(m=l(m,n),y=l(y,i),g=u(g,n),_=u(_,i),c&&r.length>2){const e=r[2];h=l(h,e),f=u(f,e)}if(a&&r.length>o){const e=r[o];d=l(h,e),p=u(f,e)}}return i?(h=h||0,f=f||0,s?(d=d||0,p=p||0,e[0]=m,e[1]=y,e[2]=h,e[3]=d,e[4]=g,e[5]=_,e[6]=f,e[7]=p,e):(e[0]=m,e[1]=y,e[2]=h,e[3]=g,e[4]=_,e[5]=f,e)):s?(d=d||0,p=p||0,e[0]=m,e[1]=y,e[2]=d,e[3]=g,e[4]=_,e[5]=p,e):(e[0]=m,e[1]=y,e[2]=g,e[3]=_,e)}e.getBoundsXY=function(e,t){return s(t)?h(e,t.paths,!1,!1):o(t)?h(e,t.rings,!1,!1):n(t)?d(e,t.points,!1,!1,!1,!1):r(t)?f(e,t):(i(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.x,e[3]=t.y),e)},e.getBoundsXYZ=function(e,t){return s(t)?h(e,t.paths,!0,!1):o(t)?h(e,t.rings,!0,!1):n(t)?d(e,t.points,!0,!1,!0,!1):r(t)?f(e,t,0,0,!0,!1):(i(t)&&(e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.x,e[4]=t.y,e[5]=t.z),e)},e.getCursorBoundsXY=function(e){let r,n,i,s;for(e.reset(),r=i=1/0,n=s=-1/0;e.nextPath();){const t=c(e);r=Math.min(t[0],r),i=Math.min(t[1],i),n=Math.max(t[2],n),s=Math.max(t[3],s)}return t.create([r,i,n,s])},e.getCursorPathBounds=c,e.getExtentBounds=f,e.getPointsBounds=d,e.getRingsOrPathsBounds=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(e,t,r,n){"use strict";function i(e=h){return[e[0],e[1],e[2],e[3]]}function s(e,t){return e!==t&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3]),e}function o(e){return null==e||e[0]>=e[2]?0:e[2]-e[0]}function a(e){return null==e||e[1]>=e[3]?0:e[3]-e[1]}function l(e,t,r){return t>=e[0]&&r>=e[1]&&t<=e[2]&&r<=e[3]}function u(e){return null!=e&&4===e.length}const c=[1/0,1/0,-1/0,-1/0],h=[0,0,0,0];e.allFinite=function(e){for(let t=0;t<4;t++)if(!isFinite(e[t]))return!1;return!0},e.area=function(e){return o(e)*a(e)},e.center=function(e,t=[0,0]){return t[0]=(e[0]+e[2])/2,t[1]=(e[1]+e[3])/2,t},e.clone=function(e){return[e[0],e[1],e[2],e[3]]},e.contains=function(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]},e.containsPoint=function(e,t){return l(e,t[0],t[1])},e.containsPointObject=function(e,t){return l(e,t.x,t.y)},e.containsPointWithMargin=function(e,t,r){return t[0]>=e[0]-r&&t[1]>=e[1]-r&&t[0]<=e[2]+r&&t[1]<=e[3]+r},e.containsXY=l,e.containsXYWithMargin=function(e,t,r,n){return t>=e[0]-n&&r>=e[1]-n&&t<=e[2]+n&&r<=e[3]+n},e.copy=s,e.create=i,e.diagonal=function(e){const t=o(e),r=a(e);return Math.sqrt(t*t+r*r)},e.distance=function(e,t){const r=(e[0]+e[2])/2,n=(e[1]+e[3])/2,i=Math.max(Math.abs(t[0]-r)-o(e)/2,0),s=Math.max(Math.abs(t[1]-n)-a(e)/2,0);return Math.sqrt(i*i+s*s)},e.empty=function(e){return e?s(e,c):i(c)},e.equals=function(e,t){return u(e)&&u(t)?e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]:e===t},e.expand=function(e,t,r){if(null!=t)if("length"in t)u(t)?(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3])):2!==t.length&&3!==t.length||(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[0]),r[3]=Math.max(e[3],t[1]));else switch(t.type){case"extent":r[0]=Math.min(e[0],t.xmin),r[1]=Math.min(e[1],t.ymin),r[2]=Math.max(e[2],t.xmax),r[3]=Math.max(e[3],t.ymax);break;case"point":r[0]=Math.min(e[0],t.x),r[1]=Math.min(e[1],t.y),r[2]=Math.max(e[2],t.x),r[3]=Math.max(e[3],t.y)}else s(r,e)},e.expandPointInPlace=function(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])},e.expandWithNestedArray=function(e,t,r=e){const n=t.length;let i=e[0],s=e[1],o=e[2],a=e[3];for(let e=0;e<n;e++){const r=t[e];i=Math.min(i,r[0]),s=Math.min(s,r[1]),o=Math.max(o,r[0]),a=Math.max(a,r[1])}return r[0]=i,r[1]=s,r[2]=o,r[3]=a,r},e.fromExtent=function(e,t=i()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t},e.fromValues=function(e,t,r,n,s=i()){return s[0]=e,s[1]=t,s[2]=r,s[3]=n,s},e.hasArea=function(e){return o(e)>0&&a(e)>0},e.height=a,e.intersection=function(e,t,n){if(null==t)return s(n,e);const i=t[0],o=t[1],a=t[2],l=t[3];return n[0]=r.clamp(e[0],i,a),n[1]=r.clamp(e[1],o,l),n[2]=r.clamp(e[2],i,a),n[3]=r.clamp(e[3],o,l),n},e.intersects=function(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])},e.intersectsSegment=function(e,t,r){const n=e[0],i=e[1],s=e[2],o=e[3],{x:a,y:l}=t,{x:u,y:c}=r,h=(e,t)=>(c-l)*e+(a-u)*t+(u*l-a*c)<0,f=h(n,o),d=h(s,o),p=h(s,i),m=h(n,i);return!(f===d&&d===p&&p===m&&m===f||a<n&&u<n||a>s&&u>s||l>o&&c>o||l<i&&c<i)},e.intersectsSphere=function(e,t){const r=t[3],n=.5*(e[0]+e[2]),i=Math.abs(t[0]-n),s=.5*(e[2]-e[0]);if(i>r+s)return!1;const o=.5*(e[1]+e[3]),a=.5*(e[3]-e[1]),l=Math.abs(t[1]-o);if(l>r+a)return!1;if(i<s||l<a)return!0;const u=i-s,c=l-a;return u*u+c*c<=r*r},e.intersectsWithMargin=function(e,t,r){return Math.max(t[0],e[0])-r<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])-r<=Math.min(t[3],e[3])},e.is=u,e.isPoint=function(e){return!(0!==o(e)&&isFinite(e[0])||0!==a(e)&&isFinite(e[1]))},e.negativeInfinity=c,e.offset=function(e,t,r,n=e){return n[0]=e[0]+t,n[1]=e[1]+r,n[2]=e[2]+t,n[3]=e[3]+r,n},e.pad=function(e,t,r=e){return r[0]=e[0]-t,r[1]=e[1]-t,r[2]=e[2]+t,r[3]=e[3]+t,r},e.positiveInfinity=[-1/0,-1/0,1/0,1/0],e.setMax=function(e,t,r=e){return r[2]=t[0],r[3]=t[1],r!==e&&(r[0]=e[0],r[1]=e[1]),e},e.setMin=function(e,t,r=e){return r[0]=t[0],r[1]=t[1],r!==e&&(r[2]=e[2],r[3]=e[3]),r},e.size=function(e,t){t[0]=e[2]-e[0],t[1]=e[3]-e[1]},e.toExtent=function(e,t,r=new n){return r.xmin=e[0],r.ymin=e[1],r.xmax=e[2],r.ymax=e[3],r.spatialReference=t,r},e.union=function(e,t,r){return null==t?s(r,e):(r[0]=Math.min(e[0],t[0]),r[1]=Math.min(e[1],t[1]),r[2]=Math.max(e[2],t[2]),r[3]=Math.max(e[3],t[3]),r)},e.unit=[0,0,1,1],e.width=o,e.zero=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/mathUtils":function(){define(["exports"],function(e){"use strict";const t=new Float32Array(1);function r(e,t,r){return Math.min(Math.max(e,t),r)}function n(e,t,r){return e+(t-e)*r}function i(e,t,r=1e-6){return e===t||!(!Number.isFinite(e)||!Number.isFinite(t))&&(e>t?e-t:t-e)<=r}const s=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function o(e){return s.setFloat64(0,e),s.getBigInt64(0)}const a=1000000n,l=u(1);function u(e){const t=o(e=Math.abs(e)),r=(n=t<=a?a:t-a,s.setBigInt64(0,n),s.getFloat64(0));var n;return Math.abs(e-r)}function c(e){return t[0]=e,t[0]}const h=c(34028234663852886e22);e.acosClamped=function(e){return Math.acos(r(e,-1,1))},e.asinClamped=function(e){return Math.asin(r(e,-1,1))},e.clamp=r,e.clampFloat32=function(e){return c(Math.max(-h,Math.min(e,h)))},e.decimalAdjust=function(e,t,r){if(void 0===r||0===+r)return Math[e](t);if(t=+t,r=+r,isNaN(t)||"number"!=typeof r||r%1!=0)return NaN;let n=t.toString().split("e");return n=(t=Math[e](+(n[0]+"e"+(n[1]?+n[1]-r:-r)))).toString().split("e"),+(n[0]+"e"+(n[1]?+n[1]+r:r))},e.deg2rad=function(e){return e*Math.PI/180},e.floatEqualAbsolute=i,e.floatEqualRelative=function(e,t,r=1e-6){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;const n=Math.abs(e-t),i=Math.abs(e),s=Math.abs(t);if(0===e||0===t||i<1e-12&&s<1e-12){if(n>.01*r)return!1}else if(n/(i+s)>r)return!1;return!0},e.floatEqualUlp=function(e,t,r=l){if(e===t)return!0;if(!Number.isFinite(e)||!Number.isFinite(t))return!1;if(null!=r&&u(Math.min(Math.abs(e),Math.abs(t)))<r)return Math.abs(e-t)<=r;const n=o(e),i=o(t);return n<0==i<0&&!((n<i?i-n:n-i)>a)},e.floatGreaterThan=function(e,t,r=1e-6){return!i(e,t,r)&&e>t},e.floatGreaterThanOrEqual=function(e,t,r=1e-6){return i(e,t,r)||e>t},e.floatLessThan=function(e,t,r=1e-6){return!i(e,t,r)&&e<t},e.floatLessThanOrEqual=function(e,t,r=1e-6){return i(e,t,r)||e<t},e.gauss=function(e,t){const r=-e*e/(2*t);return 1/Math.sqrt(2*Math.PI*t)*Math.exp(r)},e.hasScaling=function(e){const t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[3]*e[3]+e[4]*e[4]+e[5]*e[5],n=e[6]*e[6]+e[7]*e[7]+e[8]*e[8];return!(i(t,1)&&i(r,1)&&i(n,1))},e.isPowerOfTwo=function(e){return!(e&e-1)},e.lerp=n,e.moduloPositive=function(e,t){return(e%t+t)%t},e.nextHighestPowerOfTen=function(e){return 10**Math.ceil(Math.LOG10E*Math.log(e))},e.nextHighestPowerOfTwo=function(e){--e;for(let t=1;t<32;t<<=1)e|=e>>t;return e+1},e.nextPowerOfTwo=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},e.numberMaxFloat32=h,e.rad2deg=function(e){return 180*e/Math.PI},e.reciprocalClamped=function(e,t=1e-6){return(e<0?-1:1)/Math.max(Math.abs(e),t)},e.roundToNearest=function(e,t){return 0===t?0:Math.round(e/t)*t},e.scale=function(e,t,r,i,s){return n(i,s,(e-t)/(r-t))},e.smoothstep=function(e,t,n){const i=r((n-e)/(t-e),0,1);return i*i*(3-2*i)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/Polyline":function(){define(["exports","../chunks/tslib.es6","../core/lang","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","./Extent","./Geometry","./Point","./SpatialReference","./support/extentUtils","./support/zmUtils"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d){"use strict";var p;return e.default=p=class extends u{constructor(e){super(function(e){if(!e)return;let{paths:t,hasM:r,hasZ:n,spatialReference:i}=e;var s;switch(t??=[],s=t,"number"==typeof s[0]?.[0]&&(t=[t]),t[0]?.[0]?.length){case 4:n??=!0,r??=!0;break;case 3:n??=!0!==r,r??=!n;break;default:n??=!1,r??=!1}return i??=h.WGS84,{...e,hasM:r,hasZ:n,paths:t,spatialReference:i}}(e)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(e,t){t.curvePaths=r.clone(e)}get extent(){const e=f.getPolylineExtent(this),{spatialReference:t}=this;return e?new l({...e,spatialReference:t}):null}writePaths(e,t){t.paths=r.clone(this.paths)}addPath(e){if(!e)return;const t=this.paths,r=t.length;if(function(e){return!Array.isArray(e[0])}(e)){const n=[];for(let t=0,r=e.length;t<r;t++)n[t]=e[t].toArray();t[r]=n}else t[r]=e.slice();return this.notifyChange("paths"),this}clone(){const e=new p;return e.spatialReference=this.spatialReference,e.paths=r.clone(this.paths),e.curvePaths=r.clone(this.curvePaths),e.hasZ=this.hasZ,e.hasM=this.hasM,e}getPoint(e,t){if(!this._validateInputs(e,t))return null;const r=this.paths[e][t],n=this.hasZ,i=this.hasM;return n&&!i?new c(r[0],r[1],r[2],void 0,this.spatialReference):i&&!n?new c(r[0],r[1],void 0,r[2],this.spatialReference):n&&i?new c(r[0],r[1],r[2],r[3],this.spatialReference):new c(r[0],r[1],this.spatialReference)}insertPoint(e,t,r){return this._validateInputs(e,t,!0)?(d.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e].splice(t,0,r),this.notifyChange("paths"),this):this}removePath(e){if(!this._validateInputs(e,null))return null;const t=this.paths.splice(e,1)[0],r=this.spatialReference,n=t.map(e=>new c(e,r));return this.notifyChange("paths"),n}removePoint(e,t){if(!this._validateInputs(e,t))return null;const r=new c(this.paths[e].splice(t,1)[0],this.spatialReference);return this.notifyChange("paths"),r}setPoint(e,t,r){return this._validateInputs(e,t)?(d.updateSupportFromPoint(this,r),Array.isArray(r)||(r=r.toArray()),this.paths[e][t]=r,this.notifyChange("paths"),this):this}_validateInputs(e,t,r=!1){if(null==e||e<0||e>=this.paths.length)return!1;if(null!=t){const n=this.paths[e];if(r&&(t<0||t>n.length))return!1;if(!r&&(t<0||t>=n.length))return!1}return!0}toJSON(e){return this.write({},e)}},t.__decorate([n.property({readOnly:!0})],e.default.prototype,"cache",null),t.__decorate([n.property({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],e.default.prototype,"curvePaths",void 0),t.__decorate([a.writer("curvePaths")],e.default.prototype,"writeCurvePaths",null),t.__decorate([n.property({readOnly:!0})],e.default.prototype,"extent",null),t.__decorate([n.property({type:[[[Number]]],json:{write:{isRequired:!0}}})],e.default.prototype,"paths",void 0),t.__decorate([a.writer("paths")],e.default.prototype,"writePaths",null),e.default=p=t.__decorate([o.subclass("esri.geometry.Polyline")],e.default),e.default.prototype.toJSON.isDefaultToJSON=!0,e.default})},"esri/geometry/projectionUtils":function(){define(["require","exports","../core/Error","../core/promiseUtils","../core/accessorSupport/tracking","../core/accessorSupport/tracking/SimpleObservable","../core/libs/gl-matrix-2/factories/vec3f64","./asserts","./ellipsoidUtils","./Extent","./Multipoint","../chunks/pe","./Point","./Polygon","./Polyline","./SpatialReference","./projection/projectBuffer","./projection/projectors","./projection/projectXYZToVector","./support/GeographicTransformation","./support/spatialReferenceUtils","./support/zscale"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p,m,y,g,_,b,x,w){"use strict";let T=null,S=null,v=null,P={};const M=new s.SimpleObservable;function O(){return!!T&&h.isLoaded()}function k(){return!!O()||(i.trackAccess(M),E(),!1)}function E(t){return null==v&&(v=Promise.all([h.load(),new Promise((t,r)=>e(["../chunks/geometryEngineBase"],t,r)).then(e=>e.geometryEngineBase),new Promise((t,r)=>e(["./geometryAdapters/hydrated"],t,r))])),v.then(([,e,{hydratedAdapter:r}])=>{n.throwIfAborted(t),S=r,T=e.default,T._enableProjection(h.pe),M.notify()})}function A(e,t,r=null,n=null){return Array.isArray(e)?0===e.length?[]:(a.assertNotMeshes(e),I(S,e,e[0].spatialReference,t,r,n)):(a.assertNotMesh(e),I(S,[e],e.spatialReference,t,r,n)[0])}function I(e,t,r,n,i=null,s=null){if(null==r||null==n)return t;if(U(r,n,i))return t.map(e=>j(e,r,n));if(null==i&&l.isSphericalECEF(r))return t.map(e=>j(e,r,m.WGS84)).map(e=>L(e,n));if(null==i&&l.isSphericalECEF(n))return t.map(e=>L(e,m.WGS84)).map(e=>j(e,m.WGS84,n));if(null==i){const e=b.cacheKey(r,n);void 0!==P[e]?i=P[e]:(null==(i=N(r,n,void 0))&&(i=new b),P[e]=i)}if(null==T||null==e)throw new R;return null!=s?T._project(e,t,r,n,i,s):T._project(e,t,r,n,i)}function D(e,t){if(!O())for(const r of e)if(null!=r&&!x.equals(r.spatialReference,t)&&x.isValid(r.spatialReference)&&x.isValid(t)&&!U(r.spatialReference,t))return i.trackAccess(M),{pending:E(),geometries:null};return{pending:null,geometries:e.map(e=>null==e?null:x.equals(e.spatialReference,t)?e:x.isValid(e.spatialReference)&&x.isValid(t)?L(e,t):null)}}function N(e,t,r=null){if(null==e||null==t)return null;if(null==T||null==S)throw new R;const n=T._getTransformation(S,e,t,r,r?.spatialReference);return null!==n?b.fromGE(n):null}class R extends r{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}const C={get loadPromise(){return v}};function L(e,t){try{const r=A(e,t);if(null==r)return null;"xmin"in e&&"xmin"in r&&(r.zmin=e.zmin,r.zmax=e.zmax);const n=w.getGeometryZScaler(r.type,e.spatialReference,t);return null!=n&&n(r),r}catch(e){if(!(e instanceof R))throw e;return null}}function U(e,t,r){return!r&&(!!x.equals(e,t)||x.isValid(e)&&x.isValid(t)&&!!g.getProjector(e,t))}async function F(e,t,r,i){if(O())return n.waitTick(i);if(Array.isArray(e)){for(const{source:t,dest:r,geographicTransformation:n}of e)if(t&&r&&!U(t,r,n))return E(i)}else if(e&&t&&!U(e,t,r))return E(i);return n.waitTick(i)}function j(e,t,r){return e?"x"in e?V(e,t,new f,r,0):"xmin"in e?q(e,t,new u,r,0):"rings"in e?G(e,t,new d,r,0):"paths"in e?z(e,t,new p,r,0):"points"in e?B(e,t,new c,r,0):null:null}function V(e,t,r,n,i){$[0]=e.x,$[1]=e.y;const s=e.z;return $[2]=void 0!==s?s:i,y.projectBuffer($,t,0,$,n,0)?(r.x=$[0],r.y=$[1],r.spatialReference=n,void 0!==s||l.isSphericalPCPF(n)?(r.z=$[2],r.hasZ=!0):(r.z=void 0,r.hasZ=!1),void 0===e.m?(r.m=void 0,r.hasM=!1):(r.m=e.m,r.hasM=!0),r):null}function B(e,t,r,n,i){const{points:s,hasZ:o,hasM:a}=e,u=[],c=s.length,h=[];for(const e of s)h.push(e[0],e[1],o?e[2]:i);if(!y.projectBuffer(h,t,0,h,n,0,c))return null;const f=o||l.isSphericalPCPF(n);for(let e=0;e<c;++e){const t=3*e,r=h[t],n=h[t+1];f&&a?u.push([r,n,h[t+2],s[e][3]]):f?u.push([r,n,h[t+2]]):a?u.push([r,n,s[e][2]]):u.push([r,n])}return r.points=u,r.spatialReference=n,r.hasZ=o,r.hasM=a,r}function z(e,t,r,n,i){const{paths:s,hasZ:o,hasM:a}=e,u=[];if(!W(s,o??!1,a??!1,t,u,n,i))return null;const c=o||l.isSphericalPCPF(n);return r.paths=u,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function G(e,t,r,n,i){const{rings:s,hasZ:o,hasM:a}=e,u=[];if(!W(s,o??!1,a??!1,t,u,n,i))return null;const c=o||l.isSphericalPCPF(n);return r.rings=u,r.spatialReference=n,r.hasZ=c,r.hasM=a,r}function q(e,t,r,n,i){const{xmin:s,ymin:o,xmax:a,ymax:u,hasZ:c,hasM:h}=e,f=c?e.zmin:i;if(!_.projectXYZToVector(s,o,f,t,$,n))return null;const d=c||l.isSphericalPCPF(n);r.xmin=$[0],r.ymin=$[1],d&&(r.zmin=$[2]);const p=c?e.zmax:i;return _.projectXYZToVector(a,u,p,t,$,n)?(r.xmax=$[0],r.ymax=$[1],d&&(r.zmax=$[2]),h&&(r.mmin=e.mmin,r.mmax=e.mmax),r.spatialReference=n,r):null}function W(e,t,r,n,i,s,o=0){const a=new Array;for(const r of e)for(const e of r)a.push(e[0],e[1],t?e[2]:o);if(!y.projectBuffer(a,n,0,a,s,0))return!1;let u=0;i.length=0;const c=t||l.isSphericalPCPF(s);for(const t of e){const e=new Array;for(const n of t)c&&r?e.push([a[u++],a[u++],a[u++],n[3]]):c?e.push([a[u++],a[u++],a[u++]]):r?(e.push([a[u++],a[u++],n[2]]),u++):(e.push([a[u++],a[u++]]),u++);i.push(e)}return!0}const $=o.create();t.canProjectWithoutEngine=U,t.getTransformation=N,t.getTransformations=function(e,t,r=null){if(null==T||null==S)throw new R;const n=T._getTransformationBySuitability(S,e,t,r,r?.spatialReference);if(null!==n){const e=[];for(const t of n)e.push(b.fromGE(t));return e}return[]},t.initializeProjection=F,t.isEqualBaseGCS=function(e,t){if(x.equals(e,t))return!0;if(!x.isValid(e)||!x.isValid(t))return!1;const r=x.isWGS84(e)||x.isWebMercator(e)||x.isCGCS2000(e),n=x.isWGS84(t)||x.isWebMercator(t)||x.isCGCS2000(t);return r&&n},t.isLoaded=O,t.isLoadedOrLoad=k,t.isLoadedOrLoadFor=function(e,t){return!e||!t||U(e,t)||k()},t.load=E,t.project=A,t.projectExtent=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=q(e,e.spatialReference,t,r,n)},t.projectMany=I,t.projectMultipoint=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=B(e,e.spatialReference,t,r,n)},t.projectOrLoad=function(e,t){const r=D([e],t);return null!=r.pending?{pending:r.pending,geometry:null}:null!=r.geometries?{pending:null,geometry:r.geometries[0]}:{pending:null,geometry:null}},t.projectOrLoadMany=D,t.projectPoint=function(e,t,r=t.spatialReference,n=0){return null!=r&&null!=e.spatialReference&&null!=V(e,e.spatialReference,t,r,n)},t.projectPolygon=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=G(e,e.spatialReference,t,r,n)},t.projectPolyline=function(e,t,r=t.spatialReference,n=0){return null!=e.spatialReference&&null!=r&&null!=z(e,e.spatialReference,t,r,n)},t.projectWithZConversion=async function(e,t,r){const n=e.spatialReference;return null!=n&&null!=t&&await F(n,t,null,r),L(e,t)},t.projectWithoutEngine=j,t.requiresLoad=function(e,t){return!U(e,t)&&!O()},t.test=C,t.tryProjectWithZConversion=L,t.unload=function(){T=null,S=null,v=null,P={}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","../ObservableBase"],function(e,t){"use strict";class r extends t.ObservableBase{notify(){const e=this._observers;if(e&&e.length>0){const t=e.slice();for(const e of t)e.onInvalidated(),e.onCommitted()}}}e.SimpleObservable=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec3f64":function(){define(["exports"],function(e){"use strict";function t(){return[0,0,0]}function r(e){return[e[0],e[1],e[2]]}function n(e,t,r){return[e,t,r]}function i(e,t,r){return[e,t,r]}function s(e,t=[0,0,0]){const r=Math.min(3,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function o(){return[0,0,0]}function a(){return n(1,1,1)}function l(){return n(1,0,0)}function u(){return n(0,1,0)}function c(){return n(0,0,1)}const h=[0,0,0],f=a(),d=l(),p=u(),m=c(),y=Object.freeze(Object.defineProperty({__proto__:null,ONES:f,UNIT_X:d,UNIT_Y:p,UNIT_Z:m,ZEROS:h,clone:r,create:t,freeze:i,fromArray:s,fromValues:n,ones:a,unitX:l,unitY:u,unitZ:c,zeros:o},Symbol.toStringTag,{value:"Module"}));e.ONES=f,e.UNIT_X=d,e.UNIT_Y=p,e.UNIT_Z=m,e.ZEROS=h,e.clone=r,e.create=t,e.freeze=i,e.fromArray=s,e.fromValues=n,e.ones=a,e.unitX=l,e.unitY=u,e.unitZ=c,e.vec3f64=y,e.zeros=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectBuffer":function(){define(["exports","./projectors"],function(e,t){"use strict";e.projectBuffer=function(e,r,n,i,s,o,a=Math.floor(e.length/3)){const l=t.getProjector(r,s);if(null==l)return!1;if(l===t.copy3){if(e===i&&n===o)return!0;const t=n+3*a;for(let r=n,s=o;r<t;r++,s++)i[s]=e[r];return!0}const u=n+3*a;for(let t=n,r=o;t<u;t+=3,r+=3)l(e,t,i,r);return!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectors":function(){define(["exports","../../core/mathUtils","../../core/unitUtils","../ellipsoidUtils","../support/Ellipsoid","../support/geodesicConstants","../support/spatialReferenceUtils"],function(e,t,r,n,i,s,o){"use strict";const a={2:{5:h,7:null,9:null,10:h,1:S,6:null,8:null,0:null,3:y,11:g,2:h,4:A},5:{5:h,7:null,9:null,10:h,1:S,6:null,8:null,0:null,3:y,11:g,2:h,4:A},7:{5:null,7:h,9:null,10:h,1:null,6:T,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:h,10:h,1:null,6:null,8:w,0:null,3:null,11:null,2:null,4:null},3:{5:f,7:null,9:null,10:f,1:d,6:null,8:null,0:null,3:h,11:b,2:f,4:p},4:{5:I,7:null,9:null,10:I,1:D,6:null,8:null,0:null,3:N,11:function(e,t,r,n){I(e,t,r,n),g(r,n,r,n)},2:I,4:h},1:{5:O,7:null,9:null,10:O,1:h,6:null,8:null,0:null,3:k,11:function(e,t,r,n){O(e,t,r,n),g(r,n,r,n)},2:O,4:E},6:{5:null,7:M,9:null,10:M,1:null,6:h,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:P,10:P,1:null,6:null,8:h,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:h,3:null,11:null,2:null,4:null},10:{5:h,7:h,9:h,10:h,1:S,6:T,8:w,0:null,3:y,11:g,2:h,4:A},11:{5:_,7:null,9:null,10:_,1:function(e,t,r,n){_(e,t,r,n),S(r,n,r,n)},6:null,8:null,0:null,3:function(e,t,r,n){_(e,t,r,n),y(r,n,r,n)},11:h,2:_,4:function(e,t,r,n){_(e,t,r,n),A(r,n,r,n)}}};function l(e,t){return u(e,t)?.projector}function u(e,t){if(null==e||null==t)return null;if(R.source.spatialReference===e&&R.dest.spatialReference===t)return R;const r=c(e,R.source),n=c(t,R.dest);return 0===r&&0===n?o.equals(e,t)?R.projector=h:R.projector=null:R.projector=a[r][n],R}function c(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=r.getMetersPerUnitForSR(e,1)),n.isSphericalECEF(e)?t.spatialReferenceId=1:o.isWGS84(e)?t.spatialReferenceId=2:o.isWebMercator(e)?t.spatialReferenceId=3:o.isPlateCarree(e)?t.spatialReferenceId=11:e.wkt===n.WGS84ECEFSpatialReferenceLike.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===n.SphericalPCPFMarsLike.wkt?t.spatialReferenceId=6:e.wkt===n.SphericalPCPFMoonLike.wkt?t.spatialReferenceId=8:o.isMars(e)?t.spatialReferenceId=7:o.isMoon(e)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function h(e,t,r,n){e!==r&&(r[n++]=e[t++],r[n++]=e[t++],r[n]=e[t])}function f(e,t,r,n){r[n]=L*(e[t]/F),r[n+1]=L*(U-2*Math.atan(Math.exp(-e[t+1]/F))),r[n+2]=e[t+2]}function d(e,t,r,n){const i=e[t]/F,s=U-2*Math.atan(Math.exp(-e[t+1]/F)),o=F+e[t+2],a=Math.cos(s)*o;r[n]=Math.cos(i)*a,r[n+1]=Math.sin(i)*a,r[n+2]=Math.sin(s)*o}function p(e,t,r,n){f(e,t,r,n),A(r,n,r,n)}function m(e,r,n,i,s){const o=.4999999*Math.PI,a=t.clamp(C*e[r+1],-o,o),l=Math.sin(a);n[i++]=C*e[r]*s.radius,n[i++]=s.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[i]=e[r+2]}function y(e,t,r,n){m(e,t,r,n,i.earth)}function g(e,t,r,n){r[n]=e[t]*j,r[n+1]=e[t+1]*j,r[n+2]=e[t+2]}function _(e,t,r,n){r[n]=e[t]*V,r[n+1]=e[t+1]*V,r[n+2]=e[t+2]}function b(e,t,r,n){f(e,t,r,n),g(r,n,r,n)}function x(e,t,r,n,i){const s=i+e[t+2],o=C*e[t+1],a=C*e[t],l=Math.cos(o)*s;r[n]=Math.cos(a)*l,r[n+1]=Math.sin(a)*l,r[n+2]=Math.sin(o)*s}function w(e,t,r,n){x(e,t,r,n,i.moon.radius)}function T(e,t,r,n){x(e,t,r,n,i.mars.radius)}function S(e,t,r,n){x(e,t,r,n,i.earth.radius)}function v(e,r,n,i,s){const o=e[r],a=e[r+1],l=e[r+2],u=Math.sqrt(o*o+a*a+l*l),c=t.asinClamped(l/(0===u?1:u)),h=Math.atan2(a,o);n[i++]=L*h,n[i++]=L*c,n[i]=u-s}function P(e,t,r,n){v(e,t,r,n,i.moon.radius)}function M(e,t,r,n){v(e,t,r,n,i.mars.radius)}function O(e,t,r,n){v(e,t,r,n,i.earth.radius)}function k(e,t,r,n){O(e,t,r,n),y(r,n,r,n)}function E(e,t,r,n){O(e,t,r,n),A(r,n,r,n)}function A(e,t,r,n){!function(e,t,r,n,i){const s=C*e[t],o=C*e[t+1],a=e[t+2],l=Math.sin(o),u=Math.cos(o),c=i.radius/Math.sqrt(1-i.eccentricitySquared*l*l);r[n++]=(c+a)*u*Math.cos(s),r[n++]=(c+a)*u*Math.sin(s),r[n++]=(c*(1-i.eccentricitySquared)+a)*l}(e,t,r,n,i.earth)}function I(e,t,r,n){const o=s.earthEllipsoidConstants,a=e[t],l=e[t+1],u=e[t+2];let c,h,f,d,p,m,y,g,_,b,x,w,T,S,v,P,M,O,k,E,A;c=Math.abs(u),h=a*a+l*l,f=Math.sqrt(h),d=h+u*u,p=Math.sqrt(d),E=Math.atan2(l,a),m=u*u/d,y=h/d,S=o.a2/p,v=o.a3-o.a4/p,y>.3?(g=c/p*(1+y*(o.a1+S+m*v)/p),k=Math.asin(g),b=g*g,_=Math.sqrt(1-b)):(_=f/p*(1-m*(o.a5-S-y*v)/p),k=Math.acos(_),b=1-_*_,g=Math.sqrt(b)),x=1-i.earth.eccentricitySquared*b,w=i.earth.radius/Math.sqrt(x),T=o.a6*w,S=f-w*_,v=c-T*g,M=_*S+g*v,P=_*v-g*S,O=P/(T/x+M),k+=O,A=M+P*O/2,u<0&&(k=-k),r[n++]=L*E,r[n++]=L*k,r[n]=A}function D(e,t,r,n){I(e,t,r,n),S(r,n,r,n)}function N(e,t,r,n){I(e,t,r,n),y(r,n,r,n)}const R={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:h},C=t.deg2rad(1),L=t.rad2deg(1),U=.5*Math.PI,F=i.earth.radius,j=F*Math.PI/180,V=180/(F*Math.PI);e.copy3=h,e.getProjector=l,e.getProjectorClassification=u,e.getProjectorName=function(e,t){switch(l(e,t)){case h:return"copy3";case S:return"wgs84ToSphericalECEF";case y:return"wgs84ToWebMercator";case g:return"wgs84ToPlateCarree";case A:return"wgs84ToWGS84ECEF";case f:return"webMercatorToWGS84";case d:return"webMercatorToSphericalECEF";case p:return"webMercatorToWGS84ECEF";case b:return"webMercatorToPlateCarree";case I:return"wgs84ECEFToWGS84";case D:return"wgs84ECEFToSphericalECEF";case N:return"wgs84ECEFToWebMercator";case O:return"sphericalECEFToWGS84";case k:return"sphericalECEFToWebMercator";case M:return"sphericalMarsPCPFToMars2000";case P:return"sphericalMoonPCPFToMoon2000";case E:return"sphericalECEFToWGS84ECEF";case T:return"mars2000ToSphericalPCPF";case w:return"moon2000ToSphericalPCPF";default:return null}},e.invPlateCarreeScale=V,e.lonLatToWebMercatorComparable=m,e.projectionTable=a,e.sphericalPCPFtoLonLatElevation=v,e.wgs84ToWebMercator=y,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/geodesicConstants":function(){define(["exports","./Ellipsoid"],function(e,t){"use strict";const r=Math.PI/180,n=t.earth.radius,i=t.earth.eccentricitySquared,s={a1:n*i,a2:n*i*n*i,a3:n*i*i/2,a4:n*i*n*i*2.5,a5:n*i+n*i*i/2,a6:1-i},o={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:t.earth.radius,f:t.earth.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:t.moon.radius,f:t.moon.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:t.mars.radius,f:t.mars.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:t.mars.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};e.earthEllipsoidConstants=s,e.spheroids=o,e.toRadians=r,e.wktSpheroidRegex=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectXYZToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","./projectBuffer"],function(e,t,r){"use strict";const n=t.create();e.projectXYZToVector=function(e,t,i,s,o,a){return n[0]=e,n[1]=t,n[2]=i,r.projectBuffer(n,s,0,o,a,0)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(e){"use strict";class t{static cacheKey(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}static fromGE(r){const n=new t;let i="";for(const t of r.steps){const r=e.fromGE(t);n.steps.push(r),i+=r.uid.toString()+","}return n._cachedProjection={},n._gtlistentry=null,n._chain=i,n}constructor(t){if(this.steps=[],this._cachedProjection={},this._chain="",this._gtlistentry=null,t?.steps)for(const r of t.steps)r instanceof e?this.steps.push(r):this.steps.push(new e({wkid:r.wkid,wkt:r.wkt,isInverse:r.isInverse}))}getInverse(){const e=new t;e.steps=[];for(let t=this.steps.length-1;t>=0;t--){const r=this.steps[t];e.steps.push(r.getInverse())}return e}getGTListEntry(){let e="";for(const t of this.steps)e+=t.uid.toString()+",";return e!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=e),this._gtlistentry}assignCachedGe(e,r,n){this._cachedProjection[t.cacheKey(e,r)]=n}getCachedGeTransformation(e,r){let n="";for(const e of this.steps)n+=e.uid.toString()+",";n!==this._chain&&(this._gtlistentry=null,this._cachedProjection={},this._chain=n);const i=this._cachedProjection[t.cacheKey(e,r)];return void 0===i?null:i}}return t})},"esri/geometry/support/GeographicTransformationStep":function(){define(function(){"use strict";let e=0;class t{static fromGE(e){const r=new t;return r._wkt=e.wkt,r._wkid=e.wkid,r._isInverse=e.isInverse,r}constructor(t){this.uid=e++,t?(this._wkt=null!=t.wkt?t.wkt:null,this._wkid=null!=t.wkid?t.wkid:-1,this._isInverse=null!=t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=e++}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=e++}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=e++}getInverse(){const e=new t;return e._wkt=this.wkt,e._wkid=this._wkid,e._isInverse=!this.isInverse,e}}return t})},"esri/geometry/support/zscale":function(){define(["exports","../../core/unitUtils","../ellipsoidUtils","./spatialReferenceUtils"],function(e,t,r,n){"use strict";e.getGeometryZScaler=function(e,i,s){if(null==i||null==s||s.vcsWkid||n.equals(i,s)||r.isSphericalPCPF(i)||r.isSphericalPCPF(s))return null;const o=t.getMetersPerVerticalUnitForSR(i)/t.getMetersPerVerticalUnitForSR(s);if(1===o)return null;switch(e){case"point":case"esriGeometryPoint":return e=>{return t=e,r=o,void(null!=t?.z&&(t.z*=r));var t,r};case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}(e,o);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}(e,o);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}(e,o);case"extent":case"esriGeometryEnvelope":return e=>{return r=o,void((t=e)&&null!=t.zmin&&null!=t.zmax&&(t.zmin*=r,t.zmax*=r));var t,r};default:return null}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/fieldUtils":function(){define(["exports","../../core/Error","../../core/object","../../core/SetUtils","../../core/sql","./domainUtils","../../support/arcadeExpressionUtils","../../support/guards","../../support/loadArcade"],function(e,t,r,n,i,s,o,a,l){"use strict";const u=/^([0-9_])/,c=/[^a-z0-9_\u0080-\uffff]+/gi,h=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],f=["field","normalizationField"];function d(e,t,n){if(e)for(const i of e){const e=r.getDeepValue(i,t),s=e&&"function"!=typeof e&&n.get(e);s&&r.setDeepValue(i,s.name,t)}}const p=new Set;function m(e,t){return e&&t?(p.clear(),y(p,e,t),Array.from(p).sort()):[]}function y(e,t,r){if(r)if(t?.fields?.length)if(r.includes("*"))for(const{name:r}of t.fields)e.add(r);else for(const n of r)g(e,t,n);else{if(r.includes("*"))return e.clear(),void e.add("*");for(const t of r)null!=t&&e.add(t)}}function g(e,t,r){if("string"==typeof r)if(t){const n=t.get(r);n&&e.add(n.name)}else e.add(r)}async function _(e,t,r){if(!r)return;let n;const i=o.getFieldNameFromSimpleExpression(r);if(i)n=[i];else{const{arcadeUtils:e}=await l.loadArcade();n=e.extractFieldNames(r,t?.fields?.map(e=>e.name))}for(const r of n)g(e,t,r)}async function b(e,r,n){if(n&&"1=1"!==n){const s=await i.parseWhereClause(n,r);if(!s.isStandardized)throw new t("fieldUtils:collectFilterFields","Where clause is not standardized",{where:n});y(e,r,s.fieldNames)}}function x(e,t){for(const r of e)if(r?.valueType&&r.valueType===t)return r.name;return null}async function w(e,t){if(!t)return;const r=t.elevationInfo?.featureExpressionInfo;return r?r.collectRequiredFields(e,t.fieldsIndex):void 0}async function T(e,t,r){const n=[];r?.expressionInfos&&n.push(...r.expressionInfos.map(r=>_(e,t.fieldsIndex,r.expression)));const i=r?.content;if(Array.isArray(i))for(const r of i)"expression"===r.type&&r.expressionInfo&&n.push(_(e,t.fieldsIndex,r.expressionInfo.expression));await Promise.all(n)}function S(e){if(!e)return[];const t=e.geometryFieldsInfo;return t?m(e.fieldsIndex,[t.shapeAreaField,t.shapeLengthField]):[]}const v=new Set(["oid","global-id","guid"]),P=new Set(["oid","global-id"]),M=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function O(e){const t=new Set;E(e).forEach(e=>t.add(e)),S(e).forEach(e=>t.add(e.toLowerCase()));const r=e&&"infoFor3D"in e?e.infoFor3D:void 0;return r&&(Object.values(r.assetMapFieldRoles).forEach(e=>t.add(e.toLowerCase())),Object.values(r.transformFieldRoles).forEach(e=>t.add(e.toLowerCase()))),Array.from(t)}function k(e){if(!e)return[];const t="editFieldsInfo"in e&&e.editFieldsInfo;if(!t)return[];const{creationDateField:r,creatorField:n,editDateField:i,editorField:s}=t;return[r,n,i,s].filter(Boolean)}function E(e){return k(e).map(e=>e.toLowerCase())}async function A(e,t){const{labelingInfo:r,fieldsIndex:n}=t;r?.length&&await Promise.all(r.map(t=>I(e,n,t)))}async function I(e,t,r){if(!r)return;const n=r.getLabelExpression(),i=r.where;if("arcade"===n.type)await _(e,t,n.expression);else{const r=n.expression.match(/{[^}]*}/g);r&&r.forEach(r=>{g(e,t,r.slice(1,-1))})}await b(e,t,i)}function D(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function N(e){return null===e||D(e)}function R(e){return null===e||Number.isInteger(e)}function C(){return!0}function L(e,t){let r;switch(e.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":r=e.nullable?R:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":r=e.nullable?N:D;break;case"string":case"esriFieldTypeString":r=e.nullable?a.isStringOrNull:a.isString;break;default:r=C}return 1===arguments.length?r:r(t)}const U=["integer","small-integer","big-integer","long"],F=["single","double"],j=[...U,...F],V=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],B=["esriFieldTypeSingle","esriFieldTypeDouble"],z=new Set([...U,...V]),G=new Set([...F,...B]),q=n.union(z,G);function W(e){return null!=e&&q.has(e.type)}function $(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}function H(e,t){return null==e||e.nullable&&null===t?null:L(e,t)?W(e)&&!Z(e.type,Number(t))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function Z(e,t){const r="string"==typeof e?J(e):e;if(!r)return!1;const n=r.min,i=r.max;return r.isInteger?Number.isInteger(t)&&t>=n&&t<=i:t>=n&&t<=i}function J(e){switch(e){case"esriFieldTypeSmallInteger":case"small-integer":return Y;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return K;case"esriFieldTypeBigInteger":case"big-integer":return X;case"esriFieldTypeSingle":case"single":return Q;case"esriFieldTypeDouble":case"double":return ee}}const Y={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},K={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},X={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},Q={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},ee={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function te(e,t,r){if(!e?.attributes||!t){if(null!=r)for(const e of t??[])r.add(e);return!0}const n=new Set(Object.keys(e.attributes));let i=!1;for(const e of t)if(!n.has(e)){if(i=!0,null==r)break;r.add(e)}return i}e.bigIntegerRange=X,e.collectArcadeFieldNames=_,e.collectDisplayFilterFields=async function(e,t,r){if(!t||!r)return;const n=t.fieldsIndex;await Promise.all(r.filters.map(t=>b(e,n,t.where)))},e.collectElevationFields=w,e.collectFeatureReductionFields=async function(e,t,r){if(!t||!r||!("fields"in r))return;const n=[],i=r.popupTemplate;n.push(T(e,t,i)),r.fields&&n.push(...r.fields.map(async r=>function(e,t,r){r.onStatisticExpression?_(e,t,r.onStatisticExpression.expression):e.add(r.onStatisticField)}(e,t.fieldsIndex,r))),await Promise.all(n)},e.collectField=g,e.collectFields=y,e.collectFilterFields=async function(e,t,r){t&&(t.timeInfo&&r?.timeExtent&&y(e,t.fieldsIndex,[t.timeInfo.startField,t.timeInfo.endField]),t.floorInfo&&y(e,t.fieldsIndex,[t.floorInfo.floorField]),null!=r?.where&&await b(e,t.fieldsIndex,r.where))},e.collectLabelingFields=A,e.collectOrderByInfos=async function(e,t,r){t&&r&&await Promise.all(r.map(r=>async function(e,t,r){t&&r&&(r.valueExpression?await _(e,t.fieldsIndex,r.valueExpression):r.field&&g(e,t.fieldsIndex,r.field))}(e,t,r)))},e.collectPopupTemplateFields=T,e.collectSQLFieldNames=b,e.collectTrackInfoFields=async function(e,t){const{fieldsIndex:r,trackInfo:n}=t;if(!t||!n||!r)return;const i=[n.latestObservations.renderer?.collectRequiredFields(e,r),n.previousObservations.renderer?.collectRequiredFields(e,r),n.trackLines.renderer?.collectRequiredFields(e,r)];n.popupTemplate&&i.push(T(e,t,n.popupTemplate));for(const t of[n.latestObservations.labelingInfo,n.previousObservations.labelingInfo,n.trackLines.labelingInfo])if(t)for(const n of t)i.push(I(e,r,n));await Promise.all(i)},e.doubleRange=ee,e.extractSubstitutionTemplatesFromString=function(e){const t=e?.match(/{[^}]+}/g);return t?t.map(e=>e.slice(1,-1).split(":")[0].trim()):[]},e.featureHasFields=function(e,t){return!te(e,t,null)},e.fixFields=m,e.fixRendererFields=function(e,t){if(null!=e&&null!=t)for(const r of Array.isArray(e)?e:[e])if(d(h,r,t),"visualVariables"in r&&r.visualVariables)for(const e of r.visualVariables)d(f,e,t)},e.fixTimeInfoFields=function(e,t){if(null!=e&&t?.fields?.length)if("startField"in e){const r=t.get(e.startField),n=t.get(e.endField);e.startField=r?.name??null,e.endField=n?.name??null}else{const r=t.get(e.startTimeField),n=t.get(e.endTimeField);e.startTimeField=r?.name??null,e.endTimeField=n?.name??null}},e.floatJSONTypes=B,e.floatTypes=F,e.getDisplayFieldName=function({displayField:e,fields:t}){return e||(t?.length?x(t,"name-or-title")||x(t,"unique-identifier")||x(t,"type-or-category")||function(e){for(const t of e){if(!t?.name)continue;const e=t.name.toLowerCase();if(e.includes("name")||e.includes("title"))return t.name}return null}(t):null)},e.getEditTrackingFields=k,e.getElevationFields=async function(e){if(!e)return[];const t=new Set;return await w(t,e),Array.from(t).sort()},e.getExpressionFields=async function(e,t){const r=new Set;for(const n of t)await _(r,e.fieldsIndex,n);return Array.from(r).sort()},e.getFeatureEditFields=function(e){return e?m(e.fieldsIndex,k(e)):[]},e.getFeatureGeometryFields=S,e.getFieldDefaultLength=function(e){const t="string"==typeof e?{type:e}:e;return $(t)?255:"esriFieldTypeDate"===t.type||"date"===t.type?8:void 0},e.getFieldDefaultValue=function(e){const t=e.defaultValue;return void 0!==t&&L(e,t)?t:e.nullable?null:void 0},e.getFieldRange=function(e,t){return s.getDomainRange(e,t)||(W(e)?J(e.type):void 0)},e.getLabelingFields=async function(e){if(!e)return[];const t=new Set;return await A(t,e),Array.from(t).sort()},e.getLowerCaseDefaultHiddenFields=O,e.getLowerCaseEditTrackingFields=E,e.getNumericTypeForValue=function(e){if(!D(e))return null;if(Number.isInteger(e)){if(e>=Y.min&&e<=Y.max)return"esriFieldTypeSmallInteger";if(e>=K.min&&e<=K.max)return"esriFieldTypeInteger";if(e>=X.min&&e<=X.max)return"esriFieldTypeBigInteger"}return e>=Q.min&&e<=Q.max?"esriFieldTypeSingle":"esriFieldTypeDouble"},e.getRendererFields=async function(e,t){const r=new Set;return e?.collectRequiredFields&&await e.collectRequiredFields(r,t),Array.from(r).sort()},e.getTimeFields=async function(e){if(!e)return[];const t="timeInfo"in e&&e.timeInfo;return t?m(e.fieldsIndex,[e.trackIdField,t.startField,t.endField]):[]},e.integerJSONTypes=V,e.integerRange=K,e.integerTypes=U,e.isDateField=function(e){return null!=e&&("date"===e.type||"esriFieldTypeDate"===e.type)},e.isDateOnlyField=function(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)},e.isFieldEditable=function(e,t){return e.editable&&!v.has(e.type)&&!E(t).includes(e.name?.toLowerCase()??"")},e.isFieldVisibleByDefault=function(e,t){const r=e.name?.toLowerCase()??"";return!(null!=t?.objectIdField&&r===t.objectIdField.toLowerCase()||null!=t?.globalIdField&&r===t.globalIdField.toLowerCase()||O(t).includes(r)||P.has(e.type)||M.some(e=>e.test(r)))},e.isGlobalIDField=function(e){return null!=e&&("global-id"===e.type||"esriFieldTypeGlobalID"===e.type)},e.isIntegerField=function(e){return null!=e&&z.has(e.type)},e.isNumberInRange=Z,e.isNumericField=W,e.isObjectIDField=function(e){return null!=e&&("oid"===e.type||"esriFieldTypeOID"===e.type)},e.isRasterPixelValueField=function(e){return!!e&&["raster.itempixelvalue","raster.servicepixelvalue"].some(t=>e.toLowerCase().startsWith(t))},e.isStringField=$,e.isTimeOnlyField=function(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)},e.isTimestampOffsetField=function(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)},e.isValidFieldValue=function(e,t){return null===H(e,t)},e.isValueMatchingFieldType=L,e.normalizeFieldName=function(e){return null==e?null:e.trim().replaceAll(c,"_").replace(u,"F$1")||null},e.numericTypes=j,e.packFields=function(e,t,r=1){if(!t||!e)return[];if(t.includes("*"))return["*"];const n=m(e,t);return n.length/e.fields.length>=r?["*"]:n},e.populateMissingFields=te,e.rendererFields=h,e.sanitizeNullFieldValue=function(e){return null==e||"number"==typeof e&&isNaN(e)?null:e},e.singleRange=Q,e.smallIntegerRange=Y,e.unpackFieldNames=function(e,t){return null==t||null==e?[]:t.includes("*")?(e.fields??[]).map(e=>e.name):t},e.validateFieldValue=H,e.validationErrorToString=function(e,t,r){switch(e){case"domain-validation-error::invalid-coded-value":return`Value ${r} is not in the coded domain - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${r} is out of the range of valid values - field: ${t.name}, domain: ${JSON.stringify(t.domain)}`;case"type-validation-error::invalid-type":return`Value ${r} is not a valid value for the field type - field: ${t.name}, type: ${t.type}, nullable: ${t.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:e,max:n}=J(t.type);return`Value ${r} is out of range for the number type - field: ${t.name}, type: ${t.type}, value range is ${e} to ${n}`}}},e.visualVariableFields=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/sql":function(){define(["require","exports"],function(e,t){"use strict";let r;async function n(){return null==r&&(r=new Promise((t,r)=>e(["./sql/WhereClauseCache"],t,r)).then(e=>new e.WhereClauseCache(500,500))),r}t.cleanupWhereClauseCache=function(){r=null},t.parseWhereClause=async function(e,t){const r=await n(),i=r.get(e,t);if(null==i)throw r.getError(e,t);return i},t.sqlAnd=function(e,t){return e||=null,t||=null,"1=1"===e?t??e:"1=1"===t?e??t:e&&t?`(${e}) AND (${t})`:e??t},t.sqlIn=function(e,t){return 0===t.length?null:`${e} IN (${function(e){return e.map(e=>"string"==typeof e?function(e){return`'${e.replaceAll("'","''")}'`}(e):e).join(",")}(t)})`},t.sqlOr=function(e,t){return e||=null,t||=null,"1=1"===e||"1=1"===t||e===t?"1=1"===e?e:t:e&&t?`(${e}) OR (${t})`:e??t},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/domainUtils":function(){define(["exports","../../core/SetUtils","../../support/dateUtils"],function(e,t,r){"use strict";const n=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function i(e){return null!=e&&("date-only"===e.type||"esriFieldTypeDateOnly"===e.type)}function s(e){return null!=e&&("timestamp-offset"===e.type||"esriFieldTypeTimestampOffset"===e.type)}function o(e){return null!=e&&("time-only"===e.type||"esriFieldTypeTimeOnly"===e.type)}const a=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]),l=t.union(n,a);function u(e,t){const r=t??e?.domain;if(!r||"range"!==r.type)return;const a="range"in r?r.range[0]:r.minValue,l="range"in r?r.range[1]:r.maxValue,u=function(e){return null!=e&&n.has(e.type)}(e);return i(e)||o(e)||s(e)?{...c(e,l,a),isInteger:u}:{min:null!=a&&"number"==typeof a?a:null,max:null!=l&&"number"==typeof l?l:null,rawMin:a,rawMax:l,isInteger:u}}function c(e,t,n){return i(e)?{min:r.dateOnlyToDateTime(n)?.toMillis(),max:r.dateOnlyToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:o(e)?{min:r.timeOnlyToDateTime(n)?.toMillis(),max:r.timeOnlyToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:s(e)?{min:r.timestampOffsetToDateTime(n)?.toMillis(),max:r.timestampOffsetToDateTime(t)?.toMillis(),rawMin:n,rawMax:t}:{max:null,min:null}}e.dateTimeFieldValuesToNumericRange=c,e.getDomainRange=u,e.isDomainValidForField=function(e,t){switch(t.type){case"range":{const{min:r,max:n}=u(e,t);return i(e)||o(e)||s(e)?!!r&&!!n:"number"==typeof r&&Number.isFinite(r)&&"number"==typeof n&&Number.isFinite(n)}case"codedValue":case"coded-value":{const r=typeof t.codedValues[0].code;if("string"===r&&function(e){return null!=e&&("string"===e.type||"esriFieldTypeString"===e.type)}(e)||"number"===r&&function(e){return null!=e&&l.has(e.type)}(e))return!0}}return!1},e.validateDomainValue=function(e,t,r){const n=r??e?.domain;if(!n)return null;switch(n.type){case"range":{const{min:r,max:i}=u(e,n);if(null!=r&&+t<r||null!=i&&+t>i)return"domain-validation-error::value-out-of-range";break}case"coded-value":case"codedValue":if(null==n.codedValues||n.codedValues.every(e=>null==e||e.code!==t))return"domain-validation-error::invalid-coded-value"}return null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/dateUtils":function(){define(["exports","../core/maybe","./guards","../chunks/datetime"],function(e,t,r,n){"use strict";const i="HH:mm",s="HH:mm:ss",o="HH:mm:ss.SSS",a={HM:i,HMS:s,HMS_MS:o},l=[o,s,i,"TT"],u="yyyy-MM-dd",c=s;e.TimeStampOffsetPattern=a,e.dateOnlyToDateTime=function(e){if(!e||!r.isString(e))return null;const t=n.DateTime.fromFormat(e,u);return t.isValid?t:null},e.defaultDatePattern=u,e.defaultTimePattern=c,e.timeOnlyToDateTime=function(e){return e&&r.isString(e)?t.mappedFind(l,t=>{const r=n.DateTime.fromFormat(e,t);return r.isValid?r:null})??null:null},e.timestampOffsetToDateTime=function(e){if(!e||!r.isString(e))return null;const t=n.DateTime.fromISO(e);return t.isValid?t:null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/guards":function(){define(["exports"],function(e){"use strict";function t(e){return"string"==typeof e||e instanceof String}e.isArray=function(e){return Array.isArray(e)},e.isBoolean=function(e){return"boolean"==typeof e},e.isDate=function(e){return e instanceof Date},e.isGraphic=function(e){return"esri.Graphic"===e?.declaredClass},e.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},e.isNumber=function(e){return"number"==typeof e},e.isQuery=function(e){return"esri.rest.support.Query"===e?.declaredClass},e.isString=t,e.isStringOrNull=function(e){return null==e||t(e)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/datetime":function(){define(["exports"],function(e){"use strict";class t extends Error{}class r extends t{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class n extends t{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class i extends t{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class s extends t{}class o extends t{constructor(e){super(`Invalid unit ${e}`)}}class a extends t{}class l extends t{constructor(){super("Zone is an abstract class")}}const u="numeric",c="short",h="long",f={year:u,month:u,day:u},d={year:u,month:c,day:u},p={year:u,month:c,day:u,weekday:c},m={year:u,month:h,day:u},y={year:u,month:h,day:u,weekday:h},g={hour:u,minute:u},_={hour:u,minute:u,second:u},b={hour:u,minute:u,second:u,timeZoneName:c},x={hour:u,minute:u,second:u,timeZoneName:h},w={hour:u,minute:u,hourCycle:"h23"},T={hour:u,minute:u,second:u,hourCycle:"h23"},S={hour:u,minute:u,second:u,hourCycle:"h23",timeZoneName:c},v={hour:u,minute:u,second:u,hourCycle:"h23",timeZoneName:h},P={year:u,month:u,day:u,hour:u,minute:u},M={year:u,month:u,day:u,hour:u,minute:u,second:u},O={year:u,month:c,day:u,hour:u,minute:u},k={year:u,month:c,day:u,hour:u,minute:u,second:u},E={year:u,month:c,day:u,weekday:c,hour:u,minute:u},A={year:u,month:h,day:u,hour:u,minute:u,timeZoneName:c},I={year:u,month:h,day:u,hour:u,minute:u,second:u,timeZoneName:c},D={year:u,month:h,day:u,weekday:h,hour:u,minute:u,timeZoneName:h},N={year:u,month:h,day:u,weekday:h,hour:u,minute:u,second:u,timeZoneName:h};class R{get type(){throw new l}get name(){throw new l}get ianaName(){return this.name}get isUniversal(){throw new l}offsetName(e,t){throw new l}formatOffset(e,t){throw new l}offset(e){throw new l}equals(e){throw new l}get isValid(){throw new l}}let C=null;class L extends R{static get instance(){return null===C&&(C=new L),C}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rt(e,t,r)}formatOffset(e,t){return ot(this.offset(e),t)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return"system"===e.type}get isValid(){return!0}}const U=new Map,F={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6},j=new Map;class V extends R{static create(e){let t=j.get(e);return void 0===t&&j.set(e,t=new V(e)),t}static resetCache(){j.clear(),U.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}}constructor(e){super(),this.zoneName=e,this.valid=V.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:t,locale:r}){return rt(e,t,r,this.name)}formatOffset(e,t){return ot(this.offset(e),t)}offset(e){if(!this.valid)return NaN;const t=new Date(e);if(isNaN(t))return NaN;const r=function(e){let t=U.get(e);return void 0===t&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),U.set(e,t)),t}(this.name);let[n,i,s,o,a,l,u]=r.formatToParts?function(e,t){const r=e.formatToParts(t),n=[];for(let e=0;e<r.length;e++){const{type:t,value:i}=r[e],s=F[t];"era"===t?n[s]=i:Ce(s)||(n[s]=parseInt(i,10))}return n}(r,t):function(e,t){const r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,i,s,o,a,l,u,c]=n;return[o,i,s,a,l,u,c]}(r,t);"BC"===o&&(n=1-Math.abs(n));let c=+t;const h=c%1e3;return c-=h>=0?h:1e3+h,(Xe({year:n,month:i,day:s,hour:24===a?0:a,minute:l,second:u,millisecond:0})-c)/6e4}equals(e){return"iana"===e.type&&e.name===this.name}get isValid(){return this.valid}}let B={};const z=new Map;function G(e,t={}){const r=JSON.stringify([e,t]);let n=z.get(r);return void 0===n&&(n=new Intl.DateTimeFormat(e,t),z.set(r,n)),n}const q=new Map,W=new Map;let $=null;const H=new Map;function Z(e){let t=H.get(e);return void 0===t&&(t=new Intl.DateTimeFormat(e).resolvedOptions(),H.set(e,t)),t}const J=new Map;function Y(e,t,r,n){const i=e.listingMode();return"error"===i?null:"en"===i?r(t):n(t)}class K{constructor(e,t,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:i,...s}=r;if(!t||Object.keys(s).length>0){const t={useGrouping:!1,...r};r.padTo>0&&(t.minimumIntegerDigits=r.padTo),this.inf=function(e,t={}){const r=JSON.stringify([e,t]);let n=q.get(r);return void 0===n&&(n=new Intl.NumberFormat(e,t),q.set(r,n)),n}(e,t)}}format(e){if(this.inf){const t=this.floor?Math.floor(e):e;return this.inf.format(t)}return qe(this.floor?Math.floor(e):Ze(e,3),this.padTo)}}class X{constructor(e,t,r){let n;if(this.opts=r,this.originalZone=void 0,this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){const t=e.offset/60*-1,r=t>=0?`Etc/GMT+${t}`:`Etc/GMT${t}`;0!==e.offset&&V.create(r).valid?(n=r,this.dt=e):(n="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const i={...this.opts};i.timeZone=i.timeZone||n,this.dtf=G(t,i)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(e=>{if("timeZoneName"===e.type){const t=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...e,value:t}}return e}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class Q{constructor(e,t,r){this.opts={style:"long",...r},!t&&Fe()&&(this.rtf=function(e,t={}){const{base:r,...n}=t,i=JSON.stringify([e,n]);let s=W.get(i);return void 0===s&&(s=new Intl.RelativeTimeFormat(e,t),W.set(i,s)),s}(e,r))}format(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,r="always",n=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===r&&s){const r="days"===e;switch(t){case 1:return r?"tomorrow":`next ${i[e][0]}`;case-1:return r?"yesterday":`last ${i[e][0]}`;case 0:return r?"today":`this ${i[e][0]}`}}const o=Object.is(t,-0)||t<0,a=Math.abs(t),l=1===a,u=i[e],c=n?l?u[1]:u[2]||u[1]:l?i[e][0]:e;return o?`${a} ${c} ago`:`in ${a} ${c}`}(t,e,this.opts.numeric,"long"!==this.opts.style)}formatToParts(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]}}const ee={firstDay:1,minimalDays:4,weekend:[6,7]};class te{static fromOpts(e){return te.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,t,r,n,i=!1){const s=e||be.defaultLocale,o=s||(i?"en-US":$||($=(new Intl.DateTimeFormat).resolvedOptions().locale,$)),a=t||be.defaultNumberingSystem,l=r||be.defaultOutputCalendar,u=ze(n)||be.defaultWeekSettings;return new te(o,a,l,u,s)}static resetCache(){$=null,z.clear(),q.clear(),W.clear(),H.clear(),J.clear()}static fromObject({locale:e,numberingSystem:t,outputCalendar:r,weekSettings:n}={}){return te.create(e,t,r,n)}constructor(e,t,r,n,i){const[s,o,a]=function(e){const t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));const r=e.indexOf("-u-");if(-1===r)return[e];{let t,n;try{t=G(e).resolvedOptions(),n=e}catch(i){const s=e.substring(0,r);t=G(s).resolvedOptions(),n=s}const{numberingSystem:i,calendar:s}=t;return[n,i,s]}}(e);this.locale=s,this.numberingSystem=t||o||null,this.outputCalendar=r||a||null,this.weekSettings=n,this.intl=function(e,t,r){return r||t?(e.includes("-u-")||(e+="-u"),r&&(e+=`-ca-${r}`),t&&(e+=`-nu-${t}`),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===Z(e.locale).numberingSystem)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"}clone(e){return e&&0!==Object.getOwnPropertyNames(e).length?te.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,ze(e.weekSettings)||this.weekSettings,e.defaultToEN||!1):this}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,t=!1){return Y(this,e,ht,()=>{const r="ja"===this.intl||this.intl.startsWith("ja-"),n=(t&=!r)?{month:e,day:"numeric"}:{month:e},i=t?"format":"standalone";if(!this.monthsCache[i][e]){const t=r?e=>this.dtFormatter(e,n).format():e=>this.extract(e,n,"month");this.monthsCache[i][e]=function(e){const t=[];for(let r=1;r<=12;r++){const n=pn.utc(2009,r,1);t.push(e(n))}return t}(t)}return this.monthsCache[i][e]})}weekdays(e,t=!1){return Y(this,e,mt,()=>{const r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=t?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=function(e){const t=[];for(let r=1;r<=7;r++){const n=pn.utc(2016,11,13+r);t.push(e(n))}return t}(e=>this.extract(e,r,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return Y(this,void 0,()=>yt,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[pn.utc(2016,11,13,9),pn.utc(2016,11,13,19)].map(t=>this.extract(t,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Y(this,e,xt,()=>{const t={era:e};return this.eraCache[e]||(this.eraCache[e]=[pn.utc(-40,1,1),pn.utc(2017,1,1)].map(e=>this.extract(e,t,"era"))),this.eraCache[e]})}extract(e,t,r){const n=this.dtFormatter(e,t).formatToParts().find(e=>e.type.toLowerCase()===r);return n?n.value:null}numberFormatter(e={}){return new K(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,t={}){return new X(e,this.intl,t)}relFormatter(e={}){return new Q(this.intl,this.isEnglish(),e)}listFormatter(e={}){return function(e,t={}){const r=JSON.stringify([e,t]);let n=B[r];return n||(n=new Intl.ListFormat(e,t),B[r]=n),n}(this.intl,e)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||Z(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:je()?function(e){let t=J.get(e);if(!t){const r=new Intl.Locale(e);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...ee,...t}),J.set(e,t)}return t}(this.locale):ee}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let re=null;class ne extends R{static get utcInstance(){return null===re&&(re=new ne(0)),re}static instance(e){return 0===e?ne.utcInstance:new ne(e)}static parseSpecifier(e){if(e){const t=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(t)return new ne(nt(t[1],t[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${ot(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${ot(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,t){return ot(this.fixed,t)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return"fixed"===e.type&&e.fixed===this.fixed}get isValid(){return!0}}class ie extends R{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function se(e,t){if(Ce(e)||null===e)return t;if(e instanceof R)return e;if("string"==typeof e){const r=e.toLowerCase();return"default"===r?t:"local"===r||"system"===r?L.instance:"utc"===r||"gmt"===r?ne.utcInstance:ne.parseSpecifier(r)||V.create(e)}return Le(e)?ne.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new ie(e)}const oe={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},ae={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},le=oe.hanidec.replace(/[\[|\]]/g,"").split(""),ue=new Map;function ce({numberingSystem:e},t=""){const r=e||"latn";let n=ue.get(r);void 0===n&&(n=new Map,ue.set(r,n));let i=n.get(t);return void 0===i&&(i=new RegExp(`${oe[r]}${t}`),n.set(t,i)),i}let he,fe=()=>Date.now(),de="system",pe=null,me=null,ye=null,ge=60,_e=null;class be{static get now(){return fe}static set now(e){fe=e}static set defaultZone(e){de=e}static get defaultZone(){return se(de,L.instance)}static get defaultLocale(){return pe}static set defaultLocale(e){pe=e}static get defaultNumberingSystem(){return me}static set defaultNumberingSystem(e){me=e}static get defaultOutputCalendar(){return ye}static set defaultOutputCalendar(e){ye=e}static get defaultWeekSettings(){return _e}static set defaultWeekSettings(e){_e=ze(e)}static get twoDigitCutoffYear(){return ge}static set twoDigitCutoffYear(e){ge=e%100}static get throwOnInvalid(){return he}static set throwOnInvalid(e){he=e}static resetCaches(){te.resetCache(),V.resetCache(),pn.resetCache(),ue.clear()}}class xe{constructor(e,t){this.reason=e,this.explanation=t}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const we=[0,31,59,90,120,151,181,212,243,273,304,334],Te=[0,31,60,91,121,152,182,213,244,274,305,335];function Se(e,t){return new xe("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function ve(e,t,r){const n=new Date(Date.UTC(e,t-1,r));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);const i=n.getUTCDay();return 0===i?7:i}function Pe(e,t,r){return r+(Je(e)?Te:we)[t-1]}function Me(e,t){const r=Je(e)?Te:we,n=r.findIndex(e=>e<t);return{month:n+1,day:t-r[n]}}function Oe(e,t){return(e-t+7)%7+1}function ke(e,t=4,r=1){const{year:n,month:i,day:s}=e,o=Pe(n,i,s),a=Oe(ve(n,i,s),r);let l,u=Math.floor((o-a+14-t)/7);return u<1?(l=n-1,u=et(l,t,r)):u>et(n,t,r)?(l=n+1,u=1):l=n,{weekYear:l,weekNumber:u,weekday:a,...at(e)}}function Ee(e,t=4,r=1){const{weekYear:n,weekNumber:i,weekday:s}=e,o=Oe(ve(n,1,t),r),a=Ye(n);let l,u=7*i+s-o-7+t;u<1?(l=n-1,u+=Ye(l)):u>a?(l=n+1,u-=Ye(n)):l=n;const{month:c,day:h}=Me(l,u);return{year:l,month:c,day:h,...at(e)}}function Ae(e){const{year:t,month:r,day:n}=e;return{year:t,ordinal:Pe(t,r,n),...at(e)}}function Ie(e){const{year:t,ordinal:r}=e,{month:n,day:i}=Me(t,r);return{year:t,month:n,day:i,...at(e)}}function De(e,t){if(!Ce(e.localWeekday)||!Ce(e.localWeekNumber)||!Ce(e.localWeekYear)){if(!Ce(e.weekday)||!Ce(e.weekNumber)||!Ce(e.weekYear))throw new s("Cannot mix locale-based week fields with ISO-based week fields");return Ce(e.localWeekday)||(e.weekday=e.localWeekday),Ce(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ce(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ne(e){const t=Ue(e.year),r=Ge(e.month,1,12),n=Ge(e.day,1,Ke(e.year,e.month));return t?r?!n&&Se("day",e.day):Se("month",e.month):Se("year",e.year)}function Re(e){const{hour:t,minute:r,second:n,millisecond:i}=e,s=Ge(t,0,23)||24===t&&0===r&&0===n&&0===i,o=Ge(r,0,59),a=Ge(n,0,59),l=Ge(i,0,999);return s?o?a?!l&&Se("millisecond",i):Se("second",n):Se("minute",r):Se("hour",t)}function Ce(e){return void 0===e}function Le(e){return"number"==typeof e}function Ue(e){return"number"==typeof e&&e%1==0}function Fe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function je(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Ve(e,t,r){if(0!==e.length)return e.reduce((e,n)=>{const i=[t(n),n];return e&&r(e[0],i[0])===e[0]?e:i},null)[1]}function Be(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function ze(e){if(null==e)return null;if("object"!=typeof e)throw new a("Week settings must be an object");if(!Ge(e.firstDay,1,7)||!Ge(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some(e=>!Ge(e,1,7)))throw new a("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ge(e,t,r){return Ue(e)&&e>=t&&e<=r}function qe(e,t=2){let r;return r=e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0"),r}function We(e){return Ce(e)||null===e||""===e?void 0:parseInt(e,10)}function $e(e){return Ce(e)||null===e||""===e?void 0:parseFloat(e)}function He(e){if(!Ce(e)&&null!==e&&""!==e){const t=1e3*parseFloat("0."+e);return Math.floor(t)}}function Ze(e,t,r="round"){const n=10**t;switch(r){case"expand":return e>0?Math.ceil(e*n)/n:Math.floor(e*n)/n;case"trunc":return Math.trunc(e*n)/n;case"round":return Math.round(e*n)/n;case"floor":return Math.floor(e*n)/n;case"ceil":return Math.ceil(e*n)/n;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Je(e){return e%4==0&&(e%100!=0||e%400==0)}function Ye(e){return Je(e)?366:365}function Ke(e,t){const r=(n=t-1)-12*Math.floor(n/12)+1;var n;return 2===r?Je(e+(t-r)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Xe(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(e.year,e.month-1,e.day)),+t}function Qe(e,t,r){return-Oe(ve(e,1,t),r)+t-1}function et(e,t=4,r=1){const n=Qe(e,t,r),i=Qe(e+1,t,r);return(Ye(e)-n+i)/7}function tt(e){return e>99?e:e>be.twoDigitCutoffYear?1900+e:2e3+e}function rt(e,t,r,n=null){const i=new Date(e),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(s.timeZone=n);const o={timeZoneName:t,...s},a=new Intl.DateTimeFormat(r,o).formatToParts(i).find(e=>"timezonename"===e.type.toLowerCase());return a?a.value:null}function nt(e,t){let r=parseInt(e,10);Number.isNaN(r)&&(r=0);const n=parseInt(t,10)||0;return 60*r+(r<0||Object.is(r,-0)?-n:n)}function it(e){const t=Number(e);if("boolean"==typeof e||""===e||!Number.isFinite(t))throw new a(`Invalid unit value ${e}`);return t}function st(e,t){const r={};for(const n in e)if(Be(e,n)){const i=e[n];if(null==i)continue;r[t(n)]=it(i)}return r}function ot(e,t){const r=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),i=e>=0?"+":"-";switch(t){case"short":return`${i}${qe(r,2)}:${qe(n,2)}`;case"narrow":return`${i}${r}${n>0?`:${n}`:""}`;case"techie":return`${i}${qe(r,2)}${qe(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function at(e){return function(e){return["hour","minute","second","millisecond"].reduce((t,r)=>(t[r]=e[r],t),{})}(e)}const lt=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ct=["J","F","M","A","M","J","J","A","S","O","N","D"];function ht(e){switch(e){case"narrow":return[...ct];case"short":return[...ut];case"long":return[...lt];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ft=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],dt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],pt=["M","T","W","T","F","S","S"];function mt(e){switch(e){case"narrow":return[...pt];case"short":return[...dt];case"long":return[...ft];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const yt=["AM","PM"],gt=["Before Christ","Anno Domini"],_t=["BC","AD"],bt=["B","A"];function xt(e){switch(e){case"narrow":return[...bt];case"short":return[..._t];case"long":return[...gt];default:return null}}function wt(e,t){let r="";for(const n of e)n.literal?r+=n.val:r+=t(n.val);return r}const Tt={D:f,DD:d,DDD:m,DDDD:y,t:g,tt:_,ttt:b,tttt:x,T:w,TT:T,TTT:S,TTTT:v,f:P,ff:O,fff:A,ffff:D,F:M,FF:k,FFF:I,FFFF:N};class St{static create(e,t={}){return new St(e,t)}static parseFormat(e){let t=null,r="",n=!1;const i=[];for(let s=0;s<e.length;s++){const o=e.charAt(s);"'"===o?((r.length>0||n)&&i.push({literal:n||/^\s+$/.test(r),val:""===r?"'":r}),t=null,r="",n=!n):n||o===t?r+=o:(r.length>0&&i.push({literal:/^\s+$/.test(r),val:r}),r=o,t=o)}return r.length>0&&i.push({literal:n||/^\s+$/.test(r),val:r}),i}static macroTokenToFormatOpts(e){return Tt[e]}constructor(e,t){this.opts=t,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...t}).format()}dtFormatter(e,t={}){return this.loc.dtFormatter(e,{...this.opts,...t})}formatDateTime(e,t){return this.dtFormatter(e,t).format()}formatDateTimeParts(e,t){return this.dtFormatter(e,t).formatToParts()}formatInterval(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,t){return this.dtFormatter(e,t).resolvedOptions()}num(e,t=0,r=void 0){if(this.opts.forceSimple)return qe(e,t);const n={...this.opts};return t>0&&(n.padTo=t),r&&(n.signDisplay=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,t){const r="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,i=(t,r)=>this.loc.extract(e,t,r),s=t=>e.isOffsetFixed&&0===e.offset&&t.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,t.format):"",o=(t,n)=>r?function(e,t){return ht(t)[e.month-1]}(e,t):i(n?{month:t}:{month:t,day:"numeric"},"month"),a=(t,n)=>r?function(e,t){return mt(t)[e.weekday-1]}(e,t):i(n?{weekday:t}:{weekday:t,month:"long",day:"numeric"},"weekday"),l=t=>{const r=St.macroTokenToFormatOpts(t);return r?this.formatWithSystemDefault(e,r):t},u=t=>r?function(e,t){return xt(t)[e.year<0?0:1]}(e,t):i({era:t},"era");return wt(St.parseFormat(t),t=>{switch(t){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12==0?12:e.hour%12);case"hh":return this.num(e.hour%12==0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return r?function(e){return yt[e.hour<12?0:1]}(e):i({hour:"numeric",hourCycle:"h12"},"dayperiod");case"d":return n?i({day:"numeric"},"day"):this.num(e.day);case"dd":return n?i({day:"2-digit"},"day"):this.num(e.day,2);case"c":case"E":return this.num(e.weekday);case"ccc":return a("short",!0);case"cccc":return a("long",!0);case"ccccc":return a("narrow",!0);case"EEE":return a("short",!1);case"EEEE":return a("long",!1);case"EEEEE":return a("narrow",!1);case"L":return n?i({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?i({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return n?i({month:"numeric"},"month"):this.num(e.month);case"MM":return n?i({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return n?i({year:"numeric"},"year"):this.num(e.year);case"yy":return n?i({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?i({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?i({year:"numeric"},"year"):this.num(e.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return l(t)}})}formatDurationFromString(e,t){const r="negativeLargestOnly"===this.opts.signMode?-1:1,n=e=>{switch(e[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},i=St.parseFormat(t),s=i.reduce((e,{literal:t,val:r})=>t?e:e.concat(r),[]),o=e.shiftTo(...s.map(n).filter(e=>e));return wt(i,((e,t)=>i=>{const s=n(i);if(s){const n=t.isNegativeDuration&&s!==t.largestUnit?r:1;let o;return o="negativeLargestOnly"===this.opts.signMode&&s!==t.largestUnit?"never":"all"===this.opts.signMode?"always":"auto",this.num(e.get(s)*n,i.length,o)}return i})(o,{isNegativeDuration:o<0,largestUnit:Object.keys(o.values)[0]}))}}const vt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Pt(...e){const t=e.reduce((e,t)=>e+t.source,"");return RegExp(`^${t}$`)}function Mt(...e){return t=>e.reduce(([e,r,n],i)=>{const[s,o,a]=i(t,n);return[{...e,...s},o||r,a]},[{},null,1]).slice(0,2)}function Ot(e,...t){if(null==e)return[null,null];for(const[r,n]of t){const t=r.exec(e);if(t)return n(t)}return[null,null]}function kt(...e){return(t,r)=>{const n={};let i;for(i=0;i<e.length;i++)n[e[i]]=We(t[r+i]);return[n,null,r+i]}}const Et=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,At=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,It=RegExp(`${At.source}(?:${Et.source}?(?:\\[(${vt.source})\\])?)?`),Dt=RegExp(`(?:[Tt]${It.source})?`),Nt=kt("weekYear","weekNumber","weekDay"),Rt=kt("year","ordinal"),Ct=RegExp(`${At.source} ?(?:${Et.source}|(${vt.source}))?`),Lt=RegExp(`(?: ${Ct.source})?`);function Ut(e,t,r){const n=e[t];return Ce(n)?r:We(n)}function Ft(e,t){return[{hours:Ut(e,t,0),minutes:Ut(e,t+1,0),seconds:Ut(e,t+2,0),milliseconds:He(e[t+3])},null,t+4]}function jt(e,t){const r=!e[t]&&!e[t+1],n=nt(e[t+1],e[t+2]);return[{},r?null:ne.instance(n),t+3]}function Vt(e,t){return[{},e[t]?V.create(e[t]):null,t+1]}const Bt=RegExp(`^T?${At.source}$`),zt=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Gt(e){const[t,r,n,i,s,o,a,l,u]=e,c="-"===t[0],h=l&&"-"===l[0],f=(e,t=!1)=>void 0!==e&&(t||e&&c)?-e:e;return[{years:f($e(r)),months:f($e(n)),weeks:f($e(i)),days:f($e(s)),hours:f($e(o)),minutes:f($e(a)),seconds:f($e(l),"-0"===l),milliseconds:f(He(u),h)}]}const qt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wt(e,t,r,n,i,s,o){const a={year:2===t.length?tt(We(t)):We(t),month:ut.indexOf(r)+1,day:We(n),hour:We(i),minute:We(s)};return o&&(a.second=We(o)),e&&(a.weekday=e.length>3?ft.indexOf(e)+1:dt.indexOf(e)+1),a}const $t=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Ht(e){const[,t,r,n,i,s,o,a,l,u,c,h]=e,f=Wt(t,i,n,r,s,o,a);let d;return d=l?qt[l]:u?0:nt(c,h),[f,new ne(d)]}const Zt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Jt=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Yt=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function Kt(e){const[,t,r,n,i,s,o,a]=e;return[Wt(t,i,n,r,s,o,a),ne.utcInstance]}function Xt(e){const[,t,r,n,i,s,o,a]=e;return[Wt(t,a,r,n,i,s,o),ne.utcInstance]}const Qt=Pt(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Dt),er=Pt(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Dt),tr=Pt(/(\d{4})-?(\d{3})/,Dt),rr=Pt(It),nr=Mt(function(e,t){return[{year:Ut(e,t),month:Ut(e,t+1,1),day:Ut(e,t+2,1)},null,t+3]},Ft,jt,Vt),ir=Mt(Nt,Ft,jt,Vt),sr=Mt(Rt,Ft,jt,Vt),or=Mt(Ft,jt,Vt),ar=Mt(Ft),lr=Pt(/(\d{4})-(\d\d)-(\d\d)/,Lt),ur=Pt(Ct),cr=Mt(Ft,jt,Vt),hr="Invalid Duration",fr={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},dr={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...fr},pr={years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...fr},mr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],yr=mr.slice(0).reverse();function gr(e,t,r=!1){const n={values:r?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new wr(n)}function _r(e,t){let r=t.milliseconds??0;for(const n of yr.slice(1))t[n]&&(r+=t[n]*e[n].milliseconds);return r}function br(e,t){const r=_r(e,t)<0?-1:1;mr.reduceRight((n,i)=>{if(Ce(t[i]))return n;if(n){const s=t[n]*r,o=e[i][n],a=Math.floor(s/o);t[i]+=a*r,t[n]-=a*o*r}return i},null),mr.reduce((r,n)=>{if(Ce(t[n]))return r;if(r){const i=t[r]%1;t[r]-=i,t[n]+=i*e[r][n]}return n},null)}function xr(e){const t={};for(const[r,n]of Object.entries(e))0!==n&&(t[r]=n);return t}class wr{constructor(e){const t="longterm"===e.conversionAccuracy||!1;let r=t?pr:dr;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||te.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,t){return wr.fromObject({milliseconds:e},t)}static fromObject(e,t={}){if(null==e||"object"!=typeof e)throw new a("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new wr({values:st(e,wr.normalizeUnit),loc:te.fromObject(t),conversionAccuracy:t.conversionAccuracy,matrix:t.matrix})}static fromDurationLike(e){if(Le(e))return wr.fromMillis(e);if(wr.isDuration(e))return e;if("object"==typeof e)return wr.fromObject(e);throw new a(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,t){const[r]=function(e){return Ot(e,[zt,Gt])}(e);return r?wr.fromObject(r,t):wr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,t){const[r]=function(e){return Ot(e,[Bt,ar])}(e);return r?wr.fromObject(r,t):wr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the Duration is invalid");const r=e instanceof xe?e:new xe(e,t);if(be.throwOnInvalid)throw new i(r);return new wr({invalid:r})}static normalizeUnit(e){const t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new o(e);return t}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,t={}){const r={...t,floor:!1!==t.round&&!1!==t.floor};return this.isValid?St.create(this.loc,r).formatDurationFromString(this,e):hr}toHuman(e={}){if(!this.isValid)return hr;const t=!1!==e.showZeros,r=mr.map(r=>{const n=this.values[r];return Ce(n)||0===n&&!t?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(n)}).filter(e=>e);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=Ze(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const t=this.toMillis();return t<0||t>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},pn.fromMillis(t,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?_r(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const t=wr.fromDurationLike(e),r={};for(const e of mr)(Be(t.values,e)||Be(this.values,e))&&(r[e]=t.get(e)+this.get(e));return gr(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const t=wr.fromDurationLike(e);return this.plus(t.negate())}mapUnits(e){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=it(e(this.values[r],r));return gr(this,{values:t},!0)}get(e){return this[wr.normalizeUnit(e)]}set(e){return this.isValid?gr(this,{values:{...this.values,...st(e,wr.normalizeUnit)}}):this}reconfigure({locale:e,numberingSystem:t,conversionAccuracy:r,matrix:n}={}){return gr(this,{loc:this.loc.clone({locale:e,numberingSystem:t}),matrix:n,conversionAccuracy:r})}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return br(this.matrix,e),gr(this,{values:e},!0)}rescale(){return this.isValid?gr(this,{values:xr(this.normalize().shiftToAll().toObject())},!0):this}shiftTo(...e){if(!this.isValid)return this;if(0===e.length)return this;e=e.map(e=>wr.normalizeUnit(e));const t={},r={},n=this.toObject();let i;for(const s of mr)if(e.indexOf(s)>=0){i=s;let e=0;for(const t in r)e+=this.matrix[t][s]*r[t],r[t]=0;Le(n[s])&&(e+=n[s]);const o=Math.trunc(e);t[s]=o,r[s]=(1e3*e-1e3*o)/1e3}else Le(n[s])&&(r[s]=n[s]);for(const e in r)0!==r[e]&&(t[i]+=e===i?r[e]:r[e]/this.matrix[i][e]);return br(this.matrix,t),gr(this,{values:t},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const t of Object.keys(this.values))e[t]=0===this.values[t]?0:-this.values[t];return gr(this,{values:e},!0)}removeZeros(){return this.isValid?gr(this,{values:xr(this.values)},!0):this}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;function t(e,t){return void 0===e||0===e?void 0===t||0===t:e===t}for(const r of mr)if(!t(this.values[r],e.values[r]))return!1;return!0}}const Tr="Invalid Interval";class Sr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the Interval is invalid");const r=e instanceof xe?e:new xe(e,t);if(be.throwOnInvalid)throw new n(r);return new Sr({invalid:r})}static fromDateTimes(e,t){const r=mn(e),n=mn(t),i=function(e,t){return e&&e.isValid?t&&t.isValid?t<e?Sr.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null:Sr.invalid("missing or invalid end"):Sr.invalid("missing or invalid start")}(r,n);return i??new Sr({start:r,end:n})}static after(e,t){const r=wr.fromDurationLike(t),n=mn(e);return Sr.fromDateTimes(n,n.plus(r))}static before(e,t){const r=wr.fromDurationLike(t),n=mn(e);return Sr.fromDateTimes(n.minus(r),n)}static fromISO(e,t){const[r,n]=(e||"").split("/",2);if(r&&n){let e,i,s,o;try{e=pn.fromISO(r,t),i=e.isValid}catch(n){i=!1}try{s=pn.fromISO(n,t),o=s.isValid}catch(n){o=!1}if(i&&o)return Sr.fromDateTimes(e,s);if(i){const r=wr.fromISO(n,t);if(r.isValid)return Sr.after(e,r)}else if(o){const e=wr.fromISO(r,t);if(e.isValid)return Sr.before(s,e)}}return Sr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",t){if(!this.isValid)return NaN;const r=this.start.startOf(e,t);let n;return n=t?.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end,n=n.startOf(e,t),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return!!this.isValid&&this.s>e}isBefore(e){return!!this.isValid&&this.e<=e}contains(e){return!!this.isValid&&this.s<=e&&this.e>e}set({start:e,end:t}={}){return this.isValid?Sr.fromDateTimes(e||this.s,t||this.e):this}splitAt(...e){if(!this.isValid)return[];const t=e.map(mn).filter(e=>this.contains(e)).sort((e,t)=>e.toMillis()-t.toMillis()),r=[];let{s:n}=this,i=0;for(;n<this.e;){const e=t[i]||this.e,s=+e>+this.e?this.e:e;r.push(Sr.fromDateTimes(n,s)),n=s,i+=1}return r}splitBy(e){const t=wr.fromDurationLike(e);if(!this.isValid||!t.isValid||0===t.as("milliseconds"))return[];let r,{s:n}=this,i=1;const s=[];for(;n<this.e;){const e=this.start.plus(t.mapUnits(e=>e*i));r=+e>+this.e?this.e:e,s.push(Sr.fromDateTimes(n,r)),n=r,i+=1}return s}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return!!this.isValid&&+this.e===+e.s}abutsEnd(e){return!!this.isValid&&+e.e===+this.s}engulfs(e){return!!this.isValid&&this.s<=e.s&&this.e>=e.e}equals(e){return!(!this.isValid||!e.isValid)&&this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const t=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return t>=r?null:Sr.fromDateTimes(t,r)}union(e){if(!this.isValid)return this;const t=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Sr.fromDateTimes(t,r)}static merge(e){const[t,r]=e.sort((e,t)=>e.s-t.s).reduce(([e,t],r)=>t?t.overlaps(r)||t.abutsStart(r)?[e,t.union(r)]:[e.concat([t]),r]:[e,r],[[],null]);return r&&t.push(r),t}static xor(e){let t=null,r=0;const n=[],i=e.map(e=>[{time:e.s,type:"s"},{time:e.e,type:"e"}]),s=Array.prototype.concat(...i).sort((e,t)=>e.time-t.time);for(const e of s)r+="s"===e.type?1:-1,1===r?t=e.time:(t&&+t!==+e.time&&n.push(Sr.fromDateTimes(t,e.time)),t=null);return Sr.merge(n)}difference(...e){return Sr.xor([this].concat(e)).map(e=>this.intersection(e)).filter(e=>e&&!e.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Tr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=f,t={}){return this.isValid?St.create(this.s.loc.clone(t),e).formatInterval(this):Tr}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Tr}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Tr}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Tr}toFormat(e,{separator:t=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${t}${this.e.toFormat(e)}`:Tr}toDuration(e,t){return this.isValid?this.e.diff(this.s,e,t):wr.invalid(this.invalidReason)}mapEndpoints(e){return Sr.fromDateTimes(e(this.s),e(this.e))}}class vr{static hasDST(e=be.defaultZone){const t=pn.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset}static isValidIANAZone(e){return V.isValidZone(e)}static normalizeZone(e){return se(e,be.defaultZone)}static getStartOfWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:t=null}={}){return(t||te.create(e)).getWeekendDays().slice()}static months(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||te.create(t,r,i)).months(e)}static monthsFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null,outputCalendar:i="gregory"}={}){return(n||te.create(t,r,i)).months(e,!0)}static weekdays(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||te.create(t,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:t=null,numberingSystem:r=null,locObj:n=null}={}){return(n||te.create(t,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return te.create(e).meridiems()}static eras(e="short",{locale:t=null}={}){return te.create(t,null,"gregory").eras(e)}static features(){return{relative:Fe(),localeWeek:je()}}}function Pr(e,t){const r=e=>e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=r(t)-r(e);return Math.floor(wr.fromMillis(n).as("days"))}function Mr(e,t=e=>e){return{regex:e,deser:([e])=>t(function(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let r=0;r<e.length;r++){const n=e.charCodeAt(r);if(-1!==e[r].search(oe.hanidec))t+=le.indexOf(e[r]);else for(const e in ae){const[r,i]=ae[e];n>=r&&n<=i&&(t+=n-r)}}return parseInt(t,10)}return t}(e))}}const Or=`[ ${String.fromCharCode(160)}]`,kr=new RegExp(Or,"g");function Er(e){return e.replace(/\./g,"\\.?").replace(kr,Or)}function Ar(e){return e.replace(/\./g,"").replace(kr," ").toLowerCase()}function Ir(e,t){return null===e?null:{regex:RegExp(e.map(Er).join("|")),deser:([r])=>e.findIndex(e=>Ar(r)===Ar(e))+t}}function Dr(e,t){return{regex:e,deser:([,e,t])=>nt(e,t),groups:t}}function Nr(e){return{regex:e,deser:([e])=>e}}const Rr={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Cr=null;function Lr(e,t){return Array.prototype.concat(...e.map(e=>function(e,t){if(e.literal)return e;const r=jr(St.macroTokenToFormatOpts(e.val),t);return null==r||r.includes(void 0)?e:r}(e,t)))}class Ur{constructor(e,t){if(this.locale=e,this.format=t,this.tokens=Lr(St.parseFormat(t),e),this.units=this.tokens.map(t=>function(e,t){const r=ce(t),n=ce(t,"{2}"),i=ce(t,"{3}"),s=ce(t,"{4}"),o=ce(t,"{6}"),a=ce(t,"{1,2}"),l=ce(t,"{1,3}"),u=ce(t,"{1,6}"),c=ce(t,"{1,9}"),h=ce(t,"{2,4}"),f=ce(t,"{4,6}"),d=e=>{return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([e])=>e,literal:!0};var t},p=(p=>{if(e.literal)return d(p);switch(p.val){case"G":return Ir(t.eras("short"),0);case"GG":return Ir(t.eras("long"),0);case"y":return Mr(u);case"yy":case"kk":return Mr(h,tt);case"yyyy":case"kkkk":return Mr(s);case"yyyyy":return Mr(f);case"yyyyyy":return Mr(o);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Mr(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Mr(n);case"MMM":return Ir(t.months("short",!0),1);case"MMMM":return Ir(t.months("long",!0),1);case"LLL":return Ir(t.months("short",!1),1);case"LLLL":return Ir(t.months("long",!1),1);case"o":case"S":return Mr(l);case"ooo":case"SSS":return Mr(i);case"u":return Nr(c);case"uu":return Nr(a);case"uuu":case"E":case"c":return Mr(r);case"a":return Ir(t.meridiems(),0);case"EEE":return Ir(t.weekdays("short",!1),1);case"EEEE":return Ir(t.weekdays("long",!1),1);case"ccc":return Ir(t.weekdays("short",!0),1);case"cccc":return Ir(t.weekdays("long",!0),1);case"Z":case"ZZ":return Dr(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Dr(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Nr(/[a-z_+-/]{1,256}?/i);case" ":return Nr(/[^\S\n\r]/);default:return d(p)}})(e)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return p.token=e,p}(t,e)),this.disqualifyingUnit=this.units.find(e=>e.invalidReason),!this.disqualifyingUnit){const[e,t]=[`^${(r=this.units).map(e=>e.regex).reduce((e,t)=>`${e}(${t.source})`,"")}$`,r];this.regex=RegExp(e,"i"),this.handlers=t}var r}explainFromTokens(e){if(this.isValid){const[t,r]=function(e,t,r){const n=e.match(t);if(n){const e={};let t=1;for(const i in r)if(Be(r,i)){const s=r[i],o=s.groups?s.groups+1:1;!s.literal&&s.token&&(e[s.token.val[0]]=s.deser(n.slice(t,t+o))),t+=o}return[n,e]}return[n,{}]}(e,this.regex,this.handlers),[n,i,o]=r?function(e){let t,r=null;return Ce(e.z)||(r=V.create(e.z)),Ce(e.Z)||(r||(r=new ne(e.Z)),t=e.Z),Ce(e.q)||(e.M=3*(e.q-1)+1),Ce(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Ce(e.u)||(e.S=He(e.u)),[Object.keys(e).reduce((t,r)=>{const n=(e=>{switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(r);return n&&(t[n]=e[r]),t},{}),r,t]}(r):[null,null,void 0];if(Be(r,"a")&&Be(r,"H"))throw new s("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:t,matches:r,result:n,zone:i,specificOffset:o}}return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Fr(e,t,r){return new Ur(e,r).explainFromTokens(t)}function jr(e,t){if(!e)return null;const r=St.create(t,e).dtFormatter((Cr||(Cr=pn.fromMillis(1555555555555)),Cr)),n=r.formatToParts(),i=r.resolvedOptions();return n.map(t=>function(e,t,r){const{type:n,value:i}=e;if("literal"===n){const e=/^\s+$/.test(i);return{literal:!e,val:e?" ":i}}const s=t[n];let o=n;"hour"===n&&(o=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":r.hour12?"hour12":"hour24");let a=Rr[o];if("object"==typeof a&&(a=a[s]),a)return{literal:!1,val:a}}(t,e,i))}const Vr="Invalid DateTime",Br=864e13;function zr(e){return new xe("unsupported zone",`the zone "${e.name}" is not supported`)}function Gr(e){return null===e.weekData&&(e.weekData=ke(e.c)),e.weekData}function qr(e){return null===e.localWeekData&&(e.localWeekData=ke(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function Wr(e,t){const r={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new pn({...r,...t,old:r})}function $r(e,t,r){let n=e-60*t*1e3;const i=r.offset(n);if(t===i)return[n,t];n-=60*(i-t)*1e3;const s=r.offset(n);return i===s?[n,i]:[e-60*Math.min(i,s)*1e3,Math.max(i,s)]}function Hr(e,t){const r=new Date(e+=60*t*1e3);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Zr(e,t,r){return $r(Xe(e),t,r)}function Jr(e,t){const r=e.o,n=e.c.year+Math.trunc(t.years),i=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),s={...e.c,year:n,month:i,day:Math.min(e.c.day,Ke(n,i))+Math.trunc(t.days)+7*Math.trunc(t.weeks)},o=wr.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Xe(s);let[l,u]=$r(a,r,e.zone);return 0!==o&&(l+=o,u=e.zone.offset(l)),{ts:l,o:u}}function Yr(e,t,r,n,i,s){const{setZone:o,zone:a}=r;if(e&&0!==Object.keys(e).length||t){const n=t||a,i=pn.fromObject(e,{...r,zone:n,specificOffset:s});return o?i:i.setZone(a)}return pn.invalid(new xe("unparsable",`the input "${i}" can't be parsed as ${n}`))}function Kr(e,t,r=!0){return e.isValid?St.create(te.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(e,t):null}function Xr(e,t,r){const n=e.c.year>9999||e.c.year<0;let i="";if(n&&e.c.year>=0&&(i+="+"),i+=qe(e.c.year,n?6:4),"year"===r)return i;if(t){if(i+="-",i+=qe(e.c.month),"month"===r)return i;i+="-"}else if(i+=qe(e.c.month),"month"===r)return i;return i+=qe(e.c.day),i}function Qr(e,t,r,n,i,s,o){let a=!r||0!==e.c.millisecond||0!==e.c.second,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=qe(e.c.hour),"hour"===o)break;if(t){if(l+=":",l+=qe(e.c.minute),"minute"===o)break;a&&(l+=":",l+=qe(e.c.second))}else{if(l+=qe(e.c.minute),"minute"===o)break;a&&(l+=qe(e.c.second))}if("second"===o)break;!a||n&&0===e.c.millisecond||(l+=".",l+=qe(e.c.millisecond,3))}return i&&(e.isOffsetFixed&&0===e.offset&&!s?l+="Z":e.o<0?(l+="-",l+=qe(Math.trunc(-e.o/60)),l+=":",l+=qe(Math.trunc(-e.o%60))):(l+="+",l+=qe(Math.trunc(e.o/60)),l+=":",l+=qe(Math.trunc(e.o%60)))),s&&(l+="["+e.zone.ianaName+"]"),l}const en={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},tn={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},rn={ordinal:1,hour:0,minute:0,second:0,millisecond:0},nn=["year","month","day","hour","minute","second","millisecond"],sn=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],on=["year","ordinal","hour","minute","second","millisecond"];function an(e){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new o(e);return t}function ln(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return an(e)}}function un(e,t){const r=se(t.zone,be.defaultZone);if(!r.isValid)return pn.invalid(zr(r));const n=te.fromObject(t);let i,s;if(Ce(e.year))i=be.now();else{for(const t of nn)Ce(e[t])&&(e[t]=en[t]);const t=Ne(e)||Re(e);if(t)return pn.invalid(t);const n=function(e){if(void 0===fn&&(fn=be.now()),"iana"!==e.type)return e.offset(fn);const t=e.name;let r=dn.get(t);return void 0===r&&(r=e.offset(fn),dn.set(t,r)),r}(r);[i,s]=Zr(e,n,r)}return new pn({ts:i,zone:r,loc:n,o:s})}function cn(e,t,r){const n=!!Ce(r.round)||r.round,i=Ce(r.rounding)?"trunc":r.rounding,s=(e,s)=>(e=Ze(e,n||r.calendary?0:2,r.calendary?"round":i),t.loc.clone(r).relFormatter(r).format(e,s)),o=n=>r.calendary?t.hasSame(e,n)?0:t.startOf(n).diff(e.startOf(n),n).get(n):t.diff(e,n).get(n);if(r.unit)return s(o(r.unit),r.unit);for(const e of r.units){const t=o(e);if(Math.abs(t)>=1)return s(t,e)}return s(e>t?-0:0,r.units[r.units.length-1])}function hn(e){let t,r={};return e.length>0&&"object"==typeof e[e.length-1]?(r=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[r,t]}let fn;const dn=new Map;class pn{constructor(e){const t=e.zone||be.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new xe("invalid input"):null)||(t.isValid?null:zr(t));this.ts=Ce(e.ts)?be.now():e.ts;let n=null,i=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t))[n,i]=[e.old.c,e.old.o];else{const s=Le(e.o)&&!e.old?e.o:t.offset(this.ts);n=Hr(this.ts,s),r=Number.isNaN(n.year)?new xe("invalid input"):null,n=r?null:n,i=r?null:s}this._zone=t,this.loc=e.loc||te.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=i,this.isLuxonDateTime=!0}static now(){return new pn({})}static local(){const[e,t]=hn(arguments),[r,n,i,s,o,a,l]=t;return un({year:r,month:n,day:i,hour:s,minute:o,second:a,millisecond:l},e)}static utc(){const[e,t]=hn(arguments),[r,n,i,s,o,a,l]=t;return e.zone=ne.utcInstance,un({year:r,month:n,day:i,hour:s,minute:o,second:a,millisecond:l},e)}static fromJSDate(e,t={}){const r=(n=e,"[object Date]"===Object.prototype.toString.call(n)?e.valueOf():NaN);var n;if(Number.isNaN(r))return pn.invalid("invalid input");const i=se(t.zone,be.defaultZone);return i.isValid?new pn({ts:r,zone:i,loc:te.fromObject(t)}):pn.invalid(zr(i))}static fromMillis(e,t={}){if(Le(e))return e<-Br||e>Br?pn.invalid("Timestamp out of range"):new pn({ts:e,zone:se(t.zone,be.defaultZone),loc:te.fromObject(t)});throw new a(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,t={}){if(Le(e))return new pn({ts:1e3*e,zone:se(t.zone,be.defaultZone),loc:te.fromObject(t)});throw new a("fromSeconds requires a numerical input")}static fromObject(e,t={}){e=e||{};const r=se(t.zone,be.defaultZone);if(!r.isValid)return pn.invalid(zr(r));const n=te.fromObject(t),i=st(e,ln),{minDaysInFirstWeek:o,startOfWeek:a}=De(i,n),l=be.now(),u=Ce(t.specificOffset)?r.offset(l):t.specificOffset,c=!Ce(i.ordinal),h=!Ce(i.year),f=!Ce(i.month)||!Ce(i.day),d=h||f,p=i.weekYear||i.weekNumber;if((d||c)&&p)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&c)throw new s("Can't mix ordinal dates with month/day");const m=p||i.weekday&&!d;let y,g,_=Hr(l,u);m?(y=sn,g=tn,_=ke(_,o,a)):c?(y=on,g=rn,_=Ae(_)):(y=nn,g=en);let b=!1;for(const e of y)Ce(i[e])?i[e]=b?g[e]:_[e]:b=!0;const x=m?function(e,t=4,r=1){const n=Ue(e.weekYear),i=Ge(e.weekNumber,1,et(e.weekYear,t,r)),s=Ge(e.weekday,1,7);return n?i?!s&&Se("weekday",e.weekday):Se("week",e.weekNumber):Se("weekYear",e.weekYear)}(i,o,a):c?function(e){const t=Ue(e.year),r=Ge(e.ordinal,1,Ye(e.year));return t?!r&&Se("ordinal",e.ordinal):Se("year",e.year)}(i):Ne(i),w=x||Re(i);if(w)return pn.invalid(w);const T=m?Ee(i,o,a):c?Ie(i):i,[S,v]=Zr(T,u,r),P=new pn({ts:S,zone:r,o:v,loc:n});return i.weekday&&d&&e.weekday!==P.weekday?pn.invalid("mismatched weekday",`you can't specify both a weekday of ${i.weekday} and a date of ${P.toISO()}`):P.isValid?P:pn.invalid(P.invalid)}static fromISO(e,t={}){const[r,n]=function(e){return Ot(e,[Qt,nr],[er,ir],[tr,sr],[rr,or])}(e);return Yr(r,n,t,"ISO 8601",e)}static fromRFC2822(e,t={}){const[r,n]=function(e){return Ot(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[$t,Ht])}(e);return Yr(r,n,t,"RFC 2822",e)}static fromHTTP(e,t={}){const[r,n]=function(e){return Ot(e,[Zt,Kt],[Jt,Kt],[Yt,Xt])}(e);return Yr(r,n,t,"HTTP",t)}static fromFormat(e,t,r={}){if(Ce(e)||Ce(t))throw new a("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:i=null}=r,s=te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),[o,l,u,c]=function(e,t,r){const{result:n,zone:i,specificOffset:s,invalidReason:o}=Fr(e,t,r);return[n,i,s,o]}(s,e,t);return c?pn.invalid(c):Yr(o,l,r,`format ${t}`,e,u)}static fromString(e,t,r={}){return pn.fromFormat(e,t,r)}static fromSQL(e,t={}){const[r,n]=function(e){return Ot(e,[lr,nr],[ur,cr])}(e);return Yr(r,n,t,"SQL",e)}static invalid(e,t=null){if(!e)throw new a("need to specify a reason the DateTime is invalid");const n=e instanceof xe?e:new xe(e,t);if(be.throwOnInvalid)throw new r(n);return new pn({invalid:n})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,t={}){const r=jr(e,te.fromObject(t));return r?r.map(e=>e?e.val:null).join(""):null}static expandFormat(e,t={}){return Lr(St.parseFormat(e),te.fromObject(t)).map(e=>e.val).join("")}static resetCache(){fn=void 0,dn.clear()}get(e){return this[e]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Gr(this).weekYear:NaN}get weekNumber(){return this.isValid?Gr(this).weekNumber:NaN}get weekday(){return this.isValid?Gr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?qr(this).weekday:NaN}get localWeekNumber(){return this.isValid?qr(this).weekNumber:NaN}get localWeekYear(){return this.isValid?qr(this).weekYear:NaN}get ordinal(){return this.isValid?Ae(this.c).ordinal:NaN}get monthShort(){return this.isValid?vr.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?vr.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?vr.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?vr.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,t=6e4,r=Xe(this.c),n=this.zone.offset(r-e),i=this.zone.offset(r+e),s=this.zone.offset(r-n*t),o=this.zone.offset(r-i*t);if(s===o)return[this];const a=r-s*t,l=r-o*t,u=Hr(a,s),c=Hr(l,o);return u.hour===c.hour&&u.minute===c.minute&&u.second===c.second&&u.millisecond===c.millisecond?[Wr(this,{ts:a}),Wr(this,{ts:l})]:[this]}get isInLeapYear(){return Je(this.year)}get daysInMonth(){return Ke(this.year,this.month)}get daysInYear(){return this.isValid?Ye(this.year):NaN}get weeksInWeekYear(){return this.isValid?et(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?et(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:t,numberingSystem:r,calendar:n}=St.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t,numberingSystem:r,outputCalendar:n}}toUTC(e=0,t={}){return this.setZone(ne.instance(e),t)}toLocal(){return this.setZone(be.defaultZone)}setZone(e,{keepLocalTime:t=!1,keepCalendarTime:r=!1}={}){if((e=se(e,be.defaultZone)).equals(this.zone))return this;if(e.isValid){let n=this.ts;if(t||r){const t=e.offset(this.ts),r=this.toObject();[n]=Zr(r,t,e)}return Wr(this,{ts:n,zone:e})}return pn.invalid(zr(e))}reconfigure({locale:e,numberingSystem:t,outputCalendar:r}={}){return Wr(this,{loc:this.loc.clone({locale:e,numberingSystem:t,outputCalendar:r})})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const t=st(e,ln),{minDaysInFirstWeek:r,startOfWeek:n}=De(t,this.loc),i=!Ce(t.weekYear)||!Ce(t.weekNumber)||!Ce(t.weekday),o=!Ce(t.ordinal),a=!Ce(t.year),l=!Ce(t.month)||!Ce(t.day),u=a||l,c=t.weekYear||t.weekNumber;if((u||o)&&c)throw new s("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new s("Can't mix ordinal dates with month/day");let h;i?h=Ee({...ke(this.c,r,n),...t},r,n):Ce(t.ordinal)?(h={...this.toObject(),...t},Ce(t.day)&&(h.day=Math.min(Ke(h.year,h.month),h.day))):h=Ie({...Ae(this.c),...t});const[f,d]=Zr(h,this.o,this.zone);return Wr(this,{ts:f,o:d})}plus(e){return this.isValid?Wr(this,Jr(this,wr.fromDurationLike(e))):this}minus(e){return this.isValid?Wr(this,Jr(this,wr.fromDurationLike(e).negate())):this}startOf(e,{useLocaleWeeks:t=!1}={}){if(!this.isValid)return this;const r={},n=wr.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0}if("weeks"===n)if(t){const e=this.loc.getStartOfWeek(),{weekday:t}=this;t<e&&(r.weekNumber=this.weekNumber-1),r.weekday=e}else r.weekday=1;if("quarters"===n){const e=Math.ceil(this.month/3);r.month=3*(e-1)+1}return this.set(r)}endOf(e,t){return this.isValid?this.plus({[e]:1}).startOf(e,t).minus(1):this}toFormat(e,t={}){return this.isValid?St.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Vr}toLocaleString(e=f,t={}){return this.isValid?St.create(this.loc.clone(t),e).formatDateTime(this):Vr}toLocaleParts(e={}){return this.isValid?St.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:t=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:i=!1,precision:s="milliseconds"}={}){if(!this.isValid)return null;const o="extended"===e;let a=Xr(this,o,s=an(s));return nn.indexOf(s)>=3&&(a+="T"),a+=Qr(this,o,t,r,n,i,s),a}toISODate({format:e="extended",precision:t="day"}={}){return this.isValid?Xr(this,"extended"===e,an(t)):null}toISOWeekDate(){return Kr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:t=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:i=!1,format:s="extended",precision:o="milliseconds"}={}){return this.isValid?(o=an(o),(n&&nn.indexOf(o)>=3?"T":"")+Qr(this,"extended"===s,t,e,r,i,o)):null}toRFC2822(){return Kr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Kr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Xr(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:t=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(t||e)&&(r&&(n+=" "),t?n+="z":e&&(n+="ZZ")),Kr(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Vr}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const t={...this.c};return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,t="milliseconds",r={}){if(!this.isValid||!e.isValid)return wr.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},i=(a=t,Array.isArray(a)?a:[a]).map(wr.normalizeUnit),s=e.valueOf()>this.valueOf(),o=function(e,t,r,n){let[i,s,o,a]=function(e,t,r){const n=[["years",(e,t)=>t.year-e.year],["quarters",(e,t)=>t.quarter-e.quarter+4*(t.year-e.year)],["months",(e,t)=>t.month-e.month+12*(t.year-e.year)],["weeks",(e,t)=>{const r=Pr(e,t);return(r-r%7)/7}],["days",Pr]],i={},s=e;let o,a;for(const[l,u]of n)r.indexOf(l)>=0&&(o=l,i[l]=u(e,t),a=s.plus(i),a>t?(i[l]--,(e=s.plus(i))>t&&(a=e,i[l]--,e=s.plus(i))):e=a);return[e,i,a,o]}(e,t,r);const l=t-i,u=r.filter(e=>["hours","minutes","seconds","milliseconds"].indexOf(e)>=0);0===u.length&&(o<t&&(o=i.plus({[a]:1})),o!==i&&(s[a]=(s[a]||0)+l/(o-i)));const c=wr.fromObject(s,n);return u.length>0?wr.fromMillis(l,n).shiftTo(...u).plus(c):c}(s?this:e,s?e:this,i,n);var a;return s?o.negate():o}diffNow(e="milliseconds",t={}){return this.diff(pn.now(),e,t)}until(e){return this.isValid?Sr.fromDateTimes(this,e):this}hasSame(e,t,r){if(!this.isValid)return!1;const n=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(t,r)<=n&&n<=i.endOf(t,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const t=e.base||pn.fromObject({},{zone:this.zone}),r=e.padding?this<t?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],i=e.unit;return Array.isArray(e.unit)&&(n=e.unit,i=void 0),cn(t,this.plus(r),{...e,numeric:"always",units:n,unit:i})}toRelativeCalendar(e={}){return this.isValid?cn(e.base||pn.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(pn.isDateTime))throw new a("min requires all arguments be DateTimes");return Ve(e,e=>e.valueOf(),Math.min)}static max(...e){if(!e.every(pn.isDateTime))throw new a("max requires all arguments be DateTimes");return Ve(e,e=>e.valueOf(),Math.max)}static fromFormatExplain(e,t,r={}){const{locale:n=null,numberingSystem:i=null}=r;return Fr(te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0}),e,t)}static fromStringExplain(e,t,r={}){return pn.fromFormatExplain(e,t,r)}static buildFormatParser(e,t={}){const{locale:r=null,numberingSystem:n=null}=t,i=te.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new Ur(i,e)}static fromFormatParser(e,t,r={}){if(Ce(e)||Ce(t))throw new a("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:i=null}=r,s=te.fromOpts({locale:n,numberingSystem:i,defaultToEN:!0});if(!s.equals(t.locale))throw new a(`fromFormatParser called with a locale of ${s}, but the format parser was created for ${t.locale}`);const{result:o,zone:l,specificOffset:u,invalidReason:c}=t.explainFromTokens(e);return c?pn.invalid(c):Yr(o,l,r,`format ${t.format}`,e,u)}static get DATE_SHORT(){return f}static get DATE_MED(){return d}static get DATE_MED_WITH_WEEKDAY(){return p}static get DATE_FULL(){return m}static get DATE_HUGE(){return y}static get TIME_SIMPLE(){return g}static get TIME_WITH_SECONDS(){return _}static get TIME_WITH_SHORT_OFFSET(){return b}static get TIME_WITH_LONG_OFFSET(){return x}static get TIME_24_SIMPLE(){return w}static get TIME_24_WITH_SECONDS(){return T}static get TIME_24_WITH_SHORT_OFFSET(){return S}static get TIME_24_WITH_LONG_OFFSET(){return v}static get DATETIME_SHORT(){return P}static get DATETIME_SHORT_WITH_SECONDS(){return M}static get DATETIME_MED(){return O}static get DATETIME_MED_WITH_SECONDS(){return k}static get DATETIME_MED_WITH_WEEKDAY(){return E}static get DATETIME_FULL(){return A}static get DATETIME_FULL_WITH_SECONDS(){return I}static get DATETIME_HUGE(){return D}static get DATETIME_HUGE_WITH_SECONDS(){return N}}function mn(e){if(pn.isDateTime(e))return e;if(e&&e.valueOf&&Le(e.valueOf()))return pn.fromJSDate(e);if(e&&"object"==typeof e)return pn.fromObject(e);throw new a(`Unknown datetime argument: ${e}, of type ${typeof e}`)}e.DateTime=pn,e.Duration=wr,e.FixedOffsetZone=ne,e.IANAZone=V,e.Zone=R})},"esri/support/arcadeExpressionUtils":function(){define(["exports"],function(e){"use strict";const t=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i,r=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;e.getFieldNameFromSimpleExpression=function(e){if(!e)return;const r=e.match(t);return r?.groups?r.groups.doubleQuoted??r.groups.singleQuoted??r.groups.dotNotation:void 0},e.matchRandomRotationExpression=function(e){return e.match(r)?.[1]?.replace(/\\'/g,"'")??null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/support/loadArcade":function(){define(["require","exports"],function(e,t){"use strict";let r;t.loadArcade=function(){return r||(r=(async()=>{const[t,r,n]=await Promise.all([new Promise((t,r)=>e(["./arcadeUtils"],t,r)),new Promise((t,r)=>e(["../arcade/batchExec"],t,r)),new Promise((t,r)=>e(["../arcade/functions/aiServices"],t,r))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:r,aiServices:n,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel}})()),r},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define(["../../../../core/promiseUtils","./WorkerTile","./style/StyleRepository"],function(e,t,r){"use strict";return class{constructor(){this._spriteInfo={},this._glyphInfo={},this._sourceDataMaxLOD=25}reset(){return this._spriteInfo={},this._glyphInfo={},Promise.resolve()}getLayers(){return this._styleRepository?.layers??[]}async createTileAndParse(r,n){const{key:i}=r,s={};for(const e of Object.keys(r.sourceName2DataAndRefKey)){const t=r.sourceName2DataAndRefKey[e];s[e]=t.refKey}const o=new t(i,s,this,this._styleRepository);try{return await o.parse({...r,sourceDataMaxLOD:this._sourceDataMaxLOD},n)}catch(t){if(o.setObsolete(),o.release(),!e.isAbortError(t))throw t;return null}}updateStyle(e){if(!e||0===e.length||!this._styleRepository)return;const t=this._styleRepository;for(const r of e){const e=r.type,n=r.data;switch(e){case 0:t.setPaintProperties(n.layer,n.paint);break;case 1:t.setLayoutProperties(n.layer,n.layout);break;case 3:t.deleteStyleLayer(n.layer);break;case 2:t.setStyleLayer(n.layer,n.index);break;case 4:this._spriteInfo={}}}}setStyle(e){const{style:t,sourceDataMaxLOD:n}=e;this._styleRepository=new r(t),this._sourceDataMaxLOD=n,this._spriteInfo={},this._glyphInfo={}}fetchSprites(e,t,r){const n=[],i=this._spriteInfo;for(const t of e)void 0===i[t.name]&&n.push(t);return 0===n.length?Promise.resolve():t.invoke("getSprites",n,{signal:r?.signal}).then(e=>{for(const t in e){const r=e[t];i[t]=r}})}getSpriteItems(){return this._spriteInfo}fetchGlyphs(e,t,r,n,i){const s=[];let o=this._glyphInfo[t];return o?r.forEach(e=>{o[e]||s.push(e)}):(o=this._glyphInfo[t]=[],r.forEach(e=>s.push(e))),0===s.length?Promise.resolve():n.invoke("getGlyphs",{tileID:e,font:t,codePoints:s},i).then(e=>{for(let t=0;t<e.length;t++)e[t]&&(o[t]=e[t])})}getGlyphItems(e){return this._glyphInfo[e]}}})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define(["../../../../core/promiseUtils","./Placement","./TileParser"],function(e,t,r){"use strict";return class{constructor(e,r,n,i){this.status=0,this.placementEngine=new t.PlacementEngine,this.tileKey=e,this.refKeys=r,this._workerTileHandler=n,this._styleRepository=i}release(){this.tileKey="",this.refKeys=null,this.status=0,this._workerTileHandler=null}async parse(t,r){const n=r?.signal;if(null!=n){const e=()=>{n.removeEventListener("abort",e),this.status=4};n.addEventListener("abort",e)}let i;const s={bucketsWithData:[],emptyBuckets:null};try{i=await this._parse(t,r)}catch(t){if(e.isAbortError(t))throw t;return{result:s,transferList:[]}}this.status=2;const o=s.bucketsWithData,a=[];for(const e of i)if(e.hasFeatures()){const t=e.serialize();o.push(t)}else a.push(e.layer.uid);const l=[...o];let u=null;return a.length>0&&(u=Uint32Array.from(a),l.push(u.buffer)),s.emptyBuckets=u,{result:s,transferList:l}}setObsolete(){this.status=4}getLayers(){return this._workerTileHandler.getLayers()}getWorkerTileHandler(){return this._workerTileHandler}async _parse(e,t){const n=e.sourceName2DataAndRefKey;return 0===Object.keys(n).length?[]:(this.status=3,new r(n,this,t.client,e.sourceDataMaxLOD,this._styleRepository,e.styleLayerUIDs).parse(t))}}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["exports","../../../../geometry/support/TileClipper","./constants","./GeometryUtils","./TextShaping","./decluttering/config"],function(e,t,r,n,i,s){"use strict";const o=.5;class a{constructor(e,t,r,i,s,o=.5,a=n.cInfinity){this.anchor=e,this.labelAngle=t,this.glyphAngle=r,this.page=i,this.alternateVerticalGlyph=s,this.minzoom=o,this.maxzoom=a}}class l{constructor(e,t,r,n,i,s,o,a,l,u,c,h){this.tl=e,this.tr=t,this.bl=r,this.br=n,this.mosaicRect=i,this.labelAngle=s,this.minAngle=o,this.maxAngle=a,this.anchor=l,this.minzoom=u,this.maxzoom=c,this.page=h}}class u{constructor(e){this.shapes=e}}e.Anchor=class{constructor(e,t,r=0,n=-1,i=.5){this.x=e,this.y=t,this.angle=r,this.segment=n,this.minzoom=i}},e.PlacedSymbol=l,e.Placement=u,e.PlacementEngine=class{getIconPlacement(e,r,i){const o=new t.Point(e.x,e.y),a=0===i.rotationAlignment,l=i.keepUpright;let c=i.rotate*n.cDegToRad;a&&(c+=e.angle);const h=new u([]);return i.allowOverlap&&i.ignorePlacement||!s.declutterTiles||(h.iconColliders=[]),this._addIconPlacement(h,o,r,i,c),a&&l&&this._addIconPlacement(h,o,r,i,c+n.cPi),h}_addIconPlacement(e,r,i,a,u){const c=i.rasterizationScale,h=i.width/c,f=i.height/c,d=a.offset;let p=d[0],m=d[1];switch(a.anchor){case 0:p-=h/2,m-=f/2;break;case 1:m-=f/2;break;case 2:p-=h,m-=f/2;break;case 3:p-=h/2;break;case 4:p-=h/2,m-=f;break;case 5:break;case 7:m-=f;break;case 6:p-=h;break;case 8:p-=h,m-=f}const y=i.rect,g=2/c,_=p-g,b=m-g,x=_+y.width/c,w=b+y.height/c,T=new t.Point(_,b),S=new t.Point(x,w),v=new t.Point(_,w),P=new t.Point(x,b);if(0!==u){const e=Math.cos(u),t=Math.sin(u);T.rotate(e,t),S.rotate(e,t),v.rotate(e,t),P.rotate(e,t)}const M=new l(T,P,v,S,y,u,0,256,r,o,n.cInfinity,0);if(e.shapes.push(M),(!a.allowOverlap||!a.ignorePlacement)&&s.declutterTiles){const t=a.size,i=a.padding,s={xTile:r.x,yTile:r.y,dxPixels:p*t-i,dyPixels:m*t-i,hard:!a.optional,partIndex:0,width:h*t+2*i,height:f*t+2*i,angle:u,minLod:o,maxLod:n.cInfinity};e.iconColliders.push(s)}}getTextPlacement(e,s,c,h){const f=new t.Point(e.x,e.y),d=h.rotate*n.cDegToRad,p=0===h.rotationAlignment,m=h.keepUpright,y=h.padding;let g=o;const _=p?e.angle:0,b=e.segment>=0&&p,x=h.allowOverlap&&h.ignorePlacement?null:[],w=[],T=!b;let S=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,P=S,M=v;const O=(b||p)&&m,k=h.size/i.sdfGlyphSize;let E=!1;for(const e of s)if(e.vertical){E=!0;break}let A,I=0,D=0;if(!b&&E){const e=i.TextShaping.getTextBox(s,h.lineHeight*i.sdfGlyphSize);switch(h.anchor){case 1:I=e.height/2,D=-e.width/2;break;case 2:I=-e.height/2,D=e.width/2;break;case 3:I=e.height/2,D=e.width/2;break;case 4:I=-e.height/2,D=-e.width/2;break;case 5:I=e.height;break;case 7:D=-e.width;break;case 6:D=e.width;break;case 8:I=-e.height}}I+=h.offset[0]*i.sdfGlyphSize,D+=h.offset[1]*i.sdfGlyphSize;for(const u of s){const s=u.glyphMosaicItem;if(!s||s.rect.isEmpty)continue;const N=s.rect,R=s.metrics,C=s.page;if(x&&T){if(void 0!==A&&A!==u.y){let t,r,i,s;E?(t=-M+I,r=S+D,i=M-P,s=v-S):(t=S+I,r=P+D,i=v-S,s=M-P);const a={xTile:e.x,yTile:e.y,dxPixels:t*k-y,dyPixels:r*k-y,hard:!h.optional,partIndex:1,width:i*k+2*y,height:s*k+2*y,angle:d,minLod:o,maxLod:n.cInfinity};x.push(a),S=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,P=S,M=v}A=u.y}const L=[];if(b){const t=.5*s.metrics.width,n=(u.x+R.left-4+t)*k*r.tilePixelRatio;if(g=this._placeGlyph(e,g,n,c,e.segment,1,u.vertical,C,L),m&&(g=this._placeGlyph(e,g,n,c,e.segment,-1,u.vertical,C,L)),g>=2)break}else L.push(new a(f,_,_,C,!1)),p&&m&&L.push(new a(f,_+n.cPi,_+n.cPi,C,!1));const U=u.x+R.left,F=u.y-i.sdfGlyphBaseline-R.top,j=U+R.width,V=F+R.height;let B,z,G,q,W,$,H,Z;if(!b&&E)if(u.vertical){const e=(U+j)/2-R.height/2,r=(F+V)/2+R.width/2;B=new t.Point(-r-4+I,e-4+D),z=new t.Point(B.x+N.width,B.y+N.height),G=new t.Point(B.x,z.y),q=new t.Point(z.x,B.y)}else B=new t.Point(4-F+I,U-4+D),z=new t.Point(B.x-N.height,B.y+N.width),G=new t.Point(z.x,B.y),q=new t.Point(B.x,z.y);else B=new t.Point(U-4+I,F-4+D),z=new t.Point(B.x+N.width,B.y+N.height),G=new t.Point(B.x,z.y),q=new t.Point(z.x,B.y);for(const r of L){let n,i,s,o;if(r.alternateVerticalGlyph){if(!W){const e=(U+j)/2+I,r=(F+V)/2+D;W=new t.Point(e-R.height/2-4,r+R.width/2+4),$=new t.Point(W.x+N.height,W.y-N.width),H=new t.Point($.x,W.y),Z=new t.Point(W.x,$.y)}n=W,i=H,s=Z,o=$}else n=B,i=G,s=q,o=z;const a=F,c=V,f=r.glyphAngle+d;if(0!==f){const e=Math.cos(f),t=Math.sin(f);n=n.clone(),i=i?.clone(),s=s?.clone(),o=o?.clone(),n.rotate(e,t),o?.rotate(e,t),i?.rotate(e,t),s?.rotate(e,t)}let p=0,m=256;if(b&&E?u.vertical?r.alternateVerticalGlyph?(p=32,m=96):(p=224,m=32):(p=224,m=96):(p=192,m=64),w.push(new l(n,s,i,o,N,r.labelAngle,p,m,r.anchor,r.minzoom,r.maxzoom,r.page)),x&&(!O||this._legible(r.labelAngle)))if(T)U<S&&(S=U),a<P&&(P=a),j>v&&(v=j),c>M&&(M=c);else if(r.minzoom<2){const t={xTile:e.x,yTile:e.y,dxPixels:(U+I)*k-y,dyPixels:(a+I)*k-y,hard:!h.optional,partIndex:1,width:(j-U)*k+2*y,height:(c-a)*k+2*y,angle:f,minLod:r.minzoom,maxLod:r.maxzoom};x.push(t)}}}if(g>=2)return null;if(x&&T){let t,r,i,s;E?(t=-M+I,r=S+D,i=M-P,s=v-S):(t=S+I,r=P+D,i=v-S,s=M-P);const a={xTile:e.x,yTile:e.y,dxPixels:t*k-y,dyPixels:r*k-y,hard:!h.optional,partIndex:1,width:i*k+2*y,height:s*k+2*y,angle:d,minLod:o,maxLod:n.cInfinity};x.push(a)}const N=new u(w);return x&&x.length>0&&(N.textColliders=x),N}_legible(e){const t=n.radToByte(e);return t<65||t>=193}_placeGlyph(e,r,i,s,o,l,u,c,h){let f=l;const d=f<0?n.positiveMod(e.angle+n.cPi,n.c2pi):e.angle;let p=0;i<0&&(f*=-1,i*=-1,p=n.cPi),f>0&&++o;let m=new t.Point(e.x,e.y),y=s[o],g=n.cInfinity;if(s.length<=o)return g;for(;;){const e=y.x-m.x,t=y.y-m.y,l=Math.sqrt(e*e+t*t),_=Math.max(i/l,r),b=e/l,x=t/l,w=n.positiveMod(Math.atan2(x,b)+p,n.c2pi);if(h.push(new a(m,d,w,c,!1,_,g)),u&&h.push(new a(m,d,w,c,!0,_,g)),_<=r)return _;m=y.clone();do{if(o+=f,s.length<=o||o<0)return _;y=s[o]}while(m.isEqual(y));let T=y.x-m.x,S=y.y-m.y;const v=Math.sqrt(T*T+S*S);T*=l/v,S*=l/v,m.x-=T,m.y-=S,g=_}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/TileClipper":function(){define(["exports"],function(e){"use strict";class t{constructor(e,t){this.x=e,this.y=t}static fromArray(e){return new t(e[0],e[1])}clone(){return new t(this.x,this.y)}equals(e,t){return e===this.x&&t===this.y}isEqual(e){return e.x===this.x&&e.y===this.y}setCoords(e,t){return this.x=e,this.y=t,this}normalize(){const e=this.x,t=this.y,r=Math.sqrt(e*e+t*t);return this.x/=r,this.y/=r,this}rightPerpendicular(){const e=this.x;return this.x=this.y,this.y=-e,this}leftPerpendicular(){const e=this.x;return this.x=-this.y,this.y=e,this}move(e,t){return this.x+=e,this.y+=t,this}assign(e){return this.x=e.x,this.y=e.y,this}assignAdd(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}assignSub(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}rotate(e,t){const r=this.x,n=this.y;return this.x=r*e-n*t,this.y=r*t+n*e,this}rotateReverse(e,t){const r=this.x,n=this.y;return this.x=r*e+n*t,this.y=-r*t+n*e,this}scale(e){return this.x*=e,this.y*=e,this}length(){const e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}sub(e){return this.x-=e.x,this.y-=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}static distance(e,t){const r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)}static add(e,r){return new t(e.x+r.x,e.y+r.y)}static sub(e,r){return new t(e.x-r.x,e.y-r.y)}}class r{constructor(e,t,r){this.ratio=e,this.x=t,this.y=r}}class n{static simplify(e,t,r){if(!r)return;const i=-t,s=e+t,o=-t,a=e+t,l=[],u=[],c=r.length;for(let e=0;e<c;++e){const t=r[e];if(!t||t.length<2)continue;let n,c=t[0];const h=t.length;for(let r=1;r<h;++r)n=t[r],c.x===n.x&&(c.x<=i&&(c.y>n.y?(l.push(e),l.push(r),l.push(0),l.push(-1)):(u.push(e),u.push(r),u.push(0),u.push(-1))),c.x>=s&&(c.y<n.y?(l.push(e),l.push(r),l.push(1),l.push(-1)):(u.push(e),u.push(r),u.push(1),u.push(-1)))),c.y===n.y&&(c.y<=o&&(c.x<n.x?(l.push(e),l.push(r),l.push(2),l.push(-1)):(u.push(e),u.push(r),u.push(2),u.push(-1))),c.y>=a&&(c.x>n.x?(l.push(e),l.push(r),l.push(3),l.push(-1)):(u.push(e),u.push(r),u.push(3),u.push(-1)))),c=n}if(0===l.length||0===u.length)return;n.fillParent(r,u,l),n.fillParent(r,l,u);const h=[];n.calcDeltas(h,u,l),n.calcDeltas(h,l,u),n.addDeltas(h,r)}static fillParent(e,t,r){const n=r.length,s=t.length;for(let o=0;o<s;o+=4){const s=t[o],a=t[o+1],l=t[o+2],u=e[s][a-1],c=e[s][a];let h=8092,f=-1;for(let t=0;t<n;t+=4){if(r[t+2]!==l)continue;const n=r[t],s=r[t+1],o=e[n][s-1],a=e[n][s];switch(l){case 0:case 1:if(i(u.y,o.y,a.y)&&i(c.y,o.y,a.y)){const e=Math.abs(a.y-o.y);e<h&&(h=e,f=t)}break;case 2:case 3:if(i(u.x,o.x,a.x)&&i(c.x,o.x,a.x)){const e=Math.abs(a.x-o.x);e<h&&(h=e,f=t)}}}t[o+3]=f}}static calcDeltas(e,t,r){const i=t.length;for(let s=0;s<i;s+=4){const i=[],o=n.calcDelta(s,t,r,i);e.push(t[s]),e.push(t[s+1]),e.push(t[s+2]),e.push(o)}}static calcDelta(e,t,r,i){const s=t[e+3];if(-1===s)return 0;const o=i.length;return o>1&&i[o-2]===s?0:(i.push(s),n.calcDelta(s,r,t,i)+1)}static addDeltas(e,t){const r=e.length;let n=0;for(let t=0;t<r;t+=4){const r=e[t+3];r>n&&(n=r)}for(let i=0;i<r;i+=4){const r=t[e[i]],s=e[i+1],o=n-e[i+3];switch(e[i+2]){case 0:r[s-1].x-=o,r[s].x-=o,1===s&&(r[r.length-1].x-=o),s===r.length-1&&(r[0].x-=o);break;case 1:r[s-1].x+=o,r[s].x+=o,1===s&&(r[r.length-1].x+=o),s===r.length-1&&(r[0].x+=o);break;case 2:r[s-1].y-=o,r[s].y-=o,1===s&&(r[r.length-1].y-=o),s===r.length-1&&(r[0].y-=o);break;case 3:r[s-1].y+=o,r[s].y+=o,1===s&&(r[r.length-1].y+=o),s===r.length-1&&(r[0].y+=o)}}}}const i=(e,t,r)=>e>=t&&e<=r||e>=r&&e<=t;e.Point=t,e.SimpleBuilder=class{setExtent(e){this._ratio=4096===e?1:4096/e}get validateTessellation(){return this._ratio<1}reset(e){this._lines=[],this._line=null}moveTo(e,r){this._line&&this._lines.push(this._line),this._line=[];const n=this._ratio;this._line.push(new t(e*n,r*n))}lineTo(e,r){const n=this._ratio;this._line.push(new t(e*n,r*n))}close(){const e=this._line;e&&!e[0].isEqual(e[e.length-1])&&e.push(e[0])}result(){return this._line&&this._lines.push(this._line),0===this._lines.length?null:this._lines}},e.TileClipper=class{constructor(e,t,r,n=8,i=8){this._lines=[],this._starts=[],this.validateTessellation=!0,this._pixelRatio=n,this._pixelMargin=i,this._tileSize=512*n,this._dz=e,this._yPos=t,this._xPos=r}setPixelMargin(e){e!==this._pixelMargin&&(this._pixelMargin=e,this.setExtent(this._extent))}setExtent(e){this._extent=e,this._finalRatio=this._tileSize/e*(1<<this._dz);let t=this._pixelRatio*this._pixelMargin;t/=this._finalRatio;const r=e>>this._dz;t>r&&(t=r),this._margin=t,this._xmin=r*this._xPos-t,this._ymin=r*this._yPos-t,this._xmax=this._xmin+r+2*t,this._ymax=this._ymin+r+2*t}reset(e){this._type=e,this._lines=[],this._starts=[],this._line=null,this._start=0}moveTo(e,r){this._pushLine(),this._prevIsIn=this._isIn(e,r),this._moveTo(e,r,this._prevIsIn),this._prevPt=new t(e,r),this._firstPt=new t(e,r),this._dist=0}lineTo(e,n){const i=this._isIn(e,n),s=new t(e,n),o=t.distance(this._prevPt,s);let a,l,u,c,h,f,d,p;if(i)this._prevIsIn?this._lineTo(e,n,!0):(a=this._prevPt,l=s,u=this._intersect(l,a),this._start=this._dist+o*(1-this._r),this._lineTo(u.x,u.y,!0),this._lineTo(l.x,l.y,!0));else if(this._prevIsIn)l=this._prevPt,a=s,u=this._intersect(l,a),this._lineTo(u.x,u.y,!0),this._lineTo(a.x,a.y,!1);else{const e=this._prevPt,t=s;if(e.x<=this._xmin&&t.x<=this._xmin||e.x>=this._xmax&&t.x>=this._xmax||e.y<=this._ymin&&t.y<=this._ymin||e.y>=this._ymax&&t.y>=this._ymax)this._lineTo(t.x,t.y,!1);else{const n=[];if((e.x<this._xmin&&t.x>this._xmin||e.x>this._xmin&&t.x<this._xmin)&&(c=(this._xmin-e.x)/(t.x-e.x),p=e.y+c*(t.y-e.y),p<=this._ymin?f=!1:p>=this._ymax?f=!0:n.push(new r(c,this._xmin,p))),(e.x<this._xmax&&t.x>this._xmax||e.x>this._xmax&&t.x<this._xmax)&&(c=(this._xmax-e.x)/(t.x-e.x),p=e.y+c*(t.y-e.y),p<=this._ymin?f=!1:p>=this._ymax?f=!0:n.push(new r(c,this._xmax,p))),(e.y<this._ymin&&t.y>this._ymin||e.y>this._ymin&&t.y<this._ymin)&&(c=(this._ymin-e.y)/(t.y-e.y),d=e.x+c*(t.x-e.x),d<=this._xmin?h=!1:d>=this._xmax?h=!0:n.push(new r(c,d,this._ymin))),(e.y<this._ymax&&t.y>this._ymax||e.y>this._ymax&&t.y<this._ymax)&&(c=(this._ymax-e.y)/(t.y-e.y),d=e.x+c*(t.x-e.x),d<=this._xmin?h=!1:d>=this._xmax?h=!0:n.push(new r(c,d,this._ymax))),0===n.length)h?f?this._lineTo(this._xmax,this._ymax,!0):this._lineTo(this._xmax,this._ymin,!0):f?this._lineTo(this._xmin,this._ymax,!0):this._lineTo(this._xmin,this._ymin,!0);else if(n.length>1&&n[0].ratio>n[1].ratio)this._start=this._dist+o*n[1].ratio,this._lineTo(n[1].x,n[1].y,!0),this._lineTo(n[0].x,n[0].y,!0);else{this._start=this._dist+o*n[0].ratio;for(let e=0;e<n.length;e++)this._lineTo(n[e].x,n[e].y,!0)}this._lineTo(t.x,t.y,!1)}}this._dist+=o,this._prevIsIn=i,this._prevPt=s}close(){if(this._line.length>2){const e=this._firstPt,t=this._prevPt;e.x===t.x&&e.y===t.y||this.lineTo(e.x,e.y);const r=this._line;let n=r.length;for(;n>=4&&(r[0].x===r[1].x&&r[0].x===r[n-2].x||r[0].y===r[1].y&&r[0].y===r[n-2].y);)r.pop(),r[0].x=r[n-2].x,r[0].y=r[n-2].y,--n}}result(e=!0){return this._pushLine(),0===this._lines.length?null:(3===this._type&&e&&n.simplify(this._tileSize,this._margin*this._finalRatio,this._lines),this._lines)}resultWithStarts(){if(2!==this._type)throw new Error("Only valid for lines");this._pushLine();const e=this._lines,t=e.length;if(0===t)return null;const r=[];for(let n=0;n<t;n++)r.push({line:e[n],start:this._starts[n]||0});return r}_isIn(e,t){return e>=this._xmin&&e<=this._xmax&&t>=this._ymin&&t<=this._ymax}_intersect(e,r){let n,i,s;if(r.x>=this._xmin&&r.x<=this._xmax)i=r.y<=this._ymin?this._ymin:this._ymax,s=(i-e.y)/(r.y-e.y),n=e.x+s*(r.x-e.x);else if(r.y>=this._ymin&&r.y<=this._ymax)n=r.x<=this._xmin?this._xmin:this._xmax,s=(n-e.x)/(r.x-e.x),i=e.y+s*(r.y-e.y);else{i=r.y<=this._ymin?this._ymin:this._ymax,n=r.x<=this._xmin?this._xmin:this._xmax;const t=(n-e.x)/(r.x-e.x),o=(i-e.y)/(r.y-e.y);t<o?(s=t,i=e.y+t*(r.y-e.y)):(s=o,n=e.x+o*(r.x-e.x))}return this._r=s,new t(n,i)}_pushLine(){this._line&&(1===this._type?this._line.length>0&&(this._lines.push(this._line),this._starts.push(this._start)):2===this._type?this._line.length>1&&(this._lines.push(this._line),this._starts.push(this._start)):3===this._type&&this._line.length>3&&(this._lines.push(this._line),this._starts.push(this._start))),this._line=[],this._start=0}_moveTo(e,r,n){3!==this._type?n&&(e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.push(new t(e,r))):(n||(e<this._xmin&&(e=this._xmin),e>this._xmax&&(e=this._xmax),r<this._ymin&&(r=this._ymin),r>this._ymax&&(r=this._ymax)),e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.push(new t(e,r)),this._isH=!1,this._isV=!1)}_lineTo(e,r,n){let i,s;if(3!==this._type)if(n){if(e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line.length>0&&(i=this._line[this._line.length-1],i.equals(e,r)))return;this._line.push(new t(e,r))}else this._line&&this._line.length>0&&this._pushLine();else if(n||(e<this._xmin&&(e=this._xmin),e>this._xmax&&(e=this._xmax),r<this._ymin&&(r=this._ymin),r>this._ymax&&(r=this._ymax)),e=Math.round((e-(this._xmin+this._margin))*this._finalRatio),r=Math.round((r-(this._ymin+this._margin))*this._finalRatio),this._line&&this._line.length>0){i=this._line[this._line.length-1];const n=i.x===e,o=i.y===r;if(n&&o)return;this._isH&&n||this._isV&&o?(i.x=e,i.y=r,s=this._line[this._line.length-2],s.x===e&&s.y===r?(this._line.pop(),this._line.length<=1?(this._isH=!1,this._isV=!1):(s=this._line[this._line.length-2],this._isH=s.x===e,this._isV=s.y===r)):(this._isH=s.x===e,this._isV=s.y===r)):(this._line.push(new t(e,r)),this._isH=n,this._isV=o)}else this._line.push(new t(e,r))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/constants":function(){define(["exports"],function(e){"use strict";e.tileCoordSize=4096,e.tileCoordinateScale=.125,e.tilePixelRatio=8,e.tilePixelSize=512,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],function(e,t,r){"use strict";const n=Number.POSITIVE_INFINITY,i=Math.PI,s=2*i,o=128/i,a=256/360,l=i/180,u=1/Math.LN2;function c(e,t){return(e%=t)>=0?e:e+t}e.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t},e.c2pi=s,e.cDegTo256=a,e.cDegToRad=l,e.cInfinity=n,e.cPi=i,e.cRadTo256=o,e.degToByte=function(e){return c(e*a,256)},e.distanceFromToPolylineWithinThreshold=function(e,r,n,i){let s,o,a,l;const u=i*i;for(const i of n){const n=i.length;if(!(n<2)){s=i[0].x,o=i[0].y;for(let c=1;c<n;++c){if(a=i[c].x,l=i[c].y,t.distanceToSegmentSquared(e,r,s,o,a,l)<u)return!0;s=a,o=l}}}return!1},e.getTileMargins=function(e){return 8+Math.max(16*(e-14),0)},e.interpolate=function(e,t,r){return e*(1-r)+t*r},e.isCircleOverlapingRect=function(e,t,r,n,i,s,o){const a=Math.max(n,Math.min(t,s))-t,l=Math.max(i,Math.min(r,o))-r;return a*a+l*l<=e*e},e.log2=function(e){return Math.log(e)*u},e.offsetLine=function(e,t){if(0===t||Number.isNaN(t))return e;const n=[],i=new r.Point(0,0),s=new r.Point(0,0),o=new r.Point(0,0);for(let a=0;a<e.length;a++){const l=e[a],u=[];for(let e=0;e<l.length;e++){const n=l[e-1],a=l[e],c=l[e+1];0===e?i.setCoords(0,0):i.assignSub(a,n).normalize().rightPerpendicular(),e===l.length-1?s.setCoords(0,0):s.assignSub(c,a).normalize().rightPerpendicular(),o.assignAdd(i,s).normalize();const h=o.x*s.x+o.y*s.y;0!==h&&o.scale(1/h),u.push(r.Point.add(a,o.scale(t)))}n.push(u)}return n},e.pointInPolygon=function(e,t,r){let n,i,s,o=0;for(const a of r){n=a.length;for(let r=1;r<n;++r)i=a[r-1],s=a[r],i.y>t!=s.y>t&&((s.x-i.x)*(t-i.y)-(s.y-i.y)*(e-i.x)>0?o++:o--)}return 0!==o},e.positiveMod=c,e.radToByte=function(e){return c(e*o,256)},e.sqr=function(e){return e*e},e.translateAnchor=function(e,t,n,i){const s=new r.Point(e[0],e[1]);if(s.scale(i),"viewport"===t){const e=-n*(Math.PI/180),t=Math.cos(e),r=Math.sin(e);s.rotate(t,r)}return s},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/TextShaping":function(){define(["exports","./ScriptUtils","../webgl/Rect"],function(e,t,r){"use strict";e.TextShaping=class{constructor(e,t,r,n,i,s,o){this._glyphItems=e,this._maxWidth=t,this._lineHeight=r,this._letterSpacing=n,this._hAnchor=i,this._vAnchor=s,this._justify=o}getShaping(e,r,n){const i=this._letterSpacing,s=this._lineHeight,o=this._justify,a=this._maxWidth,l=[];let u=0,c=0;for(const r of e){const e=r.codePointAt(0);if(null==e)continue;const s=n&&t.hasVerticalOrientation(e);let o;for(const t of this._glyphItems)if(o=t[e],o)break;l.push({codePoint:e,x:u,y:c,vertical:s,glyphMosaicItem:o}),o&&(u+=o.metrics.advance+i)}let h=u;a>0&&(h=u/Math.max(1,Math.ceil(u/a)));const f=e.includes("​"),d=[],p=l.length;for(let e=0;e<p-1;e++){const r=l[e].codePoint,n=t.allowsIdeographicBreak(r);if(t.isLineBreak(r)||n){let t=0;if(10===r)t-=1e4;else if(n&&f)t+=150;else{40!==r&&65288!==r||(t+=50);const n=l[e+1].codePoint;41!==n&&65289!==n||(t+=50)}d.push(this._buildBreak(e+1,l[e].x,h,d,t,!1))}}const m=this._optimalBreaks(this._buildBreak(p,u,h,d,0,!0));let y=0;const g=r?-s:s;let _=0;for(let e=0;e<m.length;e++){const r=m[e];let n=_;for(;n<r&&t.isWhiteSpace(l[n].codePoint);)l[n].glyphMosaicItem=null,++n;let i=r-1;for(;i>n&&t.isWhiteSpace(l[i].codePoint);)l[i].glyphMosaicItem=null,--i;if(n<=i){const e=l[n].x;for(let t=n;t<=i;t++)l[t].x-=e,l[t].y=c;let t=l[i].x;l[i].glyphMosaicItem&&(t+=l[i].glyphMosaicItem.metrics.advance),y=Math.max(t,y),o&&this._applyJustification(l,n,i)}_=r,c+=g}if(l.length>0){const e=m.length-1,t=(o-this._hAnchor)*y;let n=(-this._vAnchor*(e+1)+.5)*s;r&&e&&(n+=e*s);for(const e of l)e.x+=t,e.y+=n}return l.filter(e=>e.glyphMosaicItem)}static getTextBox(e,t){if(!e.length)return null;let r=1/0,n=1/0,i=0,s=0;for(const o of e){const e=o.glyphMosaicItem.metrics.advance,a=o.x,l=o.y-17,u=a+e,c=l+t;r=Math.min(r,a),i=Math.max(i,u),n=Math.min(n,l),s=Math.max(s,c)}return{x:r,y:n,width:i-r,height:s-n}}static getBox(e){if(!e.length)return null;let t=1/0,r=1/0,n=0,i=0;for(const s of e){const{height:e,left:o,top:a,width:l}=s.glyphMosaicItem.metrics,u=s.x,c=s.y-(e-Math.abs(a)),h=u+l+o,f=c+e;t=Math.min(t,u),n=Math.max(n,h),r=Math.min(r,c),i=Math.max(i,f)}return{x:t,y:r,width:n-t,height:i-r}}static addDecoration(e,t){const n=e.length;if(0===n)return;let i=e[0].x+e[0].glyphMosaicItem.metrics.left,s=e[0].y;for(let o=1;o<n;o++){const n=e[o];if(n.y!==s){const a=e[o-1].x+e[o-1].glyphMosaicItem.metrics.left+e[o-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:i,y:s+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:a-i,height:8,left:0,top:0,advance:0},page:0,code:0}}),s=n.y,i=n.x+n.glyphMosaicItem.metrics.left}}const o=e[n-1].x+e[n-1].glyphMosaicItem.metrics.left+e[n-1].glyphMosaicItem.metrics.width;e.push({codePoint:0,x:i,y:s+t-3,vertical:!1,glyphMosaicItem:{sdf:!0,rect:new r(4,0,4,8),metrics:{width:o-i,height:8,left:0,top:0,advance:0},page:0,code:0}})}_breakScore(e,t,r,n){const i=(e-t)*(e-t);return n?e<t?i/2:2*i:i+Math.abs(r)*r}_buildBreak(e,t,r,n,i,s){let o=null,a=this._breakScore(t,r,i,s);for(const e of n){const n=t-e.x,l=this._breakScore(n,r,i,s)+e.score;l<=a&&(o=e,a=l)}return{index:e,x:t,score:a,previousBreak:o}}_optimalBreaks(e){return e?this._optimalBreaks(e.previousBreak).concat(e.index):[]}_applyJustification(e,t,r){const n=e[r],i=n.vertical?24:n.glyphMosaicItem?n.glyphMosaicItem.metrics.advance:0,s=(n.x+i)*this._justify;for(let n=t;n<=r;n++)e[n].x-=s}},e.sdfGlyphBaseline=17,e.sdfGlyphSize=24,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/ScriptUtils":function(){define(["exports"],function(e){"use strict";e.allowsIdeographicBreak=function(e){return!(e<11904)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=65280&&e<=65519||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543||e>=65040&&e<=65055||e>=42128&&e<=42191||e>=40960&&e<=42127)},e.hasVerticalOrientation=function(e){return 746===e||747===e||!(e<4352)&&(e>=12704&&e<=12735||e>=12544&&e<=12591||e>=65072&&e<=65103&&!(e>=65097&&e<=65103)||e>=63744&&e<=64255||e>=13056&&e<=13311||e>=11904&&e<=12031||e>=12736&&e<=12783||e>=12288&&e<=12351&&!(e>=12296&&e<=12305||e>=12308&&e<=12319||12336===e)||e>=13312&&e<=19903||e>=19968&&e<=40959||e>=12800&&e<=13055||e>=12592&&e<=12687||e>=43360&&e<=43391||e>=55216&&e<=55295||e>=4352&&e<=4607||e>=44032&&e<=55215||e>=12352&&e<=12447||e>=12272&&e<=12287||e>=12688&&e<=12703||e>=12032&&e<=12255||e>=12784&&e<=12799||e>=12448&&e<=12543&&12540!==e||e>=65280&&e<=65519&&!(65288===e||65289===e||65293===e||e>=65306&&e<=65310||65339===e||65341===e||65343===e||e>=65371&&e<=65503||65507===e||e>=65512&&e<=65519)||e>=65104&&e<=65135&&!(e>=65112&&e<=65118||e>=65123&&e<=65126)||e>=5120&&e<=5759||e>=6320&&e<=6399||e>=65040&&e<=65055||e>=19904&&e<=19967||e>=40960&&e<=42127||e>=42128&&e<=42191)},e.isLineBreak=function(e){switch(e){case 10:case 32:case 38:case 40:case 41:case 43:case 45:case 47:case 173:case 183:case 8203:case 8208:case 8211:case 8231:return!0}return!1},e.isWhiteSpace=function(e){switch(e){case 9:case 10:case 11:case 12:case 13:case 32:return!0}return!1},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/Rect":function(){define(function(){"use strict";return class{constructor(e=0,t=0,r=0,n=0){this.x=e,this.y=t,this.width=r,this.height=n}get isEmpty(){return this.width<=0||this.height<=0}union(e){this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.width=Math.max(this.width,e.width),this.height=Math.max(this.height,e.height)}}})},"esri/views/2d/engine/vectorTiles/decluttering/config":function(){define(["exports"],function(e){"use strict";e.collisionGridCellSize=32,e.declutterBudget=1.5,e.declutterTiles=!0,e.fadeDuration=200,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define(["../../../../core/pbf","../../../../core/promiseUtils","../../../../geometry/libtess","../../../../geometry/support/TileClipper","./Feature","./GeometryUtils","./IndexMemoryBuffer","./SourceLayerData","./VertexMemoryBuffer","./buckets/CircleBucket","./buckets/FillBucket","./buckets/LineBucket","./buckets/SymbolBucket"],function(e,t,r,n,i,s,o,a,l,u,c,h,f){"use strict";return class{constructor(t,r,i,o,a,l){if(this._pbfTiles={},this._tileClippers={},this._client=i,this._tile=r,this._sourceDataMaxLOD=o,l){this._styleLayerUIDs=new Set;for(const e of l)this._styleLayerUIDs.add(e)}this._styleRepository=a,this._layers=this._styleRepository?.layers??[];const[u,c,h]=r.tileKey.split("/").map(parseFloat);this._level=u;const f=s.getTileMargins(this._level);for(const r of Object.keys(t)){const i=t[r];if(this._pbfTiles[r]=new e(new Uint8Array(i.protobuff),new DataView(i.protobuff)),i.refKey){const[e]=i.refKey.split("/").map(parseFloat),t=u-e;if(t>0){const e=(1<<t)-1,i=c&e,s=h&e;this._tileClippers[r]=new n.TileClipper(t,i,s,8,f)}}this._tileClippers[r]||(this._tileClippers[r]=new n.SimpleBuilder)}}_canParseStyleLayer(e){return!this._styleLayerUIDs||this._styleLayerUIDs.has(e)}async parse(e){const t=r.loadLibtess(),n=this._initialize(e),{returnedBuckets:i}=n;this._processLayers(n),this._linkReferences(n),this._filterFeatures(n);const s=[],o=new Set,a=(e,t)=>{o.has(e)||(s.push({name:e,repeat:t}),o.add(e))},l={};for(const e of i)e.getResources(e.tileClipper,a,l);if(4===this._tile.status)return[];const u=this._fetchResources(s,l,e);return Promise.all([...u,t]).then(()=>this._processFeatures(n.returnedBuckets))}_initialize(e){const t=e?.signal;return{signal:t,sourceNameToTileData:this._parseTileData(this._pbfTiles),layers:this._layers,zoom:this._level,sourceNameToTileClipper:this._tileClippers,sourceNameToUniqueSourceLayerBuckets:{},sourceNameToUniqueSourceLayers:{},returnedBuckets:[],layerIdToBucket:{},referencerUIDToReferencedId:new Map}}_processLayers(e){const{sourceNameToTileData:t,zoom:r,layers:n,sourceNameToTileClipper:i,sourceNameToUniqueSourceLayerBuckets:s,sourceNameToUniqueSourceLayers:o,returnedBuckets:a,layerIdToBucket:l,referencerUIDToReferencedId:u}=e,c=this._sourceDataMaxLOD;for(let e=n.length-1;e>=0;e--){const h=n[e];if(r<c){if(h.minzoom&&r<Math.floor(h.minzoom)||h.maxzoom&&r>=h.maxzoom)continue}else if(h.maxzoom&&r>=h.maxzoom)continue;if(0===h.type||!this._canParseStyleLayer(h.uid)||!t[h.source]||!i[h.source])continue;const f=t[h.source],d=i[h.source],p=h.sourceLayer,m=f[p];if(m){let e=o[h.source];if(e||(e=o[h.source]=new Set),e.add(h.sourceLayer),h.refLayerId)u.set(h.uid,h.refLayerId);else{const e=this._createBucket(h);if(e){e.layerUIDs=[h.uid],e.layerExtent=m.extent,e.tileClipper=d;let t=s[h.source];t||(t=s[h.source]={});let r=t[p];r||(r=t[p]=[]),r.push(e),a.push(e),l[h.id]=e}}}}}_linkReferences(e){const{layerIdToBucket:t,referencerUIDToReferencedId:r}=e;r.forEach((e,r)=>{t[e]&&t[e].layerUIDs.push(r)})}_filterFeatures(e){const{signal:r,sourceNameToTileData:n,sourceNameToUniqueSourceLayerBuckets:s,sourceNameToUniqueSourceLayers:o}=e,a=10*this._level,l=10*(this._level+1),u=[],c=[];for(const e of Object.keys(o))o[e].forEach(t=>{u.push(t),c.push(e)});for(let e=0;e<u.length;e++){const o=c[e],h=u[e];if(!n[o]||!s[o])continue;const f=n[o][h],d=s[o][h];if(!d||0===d.length)continue;if(t.isAborted(r))return;let p=0;const m=f.getData();for(;m.nextTag(2);){const e=m.getMessage(),t=new i(e,f,p++);e.release();const r=t.values;if(r){const e=r._minzoom;if(e&&e>=l)continue;const t=r._maxzoom;if(t&&t<=a)continue}for(const e of d)e.pushFeature(t)}}}_fetchResources(e,t,r){const n=[],i=this._tile.getWorkerTileHandler();let s,o;e.length>0&&(s=i.fetchSprites(e,this._client,r),n.push(s));for(const e in t){const s=t[e];s.size>0&&(o=i.fetchGlyphs(this._tile.tileKey,e,s,this._client,r),n.push(o))}return n}_processFeatures(e){const t=e.filter(e=>e.hasFeatures()||this._canParseStyleLayer(e.layer.uid));for(const e of t)e.processFeatures(e.tileClipper);return t}_parseTileData(e){const t={};for(const r of Object.keys(e)){const n=e[r],i={};for(;n.next();)switch(n.tag()){case 3:{const e=n.getMessage(),t=new a(e);e.release(),i[t.name]=t;break}default:n.skip()}t[r]=i}return t}_createBucket(e){switch(e.type){case 0:return null;case 1:return this._createFillBucket(e);case 2:return this._createLineBucket(e);case 4:return this._createCircleBucket(e);case 3:return this._createSymbolBucket(e)}}_createFillBucket(e){return new c(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.FillVertexBuffer(e.fillMaterial.getStride()),new o.TriangleIndexBuffer,new l.OutlineVertexBuffer(e.outlineMaterial.getStride()),new o.TriangleIndexBuffer)}_createLineBucket(e){return new h(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.LineVertexBuffer(e.lineMaterial.getStride()),new o.TriangleIndexBuffer)}_createCircleBucket(e){return new u(e,this._level,this._tile.getWorkerTileHandler().getSpriteItems(),new l.CircleVertexBuffer(e.circleMaterial.getStride()),new o.TriangleIndexBuffer)}_createSymbolBucket(e){const t=this._tile;return new f(t.tileKey,e,this._level,new l.SymbolVertexBuffer(e.iconMaterial.getStride()),new o.TriangleIndexBuffer,new l.SymbolVertexBuffer(e.textMaterial.getStride()),new o.TriangleIndexBuffer,t.placementEngine,t.getWorkerTileHandler())}}})},"esri/core/pbf":function(){define(["./has","./memoryEstimations","./ObjectPool"],function(e,t,r){"use strict";const n=4294967296,i=new TextDecoder("utf-8"),s=e("safari")||e("ios")?6:e("ff")?12:32;class o{constructor(e,t,r=0,n=(e?e.byteLength:0)){this._tag=0,this._dataType=99,this._init(e,t,r,n)}_init(e,t,r,n){this._data=e,this._dataView=t,this._pos=r,this._end=n}get usedMemory(){return 64+t.estimateNumberArrayMemory(this._data)}asUnsafe(){return this}clone(){return new o(this._data,this._dataView,this._pos,this._end)}pos(){return this._pos}move(e){this._pos=e}nextTag(e){for(;;){if(this._pos===this._end)return!1;const t=this._decodeVarint();if(this._tag=t>>3,this._dataType=7&t,!e||e===this._tag)break;this.skip()}return!0}next(){if(this._pos===this._end)return!1;const e=this._decodeVarint();return this._tag=e>>3,this._dataType=7&e,!0}empty(){return this._pos>=this._end}tag(){return this._tag}getInt32(){return this._decodeVarint()}getInt64(){return this._decodeVarint()}getUInt32(){let e=4294967295;if(e=(127&this._data[this._pos])>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<7)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<14)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(127&this._data[this._pos])<<21)>>>0,this._data[this._pos++]<128)return e;if(e=(e|(15&this._data[this._pos])<<28)>>>0,this._data[this._pos++]<128)return e;throw new Error("Varint overflow")}getUInt64(){return this._decodeVarint()}getSInt32(){const e=this.getUInt32();return e>>>1^-(1&e)}getSInt64(){return this._decodeSVarint()}getBool(){const e=0!==this._data[this._pos];return this._skip(1),e}getEnum(){return this._decodeVarint()}getFixed64(){const e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getUint32(t+4,!0)*n;return this._skip(8),r}getSFixed64(){const e=this._dataView,t=this._pos,r=e.getUint32(t,!0)+e.getInt32(t+4,!0)*n;return this._skip(8),r}getDouble(){const e=this._dataView.getFloat64(this._pos,!0);return this._skip(8),e}getFixed32(){const e=this._dataView.getUint32(this._pos,!0);return this._skip(4),e}getSFixed32(){const e=this._dataView.getInt32(this._pos,!0);return this._skip(4),e}getFloat(){const e=this._dataView.getFloat32(this._pos,!0);return this._skip(4),e}getString(){const e=this._getLength(),t=this._pos,r=this._toString(this._data,t,t+e);return this._skip(e),r}getBytes(){const e=this._getLength(),t=this._pos,r=this._toBytes(this._data,t,t+e);return this._skip(e),r}getLength(){return this._getLengthUnsafe()}processMessageWithArgs(e,t,r,n){const i=this.getMessage(),s=e(i,t,r,n);return i.release(),s}processMessage(e){const t=this.getMessage(),r=e(t);return t.release(),r}getMessage(){const e=this._getLength(),t=o.pool.acquire();return t._init(this._data,this._dataView,this._pos,this._pos+e),this._skip(e),t}release(){o.pool.release(this)}dataType(){return this._dataType}skip(){switch(this._dataType){case 0:this._decodeVarint();break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw new Error("Invalid data type!")}}skipLen(e){this._skip(e)}_skip(e){if(this._pos+e>this._end)throw new Error("Attempt to skip past the end of buffer!");this._pos+=e}_decodeVarint(){const e=this._data;let t=this._pos,r=0,n=0;if(this._end-t>=10)do{if(n=e[t++],r|=127&n,!(128&n))break;if(n=e[t++],r|=(127&n)<<7,!(128&n))break;if(n=e[t++],r|=(127&n)<<14,!(128&n))break;if(n=e[t++],r|=(127&n)<<21,!(128&n))break;if(n=e[t++],r+=268435456*(127&n),!(128&n))break;if(n=e[t++],r+=34359738368*(127&n),!(128&n))break;if(n=e[t++],r+=4398046511104*(127&n),!(128&n))break;if(n=e[t++],r+=562949953421312*(127&n),!(128&n))break;if(n=e[t++],r+=72057594037927940*(127&n),!(128&n))break;if(n=e[t++],r+=0x8000000000000000*(127&n),!(128&n))break;throw new Error("Varint too long!")}while(0);else{let i=1;for(;t!==this._end&&(n=e[t],128&n);)++t,r+=(127&n)*i,i*=128;if(t===this._end)throw new Error("Varint overrun!");++t,r+=n*i}return this._pos=t,r}_decodeSVarint(){const e=this._data;let t,r=0,n=0;const i=1&e[this._pos];if(n=e[this._pos++],r|=127&n,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<7,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<14,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r|=(127&n)<<21,!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=268435456*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=34359738368*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(n=e[this._pos++],r+=4398046511104*(127&n),!(128&n))return i?-(r+1)/2:r/2;if(t=BigInt(r),n=e[this._pos++],t+=0x2000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x100000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);if(n=e[this._pos++],t+=0x8000000000000000n*BigInt(127&n),!(128&n))return Number(i?-(t+1n)/2n:t/2n);throw new Error("Varint too long!")}_getLength(){if(2!==this._dataType)throw new Error("Not a delimited data type!");return this._decodeVarint()}_getLengthUnsafe(){return this.getUInt32()}_toString(e,t,r){if((r=Math.min(this._end,r))-t>s){const n=e.subarray(t,r);return i.decode(n)}let n="",o="";for(let i=t;i<r;++i){const t=e[i];128&t?o+="%"+t.toString(16):(n+=decodeURIComponent(o)+String.fromCharCode(t),o="")}return o.length&&(n+=decodeURIComponent(o)),n}_toBytes(e,t,r){return r=Math.min(this._end,r),new Uint8Array(e.buffer,t,r-t)}static{this.pool=new r(o,void 0,e=>{e._data=null,e._dataView=null})}}return o})},"esri/core/memoryEstimations":function(){define(["exports","./typedArrayUtil"],function(e,t){"use strict";function r(e){return 32+e.length}function n(e){if(!e)return 0;if("number"==typeof e[0])return s(e);if(Array.isArray(e))return function(e){const t=e.length;if(0===t||"number"==typeof e[0])return o(e,8);let r=l;for(let n=0;n<t;n++)r+=i(e[n]);return r}(e);let t=a;for(const r in e)e.hasOwnProperty(r)&&(t+=i(e[r]));return t}function i(e,t=!0){switch(typeof e){case"object":return t?n(e):a;case"string":return r(e);case"number":return 16;case"boolean":return 4;default:return 8}}function s(...e){return e.reduce((e,r)=>e+(r?t.isTypedArray(r)?r.byteLength+u:Array.isArray(r)?o(r,16):0:0),0)}function o(e,t){return l+e.length*t}const a=32,l=16,u=145;e.baseArrayMemory=l,e.baseObjectMemory=a,e.baseTypedArrayMemory=u,e.estimateAttributesMemory=function(e){if(!e)return 0;let t=a;for(const r in e)e.hasOwnProperty(r)&&(t+=i(e[r],!1));return t},e.estimateFixedArrayMemory=o,e.estimateNestedObjectMemory=n,e.estimateNumberArrayMemory=s,e.estimateNumberMemory=16,e.estimateStringMemory=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/libtess":function(){define(["require","exports","../assets","../core/has"],function(e,t,r,n){"use strict";let i=null,s=null;t.loadLibtess=async function(){return i||(i=async function(){const t=n("esri-csp-restrictions")?await new Promise((t,r)=>e(["../chunks/libtess-asm"],t,r)).then(e=>e.libtessAsm):await new Promise((t,r)=>e(["../chunks/libtess"],t,r)).then(e=>e.libtess);s=await t.default({locateFile:e=>r.getAssetUrl(`esri/core/libs/libtess/${e}`)})}()),i},t.triangulate=function(e,t){const r=Math.max(e.length,128e3);return s.triangulate(e,t,r)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["../../../../geometry/support/TileClipper"],function(e){"use strict";return class{constructor(e,t,r=0){this.values={},this._geometry=void 0,this._pbfGeometry=null,this.featureIndex=r;const n=t.keys,i=t.values,s=e.asUnsafe();for(;s.next();)switch(s.tag()){case 1:this.id=s.getUInt64();break;case 2:{const e=s.getMessage().asUnsafe(),t=this.values;for(;!e.empty();){const r=e.getUInt32(),s=e.getUInt32();t[n[r]]=i[s]}e.release();break}case 3:this.type=s.getUInt32();break;case 4:this._pbfGeometry=s.getMessage();break;default:s.skip()}}getGeometry(t){if(void 0!==this._geometry)return this._geometry;if(!this._pbfGeometry)return null;const r=this._pbfGeometry.asUnsafe();let n,i;this._pbfGeometry=null,t?t.reset(this.type):n=[];let s,o=1,a=0,l=0,u=0;for(;!r.empty();){if(0===a){const e=r.getUInt32();o=7&e,a=e>>3}switch(a--,o){case 1:l+=r.getSInt32(),u+=r.getSInt32(),t?t.moveTo(l,u):n&&(i&&n.push(i),i=[],i.push(new e.Point(l,u)));break;case 2:l+=r.getSInt32(),u+=r.getSInt32(),t?t.lineTo(l,u):i&&i.push(new e.Point(l,u));break;case 7:t?t.close():i&&!i[0].equals(l,u)&&i.push(i[0].clone());break;default:throw r.release(),new Error("Invalid path operation")}}return t?s=t.result():n&&(i&&n.push(i),s=n),r.release(),this._geometry=s,s}}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["exports","./MemoryBuffer"],function(e,t){"use strict";e.PointElementMemoryBuffer=class extends t{constructor(){super(4)}add(e){this.array.push(e)}},e.TriangleIndexBuffer=class extends t{constructor(){super(12)}add(e,t,r){const n=this.array;n.push(e),n.push(t),n.push(r)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../core/has"],function(e){"use strict";return class{constructor(e){this._array=[],this._stride=e}get array(){return this._array}get index(){return 4*this._array.length/this._stride}get itemSize(){return this._stride}get sizeInBytes(){return 4*this._array.length}reset(){this.array.length=0}toBuffer(){return new Uint32Array(this._array).buffer}static i1616to32(e,t){return 65535&e|t<<16}static i8888to32(e,t,r,n){return 255&e|(255&t)<<8|(255&r)<<16|n<<24}static i8816to32(e,t,r){return 255&e|(255&t)<<8|r<<16}}})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["./constants"],function(e){"use strict";class t{constructor(r){this.extent=e.tileCoordSize,this.keys=[],this.values=[],this._pbfLayer=r.clone();const n=r.asUnsafe();for(;n.next();)switch(n.tag()){case 1:this.name=n.getString();break;case 3:this.keys.push(n.getString());break;case 4:this.values.push(n.processMessage(t._parseValue));break;case 5:this.extent=n.getUInt32();break;default:n.skip()}}getData(){return this._pbfLayer}static _parseValue(e){for(;e.next();)switch(e.tag()){case 1:return e.getString();case 2:return e.getFloat();case 3:return e.getDouble();case 4:return e.getInt64();case 5:return e.getUInt64();case 6:return e.getSInt64();case 7:return e.getBool();default:e.skip()}return null}}return t})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["exports","./GeometryUtils","./MemoryBuffer"],function(e,t,r){"use strict";e.CircleVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,s){const o=this.array,a=r.i1616to32(2*e+n,2*t+i);o.push(a),s&&o.push(...s)}},e.FillVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n){const i=this.array;i.push(r.i1616to32(e,t)),n&&i.push(...n)}},e.LineVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,s,o,a,l,u,c,h,f){const d=this.array;let p=r.i1616to32(e,t);d.push(p);const m=31;p=r.i8888to32(Math.round(m*n),Math.round(m*i),Math.round(m*s),Math.round(m*o)),d.push(p),p=r.i8888to32(Math.round(m*a),Math.round(m*l),Math.round(m*u),Math.round(m*c)),d.push(p),p=r.i1616to32(h,0),d.push(p),f&&d.push(...f)}},e.OutlineVertexBuffer=class extends r{constructor(e){super(e)}add(e,t,n,i,s,o,a){const l=this.array,u=this.index;let c=r.i1616to32(e,t);return l.push(c),c=r.i8888to32(Math.round(15*n),Math.round(15*i),s,o),l.push(c),a&&l.push(...a),u}},e.SymbolVertexBuffer=class extends r{constructor(e){super(e)}add(e,n,i,s,o,a,l,u,c,h,f,d){const p=this.array;let m=r.i1616to32(e,n);p.push(m),m=r.i1616to32(Math.round(8*i),Math.round(8*s)),p.push(m),m=r.i8888to32(o/4,a/4,u,c),p.push(m),m=r.i8888to32(0,t.radToByte(l),10*h,Math.min(10*f,255)),p.push(m),d&&p.push(...d)}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/buckets/CircleBucket":function(){define(["./BaseBucket"],function(e){"use strict";return class extends e{constructor(e,t,r,n,i){super(e,t,r),this.type=4,this._circleVertexBuffer=n,this._circleIndexBuffer=i}get circleIndexStart(){return this._circleIndexStart}get circleIndexCount(){return this._circleIndexCount}processFeatures(e){const t=this._circleVertexBuffer,r=this._circleIndexBuffer;this._circleIndexStart=3*r.index,this._circleIndexCount=0;const n=this.layer,i=this.zoom;e&&e.setExtent(this.layerExtent);for(const s of this._features){const o=s.getGeometry(e);if(!o)continue;const a=n.circleMaterial.encodeAttributes(s,i,n);for(const e of o)if(e)for(const n of e){const e=t.index;t.add(n.x,n.y,0,0,a),t.add(n.x,n.y,0,1,a),t.add(n.x,n.y,1,0,a),t.add(n.x,n.y,1,1,a),r.add(e,e+1,e+2),r.add(e+1,e+2,e+3),this._circleIndexCount+=6}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this._circleVertexBuffer.array.length,e+=this._circleIndexBuffer.array.length;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._circleIndexStart,t[n++]=this._circleIndexCount,t[n++]=this._circleVertexBuffer.array.length;for(let e=0;e<this._circleVertexBuffer.array.length;e++)r[n++]=this._circleVertexBuffer.array[e];t[n++]=this._circleIndexBuffer.array.length;for(let e=0;e<this._circleIndexBuffer.array.length;e++)t[n++]=this._circleIndexBuffer.array[e];return t.buffer}}})},"esri/views/2d/engine/vectorTiles/buckets/BaseBucket":function(){define(["../constants"],function(e){"use strict";return class{constructor(t,r,n){this.layerExtent=e.tileCoordSize,this._features=[],this.layer=t,this.zoom=r,this._spriteInfo=n,this._filter=t.getFeatureFilter()}pushFeature(e){this._filter&&!this._filter.filter(e,this.zoom)||this._features.push(e)}hasFeatures(){return this._features.length>0}getResources(e,t,r){}}})},"esri/views/2d/engine/vectorTiles/buckets/FillBucket":function(){define(["../../../../../core/ArrayPool","../../../../../chunks/earcut","../../../../../geometry/libtess","../../../../../geometry/support/TileClipper","./BaseBucket"],function(e,t,r,n,i){"use strict";class s extends i{constructor(e,t,r,n,i,s,o){super(e,t,r),this.type=1,this._patternMap=new Map,this._fillVertexBuffer=n,this._fillIndexBuffer=i,this._outlineVertexBuffer=s,this._outlineIndexBuffer=o}get fillIndexStart(){return this._fillIndexStart}get fillIndexCount(){return this._fillIndexCount}get outlineIndexStart(){return this._outlineIndexStart}get outlineIndexCount(){return this._outlineIndexCount}getResources(e,t,r){const n=this.layer,i=this.zoom,s=n.getPaintProperty("fill-pattern");if(s)if(s.isDataDriven)for(const e of this._features)t(s.getValue(i,e),!0);else t(s.getValue(i),!0)}processFeatures(e){this._fillIndexStart=3*this._fillIndexBuffer.index,this._fillIndexCount=0,this._outlineIndexStart=3*this._outlineIndexBuffer.index,this._outlineIndexCount=0;const t=this.layer,r=this.zoom,{fillMaterial:n,outlineMaterial:i,hasDataDrivenFill:s,hasDataDrivenOutline:o}=t;e&&e.setExtent(this.layerExtent);const a=t.getPaintProperty("fill-pattern"),l=a?.isDataDriven;let u=!a&&t.getPaintValue("fill-antialias",r);if(t.outlineUsesFillColor){if(u&&!t.hasDataDrivenOpacity){const e=t.getPaintValue("fill-opacity",r),n=t.getPaintValue("fill-opacity",r+1);e<1&&n<1&&(u=!1)}if(u&&!t.hasDataDrivenColor){const e=t.getPaintValue("fill-color",r),n=t.getPaintValue("fill-color",r+1);e[3]<1&&n[3]<1&&(u=!1)}}const c=this._features,h=e?.validateTessellation;if(l){const s=[];for(const l of c){const c=a.getValue(r,l),f=this._spriteInfo[c];if(!f?.rect)continue;const d=n.encodeAttributes(l,r,t,f),p=u&&o?i.encodeAttributes(l,r,t):[],m=l.getGeometry(e);s.push({ddFillAttributes:d,ddOutlineAttributes:p,page:f.page,geometry:m}),s.sort((e,t)=>e.page-t.page);for(const{ddFillAttributes:e,ddOutlineAttributes:r,page:n,geometry:i}of s)this._processFeature(i,u,t.outlineUsesFillColor,e,r,h,n)}}else for(const a of c){const l=s?n.encodeAttributes(a,r,t):null,c=u&&o?i.encodeAttributes(a,r,t):null,f=a.getGeometry(e);this._processFeature(f,u,t.outlineUsesFillColor,l,c,h)}}serialize(){let e=10;e+=this.layerUIDs.length,e+=this._fillVertexBuffer.array.length,e+=this._fillIndexBuffer.array.length,e+=this._outlineVertexBuffer.array.length,e+=this._outlineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._fillIndexStart,t[n++]=this._fillIndexCount,t[n++]=this._outlineIndexStart,t[n++]=this._outlineIndexCount;const i=this._patternMap,s=i.size;if(t[n++]=s,s>0)for(const[e,[r,s]]of i)t[n++]=e,t[n++]=r,t[n++]=s;t[n++]=this._fillVertexBuffer.array.length;for(let e=0;e<this._fillVertexBuffer.array.length;e++)r[n++]=this._fillVertexBuffer.array[e];t[n++]=this._fillIndexBuffer.array.length;for(let e=0;e<this._fillIndexBuffer.array.length;e++)t[n++]=this._fillIndexBuffer.array[e];t[n++]=this._outlineVertexBuffer.array.length;for(let e=0;e<this._outlineVertexBuffer.array.length;e++)r[n++]=this._outlineVertexBuffer.array[e];t[n++]=this._outlineIndexBuffer.array.length;for(let e=0;e<this._outlineIndexBuffer.array.length;e++)t[n++]=this._outlineIndexBuffer.array[e];return t.buffer}_processFeature(e,t,r,n,i,o,a){if(!e)return;const l=e.length,u=!i||0===i.length;if(t&&(!r||u))for(let t=0;t<l;t++)this._processOutline(e[t],i);let c;for(let t=0;t<l;t++){const r=s._area(e[t]);r>32?(void 0!==c&&this._processFill(e,c,n,o,a),c=[t]):r<-32&&void 0!==c&&c.push(t)}void 0!==c&&this._processFill(e,c,n,o,a)}_processOutline(e,t){const r=this._outlineVertexBuffer,i=this._outlineIndexBuffer,s=i.index;let o,a,l;const u=new n.Point(0,0),c=new n.Point(0,0),h=new n.Point(0,0);let f=-1,d=-1,p=-1,m=-1,y=-1,g=!1,_=e.length;if(_<2)return;const b=e[0];let x=e[_-1];for(;_&&x.isEqual(b);)--_,x=e[_-1];if(!(_-0<2)){for(let n=0;n<_;++n){0===n?(o=e[_-1],a=e[0],l=e[1],u.assignSub(a,o),u.normalize(),u.rightPerpendicular()):(o=a,a=l,l=n!==_-1?e[n+1]:e[0],u.assign(c));const s=this._isClipEdge(o,a);-1===m&&(g=s),c.assignSub(l,a),c.normalize(),c.rightPerpendicular();const b=u.x*c.y-u.y*c.x;h.assignAdd(u,c),h.normalize();const x=-h.x*-u.x+-h.y*-u.y;let w=Math.abs(0!==x?1/x:1);w>8&&(w=8),b>=0?(p=r.add(a.x,a.y,u.x,u.y,0,1,t),-1===m&&(m=p),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),d=r.add(a.x,a.y,w*-h.x,w*-h.y,0,-1,t),-1===y&&(y=d),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),f=d,d=p,p=r.add(a.x,a.y,h.x,h.y,0,1,t),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),d=r.add(a.x,a.y,c.x,c.y,0,1,t),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p)):(p=r.add(a.x,a.y,w*h.x,w*h.y,0,1,t),-1===m&&(m=p),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),d=r.add(a.x,a.y,-u.x,-u.y,0,-1,t),-1===y&&(y=d),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),f=d,d=p,p=r.add(a.x,a.y,-h.x,-h.y,0,-1,t),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p),f=r.add(a.x,a.y,-c.x,-c.y,0,-1,t),f>=0&&d>=0&&p>=0&&!s&&i.add(f,d,p))}f>=0&&d>=0&&m>=0&&!g&&i.add(f,d,m),f>=0&&m>=0&&y>=0&&!g&&i.add(f,y,m),this._outlineIndexCount+=3*(i.index-s)}}_processFill(n,i,s,o,a){let l;i.length>1&&(l=[]);let u=0;for(const e of i)0!==u&&l.push(u),u+=n[e].length;const c=2*u,h=e.acquire();for(const e of i){const t=n[e],r=t.length;for(let e=0;e<r;++e)h.push(t[e].x,t[e].y)}const f=t.earcut(h,l,2);if(t.earcut.deviation(h,l,2,f)>0){const e=i.map(e=>n[e].length),{buffer:t,vertexCount:o}=r.triangulate(h,e);if(o>0){const e=this._fillVertexBuffer.index;for(let e=0;e<o;e++)this._fillVertexBuffer.add(t[2*e],t[2*e+1],s);for(let t=0;t<o;t+=3){const r=e+t;this._fillIndexBuffer.add(r,r+1,r+2)}if(void 0!==a){const e=this._patternMap,t=e.get(a);t?t[1]+=o:e.set(a,[this._fillIndexStart+this._fillIndexCount,o])}this._fillIndexCount+=o}}else{const e=f.length;if(e>0){const t=this._fillVertexBuffer.index;let r=0;for(;r<c;)this._fillVertexBuffer.add(h[r++],h[r++],s);let n=0;for(;n<e;)this._fillIndexBuffer.add(t+f[n++],t+f[n++],t+f[n++]);if(void 0!==a){const t=this._patternMap,r=t.get(a);r?r[1]+=e:t.set(a,[this._fillIndexStart+this._fillIndexCount,e])}this._fillIndexCount+=e}}e.release(h)}_isClipEdge(e,t){return e.x===t.x?e.x<=-64||e.x>=4160:e.y===t.y&&(e.y<=-64||e.y>=4160)}static _area(e){let t=0;const r=e.length-1;for(let n=0;n<r;n++)t+=(e[n].x-e[n+1].x)*(e[n].y+e[n+1].y);return t+=(e[r].x-e[0].x)*(e[r].y+e[0].y),.5*t}}return s})},"esri/chunks/earcut":function(){define(["exports"],function(e){"use strict";function t(e,t,s){s=s||2;var o,a,l,c,f,d,m,y=t&&t.length,g=y?t[0]*s:e.length,_=r(e,0,g,s,!0),b=[];if(!_||_.next===_.prev)return b;if(y&&(_=function(e,t,i,s){var o,a,l,c=[];for(o=0,a=t.length;o<a;o++)(l=r(e,t[o]*s,o<a-1?t[o+1]*s:e.length,s,!1))===l.next&&(l.steiner=!0),c.push(p(l));for(c.sort(u),o=0;o<c.length;o++)i=n(i=h(c[o],i),i.next);return i}(e,t,_,s)),e.length>80*s){o=l=e[0],a=c=e[1];for(var x=s;x<g;x+=s)(f=e[x])<o&&(o=f),(d=e[x+1])<a&&(a=d),f>l&&(l=f),d>c&&(c=d);m=0!==(m=Math.max(l-o,c-a))?1/m:0}return i(_,b,s,o,a,m),b}function r(e,t,r,n,i){var s,o;if(i===O(e,t,r,n)>0)for(s=t;s<r;s+=n)o=v(s,e[s],e[s+1],o);else for(s=r-n;s>=t;s-=n)o=v(s,e[s],e[s+1],o);if(o&&_(o,o.next)){var a=o.next;P(o),o=a}return o}function n(e,t){if(!e)return e;t||(t=e);var r,n=e;do{if(r=!1,n.steiner||!_(n,n.next)&&0!==g(n.prev,n,n.next))n=n.next;else{var i=n.prev;if(P(n),(n=t=i)===n.next)break;r=!0}}while(r||n!==t);return t}function i(e,t,r,u,c,h,f){if(e){!f&&h&&function(e,t,r,n){var i=e;do{null===i.z&&(i.z=d(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,r,n,i,s,o,a,l,u=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,n=r,a=0,t=0;t<u&&(a++,n=n.nextZ);t++);for(l=u;a>0||l>0&&n;)0!==a&&(0===l||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1)}(i)}(e,u,c,h);for(var p,m,y=e;e.prev!==e.next;)if(p=e.prev,m=e.next,h?o(e,u,c,h):s(e))t.push(p.i/r),t.push(e.i/r),t.push(m.i/r),P(e),e=m.next,y=m.next;else if((e=m)===y){f?1===f?i(e=a(n(e),t,r),t,r,u,c,h,2):2===f&&l(e,t,r,u,c,h):i(n(e),t,r,u,c,h,1);break}}}function s(e){var t=e.prev,r=e,n=e.next;if(g(t,r,n)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(m(t.x,t.y,r.x,r.y,n.x,n.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function o(e,t,r,n){var i=e.prev,s=e,o=e.next;if(g(i,s,o)>=0)return!1;for(var a=i.x<s.x?i.x<o.x?i.x:o.x:s.x<o.x?s.x:o.x,l=i.y<s.y?i.y<o.y?i.y:o.y:s.y<o.y?s.y:o.y,u=i.x>s.x?i.x>o.x?i.x:o.x:s.x>o.x?s.x:o.x,c=i.y>s.y?i.y>o.y?i.y:o.y:s.y>o.y?s.y:o.y,h=d(a,l,t,r,n),f=d(u,c,t,r,n),p=e.prevZ,y=e.nextZ;p&&p.z>=h&&y&&y.z<=f;){if(p!==e.prev&&p!==e.next&&m(i.x,i.y,s.x,s.y,o.x,o.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,y!==e.prev&&y!==e.next&&m(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}for(;p&&p.z>=h;){if(p!==e.prev&&p!==e.next&&m(i.x,i.y,s.x,s.y,o.x,o.y,p.x,p.y)&&g(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;y&&y.z<=f;){if(y!==e.prev&&y!==e.next&&m(i.x,i.y,s.x,s.y,o.x,o.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.nextZ}return!0}function a(e,t,r){var i=e;do{var s=i.prev,o=i.next.next;!_(s,o)&&b(s,i,i.next,o)&&T(s,o)&&T(o,s)&&(t.push(s.i/r),t.push(i.i/r),t.push(o.i/r),P(i),P(i.next),i=e=o),i=i.next}while(i!==e);return n(i)}function l(e,t,r,s,o,a){var l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&y(l,u)){var c=S(l,u);return l=n(l,l.next),c=n(c,c.next),i(l,t,r,s,o,a),void i(c,t,r,s,o,a)}u=u.next}l=l.next}while(l!==e)}function u(e,t){return e.x-t.x}function c(e){if(e.next.prev===e)return e;let t=e;for(;;){const r=t.next;if(r.prev===t||r===t||r===e)break;t=r}return t}function h(e,t){var r=function(e,t){var r,n=t,i=e.x,s=e.y,o=-1/0;do{if(s<=n.y&&s>=n.next.y&&n.next.y!==n.y){var a=n.x+(s-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>o){if(o=a,a===i){if(s===n.y)return n;if(s===n.next.y)return n.next}r=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!r)return null;if(i===o)return r;var l,u=r,c=r.x,h=r.y,d=1/0;n=r;do{i>=n.x&&n.x>=c&&i!==n.x&&m(s<h?i:o,s,c,h,s<h?o:i,s,n.x,n.y)&&(l=Math.abs(s-n.y)/(i-n.x),T(n,e)&&(l<d||l===d&&(n.x>r.x||n.x===r.x&&f(r,n)))&&(r=n,d=l)),n=n.next}while(n!==u);return r}(e,t);if(!r)return t;var i=S(r,e),s=n(r,r.next);let o=c(i);return n(o,o.next),s=c(s),c(t===r?s:t)}function f(e,t){return g(e.prev,e,t.prev)<0&&g(t.next,e,e.next)<0}function d(e,t,r,n,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function p(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function m(e,t,r,n,i,s,o,a){return(i-o)*(t-a)-(e-o)*(s-a)>=0&&(e-o)*(n-a)-(r-o)*(t-a)>=0&&(r-o)*(s-a)-(i-o)*(n-a)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&b(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}(e,t)&&(T(e,t)&&T(t,e)&&function(e,t){var r=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next}while(r!==e);return n}(e,t)&&(g(e.prev,e,t.prev)||g(e,t.prev,t))||_(e,t)&&g(e.prev,e,e.next)>0&&g(t.prev,t,t.next)>0)}function g(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function _(e,t){return e.x===t.x&&e.y===t.y}function b(e,t,r,n){var i=w(g(e,t,r)),s=w(g(e,t,n)),o=w(g(r,n,e)),a=w(g(r,n,t));return i!==s&&o!==a||!(0!==i||!x(e,r,t))||!(0!==s||!x(e,n,t))||!(0!==o||!x(r,e,n))||!(0!==a||!x(r,t,n))}function x(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function w(e){return e>0?1:e<0?-1:0}function T(e,t){return g(e.prev,e,e.next)<0?g(e,t,e.next)>=0&&g(e,e.prev,t)>=0:g(e,t,e.prev)<0||g(e,e.next,t)<0}function S(e,t){var r=new M(e.i,e.x,e.y),n=new M(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function v(e,t,r,n){var i=new M(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function P(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function M(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(e,t,r,n){for(var i=0,s=t,o=r-n;s<r;s+=n)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}t.deviation=function(e,t,r,n){var i=t&&t.length,s=i?t[0]*r:e.length,o=Math.abs(O(e,0,s,r));if(i)for(var a=0,l=t.length;a<l;a++){var u=t[a]*r,c=a<l-1?t[a+1]*r:e.length;o-=Math.abs(O(e,u,c,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,d=n[a+1]*r,p=n[a+2]*r;h+=Math.abs((e[f]-e[p])*(e[d+1]-e[f+1])-(e[f]-e[d])*(e[p+1]-e[f+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},t.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[i][s][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r},e.earcut=t})},"esri/views/2d/engine/vectorTiles/buckets/LineBucket":function(){define(["./BaseBucket","../../webgl/TurboLine"],function(e,t){"use strict";return class extends e{constructor(e,r,n,i,s){var o;super(e,r,n),this.type=2,this._tessellationOptions={pixelCoordRatio:8,halfWidth:0,offset:0},this._patternMap=new Map,this.tessellationProperties={_lineVertexBuffer:null,_lineIndexBuffer:null,_ddValues:null},this.tessellationProperties._lineVertexBuffer=i,this.tessellationProperties._lineIndexBuffer=s,this._lineTessellator=new t.LineTessellation((o=this.tessellationProperties,(e,t,r,n,i,s,a,l,u,c,h)=>(o._lineVertexBuffer.add(e,t,a,l,r,n,i,s,u,c,h,o._ddValues),o._lineVertexBuffer.index-1)),(e=>(t,r,n)=>{e._lineIndexBuffer.add(t,r,n)})(this.tessellationProperties),e.canUseThinTessellation)}get lineIndexStart(){return this._lineIndexStart}get lineIndexCount(){return this._lineIndexCount}getResources(e,t,r){const n=this.layer,i=this.zoom,s=n.getPaintProperty("line-pattern"),o=n.getPaintProperty("line-dasharray"),a=n.getLayoutProperty("line-cap");if(!s&&!o)return;const l=a?.getValue(i)||0,u=a?.isDataDriven,c=s?.isDataDriven,h=o?.isDataDriven;if(c||h)for(const e of this._features)t(c?s.getValue(i,e):this._getDashArrayKey(e,i,n,o,u,a,l));else if(s)t(s.getValue(i));else if(o){const e=o.getValue(i);t(n.getDashKey(e,l))}}processFeatures(e){this._lineIndexStart=3*this.tessellationProperties._lineIndexBuffer.index,this._lineIndexCount=0;const t=this.layer,r=this.zoom,n=this._features,i=this._tessellationOptions,{hasDataDrivenLine:s,lineMaterial:o}=t;e&&e.setExtent(this.layerExtent);const a=t.getPaintProperty("line-pattern"),l=t.getPaintProperty("line-dasharray"),u=a?.isDataDriven,c=l?.isDataDriven;let h;h=t.getLayoutProperty("line-cap");const f=h?.isDataDriven?h:null,d=f?null:t.getLayoutValue("line-cap",r),p=d||0,m=!!f;h=t.getLayoutProperty("line-join");const y=h?.isDataDriven?h:null,g=y?null:t.getLayoutValue("line-join",r);h=t.getLayoutProperty("line-miter-limit");const _=h?.isDataDriven?h:null,b=_?null:t.getLayoutValue("line-miter-limit",r);h=t.getLayoutProperty("line-round-limit");const x=h?.isDataDriven?h:null,w=x?null:t.getLayoutValue("line-round-limit",r);h=t.getPaintProperty("line-width");const T=h?.isDataDriven?h:null,S=T?null:t.getPaintValue("line-width",r);h=t.getPaintProperty("line-offset");const v=h?.isDataDriven?h:null,P=v?null:t.getPaintValue("line-offset",r);if(u||c){const s=[];for(const i of n){const n=u?a.getValue(r,i):this._getDashArrayKey(i,r,t,l,m,f,p),c=this._spriteInfo[n];if(!c?.rect)continue;const h=o.encodeAttributes(i,r,t,c),M=i.getGeometry(e);s.push({ddAttributes:h,page:c.page,cap:f?f.getValue(r,i):d,join:y?y.getValue(r,i):g,miterLimit:_?_.getValue(r,i):b,roundLimit:x?x.getValue(r,i):w,halfWidth:.5*(T?T.getValue(r,i):S),offset:v?v.getValue(r,i):P,geometry:M})}s.sort((e,t)=>e.page-t.page),i.textured=!0;for(const{ddAttributes:e,page:t,cap:r,join:n,miterLimit:o,roundLimit:a,halfWidth:l,offset:u,geometry:c}of s)i.capType=r,i.joinType=n,i.miterLimit=o,i.roundLimit=a,i.halfWidth=l,i.offset=u,this._processFeature(c,e,t)}else{if(a){const e=a.getValue(r),t=this._spriteInfo[e];if(!t?.rect)return}i.textured=!(!a&&!l),i.capType=d,i.joinType=g,i.miterLimit=b,i.roundLimit=w,i.halfWidth=.5*S,i.offset=P;for(const a of n){const n=s?o.encodeAttributes(a,r,t):null;f&&(i.capType=f.getValue(r,a)),y&&(i.joinType=y.getValue(r,a)),_&&(i.miterLimit=_.getValue(r,a)),x&&(i.roundLimit=x.getValue(r,a)),T&&(i.halfWidth=.5*T.getValue(r,a)),v&&(i.offset=v.getValue(r,a));const l=a.getGeometry(e);this._processFeature(l,n)}}}serialize(){let e=6;e+=this.layerUIDs.length,e+=this.tessellationProperties._lineVertexBuffer.array.length,e+=this.tessellationProperties._lineIndexBuffer.array.length,e+=3*this._patternMap.size+1;const t=new Uint32Array(e),r=new Int32Array(t.buffer);let n=0;t[n++]=this.type,t[n++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[n++]=this.layerUIDs[e];t[n++]=this._lineIndexStart,t[n++]=this._lineIndexCount;const i=this._patternMap,s=i.size;if(t[n++]=s,s>0)for(const[e,[r,s]]of i)t[n++]=e,t[n++]=r,t[n++]=s;t[n++]=this.tessellationProperties._lineVertexBuffer.array.length;for(let e=0;e<this.tessellationProperties._lineVertexBuffer.array.length;e++)r[n++]=this.tessellationProperties._lineVertexBuffer.array[e];t[n++]=this.tessellationProperties._lineIndexBuffer.array.length;for(let e=0;e<this.tessellationProperties._lineIndexBuffer.array.length;e++)t[n++]=this.tessellationProperties._lineIndexBuffer.array[e];return t.buffer}_processFeature(e,t,r){if(!e)return;const n=e.length;for(let i=0;i<n;i++)this._processGeometry(e[i],t,r)}_processGeometry(e,t,r){if(e.length<2)return;let n,i,s=e[0],o=1;for(;o<e.length;)n=e[o].x-s.x,i=e[o].y-s.y,n*n+i*i<1e-6?e.splice(o,1):(s=e[o],++o);if(e.length<2)return;const a=this.tessellationProperties._lineIndexBuffer,l=3*a.index;this._tessellationOptions.initialDistance=0,this._tessellationOptions.wrapDistance=65535,this.tessellationProperties._ddValues=t,this._lineTessellator.tessellate(e,this._tessellationOptions);const u=3*a.index-l;if(void 0!==r){const e=this._patternMap,t=e.get(r);t?t[1]+=u:e.set(r,[l+this._lineIndexCount,u])}this._lineIndexCount+=u}_getDashArrayKey(e,t,r,n,i,s,o){const a=i?s.getValue(t,e):o,l=n.getValue(t,e);return r.getDashKey(l,a)}}})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["exports","./definitions"],function(e,t){"use strict";function r(e,t){return e.x===t.x&&e.y===t.y}function n(e,t){return e.x=t.y,e.y=-t.x,e}function i(e,t){return e.x=-t.y,e.y=t.x,e}function s(e,t){return e.x=t.x,e.y=t.y,e}function o(e,t){return e.x=-t.x,e.y=-t.y,e}function a(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function l(e,t){return e.x*t.y-e.y*t.x}function u(e,t){return e.x*t.x+e.y*t.y}function c(e,t,r,n){return e.x=t.x*r+t.y*n,e.y=t.x*n-t.y*r,e}e.LineTessellation=class{constructor(e,t,r){this._writeVertex=e,this._writeTriangle=t,this._canUseThinTessellation=r,this._prevNormal={x:void 0,y:void 0},this._nextNormal={x:void 0,y:void 0},this._textureNormalLeft={x:0,y:1},this._textureNormalRight={x:0,y:-1},this._textureNormal={x:void 0,y:void 0},this._joinNormal={x:void 0,y:void 0},this._inner={x:void 0,y:void 0},this._outer={x:void 0,y:void 0},this._roundStart={x:void 0,y:void 0},this._roundEnd={x:void 0,y:void 0},this._startBreak={x:void 0,y:void 0},this._endBreak={x:void 0,y:void 0},this._innerPrev={x:void 0,y:void 0},this._innerNext={x:void 0,y:void 0},this._bevelStart={x:void 0,y:void 0},this._bevelEnd={x:void 0,y:void 0},this._bevelMiddle={x:void 0,y:void 0}}tessellate(e,n,i=this._canUseThinTessellation){!function(e){if(!e)return;const t=e.length;if(t<=1)return;let n=0;for(let i=1;i<t;i++)r(e[i],e[n])||++n===i||(e[n]=e[i]);e.length=n+1}(e),i&&n.halfWidth<t.thinLineHalfWidthThreshold&&!n.offset?this._tessellateThin(e,n):this._tessellate(e,n)}_tessellateThin(e,t){if(e.length<2)return;const r=t.wrapDistance||65535;let n=t.initialDistance||0,i=!1,s=e[0].x,o=e[0].y;const a=e.length;for(let t=1;t<a;++t){i&&(i=!1,n=0);let a=e[t].x,l=e[t].y,u=a-s,c=l-o,h=Math.sqrt(u*u+c*c);if(u/=h,c/=h,n+h>r){i=!0;const e=(r-n)/h;h=r-n,a=(1-e)*s+e*a,l=(1-e)*o+e*l,--t}const f=this._writeVertex(s,o,0,0,u,c,c,-u,0,-1,n),d=this._writeVertex(s,o,0,0,u,c,-c,u,0,1,n);n+=h;const p=this._writeVertex(a,l,0,0,u,c,c,-u,0,-1,n),m=this._writeVertex(a,l,0,0,u,c,-c,u,0,1,n);this._writeTriangle(f,d,p),this._writeTriangle(d,p,m),s=a,o=l}}_tessellate(e,t){const h=e[0],f=e[e.length-1],d=r(h,f),p=d?3:2;if(e.length<p)return;const m=t.pixelCoordRatio,y=null!=t.capType?t.capType:0,g=null!=t.joinType?t.joinType:2,_=null!=t.miterLimit?Math.min(t.miterLimit,4):2,b=null!=t.roundLimit?Math.min(t.roundLimit,1.05):1.05,x=null!=t.halfWidth?t.halfWidth:2,w=!!t.textured;let T,S,v,P=null;const M=this._prevNormal,O=this._nextNormal;let k=-1,E=-1;const A=this._joinNormal;let I,D;const N=this._textureNormalLeft,R=this._textureNormalRight,C=this._textureNormal;let L=-1,U=-1;const F=t.wrapDistance||65535;let j=t.initialDistance||0;const V=this._writeVertex,B=this._writeTriangle,z=(e,t,r,n,i,s)=>{const o=V(S,v,I,D,r,n,e,t,i,s,j);return L>=0&&U>=0&&o>=0&&B(L,U,o),L=U,U=o,o};d&&(T=e[e.length-2],O.x=f.x-T.x,O.y=f.y-T.y,E=a(O),O.x/=E,O.y/=E);let G=!1;for(let t=0;t<e.length;++t){if(G&&(G=!1,j=0),T&&(M.x=-O.x,M.y=-O.y,k=E,j+k>F&&(G=!0)),G){const r=(F-j)/k;k=F-j,T={x:(1-r)*T.x+r*e[t].x,y:(1-r)*T.y+r*e[t].y},--t}else T=e[t];S=T.x,v=T.y;const r=t<=0&&!G,h=t===e.length-1;if(r||(j+=k),P=h?d?e[1]:null:e[t+1],P?(O.x=P.x-S,O.y=P.y-v,E=a(O),O.x/=E,O.y/=E):(O.x=void 0,O.y=void 0),!d){if(r){i(A,O),I=A.x,D=A.y,2===y&&(z(-O.y-O.x,O.x-O.y,O.x,O.y,0,-1),z(O.y-O.x,-O.x-O.y,O.x,O.y,0,1)),1===y&&(z(-O.y-O.x,O.x-O.y,O.x,O.y,-1,-1),z(O.y-O.x,-O.x-O.y,O.x,O.y,-1,1)),1!==y&&0!==y||(z(-O.y,O.x,O.x,O.y,0,-1),z(O.y,-O.x,O.x,O.y,0,1));continue}if(h){n(A,M),I=A.x,D=A.y,1!==y&&0!==y||(z(M.y,-M.x,-M.x,-M.y,0,-1),z(-M.y,M.x,-M.x,-M.y,0,1)),2===y&&(z(M.y-M.x,-M.x-M.y,-M.x,-M.y,0,-1),z(-M.y-M.x,M.x-M.y,-M.x,-M.y,0,1)),1===y&&(z(M.y-M.x,-M.x-M.y,-M.x,-M.y,1,-1),z(-M.y-M.x,M.x-M.y,-M.x,-M.y,1,1));continue}}let f,p,V=-l(M,O);if(Math.abs(V)<.01)u(M,O)>0?(A.x=M.x,A.y=M.y,V=1,f=Number.MAX_VALUE,p=!0):(i(A,O),V=1,f=1,p=!1);else{A.x=(M.x+O.x)/V,A.y=(M.y+O.y)/V,f=a(A);const e=(f-1)*x*m;p=f>4||e>k&&e>E}I=A.x,D=A.y;let B=g;switch(g){case 0:f<1.05&&(B=2);break;case 1:f<b&&(B=2);break;case 2:f>_&&(B=0)}switch(B){case 2:if(z(A.x,A.y,-M.x,-M.y,0,-1),z(-A.x,-A.y,-M.x,-M.y,0,1),h)break;if(w){const e=G?0:j;L=this._writeVertex(S,v,I,D,O.x,O.y,A.x,A.y,0,-1,e),U=this._writeVertex(S,v,I,D,O.x,O.y,-A.x,-A.y,0,1,e)}break;case 0:{const e=V<0;let t,r,a,l;if(e){const e=L;L=U,U=e,t=N,r=R}else t=R,r=N;if(p)a=e?i(this._innerPrev,M):n(this._innerPrev,M),l=e?n(this._innerNext,O):i(this._innerNext,O);else{const t=e?o(this._inner,A):s(this._inner,A);a=t,l=t}const u=e?n(this._bevelStart,M):i(this._bevelStart,M);z(a.x,a.y,-M.x,-M.y,t.x,t.y);const f=z(u.x,u.y,-M.x,-M.y,r.x,r.y);if(h)break;const d=e?i(this._bevelEnd,O):n(this._bevelEnd,O);if(p){const e=this._writeVertex(S,v,I,D,-M.x,-M.y,0,0,0,0,j);L=this._writeVertex(S,v,I,D,O.x,O.y,l.x,l.y,t.x,t.y,j),U=this._writeVertex(S,v,I,D,O.x,O.y,d.x,d.y,r.x,r.y,j),this._writeTriangle(f,e,U)}else{if(w){const e=this._bevelMiddle;e.x=(u.x+d.x)/2,e.y=(u.y+d.y)/2,c(C,e,-M.x,-M.y),z(e.x,e.y,-M.x,-M.y,C.x,C.y),c(C,e,O.x,O.y),L=this._writeVertex(S,v,I,D,O.x,O.y,e.x,e.y,C.x,C.y,j),U=this._writeVertex(S,v,I,D,O.x,O.y,l.x,l.y,t.x,t.y,j)}else{const e=L;L=U,U=e}z(d.x,d.y,O.x,O.y,r.x,r.y)}if(e){const e=L;L=U,U=e}break}case 1:{const e=V<0;let t,r;if(e){const e=L;L=U,U=e,t=N,r=R}else t=R,r=N;const a=e?o(this._inner,A):s(this._inner,A);let l,d;p?(l=e?i(this._innerPrev,M):n(this._innerPrev,M),d=e?n(this._innerNext,O):i(this._innerNext,O)):(l=a,d=a);const m=e?n(this._roundStart,M):i(this._roundStart,M),y=e?i(this._roundEnd,O):n(this._roundEnd,O),g=z(l.x,l.y,-M.x,-M.y,t.x,t.y),_=z(m.x,m.y,-M.x,-M.y,r.x,r.y);if(h)break;const b=this._writeVertex(S,v,I,D,-M.x,-M.y,0,0,0,0,j);p||this._writeTriangle(L,U,b);const x=o(this._outer,a),T=this._writeVertex(S,v,I,D,O.x,O.y,y.x,y.y,r.x,r.y,j);let P,k;const E=f>2;if(E){let t;f!==Number.MAX_VALUE?(x.x/=f,x.y/=f,t=u(M,x),t=(f*(t*t-1)+1)/t):t=-1,P=e?n(this._startBreak,M):i(this._startBreak,M),P.x+=M.x*t,P.y+=M.y*t,k=e?i(this._endBreak,O):n(this._endBreak,O),k.x+=O.x*t,k.y+=O.y*t}c(C,x,-M.x,-M.y);const F=this._writeVertex(S,v,I,D,-M.x,-M.y,x.x,x.y,C.x,C.y,j);c(C,x,O.x,O.y);const B=w?this._writeVertex(S,v,I,D,O.x,O.y,x.x,x.y,C.x,C.y,j):F,G=b,q=w?this._writeVertex(S,v,I,D,O.x,O.y,0,0,0,0,j):b;let W=-1,$=-1;if(E&&(c(C,P,-M.x,-M.y),W=this._writeVertex(S,v,I,D,-M.x,-M.y,P.x,P.y,C.x,C.y,j),c(C,k,O.x,O.y),$=this._writeVertex(S,v,I,D,O.x,O.y,k.x,k.y,C.x,C.y,j)),w?E?(this._writeTriangle(G,_,W),this._writeTriangle(G,W,F),this._writeTriangle(q,B,$),this._writeTriangle(q,$,T)):(this._writeTriangle(G,_,F),this._writeTriangle(q,B,T)):E?(this._writeTriangle(b,_,W),this._writeTriangle(b,W,$),this._writeTriangle(b,$,T)):(this._writeTriangle(b,_,F),this._writeTriangle(b,B,T)),p?(L=this._writeVertex(S,v,I,D,O.x,O.y,d.x,d.y,t.x,t.y,j),U=T):(L=w?this._writeVertex(S,v,I,D,O.x,O.y,d.x,d.y,t.x,t.y,j):g,this._writeTriangle(L,q,T),U=T),e){const e=L;L=U,U=e}break}}}}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(e){"use strict";e.MAX_TILE_RESHUFFLES_PER_FRAME=1,e.RESHUFFLING_EXEMPT_DRAW_CALLS=10,e.RESHUFFLING_EXEMPT_MEMORY_BYTES=1<<20,e.RESHUFFLING_TARGET_DRAW_EFFICIENCY=.75,e.RESHUFFLING_TARGET_MEMORY_EFFICIENCY=.75,e.angleFactor256=256/360,e.animationUnit=2,e.attributeStoreInitialSize=256,e.attributeStoreTextureSize=1024,e.averageGlyphMosaicItem={metrics:{width:15,height:17,left:0,top:-7,advance:14}},e.backbufferStencilClipped=1,e.backbufferStencilVisible=0,e.bitsetFillHasPatternHeightPrecisionFactor=32,e.bitsetFillHasPatternWidthPrecisionFactor=64,e.bitsetFillHasUnresolvedReplacementColor=8,e.bitsetFillRandomPatternOffset=4,e.bitsetGenericConsiderAlphaOnly=16,e.bitsetGenericLockColor=2,e.bitsetLineScaleDash=4,e.bitsetMarkerAlignmentMap=1,e.bitsetMarkerAlignmentScreen=0,e.bitsetMarkerOutlineAllowColorOverride=4,e.bitsetMarkerScaleSymbolsProportionally=8,e.bitsetTypeFillOutline=1,e.bufferDataMinimumSize=128,e.bufferDataPoolSize=4,e.chartMaxFields=10,e.collisionBoxPadding=16,e.collisionBucketSize=128,e.collisionEarlyRejectBucketSize=16,e.collisionMaxZoomDelta=1,e.collisionPlacementPadding=8,e.collisionTileBoxSize=4,e.compressionFactorForU16=128,e.dataDrivenUnit0=4,e.dataDrivenUnit1=5,e.dataDrivenUnit2=6,e.debugLabels=!1,e.defaultSdfTextureSize=128,e.displayRecordIntPerElement=8,e.dotDensityMaxFields=8,e.effectFlag0=128,e.enableEarlyLabelDiscard=!1,e.extrudeScale=64,e.filterFlag0=64,e.filterFlagsUnit=1,e.glyphSize=24,e.gpgpuUnit=12,e.gradientTextureExternalPadding=1,e.heuristicGlyphsPerFeature=10,e.heuristicGlyphsPerLine=50,e.hittestSmallSymbolThreshold=3,e.hittestToleranceDesktop=1,e.hittestToleranceMobile=3,e.hittestToleranceSmallSymbol=3,e.labelPlacementOffsetPadding=4,e.localTimeOriginUnit=13,e.magicLabelLineHeight=29,e.maxGeohashLevel=12,e.maxGpuUploadsPerFrame=2,e.maxHighlightReasons=6,e.maxRepresentableInt=16777216,e.maxTextLineWidth=512,e.minMaxZoomPrecisionFactor=10,e.minTextLineWidth=32,e.nanMagicNumber=1e-30,e.patchPixelBufferAllocSize=500,e.patternFillRasterizationScale=2,e.pictureFillColor=4294967295,e.randomInsidePolygonTextureSize=1024,e.rasterTileSize=256,e.rasterizedVectorMarkerMinSize=128,e.spritePadding=4,e.svgSdfTextureInnerSize=248,e.svgSdfTextureSize=256,e.textureBindingBitmap=0,e.textureBindingGlyphAtlas=0,e.textureBindingHighlight0=5,e.textureBindingHighlight1=6,e.textureBindingRenderer0=5,e.textureBindingRenderer1=6,e.textureBindingSpriteAtlas=0,e.textureUploadManagerBudget=4,e.textureUploadManagerChunkSize=128,e.thinLineHalfWidthThreshold=1.05,e.tileSize=512,e.visualVariableUnit=3,e.vtlHighResCutoff=1.15,e.vtlTextureBindingUnitGlyphs=6,e.vtlTextureBindingUnitSprites=5,e.webglMaxInnerStops=6,e.webglMaxStops=8,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/buckets/SymbolBucket":function(){define(["../../../../../core/BidiEngine","../../../../../core/maybe","../../../../../core/string","../../../../../geometry/support/TileClipper","../constants","../GeometryUtils","../Placement","../TextShaping","./BaseBucket","../style/StyleLayer"],function(e,t,r,n,i,s,o,a,l,u){"use strict";function c(e,t){return e.iconMosaicItem&&t.iconMosaicItem?e.iconMosaicItem.page===t.iconMosaicItem.page?0:e.iconMosaicItem.page-t.iconMosaicItem.page:e.iconMosaicItem&&!t.iconMosaicItem?1:!e.iconMosaicItem&&t.iconMosaicItem?-1:0}class h extends l{constructor(e,t,r,n,i,s,o,a,l){super(t,r,l.getSpriteItems()),this.type=3,this._markerMap=new Map,this._glyphMap=new Map,this._glyphBufferDataStorage=new Map,this._isIconSDF=!1,this._sourceTileKey=e,this._iconVertexBuffer=n,this._iconIndexBuffer=i,this._textVertexBuffer=s,this._textIndexBuffer=o,this._placementEngine=a,this._workerTileHandler=l}get markerPageMap(){return this._markerMap}get glyphsPageMap(){return this._glyphMap}get symbolInstances(){return this._symbolInstances}static{this._bidiEngine=new e}getResources(e,t,n){const i=this.layer,s=this.zoom;e&&e.setExtent(this.layerExtent);const o=i.getLayoutProperty("icon-image"),a=i.getLayoutProperty("text-field");let l=i.getLayoutProperty("text-transform"),u=i.getLayoutProperty("text-font");const c=[];let f,d,p,m;o&&!o.isDataDriven&&(f=o.getValue(s)),a&&!a.isDataDriven&&(d=a.getValue(s)),l&&l.isDataDriven||(p=i.getLayoutValue("text-transform",s),l=null),u&&u.isDataDriven||(m=i.getLayoutValue("text-font",s),u=null);for(const y of this._features){const g=y.getGeometry(e);if(!g||0===g.length)continue;let _,b;o&&(_=o.isDataDriven?o.getValue(s,y):this._replaceKeys(f,y.values),_&&t(_));let x=!1;if(a&&(b=a.isDataDriven?a.getValue(s,y):this._replaceKeys(d,y.values),b)){switch(b=b.replaceAll("\\n","\n"),l&&(p=l.getValue(s,y)),p){case 2:b=b.toLowerCase();break;case 1:b=b.toUpperCase()}if(h._bidiEngine.hasBidiChar(b)){let e;e="rtl"===h._bidiEngine.checkContextual(b)?"IDNNN":"ICNNN",b=h._bidiEngine.bidiTransform(b,e,"VLYSN"),x=!0}if(b.length>0){u&&(m=u.getValue(s,y));for(const e of m){let t=n[e];t||(t=n[e]=new Set);for(const e of b){const r=e.codePointAt(0);null!=r&&t.add(r)}}}}if(!_&&!b)continue;const w=i.getLayoutValue("symbol-sort-key",s,y),T={feature:y,sprite:_,label:b,rtl:x,geometry:g,hash:(b?r.numericHash(b):0)^(_?r.numericHash(_):0),priority:w,textFont:m};c.push(T)}this._symbolFeatures=c}processFeatures(e){e&&e.setExtent(this.layerExtent);const r=this.layer,n=this.zoom,l=r.getLayoutValue("symbol-placement",n),f=0!==l,d=r.getLayoutValue("symbol-spacing",n)*i.tilePixelRatio,p=r.getLayoutProperty("icon-image"),m=r.getLayoutProperty("text-field"),y=p?new u.IconLayout(r,n,f):null,g=m?new u.TextLayout(r,n,f):null,_=this._workerTileHandler;let b;p&&(b=_.getSpriteItems()),this._iconIndexStart=3*this._iconIndexBuffer.index,this._textIndexStart=3*this._textIndexBuffer.index,this._iconIndexCount=0,this._textIndexCount=0,this._markerMap.clear(),this._glyphMap.clear();const x=[];let w=1;g?.size&&(w=g.size/a.sdfGlyphSize);const T=g?g.maxAngle*s.cDegToRad:0,S=g?g.size*i.tilePixelRatio:0;for(const e of this._symbolFeatures){let r,s;y&&b&&e.sprite&&(r=b[e.sprite],r&&r.sdf&&(this._isIconSDF=!0)),r&&y.update(n,e.feature);let u=0;const c=e.label;if(c){t.assertIsSome(g),g.update(n,e.feature);const r=f&&0===g.rotationAlignment?g.keepUpright:g.writingMode&&g.writingMode.includes(1);let o=.5;switch(g.anchor){case 5:case 1:case 7:o=0;break;case 6:case 2:case 8:o=1}let l=.5;switch(g.anchor){case 5:case 3:case 6:l=0;break;case 7:case 4:case 8:l=1}let h=.5;switch(g.justify){case 0:h=o;break;case 1:h=0;break;case 3:h=1}const d=g.letterSpacing*a.sdfGlyphSize,p=f?0:g.maxWidth*a.sdfGlyphSize,m=g.lineHeight*a.sdfGlyphSize,y=e.textFont.map(e=>_.getGlyphItems(e));if(s=new a.TextShaping(y,p,m,d,o,l,h).getShaping(c,e.rtl,r),s&&s.length>0){let e=1e30,t=-1e30;for(const r of s)e=Math.min(e,r.x),t=Math.max(t,r.x);u=(t-e+2*a.sdfGlyphSize)*w*i.tilePixelRatio}}for(let t of e.geometry){const n=[];if(1===l){if(s?.length&&g?.size){const e=g.size*i.tilePixelRatio*(2+Math.min(2,4*Math.abs(g.offset[1])));t=h._smoothVertices(t,e)}h._pushAnchors(n,t,d,u)}else 2===l?h._pushCenterAnchor(n,t):3===e.feature.type?h._pushCentroid(n,t):n.push(new o.Anchor(t[0].x,t[0].y));for(const o of n){if(o.x<0||o.x>i.tileCoordSize||o.y<0||o.y>i.tileCoordSize)continue;if(f&&u>0&&0===g?.rotationAlignment&&!h._honorsTextMaxAngle(t,o,u,T,S))continue;const n={shaping:s,line:t,iconMosaicItem:r,anchor:o,symbolFeature:e,textColliders:[],iconColliders:[],textVertexRanges:[],iconVertexRanges:[]};x.push(n),this._processFeature(n,y,g)}}}x.sort(c),this._addPlacedGlyphs(),this._symbolInstances=x}serialize(){let e=14;e+=this.layerUIDs.length,e+=3*this.markerPageMap.size,e+=3*this.glyphsPageMap.size,e+=h._symbolsSerializationLength(this._symbolInstances),e+=this._iconVertexBuffer.array.length,e+=this._iconIndexBuffer.array.length,e+=this._textVertexBuffer.array.length,e+=this._textIndexBuffer.array.length;const t=new Uint32Array(e),r=new Int32Array(t.buffer),n=new Float32Array(t.buffer),[i,s,o]=this._sourceTileKey.split("/");let a=0;t[a++]=this.type,t[a++]=this.layerUIDs.length;for(let e=0;e<this.layerUIDs.length;e++)t[a++]=this.layerUIDs[e];t[a++]=this._isIconSDF?1:0,t[a++]=parseFloat(i),t[a++]=parseFloat(s),t[a++]=parseFloat(o),t[a++]=this.markerPageMap.size;for(const[e,[r,n]]of this.markerPageMap)t[a++]=e,t[a++]=r,t[a++]=n;t[a++]=this.glyphsPageMap.size;for(const[e,[r,n]]of this.glyphsPageMap)t[a++]=e,t[a++]=r,t[a++]=n;t[a++]=this._iconVertexBuffer.index/4,t[a++]=this._textVertexBuffer.index/4,a=h.serializeSymbols(t,r,n,a,this._symbolInstances),t[a++]=this._iconVertexBuffer.array.length;for(let e=0;e<this._iconVertexBuffer.array.length;e++)r[a++]=this._iconVertexBuffer.array[e];t[a++]=this._iconIndexBuffer.array.length;for(let e=0;e<this._iconIndexBuffer.array.length;e++)t[a++]=this._iconIndexBuffer.array[e];t[a++]=this._textVertexBuffer.array.length;for(let e=0;e<this._textVertexBuffer.array.length;e++)r[a++]=this._textVertexBuffer.array[e];t[a++]=this._textIndexBuffer.array.length;for(let e=0;e<this._textIndexBuffer.array.length;e++)t[a++]=this._textIndexBuffer.array[e];return t.buffer}static _symbolsSerializationLength(e){let t=0;t+=1;for(const r of e||[]){t+=5,t+=1;for(const e of r.textColliders)t+=10;for(const e of r.iconColliders)t+=10;t+=1,t+=2*r.textVertexRanges.length,t+=1,t+=2*r.iconVertexRanges.length}return t}static serializeSymbols(e,t,r,n,i){i=i||[],t[n++]=i.length;for(const e of i){t[n++]=e.anchor.x,t[n++]=e.anchor.y,t[n++]=e.symbolFeature.hash,t[n++]=e.symbolFeature.priority,t[n++]=e.symbolFeature.feature.featureIndex,t[n++]=e.textColliders.length+e.iconColliders.length;for(const i of e.textColliders)t[n++]=i.xTile,t[n++]=i.yTile,t[n++]=i.dxPixels,t[n++]=i.dyPixels,t[n++]=i.hard?1:0,t[n++]=i.partIndex,r[n++]=i.minLod,r[n++]=i.maxLod,t[n++]=i.width,t[n++]=i.height;for(const i of e.iconColliders)t[n++]=i.xTile,t[n++]=i.yTile,t[n++]=i.dxPixels,t[n++]=i.dyPixels,t[n++]=i.hard?1:0,t[n++]=i.partIndex,r[n++]=i.minLod,r[n++]=i.maxLod,t[n++]=i.width,t[n++]=i.height;t[n++]=e.textVertexRanges.length;for(const[r,i]of e.textVertexRanges)t[n++]=r,t[n++]=i;t[n++]=e.iconVertexRanges.length;for(const[r,i]of e.iconVertexRanges)t[n++]=r,t[n++]=i}return n}_replaceKeys(e,t){return e.replaceAll(/{([^{}]+)}/g,(e,r)=>r in t?t[r]:"")}_processFeature(e,t,r){const{line:n,iconMosaicItem:i,shaping:o,anchor:a}=e,l=this.zoom,u=this.layer,c=!!i;let h=!0;c&&(h=t?.optional||!i);const f=o&&o.length>0,d=!f||r?.optional;let p,m;if(c&&(p=this._placementEngine.getIconPlacement(a,i,t)),(p||h)&&(f&&(m=this._placementEngine.getTextPlacement(a,o,n,r)),m||d)){if(p&&m||(d||h?d||m?h||p||(m=null):p=null:(p=null,m=null)),m){const t=u.hasDataDrivenText?u.textMaterial.encodeAttributes(e.symbolFeature.feature,l,u):null;if(this._storePlacedGlyphs(e,m.shapes,l,r.rotationAlignment,t),m.textColliders){e.textColliders=m.textColliders;for(const e of m.textColliders){e.minLod=Math.max(l+s.log2(e.minLod),0),e.maxLod=Math.min(l+s.log2(e.maxLod),25);const t=e.angle;if(t){const r=Math.cos(t),n=Math.sin(t),i=e.dxPixels*r-e.dyPixels*n,s=e.dxPixels*n+e.dyPixels*r,o=(e.dxPixels+e.width)*r-e.dyPixels*n,a=(e.dxPixels+e.width)*n+e.dyPixels*r,l=e.dxPixels*r-(e.dyPixels+e.height)*n,u=e.dxPixels*n+(e.dyPixels+e.height)*r,c=(e.dxPixels+e.width)*r-(e.dyPixels+e.height)*n,h=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*r,f=Math.min(i,o,l,c),d=Math.max(i,o,l,c),p=Math.min(s,a,u,h),m=Math.max(s,a,u,h);e.dxPixels=f,e.dyPixels=p,e.width=d-f,e.height=m-p}}}}if(p){const r=u.hasDataDrivenIcon?u.iconMaterial.encodeAttributes(e.symbolFeature.feature,l,u):null;if(this._addPlacedIcons(e,p.shapes,l,i.page,1===t.rotationAlignment,r),p.iconColliders){e.iconColliders=p.iconColliders;for(const e of p.iconColliders){e.minLod=Math.max(l+s.log2(e.minLod),0),e.maxLod=Math.min(l+s.log2(e.maxLod),25);const t=e.angle;if(t){const r=Math.cos(t),n=Math.sin(t),i=e.dxPixels*r-e.dyPixels*n,s=e.dxPixels*n+e.dyPixels*r,o=(e.dxPixels+e.width)*r-e.dyPixels*n,a=(e.dxPixels+e.width)*n+e.dyPixels*r,l=e.dxPixels*r-(e.dyPixels+e.height)*n,u=e.dxPixels*n+(e.dyPixels+e.height)*r,c=(e.dxPixels+e.width)*r-(e.dyPixels+e.height)*n,h=(e.dxPixels+e.width)*n+(e.dyPixels+e.height)*r,f=Math.min(i,o,l,c),d=Math.max(i,o,l,c),p=Math.min(s,a,u,h),m=Math.max(s,a,u,h);e.dxPixels=f,e.dyPixels=p,e.width=d-f,e.height=m-p}}}}}}_addPlacedIcons(e,t,r,n,i,o){const a=Math.max(r-1,0),l=this._iconVertexBuffer,u=this._iconIndexBuffer,c=this._markerMap;for(const h of t){const t=i?0:Math.max(r+s.log2(h.minzoom),a),f=i?25:Math.min(r+s.log2(h.maxzoom),25);if(f<=t)continue;const d=h.tl,p=h.tr,m=h.bl,y=h.br,g=h.mosaicRect,_=h.labelAngle,b=h.minAngle,x=h.maxAngle,w=h.anchor,T=l.index,S=g.x,v=g.y,P=S+g.width,M=v+g.height,O=l.index;l.add(w.x,w.y,d.x,d.y,S,v,_,b,x,t,f,o),l.add(w.x,w.y,p.x,p.y,P,v,_,b,x,t,f,o),l.add(w.x,w.y,m.x,m.y,S,M,_,b,x,t,f,o),l.add(w.x,w.y,y.x,y.y,P,M,_,b,x,t,f,o),e.iconVertexRanges.length>0&&e.iconVertexRanges[0][0]+e.iconVertexRanges[0][1]===O?e.iconVertexRanges[0][1]+=4:e.iconVertexRanges.push([O,4]),u.add(T,T+1,T+2),u.add(T+1,T+2,T+3),c.has(n)?c.get(n)[1]+=6:c.set(n,[this._iconIndexStart+this._iconIndexCount,6]),this._iconIndexCount+=6}}_addPlacedGlyphs(){const e=this._textVertexBuffer,t=this._textIndexBuffer,r=this._glyphMap;for(const[n,i]of this._glyphBufferDataStorage)for(const s of i){const i=e.index,o=s.symbolInstance,a=s.ddAttributes,l=e.index;e.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tl[0],s.tl[1],s.xmin,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,a),e.add(s.glyphAnchor[0],s.glyphAnchor[1],s.tr[0],s.tr[1],s.xmax,s.ymin,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,a),e.add(s.glyphAnchor[0],s.glyphAnchor[1],s.bl[0],s.bl[1],s.xmin,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,a),e.add(s.glyphAnchor[0],s.glyphAnchor[1],s.br[0],s.br[1],s.xmax,s.ymax,s.labelAngle,s.minAngle,s.maxAngle,s.minLod,s.maxLod,a),o.textVertexRanges.length>0&&o.textVertexRanges[0][0]+o.textVertexRanges[0][1]===l?o.textVertexRanges[0][1]+=4:o.textVertexRanges.push([l,4]),t.add(i,i+1,i+2),t.add(i+1,i+2,i+3),r.has(n)?r.get(n)[1]+=6:r.set(n,[this._textIndexStart+this._textIndexCount,6]),this._textIndexCount+=6}this._glyphBufferDataStorage.clear()}_storePlacedGlyphs(e,t,r,n,i){const o=Math.max(r-1,0),a=1===n;let l,u,c,h,f,d,p,m,y,g,_;for(const n of t)l=a?0:Math.max(r+s.log2(n.minzoom),o),u=a?25:Math.min(r+s.log2(n.maxzoom),25),u<=l||(c=n.tl,h=n.tr,f=n.bl,d=n.br,p=n.labelAngle,m=n.minAngle,y=n.maxAngle,g=n.anchor,_=n.mosaicRect,this._glyphBufferDataStorage.has(n.page)||this._glyphBufferDataStorage.set(n.page,[]),this._glyphBufferDataStorage.get(n.page).push({glyphAnchor:[g.x,g.y],tl:[c.x,c.y],tr:[h.x,h.y],bl:[f.x,f.y],br:[d.x,d.y],xmin:_.x,ymin:_.y,xmax:_.x+_.width,ymax:_.y+_.height,labelAngle:p,minAngle:m,maxAngle:y,minLod:l,maxLod:u,placementLod:o,symbolInstance:e,ddAttributes:i}))}static _pushAnchors(e,t,r,i){r+=i;let a=0;const l=t.length-1;for(let e=0;e<l;e++)a+=n.Point.distance(t[e],t[e+1]);let u=i||r;if(u*=.5,a<=u)return;const c=u/a;let h=0,f=-(r=a/Math.max(Math.round(a/r),1))/2;const d=t.length-1;for(let n=0;n<d;n++){const i=t[n],a=t[n+1],l=a.x-i.x,u=a.y-i.y,d=Math.sqrt(l*l+u*u);let p;for(;f+r<h+d;){f+=r;const t=(f-h)/d,m=s.interpolate(i.x,a.x,t),y=s.interpolate(i.y,a.y,t);void 0===p&&(p=Math.atan2(u,l)),e.push(new o.Anchor(m,y,p,n,c))}h+=d}}static _pushCenterAnchor(e,t){let r=0;const i=t.length-1;for(let e=0;e<i;e++)r+=n.Point.distance(t[e],t[e+1]);const a=r/2;let l=0;const u=t.length-1;for(let r=0;r<u;r++){const n=t[r],i=t[r+1],u=i.x-n.x,c=i.y-n.y,h=Math.sqrt(u*u+c*c);if(a<l+h){const t=(a-l)/h,f=s.interpolate(n.x,i.x,t),d=s.interpolate(n.y,i.y,t),p=Math.atan2(c,u);return void e.push(new o.Anchor(f,d,p,r,0))}l+=h}}static _deviation(e,t,r){const n=(t.x-e.x)*(r.x-t.x)+(t.y-e.y)*(r.y-t.y),i=(t.x-e.x)*(r.y-t.y)-(t.y-e.y)*(r.x-t.x);return Math.atan2(i,n)}static _honorsTextMaxAngle(e,t,r,i,s){let o=0;const a=r/2;let l=new n.Point(t.x,t.y),u=t.segment+1;for(;o>-a;){if(--u,u<0)return!1;o-=n.Point.distance(e[u],l),l=e[u]}o+=n.Point.distance(e[u],e[u+1]);const c=[];let h=0;const f=e.length;for(;o<a;){const t=e[u];let r,a=u;do{if(++a,a===f)return!1;r=e[a]}while(r.isEqual(t));let l,d=a;do{if(++d,d===f)return!1;l=e[d]}while(l.isEqual(r));const p=this._deviation(t,r,l);for(c.push({deviation:p,distToAnchor:o}),h+=p;o-c[0].distToAnchor>s;)h-=c.shift().deviation;if(Math.abs(h)>i)return!1;o+=n.Point.distance(r,l),u=a}return!0}static _smoothVertices(e,t){if(t<=0)return e;let r=e.length;if(r<3)return e;const i=[];let s=0,o=0;i.push(0);for(let t=1;t<r;t++){const r=n.Point.distance(e[t],e[t-1]);r>0&&(s+=r,i.push(s),o++,o!==t&&(e[o]=e[t]))}if(r=o+1,r<3)return e;t=Math.min(t,.2*s);const a=e[0].x,l=e[0].y,u=e[r-1].x,c=e[r-1].y,h=n.Point.sub(e[0],e[1]);h.normalize(),e[0].x+=t*h.x,e[0].y+=t*h.y,h.assignSub(e[r-1],e[r-2]),h.normalize(),e[r-1].x+=t*h.x,e[r-1].y+=t*h.y,i[0]-=t,i[r-1]+=t;const f=[];f.push(new n.Point(a,l));const d=1e-6,p=.5*t;for(let s=1;s<r-1;s++){let o=0,a=0,l=0;for(let r=s-1;r>=0;r--){const n=p+i[r+1]-i[s];if(n<0)break;const u=i[r+1]-i[r],c=i[s]-i[r]<p?1:n/u;if(c<d)break;const h=c*c,f=c*n-.5*h*u,m=c*u/t,y=e[r+1],g=e[r].x-y.x,_=e[r].y-y.y;o+=m/f*(y.x*c*n+.5*h*(n*g-u*y.x)-h*c*u*g/3),a+=m/f*(y.y*c*n+.5*h*(n*_-u*y.y)-h*c*u*_/3),l+=m}for(let n=s+1;n<r;n++){const r=p-i[n-1]+i[s];if(r<0)break;const u=i[n]-i[n-1],c=i[n]-i[s]<p?1:r/u;if(c<d)break;const h=c*c,f=c*r-.5*h*u,m=c*u/t,y=e[n-1],g=e[n].x-y.x,_=e[n].y-y.y;o+=m/f*(y.x*c*r+.5*h*(r*g-u*y.x)-h*c*u*g/3),a+=m/f*(y.y*c*r+.5*h*(r*_-u*y.y)-h*c*u*_/3),l+=m}f.push(new n.Point(o/l,a/l))}return f.push(new n.Point(u,c)),e[0].x=a,e[0].y=l,e[r-1].x=u,e[r-1].y=c,f}static _pushCentroid(e,t){const r=i.tileCoordSize,n=i.tileCoordSize,s=t.length-1;let a=0,l=0,u=0,c=t[0].x,h=t[0].y;c>r&&(c=r),c<0&&(c=0),h>n&&(h=n),h<0&&(h=0);for(let e=1;e<s;e++){let i=t[e].x,s=t[e].y,o=t[e+1].x,f=t[e+1].y;i>r&&(i=r),i<0&&(i=0),s>n&&(s=n),s<0&&(s=0),o>r&&(o=r),o<0&&(o=0),f>n&&(f=n),f<0&&(f=0);const d=(i-c)*(f-h)-(o-c)*(s-h);a+=d*(c+i+o),l+=d*(h+s+f),u+=d}a/=3*u,l/=3*u,isNaN(a)||isNaN(l)||e.push(new o.Anchor(a,l))}}return h})},"esri/core/BidiEngine":function(){define(["./bidiEngineTables"],function(e){"use strict";function t(e,i,s,a,l){const u=function(e,t,n){if(void 0===t.inFormat&&(t.inFormat=n.defInFormat),void 0===t.outFormat&&(t.outFormat=n.defOutFormat),void 0===t.swap&&(t.swap=n.defSwap),t.inFormat===t.outFormat)return t;const i=t.inFormat.slice(0,1),s=t.outFormat.slice(0,1);let o,a=t.inFormat.slice(1,4),l=t.outFormat.slice(1,4);return a.startsWith("C")&&(o=r(e),a="ltr"===o||"rtl"===o?o.toUpperCase():"L"===t.inFormat.charAt(2)?"LTR":"RTL",t.inFormat=i+a),l.startsWith("C")&&(o=r(e),"rtl"===o?l="RTL":"ltr"===o?(o=function(e){const t=e.split("");return t.reverse(),r(t.join(""))}(e),l=o.toUpperCase()):l="L"===t.outFormat.charAt(2)?"LTR":"RTL",t.outFormat=s+l),t}(e,{inFormat:i,outFormat:s,swap:a},l);if(u.inFormat===u.outFormat)return e;i=u.inFormat,s=u.outFormat,a=u.swap;const c=i.slice(0,1),h=i.slice(1,4),f=s.slice(0,1),d=s.slice(1,4);if(l.inFormat=i,l.outFormat=s,l.swap=a,"L"===c&&"VLTR"===s){if("LTR"===h)return l.dir=k,n(e,l);if("RTL"===h)return l.dir=E,n(e,l)}if("V"===c&&"V"===f)return l.dir="RTL"===h?E:k,o(e,l);if("L"===c&&"VRTL"===s)return"LTR"===h?(l.dir=k,e=n(e,l)):(l.dir=E,e=n(e,l)),o(e);if("VLTR"===i&&"LLTR"===s)return l.dir=k,n(e,l);if("V"===c&&"L"===f&&h!==d)return e=o(e),"RTL"===h?t(e,"LLTR","VLTR",a,l):t(e,"LRTL","VRTL",a,l);if("VRTL"===i&&"LRTL"===s)return t(e,"LRTL","VRTL",a,l);if("L"===c&&"L"===f){const r=l.swap;return l.swap=r.slice(0,1)+"N","RTL"===h?(l.dir=E,e=n(e,l),l.swap="N"+r.slice(1,3),l.dir=k,e=n(e,l)):(l.dir=k,e=n(e,l),l.swap="N"+r.slice(1,3),e=t(e,"VLTR","LRTL",l.swap,l)),e}return e}function r(e){const t=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(e);return t?t[0]<="z"?"ltr":"rtl":""}function n(e,t){const r=e.split(""),n=[];return i(r,n,t),function(e,t,r){if(0!==r.hiLevel&&r.swap[0]!==r.swap[1])for(let r=0;r<e.length;r++)1===t[r]&&(e[r]=d(e[r]))}(r,n,t),h(2,r,n,t),h(1,r,n,t),v=n,r.join("")}function i(t,r,n){const i=t.length,o=n.dir?e.impTabRtl:e.impTabLtr;let a=0,l=-1;const u=[],c=[];n.hiLevel=n.dir,n.lastArabic=!1,n.hasUbatAl=!1,n.hasUbatB=!1,n.hasUbatS=!1;for(let e=0;e<i;e++)u[e]=s(t[e]);for(let s=0;s<i;s++){const i=a,h=f(t,u,c,s,n);c[s]=h,a=o[i][h];const d=240&a;a&=15;const p=o[a][M];if(r[s]=p,d>0)if(16===d){for(let e=l;e<s;e++)r[e]=1;l=-1}else l=-1;if(o[a][O])-1===l&&(l=s);else if(l>-1){for(let e=l;e<s;e++)r[e]=p;l=-1}u[s]===e.ubatB&&(r[s]=0),n.hiLevel|=p}n.hasUbatS&&function(t,r,n,i){for(let s=0;s<n;s++)if(t[s]===e.ubatS){r[s]=i.dir;for(let n=s-1;n>=0&&t[n]===e.ubatWs;n--)r[n]=i.dir}}(u,r,i,n)}function s(t){const r=t.charCodeAt(0),n=e.primaryTable[r>>8];return n<e.tbbase?n:e.unicodeTable[n-e.tbbase][255&r]}function o(e,t){const r=e.split("");if(t){const e=[];i(r,e,t),v=e}return r.reverse(),T.reverse(),r.join("")}function a(e,t,r){for(let n=0;n<t;n++)if(e[n]===r)return n;return-1}function l(t){for(let r=0;r<e.arabicAlefBetIntervalsBegine.length;r++)if(t>=e.arabicAlefBetIntervalsBegine[r]&&t<=e.arabicAlefBetIntervalsEnd[r])return!0;return!1}function u(e,t,r,n){for(;t*r<n&&g(e[t]);)t+=r;return!!(t*r<n&&l(e[t]))}function c(t,r,n,i){for(;r*n<i&&g(t[r]);)r+=n;let s=" ";if(!(r*n<i))return!1;s=t[r];for(let t=0;t<e.aLefTable.length;t++)if(e.aLefTable[t]===s)return!0;return!1}function h(e,t,r,n){if(n.hiLevel<e)return;if(1===e&&n.dir===E&&!n.hasUbatB)return t.reverse(),void T.reverse();const i=t.length;let s,o,a,l,u,c=0;for(;c<i;){if(r[c]>=e){for(s=c+1;s<i&&r[s]>=e;)s++;for(o=c,a=s-1;o<a;o++,a--)l=t[o],t[o]=t[a],t[a]=l,u=T[o],T[o]=T[a],T[a]=u;c=s}c++}}function f(t,r,n,i,s){const o=r[i];return{UBAT_L:()=>(s.lastArabic=!1,e.ubatL),UBAT_R:()=>(s.lastArabic=!1,e.ubatR),UBAT_ON:()=>e.ubatOn,UBAT_AN:()=>e.ubatAn,UBAT_EN:()=>s.lastArabic?e.ubatAn:e.ubatEn,UBAT_AL:()=>(s.lastArabic=!0,s.hasUbatAl=!0,e.ubatR),UBAT_WS:()=>e.ubatOn,UBAT_CS:()=>{let t,o;return i<1||i+1>=r.length||(t=n[i-1])!==e.ubatEn&&t!==e.ubatAn||(o=r[i+1])!==e.ubatEn&&o!==e.ubatAn?e.ubatOn:(s.lastArabic&&(o=e.ubatAn),o===t?o:e.ubatOn)},UBAT_ES:()=>(i>0?n[i-1]:e.ubatB)===e.ubatEn&&i+1<r.length&&r[i+1]===e.ubatEn?e.ubatEn:e.ubatOn,UBAT_ET:()=>{if(i>0&&n[i-1]===e.ubatEn)return e.ubatEn;if(s.lastArabic)return e.ubatOn;let t=i+1;const o=r.length;for(;t<o&&r[t]===e.ubatEt;)t++;return t<o&&r[t]===e.ubatEn?e.ubatEn:e.ubatOn},UBAT_NSM:()=>{if("VLTR"===s.inFormat){const n=r.length;let s=i+1;for(;s<n&&r[s]===e.ubatNsm;)s++;if(s<n){const n=t[i].charCodeAt(0),o=n>=1425&&n<=2303||64286===n,a=r[s];if(o&&(a===e.ubatR||a===e.ubatAl))return e.ubatR}}return i<1||r[i-1]===e.ubatB?e.ubatOn:n[i-1]},UBAT_B:()=>(s.lastArabic=!0,s.hasUbatB=!0,s.dir),UBAT_S:()=>(s.hasUbatS=!0,e.ubatOn),UBAT_LRE:()=>(s.lastArabic=!1,e.ubatOn),UBAT_RLE:()=>(s.lastArabic=!1,e.ubatOn),UBAT_LRO:()=>(s.lastArabic=!1,e.ubatOn),UBAT_RLO:()=>(s.lastArabic=!1,e.ubatOn),UBAT_PDF:()=>(s.lastArabic=!1,e.ubatOn),UBAT_BN:()=>e.ubatOn}[e.typesNames[o]]()}function d(t){let r,n=0,i=e.swapTable.length-1;for(;n<=i;)if(r=Math.floor((n+i)/2),t<e.swapTable[r][0])i=r-1;else{if(!(t>e.swapTable[r][0]))return e.swapTable[r][1];n=r+1}return t}function p(t){for(let r=0;r<e.standAlonForm.length;r++)if(e.standAlonForm[r]===t)return!0;return!1}function m(t){for(let r=0;r<e.baseForm.length;r++)if(t===e.baseForm[r])return e.medialForm[r];return t}function y(t,r){for(let n=0;n<e.baseForm.length;n++)if(t===e.baseForm[n])return r[n];return t}function g(e){return e>="ً"&&e<="ٕ"}function _(e){return"L"===e?"LTR":"R"===e?"RTL":"C"===e?"CLR":"D"===e?"CRL":""}function b(e,t,r,n){for(;t*r<n&&g(e[t]);)t+=r;return t*r<n&&(e[t]=" ",!0)}function x(t,r){for(let n=0;n<e.aLefTable.length;n++)if(t===e.aLefTable[n])return r[n];return t}function w(e,t,r,n){for(let i=0;i<e.length;i++)(e[i]>t||!r&&e[i]===t)&&(e[i]+=n)}let T=[],S=[],v=[];const P={dir:0,defInFormat:"LLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,defOutFormat:""},M=5,O=6,k=0,E=1,A=/^[(I|V)][(L|RCD)][(Y|N)][(S|N)]N$/,I=/[\u0591-\u06ff\ufb1d-\ufefc]/;return class{constructor(){this.inputFormat="ILYNN",this.outputFormat="VLNNN",this.sourceToTarget=[],this.targetToSource=[],this.levels=[]}bidiTransform(r,n,i){if(this.sourceToTarget=[],this.targetToSource=[],!r)return"";if(function(e,t,r){T=[],v=[];for(let n=0;n<r;n++)e[n]=n,t[n]=n,T[n]=n}(this.sourceToTarget,this.targetToSource,r.length),!this.checkParameters(n,i))return r;n=this.inputFormat,i=this.outputFormat;let s=r;const o=P,h=_(n.charAt(1)),f=_(i.charAt(1)),d=(n.startsWith("I")?"L":n.charAt(0))+h,M=(i.startsWith("I")?"L":i.charAt(0))+f,O=n.charAt(2)+i.charAt(2);o.defInFormat=d,o.defOutFormat=M,o.defSwap=O;const k=t(r,d,M,O,o);let E=!1;return"R"===i.charAt(1)?E=!0:"C"!==i.charAt(1)&&"D"!==i.charAt(1)||(E="rtl"===this.checkContextual(k)),this.sourceToTarget=T,this.targetToSource=function(e){const t=new Array(e.length);for(let r=0;r<e.length;r++)t[e[r]]=r;return t}(this.sourceToTarget),S=this.targetToSource,s=n.charAt(3)===i.charAt(3)?k:"S"===i.charAt(3)?function(t,r){if(0===r.length)return"";void 0===t&&(t=!0);const n=(r=String(r)).split("");let i=0,s=1,o=n.length;t||(i=n.length-1,s=-1,o=1);const h=function(t,r,n,i){let s=0;const o=[];let a=0;for(let h=r;h*n<i;h+=n)if(l(t[h])||g(t[h])){if("ل"===t[h]&&c(t,h+n,n,i)){t[h]=x(t[h+n],0===s?e.lamAlefInialTableFE:e.lamAlefMedialTableFE),h+=n,b(t,h,n,i),o[a]=h,a++,s=0;continue}const r=t[h];1===s?t[h]=u(t,h+n,n,i)?m(t[h]):y(t[h],e.finalForm):!0===u(t,h+n,n,i)?t[h]=y(t[h],e.initialForm):t[h]=y(t[h],e.isolatedForm),g(r)||(s=1),!0===p(r)&&(s=0)}else s=0;return o}(n,i,s,o);let f="";for(let e=0;e<n.length;e++)a(h,h.length,e)>-1?(w(S,e,!t,-1),T.splice(e,1)):f+=n[e];return f}(E,k):function(t,r){if(0===t.length)return"";void 0===r&&(r=!0);let n="";const i=(t=String(t)).split("");for(let s=0;s<t.length;s++){let o=!1;if(i[s]>="ﹰ"&&i[s]<"\ufeff"){const a=t.charCodeAt(s);i[s]>="ﻵ"&&i[s]<="ﻼ"?(r?(s>0&&" "===i[s-1]?n=n.slice(0,-1)+"ل":(n+="ل",o=!0),n+=e.aLefTable[(a-65269)/2]):(n+=e.aLefTable[(a-65269)/2],n+="ل",s+1<t.length&&" "===i[s+1]?s++:o=!0),o&&(w(S,s,!0,1),T.splice(s,0,T[s]))):n+=e.feTo06Table[a-65136]}else n+=i[s]}return n}(k,E),this.sourceToTarget=T,this.targetToSource=S,this.levels=v,s}_inputFormatSetter(e){if(!A.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=e}_outputFormatSetter(e){if(!A.test(e))throw new Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=e}checkParameters(e,t){return e?this._inputFormatSetter(e):e=this.inputFormat,t?this._outputFormatSetter(t):t=this.outputFormat,e!==t}checkContextual(e){let t=r(e);if("ltr"!==t&&"rtl"!==t){try{t=document.dir.toLowerCase()}catch(e){}"ltr"!==t&&"rtl"!==t&&(t="ltr")}return t}hasBidiChar(e){return I.test(e)}}})},"esri/core/bidiEngineTables":function(){define(["exports"],function(e){"use strict";const t=10,r=11,n=12,i=18,s=[[i,i,i,i,i,i,i,i,i,6,5,6,8,5,i,i,i,i,i,i,i,i,i,i,i,i,i,i,5,5,5,6,8,4,4,r,r,r,4,4,4,4,4,t,9,t,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,i,i,i,i,i,i,5,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,i,9,4,r,r,r,r,4,4,4,4,0,4,4,i,4,4,r,r,2,2,4,0,4,4,4,2,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,4,4,4,4,4,4,4,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,1,n,1,n,n,1,n,n,1,n,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,4,4,4,4,4,1,1,1,1,1,4,4,4,4,4,4,4,4,4,4,4],[3,3,3,3,4,4,4,4,7,r,r,7,9,7,4,4,n,n,n,n,n,n,n,n,n,n,n,7,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,3,3,3,3,3,3,3,3,3,3,r,3,3,7,7,7,n,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,3,4,n,n,n,n,n,n,7,7,n,n,4,n,n,n,n,7,7,2,2,2,2,2,2,2,2,2,2,7,7,7,7,7,7],[7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,7,7,n,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,n,n,n,n,n,n,n,n,n,n,n,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,n,n,n,n,n,n,n,n,n,1,1,4,4,4,4,1,4,4,4,4,4],[8,8,8,8,8,8,8,8,8,8,8,i,i,i,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,r,r,r,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,i,i,i,i,i,4,4,4,4,4,i,i,i,i,i,i,2,0,4,4,2,2,2,2,2,2,t,t,4,4,4,0,2,2,2,2,2,2,2,2,2,2,t,t,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4],[0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,4,4,4,4,4,1,n,1,1,1,1,1,1,1,1,1,1,t,1,1,1,1,1,1,1,1,1,1,1,1,1,4,1,1,1,1,1,4,1,4,1,1,4,1,1,4,1,1,1,1,1,1,1,1,1,1,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],[n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,n,n,n,n,n,n,n,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,9,4,4,9,4,4,4,4,4,4,4,4,4,r,4,4,t,t,4,4,4,4,4,r,r,4,4,4,4,4,7,7,7,7,7,4,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,4,4,i],[4,4,4,r,r,r,4,4,4,4,4,t,9,t,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,0,0,0,4,4,0,0,0,4,4,4,r,r,4,4,4,r,r,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4]];e.aLefTable=["آ","أ","إ","ا"],e.arabicAlefBetIntervalsBegine=["ء","ف"],e.arabicAlefBetIntervalsEnd=["غ","ي"],e.baseForm=["ا","ب","ت","ث","ج","ح","خ","د","ذ","ر","ز","س","ش","ص","ض","ط","ظ","ع","غ","ف","ق","ك","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ل","م","ن","ه","و","ي","إ","أ","آ","ة","ى","ی","ئ","ؤ"],e.feTo06Table=["ً","ً","ٌ","؟","ٍ","؟","َ","َ","ُ","ُ","ِ","ِ","ّ","ّ","ْ","ْ","ء","آ","آ","أ","أ","ؤ","ؤ","إ","إ","ئ","ئ","ئ","ئ","ا","ا","ب","ب","ب","ب","ة","ة","ت","ت","ت","ت","ث","ث","ث","ث","ج","ج","ج","ج","ح","ح","ح","ح","خ","خ","خ","خ","د","د","ذ","ذ","ر","ر","ز","ز","س","س","س","س","ش","ش","ش","ش","ص","ص","ص","ص","ض","ض","ض","ض","ط","ط","ط","ط","ظ","ظ","ظ","ظ","ع","ع","ع","ع","غ","غ","غ","غ","ف","ف","ف","ف","ق","ق","ق","ق","ك","ك","ك","ك","ل","ل","ل","ل","م","م","م","م","ن","ن","ن","ن","ه","ه","ه","ه","و","و","ى","ى","ي","ي","ي","ي","ﻵ","ﻶ","ﻷ","ﻸ","ﻹ","ﻺ","ﻻ","ﻼ","؟","؟","؟"],e.finalForm=["ﺎ","ﺐ","ﺖ","ﺚ","ﺞ","ﺢ","ﺦ","ﺪ","ﺬ","ﺮ","ﺰ","ﺲ","ﺶ","ﺺ","ﺾ","ﻂ","ﻆ","ﻊ","ﻎ","ﻒ","ﻖ","ﻚ","ﻞ","ﻢ","ﻦ","ﻪ","ﻮ","ﻲ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯽ","ﺊ","ﺆ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺊ","ﺆ"],e.impTabLtr=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],e.impTabRtl=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],e.initialForm=["ﺍ","ﺑ","ﺗ","ﺛ","ﺟ","ﺣ","ﺧ","ﺩ","ﺫ","ﺭ","ﺯ","ﺳ","ﺷ","ﺻ","ﺿ","ﻃ","ﻇ","ﻋ","ﻏ","ﻓ","ﻗ","ﻛ","ﻟ","ﻣ","ﻧ","ﻫ","ﻭ","ﻳ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯾ","ﺋ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺋ","ﺅ"],e.isolatedForm=["ﺍ","ﺏ","ﺕ","ﺙ","ﺝ","ﺡ","ﺥ","ﺩ","ﺫ","ﺭ","ﺯ","ﺱ","ﺵ","ﺹ","ﺽ","ﻁ","ﻅ","ﻉ","ﻍ","ﻑ","ﻕ","ﻙ","ﻝ","ﻡ","ﻥ","ﻩ","ﻭ","ﻱ","ﺇ","ﺃ","ﺁ","ﺓ","ﻯ","ﯼ","ﺉ","ﺅ","ﹰ","ﹲ","ﹴ","ﹶ","ﹸ","ﹺ","ﹼ","ﹾ","ﺀ","ﺉ","ﺅ"],e.lamAlefInialTableFE=["ﻵ","ﻷ","ﻹ","ﻻ"],e.lamAlefMedialTableFE=["ﻶ","ﻸ","ﻺ","ﻼ"],e.medialForm=["ﺎ","ﺒ","ﺘ","ﺜ","ﺠ","ﺤ","ﺨ","ﺪ","ﺬ","ﺮ","ﺰ","ﺴ","ﺸ","ﺼ","ﻀ","ﻄ","ﻈ","ﻌ","ﻐ","ﻔ","ﻘ","ﻜ","ﻠ","ﻤ","ﻨ","ﻬ","ﻮ","ﻴ","ﺈ","ﺄ","ﺂ","ﺔ","ﻰ","ﯿ","ﺌ","ﺆ","ﹱ","ﹲ","ﹴ","ﹷ","ﹹ","ﹻ","ﹽ","ﹿ","ﺀ","ﺌ","ﺆ"],e.primaryTable=[100,0,0,0,0,101,102,103,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,104,4,4,4,0,4,0,4,0,4,4,4,0,0,4,4,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,4,4,0,0,4,4,0,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,0,0,0,105,7,7,106,107],e.standAlonForm=["ء","آ","أ","ؤ","إ","ا","ة","د","ذ","ر","ز","و","ى"],e.swapTable=[["(",")"],[")","("],["<",">"],[">","<"],["[","]"],["]","["],["{","}"],["}","{"],["«","»"],["»","«"],["‹","›"],["›","‹"],["⁽","⁾"],["⁾","⁽"],["₍","₎"],["₎","₍"],["≤","≥"],["≥","≤"],["〈","〉"],["〉","〈"],["﹙","﹚"],["﹚","﹙"],["﹛","﹜"],["﹜","﹛"],["﹝","﹞"],["﹞","﹝"],["﹤","﹥"],["﹥","﹤"]],e.tbbase=100,e.typesNames=["UBAT_L","UBAT_R","UBAT_EN","UBAT_AN","UBAT_ON","UBAT_B","UBAT_S","UBAT_AL","UBAT_WS","UBAT_CS","UBAT_ES","UBAT_ET","UBAT_NSM","UBAT_LRE","UBAT_RLE","UBAT_PDF","UBAT_LRO","UBAT_RLO","UBAT_BN"],e.ubatAl=7,e.ubatAn=3,e.ubatB=5,e.ubatBn=18,e.ubatCs=9,e.ubatEn=2,e.ubatEs=10,e.ubatEt=11,e.ubatL=0,e.ubatLre=13,e.ubatLro=16,e.ubatNsm=12,e.ubatOn=4,e.ubatPdf=15,e.ubatR=1,e.ubatRle=14,e.ubatRlo=17,e.ubatS=6,e.ubatWs=8,e.unicodeTable=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define(["exports","../../../../../geometry/support/aaBoundingRect","../constants","../GeometryUtils","../shaders/VTLBackgroundMaterial","../shaders/VTLCircleMaterial","../shaders/VTLFillMaterial","../shaders/VTLLineMaterial","../shaders/VTLSymbolMaterial","./Filter","./StyleDefinition","./StyleProperty","../../webgl/definitions"],function(e,t,r,n,i,s,o,a,l,u,c,h,f){"use strict";class d{constructor(e,t,r,n){switch(this.type=e,this.typeName=t.type,this.id=t.id,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.layout=t.layout,this.paint=t.paint,this.z=r,this.uid=n,e){case 0:this._layoutDefinition=c.StyleDefinition.backgroundLayoutDefinition,this._paintDefinition=c.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=c.StyleDefinition.fillLayoutDefinition,this._paintDefinition=c.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=c.StyleDefinition.lineLayoutDefinition,this._paintDefinition=c.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=c.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=c.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=c.StyleDefinition.circleLayoutDefinition,this._paintDefinition=c.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}getFeatureFilter(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=u.createFilter(this.filter)}getLayoutProperty(e){return this._layoutProperties[e]}getPaintProperty(e){return this._paintProperties[e]}getLayoutValue(e,t,r){let n;const i=this._layoutProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._layoutDefinition[e].default),n}getPaintValue(e,t,r){let n;const i=this._paintProperties[e];return i&&(n=i.getValue(t,r)),void 0===n&&(n=this._paintDefinition[e].default),n}isPainterDataDriven(){const e=this._paintProperties;if(e)for(const t in e)if(e[t].isDataDriven)return!0;return!1}isIntersectingFeature(e,t,r,n,i,s,o){return!1}getFeatureInflatedBounds(e,t,r,n){return null}_parseLayout(e){const t={};for(const r in e){const n=this._layoutDefinition[r];n&&(t[r]=new h(n,e[r]))}return t}_parsePaint(e){const t={};for(const r in e){const n=this._paintDefinition[r];n&&(t[r]=new h(n,e[r]))}return t}computeAttributesKey(e,t,r,n){let i=0,s=0;for(const e of t){let t=3;if(!e||e!==n){const n=r[e],{isLayout:i,isOptional:s}=n,o=i?this.getLayoutProperty(e):this.getPaintProperty(e);t=o?.interpolator?2:o?.isDataDriven?1:s&&!o?3:0}s|=t<<i,i+=2}return s<<3|e}}function p(e){const r=e?.getGeometry();if(null==r)return null;let n=1/0,i=1/0,s=-1/0,o=-1/0;for(const e of r)if(e)for(const t of e)n=Math.min(n,t.x),i=Math.min(i,t.y),s=Math.max(s,t.x),o=Math.max(o,t.y);return t.fromValues(n,i,s,o)}e.BackgroundStyleLayer=class extends d{constructor(e,t,r,n){super(e,t,r,n),this.backgroundMaterial=new i.VTLBackgroundMaterial(this.computeAttributesKey(0,i.VTLBackgroundMaterial.ATTRIBUTES,i.VTLBackgroundMaterial.ATTRIBUTES_INFO))}},e.CircleStyleLayer=class extends d{constructor(e,t,r,n){super(e,t,r,n),this.circleMaterial=new s.VTLCircleMaterial(this.computeAttributesKey(5,s.VTLCircleMaterial.ATTRIBUTES,s.VTLCircleMaterial.ATTRIBUTES_INFO))}getFeatureInflatedBounds(e,t,n,i){const s=p(e);if(!s)return null;const o=this.getPaintValue("circle-translate",t,e),a=Math.max(o[0],o[1]);s[0]-=a,s[2]-=a,s[1]+=a,s[3]+=a;const l=i*(r.tilePixelRatio*(this.getPaintValue("circle-radius",t,e)+this.getPaintValue("circle-stroke-width",t,e))/2);return s[0]-=l,s[1]-=l,s[2]+=l,s[3]+=l,s}isIntersectingFeature(e,t,i,s,o,a,l){const u=s.getGeometry();if(!u)return!1;const c=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY,i*=c;const h=n.translateAnchor(this.getPaintValue("circle-translate",o,s),this.getPaintValue("circle-translate-anchor",o,s),a,c),f=c*(this.getPaintValue("circle-radius",o,s)+this.getPaintValue("circle-stroke-width",o,s));let d,p;for(const r of u)if(r)for(const n of r)if(d=n.x+h.x,p=n.y+h.y,Math.sqrt((e-d)*(e-d)+(t-p)*(t-p))-i<=f)return!0;return!1}},e.FillStyleLayer=class extends d{constructor(e,t,r,n){super(e,t,r,n);const i=this.getPaintProperty("fill-color"),s=this.getPaintProperty("fill-opacity"),a=this.getPaintProperty("fill-pattern");this.hasDataDrivenColor=i?.isDataDriven,this.hasDataDrivenOpacity=s?.isDataDriven,this.hasDataDrivenFill=this.hasDataDrivenColor||this.hasDataDrivenOpacity||a?.isDataDriven;const l=this.getPaintProperty("fill-outline-color");this.outlineUsesFillColor=!l,this.hasDataDrivenOutlineColor=l?.isDataDriven,this.hasDataDrivenOutline=l?l.isDataDriven:!!i&&i.isDataDriven,this.hasDataDrivenOutline=(l?this.hasDataDrivenOutlineColor:this.hasDataDrivenColor)||this.hasDataDrivenOpacity,this.fillMaterial=new o.VTLFillMaterial(this.computeAttributesKey(1,o.VTLFillMaterial.ATTRIBUTES,o.VTLFillMaterial.ATTRIBUTES_INFO)),this.outlineMaterial=new o.VTLOutlineMaterial(this.computeAttributesKey(2,this.outlineUsesFillColor?o.VTLOutlineMaterial.ATTRIBUTES_FILL:o.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,this.outlineUsesFillColor?o.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:o.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),this.outlineUsesFillColor)}getFeatureInflatedBounds(e,t,r,n){const i=p(e);if(!i)return null;const s=this.getPaintValue("fill-translate",t,e),o=n*Math.max(s[0],s[1]);return i[0]-=o,i[2]-=o,i[1]+=o,i[3]+=o,i}isIntersectingFeature(e,t,i,s,o,a,l){const u=s.getGeometry();if(!u)return!1;const c=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY;const h=n.translateAnchor(this.getPaintValue("fill-translate",o,s),this.getPaintValue("fill-translate-anchor",o,s),a,r.tilePixelRatio);return e-=c*h.x,t-=c*h.y,!!n.pointInPolygon(e,t,u)||n.distanceFromToPolylineWithinThreshold(e,t,u,c*i)}},e.IconLayout=class{constructor(e,t,r){let n;this.allowOverlap=e.getLayoutValue("icon-allow-overlap",t),this.ignorePlacement=e.getLayoutValue("icon-ignore-placement",t),this.keepUpright=e.getLayoutValue("icon-keep-upright",t),this.optional=e.getLayoutValue("icon-optional",t),this.rotationAlignment=e.getLayoutValue("icon-rotation-alignment",t),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1),n=e.getLayoutProperty("icon-anchor"),n?.isDataDriven?this._anchorProp=n:this.anchor=e.getLayoutValue("icon-anchor",t),n=e.getLayoutProperty("icon-offset"),n?.isDataDriven?this._offsetProp=n:this.offset=e.getLayoutValue("icon-offset",t),n=e.getLayoutProperty("icon-padding"),n?.isDataDriven?this._paddingProp=n:this.padding=e.getLayoutValue("icon-padding",t),n=e.getLayoutProperty("icon-rotate"),n?.isDataDriven?this._rotateProp=n:this.rotate=e.getLayoutValue("icon-rotate",t),n=e.getLayoutProperty("icon-size"),n?.isDataDriven?this._sizeProp=n:this.size=e.getLayoutValue("icon-size",t)}update(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t))}},e.IndexItem=class{constructor(e,t,r,n,i,s){this.layer=e,this.feature=t,this.bounds=r,this.normalizationRatio=n,this.normalizationOffsetX=i,this.normalizationOffsetY=s}},e.LineStyleLayer=class extends d{constructor(e,t,r,n){super(e,t,r,n);const i=this.getPaintProperty("line-pattern");if(this.lineMaterial=new a.VTLLineMaterial(this.computeAttributesKey(3,a.VTLLineMaterial.ATTRIBUTES,a.VTLLineMaterial.ATTRIBUTES_INFO,i?"line-dasharray":"")),this.hasDataDrivenLine=this.getPaintProperty("line-blur")?.isDataDriven||this.getPaintProperty("line-color")?.isDataDriven||this.getPaintProperty("line-gap-width")?.isDataDriven||this.getPaintProperty("line-offset")?.isDataDriven||this.getPaintProperty("line-opacity")?.isDataDriven||this.getPaintProperty("line-pattern")?.isDataDriven||this.getPaintProperty("line-dasharray")?.isDataDriven||this.getLayoutProperty("line-cap")?.isDataDriven||this.getPaintProperty("line-width")?.isDataDriven,this.canUseThinTessellation=!1,!this.hasDataDrivenLine){const e=this.getPaintProperty("line-width");if(!e||"number"==typeof e&&.5*e<f.thinLineHalfWidthThreshold){const e=this.getPaintProperty("line-offset");(!e||"number"==typeof e&&0===e)&&(this.canUseThinTessellation=!0)}}}getDashKey(e,t){let r;switch(t){case 0:default:r="Butt";break;case 1:r="Round";break;case 2:r="Square"}return`dasharray-[${e.toString()}]-${r}`}getFeatureInflatedBounds(e,t,r,n){const i=p(e);if(!i)return null;const s=this.getPaintValue("line-translate",t,e),o=n*Math.max(s[0],s[1]);i[0]-=o,i[2]-=o,i[1]+=o,i[3]+=o;const a=n*Math.abs(this.getPaintValue("line-offset",t,e)||0),l=n*(this.getPaintValue("line-width",t,e)/2);return i[0]-=a+l,i[1]-=a+l,i[2]+=a+l,i[3]+=a+l,i}isIntersectingFeature(e,t,i,s,o,a,l){let u=s.getGeometry();if(!u)return!1;const c=r.tilePixelRatio/l.normalizationRatio;e=e/l.normalizationRatio+l.normalizationOffsetX,t=t/l.normalizationRatio+l.normalizationOffsetY;const h=n.translateAnchor(this.getPaintValue("line-translate",o,s),this.getPaintValue("line-translate-anchor",o,s),a,r.tilePixelRatio);e-=c*h.x,t-=c*h.y;const f=c*this.getPaintValue("line-offset",o,s)||0;0!==f&&(u=n.offsetLine(u,-f));const d=this.getPaintValue("line-width",o,s)/2;return n.distanceFromToPolylineWithinThreshold(e,t,u,c*(i+d))}},e.StyleLayer=d,e.SymbolStyleLayer=class extends d{constructor(e,t,r,n){super(e,t,r,n),this.iconMaterial=new l.VTLIconMaterial(this.computeAttributesKey(4,l.VTLIconMaterial.ATTRIBUTES,l.VTLIconMaterial.ATTRIBUTES_INFO)),this.textMaterial=new l.VTLTextMaterial(this.computeAttributesKey(6,l.VTLTextMaterial.ATTRIBUTES,l.VTLTextMaterial.ATTRIBUTES_INFO)),this.hasDataDrivenIcon=this.getPaintProperty("icon-color")?.isDataDriven||this.getPaintProperty("icon-halo-blur")?.isDataDriven||this.getPaintProperty("icon-halo-color")?.isDataDriven||this.getPaintProperty("icon-halo-width")?.isDataDriven||this.getPaintProperty("icon-opacity")?.isDataDriven||this.getLayoutProperty("icon-size")?.isDataDriven,this.hasDataDrivenText=this.getPaintProperty("text-color")?.isDataDriven||this.getPaintProperty("text-halo-blur")?.isDataDriven||this.getPaintProperty("text-halo-color")?.isDataDriven||this.getPaintProperty("text-halo-width")?.isDataDriven||this.getPaintProperty("text-opacity")?.isDataDriven||this.getLayoutProperty("text-size")?.isDataDriven}},e.TextLayout=class{constructor(e,t,r){let n;this.allowOverlap=e.getLayoutValue("text-allow-overlap",t),this.ignorePlacement=e.getLayoutValue("text-ignore-placement",t),this.keepUpright=e.getLayoutValue("text-keep-upright",t),this.optional=e.getLayoutValue("text-optional",t),this.rotationAlignment=e.getLayoutValue("text-rotation-alignment",t),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1),n=e.getLayoutProperty("text-anchor"),n?.isDataDriven?this._anchorProp=n:this.anchor=e.getLayoutValue("text-anchor",t),n=e.getLayoutProperty("text-justify"),n?.isDataDriven?this._justifyProp=n:this.justify=e.getLayoutValue("text-justify",t),n=e.getLayoutProperty("text-letter-spacing"),n?.isDataDriven?this._letterSpacingProp=n:this.letterSpacing=e.getLayoutValue("text-letter-spacing",t),n=e.getLayoutProperty("text-line-height"),n?.isDataDriven?this._lineHeightProp=n:this.lineHeight=e.getLayoutValue("text-line-height",t),n=e.getLayoutProperty("text-max-angle"),n?.isDataDriven?this._maxAngleProp=n:this.maxAngle=e.getLayoutValue("text-max-angle",t),n=e.getLayoutProperty("text-max-width"),n?.isDataDriven?this._maxWidthProp=n:this.maxWidth=e.getLayoutValue("text-max-width",t),n=e.getLayoutProperty("text-offset"),n?.isDataDriven?this._offsetProp=n:this.offset=e.getLayoutValue("text-offset",t),n=e.getLayoutProperty("text-padding"),n?.isDataDriven?this._paddingProp=n:this.padding=e.getLayoutValue("text-padding",t),n=e.getLayoutProperty("text-rotate"),n?.isDataDriven?this._rotateProp=n:this.rotate=e.getLayoutValue("text-rotate",t),n=e.getLayoutProperty("text-size"),n?.isDataDriven?this._sizeProp=n:this.size=e.getLayoutValue("text-size",t),n=e.getLayoutProperty("text-writing-mode"),n?.isDataDriven?this._writingModeProp=n:this.writingMode=e.getLayoutValue("text-writing-mode",t)}update(e,t){this._anchorProp&&(this.anchor=this._anchorProp.getValue(e,t)),this._justifyProp&&(this.justify=this._justifyProp.getValue(e,t)),this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(e,t)),this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(e,t)),this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(e,t)),this._maxWidthProp&&(this.maxWidth=this._maxWidthProp.getValue(e,t)),this._offsetProp&&(this.offset=this._offsetProp.getValue(e,t)),this._paddingProp&&(this.padding=this._paddingProp.getValue(e,t)),this._rotateProp&&(this.rotate=this._rotateProp.getValue(e,t)),this._sizeProp&&(this.size=this._sizeProp.getValue(e,t)),this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(e,t))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n){"use strict";class i extends t.VTLMaterial{static{this.ATTRIBUTES=[]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.BYTE,0,2)]}static{this.ATTRIBUTES_INFO={}}constructor(e){super(e),this.baseGeometryLayout=i.GEOMETRY_LAYOUT,this.attributes=i.ATTRIBUTES,this.attributesInfo=i.ATTRIBUTES_INFO}}e.VTLBackgroundMaterial=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define(["exports","../MemoryBuffer","../../../../webgl/enums","../../../../webgl/VertexAttributeLocations","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n,i){"use strict";class s{constructor(e){this._key=e}get key(){return this._key}get type(){return 7&this._key}defines(){return[]}getStride(){return this._geometryLayout||this._buildAttributesInfo(),this._stride}getAttributeLocations(){return this._geometryLayout||this._buildAttributesInfo(),this._locations}get geometryLayout(){return this._geometryLayout||this._buildAttributesInfo(),this._geometryLayout}getEncodingInfos(){return this._propertyEncodingInfo||this._buildAttributesInfo(),this._propertyEncodingInfo}getUniforms(){return this._uniforms||this._buildAttributesInfo(),this._uniforms}getShaderHeader(){return this._shaderHeader||this._buildAttributesInfo(),this._shaderHeader}getShaderMain(){return this._shaderMain||this._buildAttributesInfo(),this._shaderMain}setDataUniforms(e,t,r,n,i){const s=this.getUniforms();for(const o of s){const{name:s,type:a,getValue:l}=o,u=l(r,t,n,i);if(null!==u)switch(a){case"float":e.setUniform1f(s,u);break;case"vec2":e.setUniform2fv(s,u);break;case"vec4":e.setUniform4fv(s,u)}}}encodeAttributes(e,t,r,n){const i=this.attributesInfo,s=this.getEncodingInfos(),o=[];let a=0,l=0;for(const u of Object.keys(s)){const c=s[u],{type:h,precisionFactor:f,isLayout:d}=i[u],p=d?r.getLayoutProperty(u):r.getPaintProperty(u),m=p.interpolator?.getInterpolationRange(t);let y=0;for(const r of c){const{offset:i,bufferElementsToAdd:s}=r;if(s>0){for(let e=0;e<s;e++)o.push(0);a+=l,l=r.bufferElementsToAdd}const u=n??p.getValue(m?m[y]:t,e);switch(h){case 0:case 1:o[a]|=this._encodeByte(u*(f||1),8*i);break;case 2:case 3:o[a]|=this._encodeShort(u*(f||1),8*i);break;case 4:case 5:o[a]|=this._encodeByte(u*(f||1),8*i),o[a]|=this._encodeByte(u*(f||1),8*i+8);break;case 6:case 7:o[a]|=this._encodeShort(u*(f||1),8*i),o[a]|=this._encodeShort(u*(f||1),8*i+16);break;case 8:case 9:o[a]|=this._encodeByte(u*(f||1),8*i),o[a]|=this._encodeByte(u*(f||1),8*i+8),o[a]|=this._encodeByte(u*(f||1),8*i+16),o[a]|=this._encodeByte(u*(f||1),8*i+24);break;case 10:o[a]=this._encodeColor(u);break;case 11:case 12:this._encodePattern(a,o,u);break;default:throw new Error("Unsupported encoding type")}y++}}return o}getAtributeState(e){let t=0;const r=3+2*e;return t|=this._bit(r),t|=this._bit(r+1)<<1,t}static{this._encodingInfo={0:{dataType:r.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},1:{dataType:r.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},2:{dataType:r.DataType.SHORT,bytesPerElement:2,count:1,normalized:!1},3:{dataType:r.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},4:{dataType:r.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},5:{dataType:r.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},6:{dataType:r.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},7:{dataType:r.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:2,normalized:!1},8:{dataType:r.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},9:{dataType:r.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},10:{dataType:r.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},11:{dataType:r.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},12:{dataType:r.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1}}}_buildAttributesInfo(){const e=[],t={},{attributesInfo:n,attributes:i}=this,o={};let a=-1,l=-1;for(const r of i){l++;const i=this.getAtributeState(l);if(0===i||3===i)continue;const u=n[r],c=[];t[r]=c;const h=u.type;for(let t=0;t<i;t++){const{dataType:t,bytesPerElement:r,count:n,normalized:i}=s._encodingInfo[h],l=r*n,u=`${t}-${!0===i}`;let f=o[u],d=0;if(!f||f.count+n>4)a++,f={dataIndex:a,count:0,offset:0},4!==n&&(o[u]=f),e.push({location:-1,name:"a_data_"+a,count:n,type:t,normalized:i}),d=Math.ceil(Math.max(l/4,1));else{const t=e[f.dataIndex];t.count+=n,d=Math.ceil(Math.max(t.count*r/4,1))-Math.ceil(Math.max(f.offset/4,1))}c.push({dataIndex:f.dataIndex,offset:f.offset,bufferElementsToAdd:d}),f.offset+=l,f.count+=n}}for(const t of e)switch(t.type){case r.DataType.BYTE:case r.DataType.UNSIGNED_BYTE:t.count=4;break;case r.DataType.SHORT:case r.DataType.UNSIGNED_SHORT:t.count+=t.count%2}this._buildVertexBufferLayout(e),this._buildShaderInfo(e,t),this._propertyEncodingInfo=t}_buildVertexBufferLayout(e){const t=this.baseGeometryLayout;let r=t[0].stride;if(0===e.length)this._geometryLayout=t;else{const n=[];let s=r;for(const t of e)r+=o(t.type)*t.count;for(const e of t)n.push(new i.VertexElementDescriptor(e.name,e.count,e.type,e.offset,r,e.normalized));for(const t of e)n.push(new i.VertexElementDescriptor(t.name,t.count,t.type,s,r,t.normalized)),s+=o(t.type)*t.count;this._geometryLayout=n}this.opacityLayout?this._locations=n.fromLayouts([this._geometryLayout,this.opacityLayout]):this._locations=n.fromLayout(this._geometryLayout),this._stride=r}_buildShaderInfo(e,t){let r="\n",n="\n";const i=[];for(const t of e)r+=`attribute ${this._getType(t.count)} ${t.name};\n`;const{attributesInfo:o,attributes:l}=this;let u=-1;for(const e of l){u++;const{name:l,type:c,precisionFactor:h,isLayout:f}=o[e],d=h&&1!==h?" * "+1/h:"",{bytesPerElement:p,count:m}=s._encodingInfo[c],y=e=>`a_data_${e.dataIndex}${a(m,e.offset,p)}`;switch(this.getAtributeState(u)){case 0:{const t=this._getType(m),s=`u_${l}`;i.push({name:s,type:t,getValue:(t,r,n,i)=>{const s=f?t.getLayoutValue(e,r):t.getPaintValue(e,r);if(11===c){const e=t.getDashKey(s,t.getLayoutValue("line-cap",r)),n=i.getMosaicItemPosition(e,!1);if(null==n)return null;const{tl:o,br:a}=n;return[o[0],a[1],a[0],o[1]]}if(12===c){const t=i.getMosaicItemPosition(s,!e.includes("line-"));if(null==t)return null;const{tl:r,br:n}=t;return[r[0],n[1],n[0],r[1]]}if(10===c){const e=s[3];return[e*s[0],e*s[1],e*s[2],e]}return s}}),r+=`uniform ${t} ${s};\n`,n+=`${t} ${l} = ${s};\n`}break;case 1:{const r=y(t[e][0]);n+=`${this._getType(m)} ${l} = ${r}${d};\n`}break;case 2:{const s=`u_t_${l}`;i.push({name:s,type:"float",getValue:(t,r,n,i)=>(f?t.getLayoutProperty(e):t.getPaintProperty(e)).interpolator.interpolationUniformValue(n,r)}),r+=`uniform float ${s};\n`;const o=y(t[e][0]),a=y(t[e][1]);n+=`${this._getType(m)} ${l} = mix(${o}${d}, ${a}${d}, ${s});\n`}}}this._shaderHeader=r,this._shaderMain=n,this._uniforms=i}_bit(e){return(this._key&1<<e)>>e}_getType(e){switch(e){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw new Error("Invalid count")}_encodeColor(e){const r=255*e[3];return t.i8888to32(e[0]*r,e[1]*r,e[2]*r,r)}_encodePattern(e,t,r){if(!r?.rect)return;const n=r.rect,i=r.width,s=r.height;t[e]=this._encodeShort(n.x+2,0),t[e]|=this._encodeShort(n.y+2+s,16),t[e+1]=this._encodeShort(n.x+2+i,0),t[e+1]|=this._encodeShort(n.y+2,16)}_encodeByte(e,t){return(255&e)<<t}_encodeShort(e,t){return(65535&e)<<t}}const o=e=>{switch(e){case r.DataType.FLOAT:case r.DataType.INT:case r.DataType.UNSIGNED_INT:return 4;case r.DataType.SHORT:case r.DataType.UNSIGNED_SHORT:case r.DataType.HALF_FLOAT:return 2;case r.DataType.BYTE:case r.DataType.UNSIGNED_BYTE:return 1}},a=(e,t,r)=>{const n=t/r;if(1===e)switch(n){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===e)switch(n){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===e)switch(n){case 0:return".xyz";case 1:return".yzw"}return""};e.VTLMaterial=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/enums":function(){define(["exports"],function(e){"use strict";const t={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},r={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},n=Object.values(r),i={FLOAT:t.FLOAT,UNSIGNED_BYTE:t.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:t.BYTE,UNSIGNED_SHORT:t.UNSIGNED_SHORT,SHORT:t.SHORT,UNSIGNED_INT:t.UNSIGNED_INT,INT:t.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269};e.ColorAttachment0=36064,e.ColorAttachment1=36065,e.ColorAttachment10=36074,e.ColorAttachment11=36075,e.ColorAttachment12=36076,e.ColorAttachment13=36077,e.ColorAttachment14=36078,e.ColorAttachment15=36079,e.ColorAttachment2=36066,e.ColorAttachment3=36067,e.ColorAttachment4=36068,e.ColorAttachment5=36069,e.ColorAttachment6=36070,e.ColorAttachment7=36071,e.ColorAttachment8=36072,e.ColorAttachment9=36073,e.CompressedTextureFormat={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497},e.DataType=t,e.DepthAttachment=36096,e.DepthStencilAttachment=33306,e.PixelType=i,e.PrimitiveType={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.ResourceType={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},e.SizedDepthFormat={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},e.SizedDepthStencilFormat={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},e.SizedPixelFormat=r,e.StencilAttachment=36128,e.baseTextureUnit=33984,e.sizedPixelFormatValues=n,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/VertexAttributeLocations":function(){define(["exports"],function(e){"use strict";function t(e){const t=new Map;let r=0;return e.forEach(e=>e.forEach(({name:e,count:n})=>{t.set(e,r),16===n?r+=4:9===n?r+=3:++r})),t}e.fromBuffers=function(e){return t(Array.from(e.values()).map(({layout:e})=>e))},e.fromLayout=function(e){let t=0;return new Map(e.map(({name:e,count:r})=>{const n=[e,t];return 16===r?t+=4:9===r?t+=3:++t,n}))},e.fromLayouts=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(e){"use strict";e.VertexElementDescriptor=class{constructor(e,t,r,n,i,s=!1,o=0){this.name=e,this.count=t,this.type=r,this.offset=n,this.stride=i,this.normalized=s,this.divisor=o}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n){"use strict";class i extends t.VTLMaterial{static{this.ATTRIBUTES=["circle-radius","circle-color","circle-opacity","circle-stroke-width","circle-stroke-color","circle-stroke-opacity","circle-blur"]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.SHORT,0,4)]}static{this.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:1},"circle-color":{name:"color",type:10},"circle-opacity":{name:"opacity",type:1,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:1,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:10},"circle-stroke-opacity":{name:"stroke_opacity",type:1,precisionFactor:100},"circle-blur":{name:"blur",type:1,precisionFactor:32}}}constructor(e){super(e),this.baseGeometryLayout=i.GEOMETRY_LAYOUT,this.attributes=i.ATTRIBUTES,this.attributesInfo=i.ATTRIBUTES_INFO}}e.VTLCircleMaterial=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n){"use strict";class i extends t.VTLMaterial{static{this.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.SHORT,0,4)]}static{this.ATTRIBUTES_INFO={"fill-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100},"fill-pattern":{name:"tlbr",type:12,isOptional:!0}}}constructor(e){super(e),this.baseGeometryLayout=i.GEOMETRY_LAYOUT,this.attributes=i.ATTRIBUTES,this.attributesInfo=i.ATTRIBUTES_INFO}}class s extends t.VTLMaterial{static{this.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"]}static{this.ATTRIBUTES_FILL=["fill-color","fill-opacity"]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.SHORT,0,8),new n.VertexElementDescriptor("a_offset",2,r.DataType.BYTE,4,8),new n.VertexElementDescriptor("a_xnormal",2,r.DataType.BYTE,6,8)]}static{this.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}}}static{this.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:10},"fill-opacity":{name:"opacity",type:1,precisionFactor:100}}}constructor(e,t){super(e),this.baseGeometryLayout=s.GEOMETRY_LAYOUT,this.attributes=t?s.ATTRIBUTES_FILL:s.ATTRIBUTES_OUTLINE,this.attributesInfo=t?s.ATTRIBUTES_INFO_FILL:s.ATTRIBUTES_INFO_OUTLINE}}e.VTLFillMaterial=i,e.VTLOutlineMaterial=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n){"use strict";class i extends t.VTLMaterial{static{this.ATTRIBUTES=["line-blur","line-color","line-gap-width","line-offset","line-opacity","line-width","line-pattern","line-dasharray"]}static{this.GEOMETRY_LAYOUT=[new n.VertexElementDescriptor("a_pos",2,r.DataType.SHORT,0,16),new n.VertexElementDescriptor("a_extrude_offset",4,r.DataType.BYTE,4,16),new n.VertexElementDescriptor("a_dir_normal",4,r.DataType.BYTE,8,16),new n.VertexElementDescriptor("a_accumulatedDistance",2,r.DataType.UNSIGNED_SHORT,12,16)]}static{this.ATTRIBUTES_INFO={"line-width":{name:"width",type:1,precisionFactor:2},"line-gap-width":{name:"gap_width",type:1,precisionFactor:2},"line-offset":{name:"offset",type:0,precisionFactor:2},"line-color":{name:"color",type:10},"line-opacity":{name:"opacity",type:1,precisionFactor:100},"line-blur":{name:"blur",type:1,precisionFactor:4},"line-pattern":{name:"tlbr",type:12,isOptional:!0},"line-dasharray":{name:"tlbr",type:11,isOptional:!0}}}constructor(e){super(e),this.baseGeometryLayout=i.GEOMETRY_LAYOUT,this.attributes=i.ATTRIBUTES,this.attributesInfo=i.ATTRIBUTES_INFO}}e.VTLLineMaterial=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define(["exports","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,r,n){"use strict";const i=[new n.VertexElementDescriptor("a_pos",2,r.DataType.SHORT,0,16),new n.VertexElementDescriptor("a_vertexOffset",2,r.DataType.SHORT,4,16),new n.VertexElementDescriptor("a_texAngleRange",4,r.DataType.UNSIGNED_BYTE,8,16),new n.VertexElementDescriptor("a_levelInfo",4,r.DataType.UNSIGNED_BYTE,12,16)],s=[new n.VertexElementDescriptor("a_opacityInfo",1,r.DataType.UNSIGNED_BYTE,0,1)];class o extends t.VTLMaterial{static{this.ATTRIBUTES=["icon-color","icon-opacity","icon-halo-blur","icon-halo-color","icon-halo-width","icon-size"]}static{this.ATTRIBUTES_INFO={"icon-color":{name:"color",type:10},"icon-opacity":{name:"opacity",type:1,precisionFactor:100},"icon-halo-color":{name:"halo_color",type:10},"icon-halo-width":{name:"halo_width",type:1,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"icon-size":{name:"size",type:1,precisionFactor:32,isLayout:!0}}}constructor(e){super(e),this.baseGeometryLayout=i,this.opacityLayout=s,this.attributes=o.ATTRIBUTES,this.attributesInfo=o.ATTRIBUTES_INFO}}class a extends t.VTLMaterial{static{this.ATTRIBUTES=["text-color","text-opacity","text-halo-blur","text-halo-color","text-halo-width","text-size"]}static{this.ATTRIBUTES_INFO={"text-color":{name:"color",type:10},"text-opacity":{name:"opacity",type:1,precisionFactor:100},"text-halo-color":{name:"halo_color",type:10},"text-halo-width":{name:"halo_width",type:1,precisionFactor:4},"text-halo-blur":{name:"halo_blur",type:1,precisionFactor:4},"text-size":{name:"size",type:1,isLayout:!0}}}constructor(e){super(e),this.baseGeometryLayout=i,this.opacityLayout=s,this.attributes=a.ATTRIBUTES,this.attributesInfo=a.ATTRIBUTES_INFO}}e.VTLIconMaterial=o,e.VTLTextMaterial=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(e,t){"use strict";class r{constructor(e){this._expression=e}filter(e,t){if(!this._expression)return!0;try{return this._expression.evaluate(e,t)}catch(e){return console.log(e.message),!0}}static createFilter(n){if(!n)return null;this.isLegacyFilter(n)&&(n=this.convertLegacyFilter(n));try{const i=e.createExpression(n,null,t.booleanType);return new r(i)}catch(e){return console.log(e.message),null}}static isLegacyFilter(e){if(!Array.isArray(e))return!0;if(0===e.length)return!0;switch(e[0]){case"==":case"!=":case">":case"<":case">=":case"<=":return 3===e.length&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"in":return e.length>=3&&"string"==typeof e[1]&&!Array.isArray(e[2]);case"!in":case"none":case"!has":return!0;case"any":case"all":for(let t=1;t<e.length;t++)if(this.isLegacyFilter(e[t]))return!0;return!1;case"has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);default:return!1}}static convertLegacyFilter(e){if(!Array.isArray(e)||0===e.length)return!0;const t=e[0];if(1===e.length)return"any"!==t;switch(t){case"==":return r.convertComparison("==",e[1],e[2]);case"!=":return r.negate(r.convertComparison("==",e[1],e[2]));case">":case"<":case">=":case"<=":return r.convertComparison(t,e[1],e[2]);case"in":return r.convertIn(e[1],e.slice(2));case"!in":return r.negate(r.convertIn(e[1],e.slice(2)));case"any":case"all":case"none":return r.convertCombining(t,e.slice(1));case"has":return r.convertHas(e[1]);case"!has":return r.negate(r.convertHas(e[1]));default:throw new Error("Unexpected legacy filter.")}}static convertComparison(e,t,r){switch(t){case"$type":return[e,["geometry-type"],r];case"$id":return[e,["id"],r];default:return[e,["get",t],r]}}static convertIn(e,t){switch(e){case"$type":return["in",["geometry-type"],["literal",t]];case"$id":return["in",["id"],["literal",t]];default:return["in",["get",e],["literal",t]]}}static convertHas(e){switch(e){case"$type":return!0;case"$id":return["has-id"];default:return["has",e]}}static convertCombining(e,t){return[e].concat(t.map(this.convertLegacyFilter))}static negate(e){return["!",e]}}return r})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define(["exports","../../../../../Color","../../../../../core/colorUtils","../../../unitBezier","../GeometryUtils","./types"],function(e,t,r,n,i,s){"use strict";class o{constructor(e){this._parent=e,this._vars={}}add(e,t){this._vars[e]=t}get(e){return this._vars[e]?this._vars[e]:this._parent?this._parent.get(e):null}}class a{constructor(){this.type=s.valueType}static parse(e){if(e.length>1)throw new Error('"id" does not expect arguments');return new a}evaluate(e,t){return e?.id}}class l{constructor(){this.type=s.stringType}static parse(e){if(e.length>1)throw new Error('"geometry-type" does not expect arguments');return new l}evaluate(e,t){if(!e)return null;switch(e.type){case 1:return"Point";case 2:return"LineString";case 3:return"Polygon";default:return null}}}class u{constructor(){this.type=s.objectType}static parse(e){if(e.length>1)throw new Error('"properties" does not expect arguments');return new u}evaluate(e,t){return e?.values}}class c{constructor(){this.type=s.numberType}static parse(e){if(e.length>1)throw new Error('"zoom" does not expect arguments');return new c}evaluate(e,t){return t}}class h{constructor(e,t,r){this._lhs=e,this._rhs=t,this._compare=r,this.type=s.booleanType}static parse(e,t,r){if(3!==e.length&&4!==e.length)throw new Error(`"${e[0]}" expects 2 or 3 arguments`);if(4===e.length)throw new Error(`"${e[0]}" collator not supported`);return new h(ee(e[1],t),ee(e[2],t),r)}evaluate(e,t){return this._compare(this._lhs.evaluate(e,t),this._rhs.evaluate(e,t))}}class f extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e===t)}}class d extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e!==t)}}class p extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e<t)}}class m extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e<=t)}}class y extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e>t)}}class g extends h{static parse(e,t){return h.parse(e,t,(e,t)=>e>=t)}}class _{constructor(e){this._arg=e,this.type=s.booleanType}static parse(e,t){if(2!==e.length)throw new Error('"!" expects 1 argument');return new _(ee(e[1],t))}evaluate(e,t){return!this._arg.evaluate(e,t)}}class b{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(ee(e[n],t));return new b(r)}evaluate(e,t){for(const r of this._args)if(!r.evaluate(e,t))return!1;return!0}}class x{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(ee(e[n],t));return new x(r)}evaluate(e,t){for(const r of this._args)if(r.evaluate(e,t))return!0;return!1}}class w{constructor(e){this._args=e,this.type=s.booleanType}static parse(e,t){const r=[];for(let n=1;n<e.length;n++)r.push(ee(e[n],t));return new w(r)}evaluate(e,t){for(const r of this._args)if(r.evaluate(e,t))return!1;return!0}}class T{constructor(e,t,r){this.type=e,this._args=t,this._fallback=r}static parse(e,t,r){if(e.length<4)throw new Error('"case" expects at least 3 arguments');if(e.length%2==1)throw new Error('"case" expects an odd number of arguments');let n;const i=[];for(let s=1;s<e.length-1;s+=2){const o=ee(e[s],t),a=ee(e[s+1],t,r);n||(n=a.type),i.push({condition:o,output:a})}const s=ee(e[e.length-1],t,r);return n||(n=s.type),new T(n,i,s)}evaluate(e,t){for(const r of this._args)if(r.condition.evaluate(e,t))return r.output.evaluate(e,t);return this._fallback.evaluate(e,t)}}class S{constructor(e,t){this.type=e,this._args=t}static parse(e,t){if(e.length<2)throw new Error('"coalesce" expects at least 1 argument');let r;const n=[];for(let i=1;i<e.length;i++){const s=ee(e[i],t);r||(r=s.type),n.push(s)}return new S(r,n)}evaluate(e,t){for(const r of this._args){const n=r.evaluate(e,t);if(null!==n)return n}return null}}class v{constructor(e,t,r,n,i){this.type=e,this._input=t,this._labels=r,this._outputs=n,this._fallback=i}static parse(e,t){if(e.length<3)throw new Error('"match" expects at least 3 arguments');if(e.length%2==0)throw new Error('"case" expects an even number of arguments');let r;const n=ee(e[1],t),i=[],s={};let o;for(let n=2;n<e.length-1;n+=2){let a=e[n];Array.isArray(a)||(a=[a]);for(const e of a){const t=typeof e;if("string"!==t&&"number"!==t)throw new Error('"match" requires string or number literal as labels');if(o){if(t!==o)throw new Error('"match" requires labels to have the same type')}else o=t;s[e]=i.length}const l=ee(e[n+1],t);r||(r=l.type),i.push(l)}return new v(r,n,s,i,ee(e[e.length-1],t))}evaluate(e,t){const r=this._input.evaluate(e,t);return(this._outputs[this._labels[r]]||this._fallback).evaluate(e,t)}}class P{constructor(e,t,r,n,i){this._operator=e,this.type=t,this.interpolation=r,this.input=n,this._stops=i}static parse(e,t,r){const n=e[0];if(e.length<5)throw new Error(`"${n}" expects at least 4 arguments`);const i=e[1];if(!Array.isArray(i)||0===i.length)throw new Error(`"${i}" is not a valid interpolation`);switch(i[0]){case"linear":if(1!==i.length)throw new Error("Linear interpolation cannot have parameters");break;case"exponential":if(2!==i.length||"number"!=typeof i[1])throw new Error("Exponential interpolation requires one numeric argument");break;case"cubic-bezier":if(5!==i.length)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(let e=1;e<5;e++){const t=i[e];if("number"!=typeof t||t<0||t>1)throw new Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1")}break;default:throw new Error(`"${e[0]}" unknown interpolation type "${i[0]}"`)}if(e.length%2!=1)throw new Error(`"${n}" expects an even number of arguments`);const o=ee(e[2],t,s.numberType);let a;"interpolate-hcl"===n||"interpolate-lab"===n?a=s.colorType:r&&"value"!==r.kind&&(a=r);const l=[];for(let r=3;r<e.length;r+=2){const i=e[r];if("number"!=typeof i)throw new Error(`"${n}" requires stop inputs as literal numbers`);if(l.length&&l[l.length-1][0]>=i)throw new Error(`"${n}" requires strictly ascending stop inputs`);const s=ee(e[r+1],t,a);a||(a=s.type),l.push([i,s])}if(a&&a!==s.colorType&&a!==s.numberType&&("array"!==a.kind||a.itemType!==s.numberType))throw new Error(`"${n}" cannot interpolate type ${s.typeToString(a)}`);return new P(n,a,i,o,l)}evaluate(e,n){const o=this._stops;if(1===o.length)return o[0][1].evaluate(e,n);const a=this.input.evaluate(e,n);if(a<=o[0][0])return o[0][1].evaluate(e,n);if(a>=o[o.length-1][0])return o[o.length-1][1].evaluate(e,n);let l=0;for(;++l<o.length&&!(a<o[l][0]););const u=o[l-1][0],c=o[l][0],h=P.interpolationRatio(this.interpolation,a,u,c),f=o[l-1][1].evaluate(e,n),d=o[l][1].evaluate(e,n);if("interpolate"===this._operator){if("array"===this.type.kind&&Array.isArray(f)&&Array.isArray(d))return f.map((e,t)=>i.interpolate(e,d[t],h));if("color"===this.type.kind&&f instanceof t&&d instanceof t){const e=new t(f),r=new t(d);return new t([i.interpolate(e.r,r.r,h),i.interpolate(e.g,r.g,h),i.interpolate(e.b,r.b,h),i.interpolate(e.a,r.a,h)])}if("number"===this.type.kind&&"number"==typeof f&&"number"==typeof d)return i.interpolate(f,d,h);throw new Error(`"${this._operator}" cannot interpolate type ${s.typeToString(this.type)}`)}if("interpolate-hcl"===this._operator){const e=r.toLCH(f),n=r.toLCH(d),s=n.h-e.h,o=r.toRGB({h:e.h+h*(s>180||s<-180?s-360*Math.round(s/360):s),c:i.interpolate(e.c,n.c,h),l:i.interpolate(e.l,n.l,h)});return new t({a:i.interpolate(f.a,d.a,h),...o})}if("interpolate-lab"===this._operator){const e=r.toLAB(f),n=r.toLAB(d),s=r.toRGB({l:i.interpolate(e.l,n.l,h),a:i.interpolate(e.a,n.a,h),b:i.interpolate(e.b,n.b,h)});return new t({a:i.interpolate(f.a,d.a,h),...s})}throw new Error(`Unexpected operator "${this._operator}"`)}interpolationUniformValue(e,t){const r=this._stops;if(1===r.length)return 0;if(e>=r[r.length-1][0])return 0;let n=0;for(;++n<r.length&&!(e<r[n][0]););const i=r[n-1][0],s=r[n][0];return P.interpolationRatio(this.interpolation,t,i,s)}getInterpolationRange(e){const t=this._stops;if(1===t.length){const e=t[0][0];return[e,e]}const r=t[t.length-1][0];if(e>=r)return[r,r];let n=0;for(;++n<t.length&&!(e<t[n][0]););return[t[n-1][0],t[n][0]]}static interpolationRatio(e,t,r,i){let s=0;return"linear"===e[0]?s=P._exponentialInterpolationRatio(t,1,r,i):"exponential"===e[0]?s=P._exponentialInterpolationRatio(t,e[1],r,i):"cubic-bezier"===e[0]&&(s=n.unitBezier(e[1],e[2],e[3],e[4])(P._exponentialInterpolationRatio(t,1,r,i),1e-5)),s<0?s=0:s>1&&(s=1),s}static _exponentialInterpolationRatio(e,t,r,n){const i=n-r;if(0===i)return 0;const s=e-r;return 1===t?s/i:(t**s-1)/(t**i-1)}}class M{constructor(e,t,r){this.type=e,this._input=t,this._stops=r}static parse(e,t){if(e.length<5)throw new Error('"step" expects at least 4 arguments');if(e.length%2!=1)throw new Error('"step" expects an even number of arguments');const r=ee(e[1],t,s.numberType);let n;const i=[];i.push([-1/0,ee(e[2],t)]);for(let r=3;r<e.length;r+=2){const s=e[r];if("number"!=typeof s)throw new Error('"step" requires stop inputs as literal numbers');if(i.length&&i[i.length-1][0]>=s)throw new Error('"step" requires strictly ascending stop inputs');const o=ee(e[r+1],t);n||(n=o.type),i.push([s,o])}return new M(n,r,i)}evaluate(e,t){const r=this._stops;if(1===r.length)return r[0][1].evaluate(e,t);const n=this._input.evaluate(e,t);let i=0;for(;++i<r.length&&!(n<r[i][0]););return this._stops[i-1][1].evaluate(e,t)}}class O{constructor(e,t){this.type=e,this._output=t}static parse(e,t,r){if(e.length<4)throw new Error('"let" expects at least 3 arguments');if(e.length%2==1)throw new Error('"let" expects an odd number of arguments');const n=new o(t);for(let r=1;r<e.length-1;r+=2){const i=e[r];if("string"!=typeof i)throw new Error(`"let" requires a string to define variable names - found ${i}`);n.add(i,ee(e[r+1],t))}const i=ee(e[e.length-1],n,r);return new O(i.type,i)}evaluate(e,t){return this._output.evaluate(e,t)}}class k{constructor(e,t){this.type=e,this.output=t}static parse(e,t,r){if(2!==e.length||"string"!=typeof e[1])throw new Error('"var" requires just one literal string argument');const n=t.get(e[1]);if(!n)throw new Error(`${e[1]} must be defined before being used in a "var" expression`);return new k(r||s.valueType,n)}evaluate(e,t){return this.output.evaluate(e,t)}}class E{constructor(e,t,r){this.type=e,this._index=t,this._array=r}static parse(e,t){if(3!==e.length)throw new Error('"at" expects 2 arguments');const r=ee(e[1],t,s.numberType),n=ee(e[2],t);return new E(n.type.itemType,r,n)}evaluate(e,t){const r=this._index.evaluate(e,t),n=this._array.evaluate(e,t);if(r<0||r>=n.length)throw new Error('"at" index out of bounds');if(r!==Math.floor(r))throw new Error('"at" index must be an integer');return n[r]}}class A{constructor(e,t){this._key=e,this._obj=t,this.type=s.valueType}static parse(e,t){let r,n;switch(e.length){case 2:return r=ee(e[1],t),new A(r);case 3:return r=ee(e[1],t),n=ee(e[2],t),new A(r,n);default:throw new Error('"get" expects 1 or 2 arguments')}}evaluate(e,t){const r=this._key.evaluate(e,t);return this._obj?this._obj.evaluate(e,t)[r]:e?.values[r]}}class I{constructor(e,t){this._key=e,this._obj=t,this.type=s.booleanType}static parse(e,t){let r,n;switch(e.length){case 2:return r=ee(e[1],t),new I(r);case 3:return r=ee(e[1],t),n=ee(e[2],t),new I(r,n);default:throw new Error('"has" expects 1 or 2 arguments')}}evaluate(e,t){const r=this._key.evaluate(e,t);return this._obj?r in this._obj.evaluate(e,t):!!e?.values[r]}}class D{constructor(e,t){this._key=e,this._vals=t,this.type=s.booleanType}static parse(e,t){if(3!==e.length)throw new Error('"in" expects 2 arguments');return new D(ee(e[1],t),ee(e[2],t))}evaluate(e,t){const r=this._key.evaluate(e,t);return this._vals.evaluate(e,t).includes(r)}}class N{constructor(e,t,r){this._item=e,this._array=t,this._from=r,this.type=s.numberType}static parse(e,t){if(e.length<3||e.length>4)throw new Error('"index-of" expects 3 or 4 arguments');const r=ee(e[1],t),n=ee(e[2],t);if(4===e.length){const i=ee(e[3],t,s.numberType);return new N(r,n,i)}return new N(r,n)}evaluate(e,t){const r=this._item.evaluate(e,t),n=this._array.evaluate(e,t);if(this._from){const i=this._from.evaluate(e,t);if(i!==Math.floor(i))throw new Error('"index-of" index must be an integer');return n.indexOf(r,i)}return n.indexOf(r)}}class R{constructor(e){this._arg=e,this.type=s.numberType}static parse(e,t){if(2!==e.length)throw new Error('"length" expects 2 arguments');const r=ee(e[1],t);return new R(r)}evaluate(e,t){const r=this._arg.evaluate(e,t);if("string"==typeof r)return r.length;if(Array.isArray(r))return r.length;throw new Error('"length" expects string or array')}}class C{constructor(e,t,r,n){this.type=e,this._array=t,this._from=r,this._to=n}static parse(e,t){if(e.length<3||e.length>4)throw new Error('"slice" expects 2 or 3 arguments');const r=ee(e[1],t),n=ee(e[2],t,s.numberType);if(n.type!==s.numberType)throw new Error('"slice" index must return a number');if(4===e.length){const i=ee(e[3],t,s.numberType);if(i.type!==s.numberType)throw new Error('"slice" index must return a number');return new C(r.type,r,n,i)}return new C(r.type,r,n)}evaluate(e,t){const r=this._array.evaluate(e,t);if(!Array.isArray(r)&&"string"!=typeof r)throw new Error('"slice" input must be an array or a string');const n=this._from.evaluate(e,t);if(n<0||n>=r.length)throw new Error('"slice" index out of bounds');if(n!==Math.floor(n))throw new Error('"slice" index must be an integer');if(this._to){const i=this._to.evaluate(e,t);if(i<0||i>=r.length)throw new Error('"slice" index out of bounds');if(i!==Math.floor(i))throw new Error('"slice" index must be an integer');return r.slice(n,i)}return r.slice(n)}}class L{constructor(){this.type=s.booleanType}static parse(e){if(1!==e.length)throw new Error('"has-id" expects no arguments');return new L}evaluate(e,t){return void 0!==e?.id}}class U{constructor(e,t){this._args=e,this._calculate=t,this.type=s.numberType}static parse(e,t,r){const n=e.slice(1).map(e=>ee(e,t));return new U(n,r)}evaluate(e,t){let r;return this._args&&(r=this._args.map(r=>r.evaluate(e,t))),this._calculate(r)}}class F extends U{static parse(e,t){switch(e.length){case 2:return U.parse(e,t,e=>-e[0]);case 3:return U.parse(e,t,e=>e[0]-e[1]);default:throw new Error('"-" expects 1 or 2 arguments')}}}class j extends U{static parse(e,t){return U.parse(e,t,e=>{let t=1;for(const r of e)t*=r;return t})}}class V extends U{static parse(e,t){if(3===e.length)return U.parse(e,t,e=>e[0]/e[1]);throw new Error('"/" expects 2 arguments')}}class B extends U{static parse(e,t){if(3===e.length)return U.parse(e,t,e=>e[0]%e[1]);throw new Error('"%" expects 2 arguments')}}class z extends U{static parse(e,t){if(3===e.length)return U.parse(e,t,e=>e[0]**e[1]);throw new Error('"^" expects 1 or 2 arguments')}}class G extends U{static parse(e,t){return U.parse(e,t,e=>{let t=0;for(const r of e)t+=r;return t})}}class q{constructor(e,t){this._args=e,this._calculate=t,this.type=s.numberType}static{this.ops={abs:e=>Math.abs(e[0]),acos:e=>Math.acos(e[0]),asin:e=>Math.asin(e[0]),atan:e=>Math.atan(e[0]),ceil:e=>Math.ceil(e[0]),cos:e=>Math.cos(e[0]),e:()=>Math.E,floor:e=>Math.floor(e[0]),ln:e=>Math.log(e[0]),ln2:()=>Math.LN2,log10:e=>Math.log(e[0])/Math.LN10,log2:e=>Math.log(e[0])/Math.LN2,max:e=>Math.max(...e),min:e=>Math.min(...e),pi:()=>Math.PI,round:e=>Math.round(e[0]),sin:e=>Math.sin(e[0]),sqrt:e=>Math.sqrt(e[0]),tan:e=>Math.tan(e[0])}}static parse(e,t){const r=e.slice(1).map(e=>ee(e,t));return new q(r,q.ops[e[0]])}evaluate(e,t){let r;return this._args&&(r=this._args.map(r=>r.evaluate(e,t))),this._calculate(r)}}class W{constructor(e){this._args=e,this.type=s.stringType}static parse(e,t){return new W(e.slice(1).map(e=>ee(e,t)))}evaluate(e,t){return this._args.map(r=>r.evaluate(e,t)).join("")}}class ${constructor(e,t){this._arg=e,this._calculate=t,this.type=s.stringType}static{this.ops={downcase:e=>e.toLowerCase(),upcase:e=>e.toUpperCase()}}static parse(e,t){if(2!==e.length)throw new Error(`${e[0]} expects 1 argument`);const r=ee(e[1],t);return new $(r,$.ops[e[0]])}evaluate(e,t){return this._calculate(this._arg.evaluate(e,t))}}class H{constructor(e){this._args=e,this.type=s.colorType}static parse(e,t){if(4!==e.length)throw new Error('"rgb" expects 3 arguments');const r=e.slice(1).map(e=>ee(e,t));return new H(r)}evaluate(e,r){const n=this._validate(this._args[0].evaluate(e,r)),i=this._validate(this._args[1].evaluate(e,r)),s=this._validate(this._args[2].evaluate(e,r));return new t({r:n,g:i,b:s})}_validate(e){if("number"!=typeof e||e<0||e>255)throw new Error(`${e}: invalid color component`);return Math.round(e)}}class Z{constructor(e){this._args=e,this.type=s.colorType}static parse(e,t){if(5!==e.length)throw new Error('"rgba" expects 4 arguments');const r=e.slice(1).map(e=>ee(e,t));return new Z(r)}evaluate(e,r){const n=this._validate(this._args[0].evaluate(e,r)),i=this._validate(this._args[1].evaluate(e,r)),s=this._validate(this._args[2].evaluate(e,r)),o=this._validateAlpha(this._args[3].evaluate(e,r));return new t({r:n,g:i,b:s,a:o})}_validate(e){if("number"!=typeof e||e<0||e>255)throw new Error(`${e}: invalid color component`);return Math.round(e)}_validateAlpha(e){if("number"!=typeof e||e<0||e>1)throw new Error(`${e}: invalid alpha color component`);return e}}class J{constructor(e){this._color=e,this.type=s.arrayType(s.numberType,4)}static parse(e,t){if(2!==e.length)throw new Error('"to-rgba" expects 1 argument');const r=ee(e[1],t);return new J(r)}evaluate(e,r){return new t(this._color.evaluate(e,r)).toRgba()}}class Y{constructor(e,t){this.type=e,this._args=t}static parse(e,t){const r=e[0];if(e.length<2)throw new Error(`${r} expects at least one argument`);let n,i=1;if("array"===r){if(e.length>2){switch(e[1]){case"string":n=s.stringType;break;case"number":n=s.numberType;break;case"boolean":n=s.booleanType;break;default:throw new Error('"array" type argument must be string, number or boolean')}i++}else n=s.valueType;let t;if(e.length>3){if(t=e[2],null!==t&&("number"!=typeof t||t<0||t!==Math.floor(t)))throw new Error('"array" length argument must be a positive integer literal');i++}n=s.arrayType(n,t)}else switch(r){case"string":n=s.stringType;break;case"number":n=s.numberType;break;case"boolean":n=s.booleanType;break;case"object":n=s.objectType}const o=[];for(;i<e.length;i++){const r=ee(e[i],t);o.push(r)}return new Y(n,o)}evaluate(e,t){let r;for(const n of this._args){const i=n.evaluate(e,t);if(r=s.getType(i),s.matchType(r,this.type))return i}throw new Error(`Expected ${s.typeToString(this.type)} but got ${s.typeToString(r)}`)}}class K{static{this.types={"to-boolean":s.booleanType,"to-color":s.colorType,"to-number":s.numberType,"to-string":s.stringType}}constructor(e,t){this.type=e,this._args=t}static parse(e,t){const r=e[0],n=K.types[r];if(n===s.booleanType||n===s.stringType){if(2!==e.length)throw new Error(`${r} expects one argument`)}else if(e.length<2)throw new Error(`${r} expects at least one argument`);const i=[];for(let r=1;r<e.length;r++){const n=ee(e[r],t);i.push(n)}return new K(n,i)}evaluate(e,r){if(this.type===s.booleanType)return Boolean(this._args[0].evaluate(e,r));if(this.type===s.stringType)return s.valueToString(this._args[0].evaluate(e,r));if(this.type===s.numberType){for(const t of this._args){const n=Number(t.evaluate(e,r));if(!isNaN(n))return n}return null}if(this.type===s.colorType){for(const n of this._args)try{const i=K.toColor(n.evaluate(e,r));if(i instanceof t)return i}catch{}return null}}static toBoolean(e){return Boolean(e)}static toString(e){return s.valueToString(e)}static toNumber(e){const t=Number(e);if(isNaN(t))throw new Error(`"${e}" is not a number`);return t}static toColor(e){if(e instanceof t)return e;if("string"==typeof e){const r=t.fromString(e);if(r)return r;throw new Error(`"${e}" is not a color`)}if(Array.isArray(e))return t.fromArray(e);throw new Error(`"${e}" is not a color`)}}class X{constructor(e){this._val=e,this.type=s.getType(e)}static parse(e){if(2!==e.length)throw new Error('"literal" expects 1 argument');return new X(e[1])}evaluate(e,t){return this._val}}class Q{constructor(e){this._arg=e,this.type=s.stringType}static parse(e,t){if(2!==e.length)throw new Error('"typeof" expects 1 argument');return new Q(ee(e[1],t))}evaluate(e,t){return s.typeToString(s.getType(this._arg.evaluate(e,t)))}}function ee(e,t,r){const n=typeof e;if("string"===n||"boolean"===n||"number"===n||null===e){if(r)switch(r.kind){case"string":"string"!==n&&(e=K.toString(e));break;case"number":"number"!==n&&(e=K.toNumber(e));break;case"color":e=K.toColor(e)}e=["literal",e]}if(!Array.isArray(e)||0===e.length)throw new Error("Expression must be a non empty array");const i=e[0];if("string"!=typeof i)throw new Error("First element of expression must be a string");const s=te[i];if(void 0===s)throw new Error(`Invalid expression operator "${i}"`);if(!s)throw new Error(`Unimplemented expression operator "${i}"`);return s.parse(e,t,r)}const te={array:Y,boolean:Y,collator:null,format:null,image:null,literal:X,number:Y,"number-format":null,object:Y,string:Y,"to-boolean":K,"to-color":K,"to-number":K,"to-string":K,typeof:Q,accumulated:null,"feature-state":null,"geometry-type":l,id:a,"line-progress":null,properties:u,at:E,get:A,has:I,in:D,"index-of":N,length:R,slice:C,"!":_,"!=":d,"<":p,"<=":m,"==":f,">":y,">=":g,all:b,any:x,case:T,coalesce:S,match:v,within:null,interpolate:P,"interpolate-hcl":P,"interpolate-lab":P,step:M,let:O,var:k,concat:W,downcase:$,"is-supported-script":null,"resolved-locale":null,upcase:$,rgb:H,rgba:Z,"to-rgba":J,"-":F,"*":j,"/":V,"%":B,"^":z,"+":G,abs:q,acos:q,asin:q,atan:q,ceil:q,cos:q,e:q,floor:q,ln:q,ln2:q,log10:q,log2:q,max:q,min:q,pi:q,round:q,sin:q,sqrt:q,tan:q,zoom:c,"heatmap-density":null,"has-id":L,none:w};e.ALL=b,e.ANY=x,e.Add=G,e.Assert=Y,e.At=E,e.Calculate=q,e.Case=T,e.Coalesce=S,e.Coerce=K,e.Concat=W,e.Div=V,e.EQ=f,e.GE=g,e.GT=y,e.GeomType=l,e.Get=A,e.Has=I,e.HasID=L,e.ID=a,e.In=D,e.IndexOf=N,e.Interpolate=P,e.LE=m,e.LT=p,e.Length=R,e.Let=O,e.Literal=X,e.Match=v,e.Mod=B,e.Mul=j,e.NE=d,e.NONE=w,e.NOT=_,e.Pow=z,e.Properties=u,e.Rgb=H,e.Rgba=Z,e.Slice=C,e.Step=M,e.String=$,e.Sub=F,e.ToRgba=J,e.TypeOf=Q,e.Var=k,e.Zoom=c,e.createExpression=ee,e.ops=te,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/Color":function(){define(["./colorUtils","./core/mathUtils","./core/accessorSupport/ensureType"],function(e,t,r){"use strict";function n(e){return t.clamp(r.ensureInteger(e),0,255)}function i(e,t){const r=e.toString(16).padStart(2,"0");return t?r.slice(0,1):r}class s{static blendColors(e,t,r,n=new s){return n.r=Math.round(e.r+(t.r-e.r)*r),n.g=Math.round(e.g+(t.g-e.g)*r),n.b=Math.round(e.b+(t.b-e.b)*r),n.a=e.a+(t.a-e.a)*r,n._sanitize()}static fromRgb(t,r){const n=e.cssToRgba(t);return n?s.fromArray(n,r):null}static fromHex(t,r=new s){const n=e.cssHexToRgba(t);return n?s.fromArray(n,r):null}static fromArray(e,t=new s){return t._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(t.a)&&(t.a=1),t._sanitize()}static fromString(t,r){const n=e.parseRgba(t);return n?s.fromArray(n,r):null}static fromJSON(e){return null!=e?new s([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return null!=e?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return null!=e?[e.r/255,e.g/255,e.b/255,null!=e.a?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return.299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return"string"==typeof e?s.fromString(e,this):Array.isArray(e)?s.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof s||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const t=e?.capitalize??!1,r=e?.digits??6,n=3===r||4===r,s=4===r||8===r,o=`#${i(this.r,n)}${i(this.g,n)}${i(this.b,n)}${s?i(Math.round(255*this.a),n):""}`;return t?o.toUpperCase():o}toCss(e=!1){const t=this.r+", "+this.g+", "+this.b;return e?`rgba(${t}, ${this.a})`:`rgb(${t})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const t=n(this.r),r=n(this.g),i=n(this.b);return 0===e||1!==this.a?[t,r,i,n(255*this.a)]:[t,r,i]}clone(){return new s(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return null!=e&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=e.sanitizeRgbComponent(this.r),this.g=e.sanitizeRgbComponent(this.g),this.b=e.sanitizeRgbComponent(this.b),this.a=e.sanitizeAlpha(this.a),this}_set(e,t,r,n){this.r=e,this.g=t,this.b=r,this.a=n}}return s.prototype.declaredClass="esri.Color",s})},"esri/colorUtils":function(){define(["exports"],function(e){"use strict";const t={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function r(e){return!!t[e]||!!t[e.toLowerCase()]}function n(e){return t[e]??t[e.toLowerCase()]}function i(e,t,r){r<0&&++r,r>1&&--r;const n=6*r;return n<1?e+(t-e)*n:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}function s(e,t,r,n=1){const s=(e%360+360)%360/360,o=r<=.5?r*(t+1):r+t-r*t,a=2*r-o;return[Math.round(255*i(a,o,s+1/3)),Math.round(255*i(a,o,s)),Math.round(255*i(a,o,s-1/3)),n]}function o(e){if(!e.startsWith("#")||isNaN(Number(`0x${e.slice(1)}`)))return null;switch(e.length){case 4:case 5:{const t=parseInt(e.slice(1,2),16),r=parseInt(e.slice(2,3),16),n=parseInt(e.slice(3,4),16),i=4===e.length?15:parseInt(e.slice(4),16);return[t+16*t,r+16*r,n+16*n,(i+16*i)/255]}case 7:case 9:return[parseInt(e.slice(1,3),16),parseInt(e.slice(3,5),16),parseInt(e.slice(5,7),16),(7===e.length?255:parseInt(e.slice(7),16))/255];default:return null}}function a(e){const t=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(t){const e=t[2].split(/\s*,\s*/),r=t[1];if("rgb"===r&&3===e.length||"rgba"===r&&4===e.length){if(e[0].endsWith("%")){const t=e.map(e=>2.56*parseFloat(e));return 4===e.length&&(t[3]=parseFloat(e[3])),l(t)}return l(e.map(e=>parseFloat(e)))}if("hsl"===r&&3===e.length||"hsla"===r&&4===e.length)return s(parseFloat(e[0]),parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3]??"1"))}return null}function l(e){return e[0]=h(e[0]),e[1]=h(e[1]),e[2]=h(e[2]),e[3]=4===e.length?c(e[3]):1,e}function u(e){let t=r(e)?n(e):null;return t??=a(e),t??=o(e),t}function c(e){return f(e,0,1)}function h(e){return Math.round(f(e,0,255))}function f(e,t,r){return e=Number(e),isNaN(e)?r:e<t?t:e>r?r:e}e.colorGamma=2.2,e.cssHexToRgba=o,e.cssToRgba=a,e.getNamedColor=n,e.getNamedColorCopy=function(e){return[...n(e)]},e.hexToRgba=function(e){const t=e.length>5,r=t?8:4,n=(1<<r)-1,i=t?1:17,s=t?9===e.length:5===e.length;let o=Number("0x"+e.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&n,o>>=r,a[3]=i*l/255),l=o&n,o>>=r,a[2]=i*l,l=o&n,o>>=r,a[1]=i*l,l=o&n,o>>=r,a[0]=i*l,a},e.hslaToRgba=s,e.isNamedColor=r,e.parseRgba=u,e.parseToUnitRgba=function(e){const t=u(e);return null!=t?[t[0]/255,t[1]/255,t[2]/255,t[3]]:null},e.sanitizeAlpha=c,e.sanitizeRgbComponent=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/colorUtils":function(){define(["exports","../Color","./arrayUtils","./lang","./mathUtils","../chunks/vec42","./libs/gl-matrix-2/factories/vec4f64"],function(e,t,r,n,i,s,o){"use strict";function a(e){return"r"in e&&"g"in e&&"b"in e}function l(e){return"h"in e&&"s"in e&&"v"in e}function u(e){return"l"in e&&"a"in e&&"b"in e}function c(e){return"l"in e&&"c"in e&&"h"in e}const h=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],f=[[3.2406,-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];function d(e,t){const r=[];let n,i;if(e[0].length!==t.length)throw new Error("dimensions do not match");const s=e.length,o=e[0].length;let a=0;for(n=0;n<s;n++){for(a=0,i=0;i<o;i++)a+=e[n][i]*t[i];r.push(a)}return r}function p(e){const t=[e.r/255,e.g/255,e.b/255].map(e=>e<=.04045?e/12.92:((e+.055)/1.055)**2.4),r=d(h,t);return{x:100*r[0],y:100*r[1],z:100*r[2]}}function m(e){const t=d(f,[e.x/100,e.y/100,e.z/100]).map(e=>{const t=e<=.0031308?12.92*e:1.055*e**(1/2.4)-.055;return Math.min(1,Math.max(t,0))});return{r:Math.round(255*t[0]),g:Math.round(255*t[1]),b:Math.round(255*t[2])}}function y(e){const t=[e.x/95.047,e.y/100,e.z/108.883].map(e=>e>(6/29)**3?e**(1/3):1/3*(29/6)**2*e+4/29);return{l:116*t[1]-16,a:500*(t[0]-t[1]),b:200*(t[1]-t[2])}}function g(e){const t=e.l,r=[(t+16)/116+e.a/500,(t+16)/116,(t+16)/116-e.b/200].map(e=>e>6/29?e**3:3*(6/29)**2*(e-4/29));return{x:95.047*r[0],y:100*r[1],z:108.883*r[2]}}function _(e){return a(e)?e:c(e)?function(e){return m(g(function(e){const t=e.l,r=e.c,n=e.h;return{l:t,a:r*Math.cos(n),b:r*Math.sin(n)}}(e)))}(e):u(e)?function(e){return m(g(e))}(e):function(e){return"x"in e&&"y"in e&&"z"in e}(e)?m(e):l(e)?function(e){const t=(e.h+360)%360/60,r=e.s/100,n=e.v/100*255,i=n*r,s=i*(1-Math.abs(t%2-1));let o;switch(Math.floor(t)){case 0:o={r:i,g:s,b:0};break;case 1:o={r:s,g:i,b:0};break;case 2:o={r:0,g:i,b:s};break;case 3:o={r:0,g:s,b:i};break;case 4:o={r:s,g:0,b:i};break;case 5:case 6:o={r:i,g:0,b:s};break;default:o={r:0,g:0,b:0}}return o.r=Math.round(o.r+n-i),o.g=Math.round(o.g+n-i),o.b=Math.round(o.b+n-i),o}(e):e}function b(e){return l(e)?e:function(e){const t=e.r,r=e.g,n=e.b,i=Math.max(t,r,n),s=i-Math.min(t,r,n);let o=i,a=0===s?0:i===t?(r-n)/s%6:i===r?(n-t)/s+2:(t-r)/s+4,l=0===s?0:s/o;return a<0&&(a+=6),a*=60,l*=100,o*=100/255,{h:a,s:l,v:o}}(_(e))}function x(e){return u(e)?e:function(e){return y(p(e))}(_(e))}function w(e){let{r,g:n,b:i,a:s}=e;return s<1&&(r=Math.round(s*r+255*(1-s)),n=Math.round(s*n+255*(1-s)),i=Math.round(s*i+255*(1-s))),new t({r,g:n,b:i})}function T(e,t){const{r,g:n,b:i}=t?.ignoreAlpha?e:w(e);return.2126*r+.7152*n+.0722*i}function S(e){return e[0]??=0,e[1]??=0,e[2]??=0,e}const v=(e,t)=>{const r=Math.floor(10*t())-5;return Math.min(255,Math.max(0,e+r))};function P(e,n,i,s={}){const o=e.r,a=e.g,l=e.b,u=n.r,c=n.g,h=n.b,f=Math.round(o+(u-o)*i),d=Math.round(a+(c-a)*i),p=Math.round(l+(h-l)*i);if(!s.offset)return new t([f,d,p]);const m=r.getRandomNumberGenerator(s.seed);return new t([v(f,m),v(d,m),v(p,m)])}e.colorEquals=function(e,t){return e===t||null!=e&&e.equals(t)},e.colorVectorEquals=function(e,t){return e===t||null!=e&&null!=t&&s.equals(e,t)},e.colorVectorToColorAndOpacity=function(e){return o.fromValues(e[0],e[1],e[2],e.length>3?e[3]:1)},e.createUniqueColors=function(e,i,s={}){if(0===e.length||i<=0)return[];if(1===(e=e.map(e=>"string"==typeof e?new t(e):e)).length||1===i){const t=[],r=e[0];for(let e=0;e<i;e++)t.push(r.clone());return t}if(s.shuffle&&(e=r.shuffle(n.clone(e),s.seed)),e.length>=i){const t=[],r=(e.length-1)/(i-1);for(let n=0;n<i;n++){const i=Math.round(n*r);t.push(e[i].clone())}return t}return function(e,t,n={}){const i=[],s=e.length-1,o=Math.ceil((t-e.length)/s);e:for(let r=0;r<s;r++){const s=e[r],a=e[r+1];for(let r=1;r<=o;r++){const l=r/(o+1);if(i.push(P(s,a,l,n)),i.length+e.length===t)break e}}return[...e.map(e=>e.clone()),...r.shuffle(i,n.seed??1)]}(e,i,s)},e.darken=function(e,t){const r=x(e);r.l*=1-t;const n=_(r),i=e.clone();return i.setColor(n),i.a=e.a,i},e.desaturate=function(e,t){const r=b(e);r.s*=t;const n=_(r),i=e.clone();return i.setColor(n),i.a=e.a,i},e.getColorLuminance=T,e.getColorTheme=function(e){return w(e).isBright?"light":"dark"},e.getContrast=function(e,r=225){return T(e,{ignoreAlpha:!0})>r?new t([0,0,0,e.a]):new t([255,255,255,e.a])},e.isRGB=a,e.multiplyOpacity=function(e,t){const r=e.clone();return r.a*=t,r},e.multiplyOpacityToUnitRGBA=function(e,r){const n=t.toUnitRGBA(e);return n[3]*=r,n},e.toHSV=b,e.toLAB=x,e.toLCH=function(e){return c(e)?e:function(e){return function(e){const t=e.l,r=e.a,n=e.b,i=Math.sqrt(r*r+n*n);let s=Math.atan2(n,r);return s=s>0?s:s+2*Math.PI,{l:t,c:i,h:s}}(y(p(e)))}(_(e))},e.toRGB=_,e.unitRGBAFromColor=function(e){return t.toUnitRGBA(e)},e.validateColor=S,e.validateColorAndOpacity=function(e){return e.length=4,S(e),e[3]??=1,i.clamp(e[3],0,1),e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec42":function(){define(["exports","../core/libs/gl-matrix-2/math/common"],function(e,t){"use strict";function r(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function n(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function i(e,t,r,n,i){return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}function s(e,t,r){return e[0]=t[0]+r[0],e[1]=t[1]+r[1],e[2]=t[2]+r[2],e[3]=t[3]+r[3],e}function o(e,t,r){return e[0]=t[0]-r[0],e[1]=t[1]-r[1],e[2]=t[2]-r[2],e[3]=t[3]-r[3],e}function a(e,t,r){return e[0]=t[0]*r[0],e[1]=t[1]*r[1],e[2]=t[2]*r[2],e[3]=t[3]*r[3],e}function l(e,t,r){return e[0]=t[0]/r[0],e[1]=t[1]/r[1],e[2]=t[2]/r[2],e[3]=t[3]/r[3],e}function u(e,t){return e[0]=Math.ceil(t[0]),e[1]=Math.ceil(t[1]),e[2]=Math.ceil(t[2]),e[3]=Math.ceil(t[3]),e}function c(e,t){return e[0]=Math.floor(t[0]),e[1]=Math.floor(t[1]),e[2]=Math.floor(t[2]),e[3]=Math.floor(t[3]),e}function h(e,t,r){return e[0]=Math.min(t[0],r[0]),e[1]=Math.min(t[1],r[1]),e[2]=Math.min(t[2],r[2]),e[3]=Math.min(t[3],r[3]),e}function f(e,t,r){return e[0]=Math.max(t[0],r[0]),e[1]=Math.max(t[1],r[1]),e[2]=Math.max(t[2],r[2]),e[3]=Math.max(t[3],r[3]),e}function d(e,t){return e[0]=Math.round(t[0]),e[1]=Math.round(t[1]),e[2]=Math.round(t[2]),e[3]=Math.round(t[3]),e}function p(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function m(e,t,r,n){return e[0]=t[0]+r[0]*n,e[1]=t[1]+r[1]*n,e[2]=t[2]+r[2]*n,e[3]=t[3]+r[3]*n,e}function y(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return Math.sqrt(r*r+n*n+i*i+s*s)}function g(e,t){const r=t[0]-e[0],n=t[1]-e[1],i=t[2]-e[2],s=t[3]-e[3];return r*r+n*n+i*i+s*s}function _(e){const t=e[0],r=e[1],n=e[2],i=e[3];return Math.sqrt(t*t+r*r+n*n+i*i)}function b(e){const t=e[0],r=e[1],n=e[2],i=e[3];return t*t+r*r+n*n+i*i}function x(e,t){return e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=-t[3],e}function w(e,t){return e[0]=1/t[0],e[1]=1/t[1],e[2]=1/t[2],e[3]=1/t[3],e}function T(e,t){const r=t[0],n=t[1],i=t[2],s=t[3];let o=r*r+n*n+i*i+s*s;return o>0&&(o=1/Math.sqrt(o),e[0]=r*o,e[1]=n*o,e[2]=i*o,e[3]=s*o),e}function S(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function v(e,t,r,n){const i=t[0],s=t[1],o=t[2],a=t[3];return e[0]=i+n*(r[0]-i),e[1]=s+n*(r[1]-s),e[2]=o+n*(r[2]-o),e[3]=a+n*(r[3]-a),e}function P(e,r=1){const n=t.RANDOM;let i,s,o,a,l,u;do{i=2*n()-1,s=2*n()-1,l=i*i+s*s}while(l>=1);do{o=2*n()-1,a=2*n()-1,u=o*o+a*a}while(u>=1);const c=Math.sqrt((1-l)/u);return e[0]=r*i,e[1]=r*s,e[2]=r*o*c,e[3]=r*a*c,e}function M(e,t,r){const n=t[0],i=t[1],s=t[2],o=t[3];return e[0]=r[0]*n+r[4]*i+r[8]*s+r[12]*o,e[1]=r[1]*n+r[5]*i+r[9]*s+r[13]*o,e[2]=r[2]*n+r[6]*i+r[10]*s+r[14]*o,e[3]=r[3]*n+r[7]*i+r[11]*s+r[15]*o,e}function O(e,t,r){const n=t[0],i=t[1],s=t[2],o=r[0],a=r[1],l=r[2],u=r[3],c=u*n+a*s-l*i,h=u*i+l*n-o*s,f=u*s+o*i-a*n,d=-o*n-a*i-l*s;return e[0]=c*u+d*-o+h*-l-f*-a,e[1]=h*u+d*-a+f*-o-c*-l,e[2]=f*u+d*-l+c*-a-h*-o,e[3]=t[3],e}function k(e){return"vec4("+e[0]+", "+e[1]+", "+e[2]+", "+e[3]+")"}function E(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]}function A(e,r){const n=e[0],i=e[1],s=e[2],o=e[3],a=r[0],l=r[1],u=r[2],c=r[3],h=t.getEpsilon();return Math.abs(n-a)<=h*Math.max(1,Math.abs(n),Math.abs(a))&&Math.abs(i-l)<=h*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-u)<=h*Math.max(1,Math.abs(s),Math.abs(u))&&Math.abs(o-c)<=h*Math.max(1,Math.abs(o),Math.abs(c))}const I=o,D=a,N=l,R=y,C=g,L=_,U=b,F=Object.freeze(Object.defineProperty({__proto__:null,add:s,ceil:u,copy:r,copyVec3:n,dist:R,distance:y,div:N,divide:l,dot:S,equals:A,exactEquals:E,floor:c,inverse:w,len:L,length:_,lerp:v,max:f,min:h,mul:D,multiply:a,negate:x,normalize:T,random:P,round:d,scale:p,scaleAndAdd:m,set:i,sqrDist:C,sqrLen:U,squaredDistance:g,squaredLength:b,str:k,sub:I,subtract:o,transformMat4:M,transformQuat:O},Symbol.toStringTag,{value:"Module"}));e.add=s,e.ceil=u,e.copy=r,e.copyVec3=n,e.dist=R,e.distance=y,e.div=N,e.divide=l,e.dot=S,e.equals=A,e.exactEquals=E,e.floor=c,e.inverse=w,e.len=L,e.length=_,e.lerp=v,e.max=f,e.min=h,e.mul=D,e.multiply=a,e.negate=x,e.normalize=T,e.random=P,e.round=d,e.scale=p,e.scaleAndAdd=m,e.set=i,e.sqrDist=C,e.sqrLen=U,e.squaredDistance=g,e.squaredLength=b,e.str=k,e.sub=I,e.subtract=o,e.transformMat4=M,e.transformQuat=O,e.vec4=F})},"esri/core/libs/gl-matrix-2/math/common":function(){define(["exports"],function(e){"use strict";let t=1e-6;function r(){return t}function n(e){t=e}const i=Math.random,s=Math.PI/180,o=180/Math.PI;function a(e){return e*s}function l(e){return e*o}function u(e,r){return Math.abs(e-r)<=t*Math.max(1,Math.abs(e),Math.abs(r))}const c=Object.freeze(Object.defineProperty({__proto__:null,RANDOM:i,equals:u,getEpsilon:r,setEpsilon:n,toDegree:l,toRadian:a},Symbol.toStringTag,{value:"Module"}));e.RANDOM=i,e.common=c,e.equals=u,e.getEpsilon=r,e.setEpsilon=n,e.toDegree=l,e.toRadian=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec4f64":function(){define(["exports"],function(e){"use strict";function t(){return[0,0,0,0]}function r(e){return[e[0],e[1],e[2],e[3]]}function n(e,t,r,n){return[e,t,r,n]}function i(e,t,r,n){return[e,t,r,n]}function s(e,t=[0,0,0,0]){const r=Math.min(4,e.length);for(let n=0;n<r;++n)t[n]=e[n];return t}function o(){return[0,0,0,0]}function a(){return n(1,1,1,1)}function l(){return n(1,0,0,0)}function u(){return n(0,1,0,0)}function c(){return n(0,0,1,0)}function h(){return n(0,0,0,1)}const f=[0,0,0,0],d=a(),p=l(),m=u(),y=c(),g=h(),_=Object.freeze(Object.defineProperty({__proto__:null,ONES:d,UNIT_W:g,UNIT_X:p,UNIT_Y:m,UNIT_Z:y,ZEROS:f,clone:r,create:t,freeze:i,fromArray:s,fromValues:n,ones:a,unitW:h,unitX:l,unitY:u,unitZ:c,zeros:o},Symbol.toStringTag,{value:"Module"}));e.ONES=d,e.UNIT_W=g,e.UNIT_X=p,e.UNIT_Y=m,e.UNIT_Z=y,e.ZEROS=f,e.clone=r,e.create=t,e.freeze=i,e.fromArray=s,e.fromValues=n,e.ones=a,e.unitW=h,e.unitX=l,e.unitY=u,e.unitZ=c,e.vec4f64=_,e.zeros=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(e){"use strict";function t(e,t,r,n){const i=3*e,s=3*(r-e)-i,o=1-i-s,a=3*t,l=3*(n-t)-a,u=1-a-l;function c(e){return((o*e+s)*e+i)*e}function h(e){return(3*o*e+2*s)*e+i}return function(e,t=1e-6){return r=function(e,t){let r,n,i,s,o,a;for(i=e,a=0;a<8;a++){if(s=c(i)-e,Math.abs(s)<t)return i;if(o=h(i),Math.abs(o)<1e-6)break;i-=s/o}if(r=0,n=1,i=e,i<r)return r;if(i>n)return n;for(;r<n;){if(s=c(i),Math.abs(s-e)<t)return i;e>s?r=i:n=i,i=.5*(n-r)+r}return i}(e,t),((u*r+l)*r+a)*r;var r}}const r=/^cubic-bezier\((.*)\)/,n={};n.ease=t(.25,.1,.25,1),n.linear=t(0,0,1,1),n.easeIn=n["ease-in"]=t(.42,0,1,1),n.easeOut=n["ease-out"]=t(0,0,.58,1),n.easeInOut=n["ease-in-out"]=t(.42,0,.58,1),e.easingFunctions=n,e.parse=function(e){let i=n[e]||null;if(!i){const n=r.exec(e);if(n){const e=n[1].split(",").map(e=>parseFloat(e.trim()));4!==e.length||e.some(e=>isNaN(e))||(i=t.apply(t,e))}}return i},e.unitBezier=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(e,t){"use strict";const r={kind:"null"},n={kind:"number"},i={kind:"string"},s={kind:"boolean"},o={kind:"color"},a={kind:"object"},l={kind:"value"};function u(e,t){return{kind:"array",itemType:e,n:t}}const c=[r,n,i,s,o,a,u(l)];e.arrayType=u,e.booleanType=s,e.colorType=o,e.getType=function e(c){if(null===c)return r;if("string"==typeof c)return i;if("boolean"==typeof c)return s;if("number"==typeof c)return n;if(c instanceof t)return o;if(Array.isArray(c)){let t;for(const r of c){const n=e(r);if(t){if(t!==n){t=l;break}}else t=n}return u(t||l,c.length)}return"object"==typeof c?a:l},e.matchType=function e(t,r){if("array"===r.kind)return"array"===t.kind&&(0===t.n&&"value"===t.itemType.kind||e(t.itemType,r.itemType))&&("number"!=typeof r.n||r.n===t.n);if("value"===r.kind)for(const r of c)if(e(t,r))return!0;return r.kind===t.kind},e.nullType=r,e.numberType=n,e.objectType=a,e.stringType=i,e.typeToString=function e(t){if("array"===t.kind){const r=e(t.itemType);return"number"==typeof t.n?`array<${r}, ${t.n}>`:"value"===t.itemType.kind?"array":`array<${r}>`}return t.kind},e.valueToString=function(e){if(null===e)return"";const r=typeof e;return"string"===r?e:"number"===r||"boolean"===r?String(e):e instanceof t?e.toString():JSON.stringify(e)},e.valueType=l,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports"],function(e){"use strict";class t{static{this.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}}}static{this.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}}}static{this.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},"line-cap":{type:"enum",values:["butt","round","square"],default:0},"line-join":{type:"enum",values:["bevel","round","miter"],default:2},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}}}static{this.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0},"symbol-avoid-edges":{type:"boolean",default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:0},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:0},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:0},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:2},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:2},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:0},"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[0]}}}static{this.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:0}}}static{this.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}}}static{this.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:0}}}static{this.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"line-width":{type:"number",minimum:0,default:1}}}static{this.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:0},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:0}}}static{this.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}}}static{this.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:0}}}}e.StyleDefinition=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../../../../../colorUtils","../GeometryUtils","../expression/expression","../expression/types"],function(e,t,r,n,i){"use strict";class s{constructor(e,t){let r;switch(this.isDataDriven=!1,this.interpolator=null,e.type){case"number":case"color":r=!0;break;case"array":r="number"===e.value;break;default:r=!1}if((null==t||""===t&&"color"===e.type)&&(t=e.default),Array.isArray(t)&&t.length>0&&n.ops[t[0]]){const r={number:i.numberType,color:i.colorType,string:i.stringType,boolean:i.booleanType,enum:i.stringType};try{const s="array"===e.type?i.arrayType(r[e.value]||i.valueType,e.length):r[e.type],o=n.createExpression(t,null,s);this.getValue=this._buildExpression(o,e),this.isDataDriven=!0,o instanceof n.Interpolate&&o.input instanceof n.Zoom&&(this.interpolator=o)}catch(t){console.log(t.message),this.getValue=this._buildSimple(e.default)}return}r&&"interval"===t.type&&(r=!1);const s=t?.stops&&t.stops.length>0;if(s)for(const r of t.stops)r[1]=this._validate(r[1],e);if(this.isDataDriven=!!t&&!!t.property,this.isDataDriven)if(void 0!==t.default&&(t.default=this._validate(t.default,e)),s)switch(t.type){case"identity":this.getValue=this._buildIdentity(t,e);break;case"categorical":this.getValue=this._buildCategorical(t,e);break;default:this.getValue=r?this._buildInterpolate(t,e):this._buildInterval(t,e)}else this.getValue=this._buildIdentity(t,e);else s?this.getValue=r?this._buildZoomInterpolate(t):this._buildZoomInterval(t):(t=this._validate(t,e),this.getValue=this._buildSimple(t))}_validate(e,t){if("number"===t.type){if(null!=t.minimum&&e<t.minimum)return t.minimum;if(null!=t.maximum&&e>t.maximum)return t.maximum}else"color"===t.type?e=s._parseColor(e):"enum"===t.type?"string"==typeof e&&(e=t.values.indexOf(e)):"array"===t.type&&"enum"===t.value?e=e.map(e=>"string"==typeof e?t.values.indexOf(e):e):"string"===t.type&&(e=i.valueToString(e));return e}_buildSimple(e){return()=>e}_buildExpression(e,t){return(r,n)=>{try{const i=e.evaluate(n,r);return void 0===i?t.default:this._validate(i,t)}catch(e){return console.log(e.message),t.default}}}_buildIdentity(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),void 0!==i&&(i=this._validate(i,t)),null!=i?i:void 0!==e.default?e.default:t.default}}_buildCategorical(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),i=this._categorical(i,e.stops),void 0!==i?i:void 0!==e.default?e.default:t.default}}_buildInterval(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),"number"==typeof i?this._interval(i,e.stops):void 0!==e.default?e.default:t.default}}_buildInterpolate(e,t){return(r,n)=>{let i;return n&&(i=n.values[e.property]),"number"==typeof i?this._interpolate(i,e.stops,e.base||1):void 0!==e.default?e.default:t.default}}_buildZoomInterpolate(e){return t=>this._interpolate(t,e.stops,e.base||1)}_buildZoomInterval(e){return t=>this._interval(t,e.stops)}_categorical(e,t){const r=t.length;for(let n=0;n<r;n++)if(t[n][0]===e)return t[n][1]}_interval(e,t){const r=t.length;let n=0;for(let i=0;i<r&&t[i][0]<=e;i++)n=i;return t[n][1]}_interpolate(e,t,n){let i,s;const o=t.length;for(let r=0;r<o;r++){const n=t[r];if(!(n[0]<=e)){s=n;break}i=n}if(i&&s){const t=s[0]-i[0],o=e-i[0],a=1===n?o/t:(n**o-1)/(n**t-1);if(Array.isArray(i[1])){const e=i[1],t=s[1],n=[];for(let i=0;i<e.length;i++)n.push(r.interpolate(e[i],t[i],a));return n}return r.interpolate(i[1],s[1],a)}return i?i[1]:s?s[1]:void 0}static _isEmpty(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0}static _parseColor(r){return Array.isArray(r)?r:"string"==typeof r?t.parseToUnitRgba(r)??void 0:r instanceof e&&!this._isEmpty(r)?e.toUnitRGBA(r):void 0}}return s})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["../../../../../core/lang","./StyleLayer"],function(e,t){"use strict";class r{constructor(t,r=!0){if(this.backgroundBucketIds=[],this._uidToLayer=new Map,this._layerByName={},this._runningId=0,this._style=r?e.clone(t):t,this._style.layers||(this._style.layers=[]),this.version=parseFloat(this._style.version),this.layers=this._style.layers.map((e,t,r)=>this._create(e,t,r)).filter(e=>!!e),this.layers)for(let e=0;e<this.layers.length;e++){const t=this.layers[e];this._layerByName[t.id]=t,this._uidToLayer.set(t.uid,t),0===t.type&&this.backgroundBucketIds.push(t.id)}this._identifyRefLayers()}getLayerStyleProperties(e,t){const r=this.getStyleLayerByUID(e),n=0!==r?.getLayoutValue("symbol-placement",t);let i=r?.getLayoutValue("icon-rotation-alignment",t);2===i&&(i=n?0:1);let s=r?.getLayoutValue("text-rotation-alignment",t);2===s&&(s=n?0:1);const o=r?.getPaintValue("icon-translate",t),a=r?.getPaintValue("icon-translate-anchor",t),l=r?.getPaintValue("text-translate",t),u=r?.getPaintValue("text-translate-anchor",t);return{geometryType:null,iconAllowOverlap:r?.getLayoutValue("icon-allow-overlap",t),iconIgnorePlacement:r?.getLayoutValue("icon-ignore-placement",t),textAllowOverlap:r?.getLayoutValue("text-allow-overlap",t),textIgnorePlacement:r?.getLayoutValue("text-ignore-placement",t),iconRotationAlignment:i,textRotationAlignment:s,iconTranslateAnchor:a,iconTranslate:o,textTranslateAnchor:u,textTranslate:l}}isPainterDataDriven(e){const t=this._layerByName[e];return!!t&&t.isPainterDataDriven()}getStyleLayerId(e){return e>=this.layers.length?null:this.layers[e].id}getStyleLayerByUID(e){return this._uidToLayer.get(e)??null}getStyleLayerIndex(e){const t=this._layerByName[e];return t?this.layers.indexOf(t):-1}setStyleLayer(e,t){if(!e?.id)return;const n=this._style;null!=t&&t>=this.layers.length&&(t=this.layers.length-1);let i,s=!0;const o=this._layerByName[e.id];if(o){const a=this.layers.indexOf(o);t||(t=a),t===a?(s=!1,i=r._recreateLayer(e,o),this.layers[t]=i,n.layers[t]=e):(this.layers.splice(a,1),n.layers.splice(a,1),i=this._create(e,t,this.layers),this.layers.splice(t,0,i),n.layers.splice(t,0,e))}else i=this._create(e,t,this.layers),!t||t>=this.layers.length?(this.layers.push(i),n.layers.push(e)):(this.layers.splice(t,0,i),n.layers.splice(t,0,e));this._layerByName[e.id]=i,this._uidToLayer.set(i.uid,i),s&&this._recomputeZValues(),this._identifyRefLayers()}getStyleLayer(e){const t=this._layerByName[e];return t?{type:t.typeName,id:t.id,source:t.source,"source-layer":t.sourceLayer,minzoom:t.minzoom,maxzoom:t.maxzoom,filter:t.filter,layout:t.layout,paint:t.paint}:null}deleteStyleLayer(e){const t=this._layerByName[e];if(t){delete this._layerByName[e],this._uidToLayer.delete(t.uid);const r=this.layers.indexOf(t);this.layers.splice(r,1),this._style.layers.splice(r,1),this._recomputeZValues(),this._identifyRefLayers()}}getLayerById(e){return this._layerByName[e]}getLayoutProperties(e){const t=this._layerByName[e];return t?t.layout:null}getPaintProperties(e){const t=this._layerByName[e];return t?t.paint:null}setPaintProperties(e,t){const n=this._layerByName[e];if(!n)return;const i={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:n.layout,paint:t},s=r._recreateLayer(i,n),o=this.layers.indexOf(n);this.layers[o]=s,this._style.layers[o].paint=t,this._layerByName[n.id]=s,this._uidToLayer.set(n.uid,s)}setLayoutProperties(e,t){const n=this._layerByName[e];if(!n)return;const i={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:t,paint:n.paint},s=r._recreateLayer(i,n),o=this.layers.indexOf(n);this.layers[o]=s,this._style.layers[o].layout=t,this._layerByName[n.id]=s,this._uidToLayer.set(n.uid,s)}setStyleLayerVisibility(e,t){const n=this._layerByName[e];if(!n)return;const i=n.layout||{};i.visibility=t;const s={type:n.typeName,id:n.id,source:n.source,"source-layer":n.sourceLayer,minzoom:n.minzoom,maxzoom:n.maxzoom,filter:n.filter,layout:i,paint:n.paint},o=r._recreateLayer(s,n),a=this.layers.indexOf(n);this.layers[a]=o,this._style.layers[a].layout=i,this._layerByName[n.id]=o,this._uidToLayer.set(n.uid,o)}getStyleLayerVisibility(e){const t=this._layerByName[e];if(!t)return"none";const r=t.layout;return r?.visibility??"visible"}_recomputeZValues(){const e=this.layers,t=1/(e.length+1);for(let r=0;r<e.length;r++)e[r].z=1-(1+r)*t}_identifyRefLayers(){const e=[],t=[];let r=0;for(const n of this.layers){const i=n.layout;if(1===n.type){const t=n;let s=n.source+"|"+n.sourceLayer;s+="|"+(i?.visibility??""),s+="|"+n.minzoom,s+="|"+n.maxzoom,s+="|"+JSON.stringify(n.filter),(t.hasDataDrivenFill||t.hasDataDrivenOutline)&&(s+="|"+r),e.push({key:s,layer:n})}else if(2===n.type){const e=n,s=n.paint,o=null!=s&&(null!=s["line-pattern"]||null!=s["line-dasharray"]);let a=n.source+"|"+n.sourceLayer;a+="|"+(i?.visibility??""),a+="|"+n.minzoom,a+="|"+n.maxzoom,a+="|"+JSON.stringify(n.filter),a+="|"+(void 0!==i?i["line-cap"]:""),a+="|"+(void 0!==i?i["line-join"]:""),(e.hasDataDrivenLine||o)&&(a+="|"+r),t.push({key:a,layer:n})}++r}this._assignRefLayers(e),this._assignRefLayers(t)}_assignRefLayers(e){let t,r;e.sort((e,t)=>e.key<t.key?-1:e.key>t.key?1:0);const n=e.length;for(let i=0;i<n;i++){const s=e[i];if(s.key===t)s.layer.refLayerId=r;else if(t=s.key,r=s.layer.id,1===s.layer.type){if(!s.layer.getPaintProperty("fill-outline-color"))for(let o=i+1;o<n;o++){const n=e[o];if(n.key!==t)break;if(n.layer.getPaintProperty("fill-outline-color")){e[i]=n,e[o]=s,r=n.layer.id;break}}}else if(2===s.layer.type){let o=s.layer;for(let a=i+1;a<n;a++){const n=e[a];if(n.key!==t)break;const l=n.layer;(o.canUseThinTessellation&&!l.canUseThinTessellation||!o.canUseThinTessellation&&(l.getPaintProperty("line-pattern")||l.getPaintProperty("line-dasharray")))&&(o=l,e[i]=n,e[a]=s,r=n.layer.id)}}}}_create(e,r,n){const i=1-(1+r)*(1/(n.length+1)),s=this._runningId++;switch(e.type){case"background":return new t.BackgroundStyleLayer(0,e,i,s);case"fill":return new t.FillStyleLayer(1,e,i,s);case"line":return new t.LineStyleLayer(2,e,i,s);case"symbol":return new t.SymbolStyleLayer(3,e,i,s);case"raster":return console.warn(`Unsupported vector tile raster layer ${e.id}`),null;case"circle":return new t.CircleStyleLayer(4,e,i,s)}return null}static _recreateLayer(e,r){switch(e.type){case"background":return new t.BackgroundStyleLayer(0,e,r.z,r.uid);case"fill":return new t.FillStyleLayer(1,e,r.z,r.uid);case"line":return new t.LineStyleLayer(2,e,r.z,r.uid);case"symbol":return new t.SymbolStyleLayer(3,e,r.z,r.uid);case"raster":return console.warn(`Unsupported vector tile raster layer ${e.id}`),null;case"circle":return new t.CircleStyleLayer(4,e,r.z,r.uid)}return null}}return r})},"esri/rest/support/Query":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/accessorSupport/decorators/cast","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../core/accessorSupport/ensureType","../../geometry/Point","../../geometry/SpatialReference","../../geometry/support/jsonUtils","../../geometry/support/typeUtils","../../layers/support/source/DataLayerSource","./FullTextSearch","./QuantizationParameters","./spatialRelationships","./StatisticDefinition","../../chunks/TimeExtent"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p,m,y,g,_,b,x){"use strict";var w;const T=new r.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});return e.default=class extends n.JSONSupport{static{w=this}static from(e){return c.ensureClass(w,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return"number"==typeof e||"object"==typeof e?e:null}writeHistoricMoment(e,t){t.historicMoment=e&&e.getTime()}writeParameterValues(e,t){if(e){const r={};for(const t in e){const n=e[t];Array.isArray(n)?r[t]=n.map(e=>e instanceof Date?e.getTime():e):n instanceof Date?r[t]=n.getTime():r[t]=n}t.parameterValues=r}}writeStart(e,t){t.resultOffset=this.start,t.resultRecordCount=this.num||10,t.where="1=1"}writeWhere(e,t){t.where=e||"1=1"}clone(){return new w(i.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:null!=this.historicMoment?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}static{this.MAX_MAX_RECORD_COUNT_FACTOR=5}},t.__decorate([s.property({json:{write:!0}})],e.default.prototype,"aggregateIds",void 0),t.__decorate([s.property({type:Boolean,json:{write:!0}})],e.default.prototype,"cacheHint",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"compactGeometryEnabled",void 0),t.__decorate([s.property({json:{write:!0}})],e.default.prototype,"datumTransformation",void 0),t.__decorate([o.cast("datumTransformation")],e.default.prototype,"castDatumTransformation",null),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"defaultSpatialReferenceEnabled",void 0),t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"distance",void 0),t.__decorate([s.property({type:m.DataLayerSource,json:{write:!0}})],e.default.prototype,"dynamicDataSource",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"formatOf3DObjects",void 0),t.__decorate([s.property({type:[y],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.fullText&&this.fullText.length>0}}}}})],e.default.prototype,"fullText",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"gdbVersion",void 0),t.__decorate([s.property({types:p.geometryTypes,json:{read:d.fromJSON,write:!0}})],e.default.prototype,"geometry",void 0),t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"geometryPrecision",void 0),t.__decorate([s.property({type:[String],json:{write:!0}})],e.default.prototype,"groupByFieldsForStatistics",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"having",void 0),t.__decorate([s.property({type:Date})],e.default.prototype,"historicMoment",void 0),t.__decorate([u.writer("historicMoment")],e.default.prototype,"writeHistoricMoment",null),t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"maxAllowableOffset",void 0),t.__decorate([s.property({type:Number,cast:t=>t<1?1:t>e.default.MAX_MAX_RECORD_COUNT_FACTOR?e.default.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:e=>({enabled:e>1})}}})],e.default.prototype,"maxRecordCountFactor",void 0),t.__decorate([s.property({type:["xyFootprint"],json:{write:!0}})],e.default.prototype,"multipatchOption",void 0),t.__decorate([s.property({type:Number,json:{read:{source:"resultRecordCount"}}})],e.default.prototype,"num",void 0),t.__decorate([s.property({json:{write:!0}})],e.default.prototype,"objectIds",void 0),t.__decorate([s.property({type:[String],json:{write:!0}})],e.default.prototype,"orderByFields",void 0),t.__decorate([s.property({type:[String],json:{write:!0}})],e.default.prototype,"outFields",void 0),t.__decorate([s.property({type:f,json:{name:"outSR",write:!0}})],e.default.prototype,"outSpatialReference",void 0),t.__decorate([s.property({type:[b],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.outStatistics&&this.outStatistics.length>0}}}}})],e.default.prototype,"outStatistics",void 0),t.__decorate([s.property({json:{write:!0}})],e.default.prototype,"parameterValues",void 0),t.__decorate([u.writer("parameterValues")],e.default.prototype,"writeParameterValues",null),t.__decorate([s.property({type:h,json:{write:!0}})],e.default.prototype,"pixelSize",void 0),t.__decorate([s.property({type:g,json:{write:!0}})],e.default.prototype,"quantizationParameters",void 0),t.__decorate([s.property({type:[Object],json:{write:!0}})],e.default.prototype,"rangeValues",void 0),t.__decorate([s.property({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],e.default.prototype,"relationParameter",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"resultType",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnCentroid",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnDistinctValues",void 0),t.__decorate([s.property({type:Boolean,json:{default:!0,write:!0}})],e.default.prototype,"returnExceededLimitFeatures",void 0),t.__decorate([s.property({type:Boolean,json:{write:!0}})],e.default.prototype,"returnGeometry",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnQueryGeometry",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"returnM",void 0),t.__decorate([s.property({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],e.default.prototype,"returnZ",void 0),t.__decorate([s.property({type:Boolean,json:{write:!0}})],e.default.prototype,"returnTrueCurves",void 0),t.__decorate([s.property({type:f,json:{write:!0}})],e.default.prototype,"sourceSpatialReference",void 0),t.__decorate([a.enumeration(_.spatialRelKebabDict,{ignoreUnknown:!1,name:"spatialRel"})],e.default.prototype,"spatialRelationship",void 0),t.__decorate([s.property({type:Number,json:{read:{source:"resultOffset"}}})],e.default.prototype,"start",void 0),t.__decorate([u.writer("start"),u.writer("num")],e.default.prototype,"writeStart",null),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"sqlFormat",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"text",void 0),t.__decorate([s.property({type:x.TimeExtent,json:{write:!0}})],e.default.prototype,"timeExtent",void 0),t.__decorate([s.property({type:Boolean,json:{default:!1,write:!0}})],e.default.prototype,"timeReferenceUnknownClient",void 0),t.__decorate([a.enumeration(T,{ignoreUnknown:!1}),s.property({json:{write:{overridePolicy(e){return{enabled:!!e&&null!=this.distance}}}}})],e.default.prototype,"units",void 0),t.__decorate([s.property({type:String,json:{write:{overridePolicy(e){return{enabled:null!=e||null!=this.start&&this.start>0}}}}})],e.default.prototype,"where",void 0),t.__decorate([u.writer("where")],e.default.prototype,"writeWhere",null),e.default=w=t.__decorate([l.subclass("esri.rest.support.Query")],e.default),e.default})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(e,t,r){"use strict";e.enumeration=function(e,n={}){const i=e instanceof t.JSONMap?e:new t.JSONMap(e,n),{alwaysWriteDefaults:s,default:o,ignoreUnknown:a=!0,name:l,nonNullable:u,readOnly:c=!1}=n;return r.property({type:a?i.apiValues:String,json:{type:i.jsonValues,default:o,name:l,read:!c&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:s}},nonNullable:u,readOnly:c})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/jsonUtils":function(){define(["exports","../Extent","../Geometry","../Multipoint","../Point","../Polygon","../Polyline"],function(e,t,r,n,i,s,o){"use strict";function a(e){return void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax}function l(e){return void 0!==e.points}function u(e){return void 0!==e.x&&void 0!==e.y}function c(e){return void 0!==e.paths||void 0!==e.curvePaths}function h(e){return void 0!==e.rings||void 0!==e.curveRings}const f={esriGeometryPoint:i,esriGeometryPolyline:o,esriGeometryPolygon:s,esriGeometryEnvelope:t,esriGeometryMultipoint:n,esriGeometryMultiPatch:s};e.fromJSON=function(e){return null==e?null:e instanceof r?e:u(e)?i.fromJSON(e):c(e)?o.fromJSON(e):h(e)?s.fromJSON(e):l(e)?n.fromJSON(e):a(e)?t.fromJSON(e):null},e.getGeometryType=function(e){return e&&f[e]||null},e.getJsonType=function(e){return e?u(e)?"esriGeometryPoint":c(e)?"esriGeometryPolyline":h(e)?"esriGeometryPolygon":a(e)?"esriGeometryEnvelope":l(e)?"esriGeometryMultipoint":null:null},e.isExtent=a,e.isMultipoint=l,e.isPoint=u,e.isPolygon=h,e.isPolyline=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/typeUtils":function(){define(["exports","../../core/jsonMap","../Extent","../Geometry","../Multipoint","../Point","../Polygon","../Polyline"],function(e,t,r,n,i,s,o,a){"use strict";const l=t.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),u=t.strict()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),c={base:n,key:"type",typeMap:{extent:r,multipoint:i,point:s,polyline:a,polygon:o}};e.featureGeometryTypeKebabDictionary=l,e.geometryTypes=c,e.isMultipoint=function(e){return"multipoint"===e.type},e.isPoint=function(e){return"point"===e.type},e.isPolygon=function(e){return"polygon"===e.type},e.isPolyline=function(e){return"polyline"===e.type},e.typeKebabDictionary=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/DataLayerSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/jsonMap","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/decorators/cast","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/reader","../../../core/accessorSupport/decorators/subclass","../../../core/accessorSupport/ensureType","../../../core/accessorSupport/extensions/serializableProperty/reader","../Field","./MapLayerSource","./QueryTableDataSource","./RasterDataSource","./TableDataSource"],function(e,t,r,n,i,s,o,a,l,u,c,h,f,d,p,m){"use strict";var y,g;const _=r.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});e.JoinTableDataSource=y=class extends n.JSONSupport{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,t,r){return x()(e,t,r)}castLeftTableSource(e){return u.ensureOneOfType(T(),e)}readRightTableSource(e,t,r){return x()(e,t,r)}castRightTableSource(e){return u.ensureOneOfType(T(),e)}clone(){const{leftTableKey:e,rightTableKey:t,leftTableSource:r,rightTableSource:n,joinType:i}=this,s={leftTableKey:e,rightTableKey:t,leftTableSource:r?.clone()??void 0,rightTableSource:n?.clone()??void 0,joinType:i};return new y(s)}},t.__decorate([o.enumeration({joinTable:"join-table"}),i.property({json:{write:{isRequired:!0}}})],e.JoinTableDataSource.prototype,"type",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.JoinTableDataSource.prototype,"leftTableKey",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.JoinTableDataSource.prototype,"rightTableKey",void 0),t.__decorate([i.property({json:{write:!0}})],e.JoinTableDataSource.prototype,"leftTableSource",void 0),t.__decorate([a.reader("leftTableSource")],e.JoinTableDataSource.prototype,"readLeftTableSource",null),t.__decorate([s.cast("leftTableSource")],e.JoinTableDataSource.prototype,"castLeftTableSource",null),t.__decorate([i.property({json:{write:!0}})],e.JoinTableDataSource.prototype,"rightTableSource",void 0),t.__decorate([a.reader("rightTableSource")],e.JoinTableDataSource.prototype,"readRightTableSource",null),t.__decorate([s.cast("rightTableSource")],e.JoinTableDataSource.prototype,"castRightTableSource",null),t.__decorate([o.enumeration(_)],e.JoinTableDataSource.prototype,"joinType",void 0),e.JoinTableDataSource=y=t.__decorate([l.subclass("esri.layers.support.source.JoinTableDataSource")],e.JoinTableDataSource);let b=null;function x(){return b||(b=c.createTypeReader({types:T()})),b}let w=null;function T(){return w||(w={key:"type",base:null,typeMap:{"data-layer":e.DataLayerSource,"map-layer":f.MapLayerSource}}),w}const S={key:"type",base:null,typeMap:{"join-table":e.JoinTableDataSource,"query-table":d.QueryTableDataSource,raster:p.RasterDataSource,table:m.TableDataSource}};e.DataLayerSource=class extends n.JSONSupport{static{g=this}constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:t}=this;return new g({fields:e,dataSource:t})}},t.__decorate([o.enumeration({dataLayer:"data-layer"}),i.property({json:{write:{isRequired:!0}}})],e.DataLayerSource.prototype,"type",void 0),t.__decorate([i.property({type:[h],json:{write:!0}})],e.DataLayerSource.prototype,"fields",void 0),t.__decorate([i.property({types:S,json:{write:!0}})],e.DataLayerSource.prototype,"dataSource",void 0),e.DataLayerSource=g=t.__decorate([l.subclass("esri.layers.support.source.DataLayerSource")],e.DataLayerSource),e.DataLayerSource.from=u.ensureType(e.DataLayerSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Field":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/has","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","./domains","./fieldType"],function(e,t,r,n,i,s,o,a,l,u,c,h,f){"use strict";var d;const p=new r.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});return e.default=class extends n.JSONSupport{static{d=this}constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?.value??null}readValueType(e,{description:t}){let r=null;try{r=t?JSON.parse(t):null}catch(e){}return r?p.fromJSON(r.fieldValueType):null}clone(){return new d({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"alias",void 0),t.__decorate([i.property({type:[String,Number],json:{write:{allowNull:!0}}})],e.default.prototype,"defaultValue",void 0),t.__decorate([i.property()],e.default.prototype,"description",void 0),t.__decorate([u.reader("description")],e.default.prototype,"readDescription",null),t.__decorate([i.property({types:h.types,json:{read:{reader:h.fromJSON},write:!0}})],e.default.prototype,"domain",void 0),t.__decorate([i.property({type:Boolean,json:{write:!0}})],e.default.prototype,"editable",void 0),t.__decorate([i.property({type:s.Integer,json:{write:{overridePolicy:e=>({enabled:Number.isFinite(e)})}}})],e.default.prototype,"length",void 0),t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"name",void 0),t.__decorate([i.property({type:Boolean,json:{write:!0}})],e.default.prototype,"nullable",void 0),t.__decorate([l.enumeration(f.kebabDict)],e.default.prototype,"type",void 0),t.__decorate([i.property()],e.default.prototype,"valueType",void 0),t.__decorate([u.reader("valueType",["description"])],e.default.prototype,"readValueType",null),t.__decorate([i.property({type:Boolean,json:{read:!1}})],e.default.prototype,"visible",void 0),e.default=d=t.__decorate([c.subclass("esri.layers.support.Field")],e.default),e.default})},"esri/layers/support/domains":function(){define(["exports","../../core/has","./CodedValueDomain","./Domain","./InheritedDomain","./RangeDomain"],function(e,t,r,n,i,s){"use strict";const o={key:"type",base:n,typeMap:{range:s,"coded-value":r,inherited:i}};Object.defineProperty(e,"CodedValueDomain",{enumerable:!0,get:()=>r}),Object.defineProperty(e,"DomainBase",{enumerable:!0,get:()=>n}),Object.defineProperty(e,"InheritedDomain",{enumerable:!0,get:()=>i}),Object.defineProperty(e,"RangeDomain",{enumerable:!0,get:()=>s}),e.fromJSON=function(e){if(!e?.type)return null;switch(e.type){case"range":return s.fromJSON(e);case"codedValue":return r.fromJSON(e);case"inherited":return i.fromJSON(e)}return null},e.types=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/CodedValueDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./CodedValue","./Domain"],function(e,t,r,n,i,s,o,a,l,u){"use strict";var c;return e.default=class extends u{static{c=this}constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let t=null;if(this.codedValues){const r=String(e);this.codedValues.some(e=>(String(e.code)===r&&(t=e.name),!!t))}return t}clone(){return new c({codedValues:r.clone(this.codedValues),name:this.name})}},t.__decorate([n.property({type:[l.CodedValue],json:{write:{isRequired:!0}}})],e.default.prototype,"codedValues",void 0),t.__decorate([o.enumeration({codedValue:"coded-value"})],e.default.prototype,"type",void 0),e.default=c=t.__decorate([a.subclass("esri.layers.support.CodedValueDomain")],e.default),e.default})},"esri/layers/support/CodedValue":function(){define(["exports","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a){"use strict";var l;e.CodedValue=l=class extends r.JSONSupport{constructor(e){super(e),this.name=null,this.code=null}clone(){return new l({name:this.name,code:this.code})}},t.__decorate([n.property({type:String,json:{write:{isRequired:!0}}})],e.CodedValue.prototype,"name",void 0),t.__decorate([n.property({type:[String,Number],json:{write:{isRequired:!0}}})],e.CodedValue.prototype,"code",void 0),e.CodedValue=l=t.__decorate([a.subclass("esri.layers.support.CodedValue")],e.CodedValue),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/Domain":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l,u){"use strict";const c=new r.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});return e.default=class extends n.JSONSupport{constructor(e){super(e),this.name=null,this.type=null}},t.__decorate([i.property({type:String,json:{write:!0}})],e.default.prototype,"name",void 0),t.__decorate([l.enumeration(c),i.property({json:{write:{isRequired:!0}}})],e.default.prototype,"type",void 0),e.default=t.__decorate([u.subclass("esri.layers.support.Domain")],e.default),e.default})},"esri/layers/support/InheritedDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/Logger","../../core/has","../../core/RandomLCG","../../core/Error","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./Domain"],function(e,t,r,n,i,s,o,a,l){"use strict";var u;return e.default=class extends l{static{u=this}constructor(e){super(e),this.type="inherited"}clone(){return new u}},t.__decorate([o.enumeration({inherited:"inherited"})],e.default.prototype,"type",void 0),e.default=u=t.__decorate([a.subclass("esri.layers.support.InheritedDomain")],e.default),e.default})},"esri/layers/support/RangeDomain":function(){define(["exports","../../chunks/tslib.es6","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","./Domain"],function(e,t,r,n,i,s,o,a,l){"use strict";var u;return e.default=class extends l{static{u=this}constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new u({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},t.__decorate([r.property({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",writer(e,t,r){t[r]=[this.minValue||0,e]},isRequired:!0}}})],e.default.prototype,"maxValue",void 0),t.__decorate([r.property({json:{type:[Number],read:{source:"range",reader:(e,t)=>t.range?.[0]},write:{target:"range",writer(e,t,r){t[r]=[e,this.maxValue||0]},isRequired:!0}}})],e.default.prototype,"minValue",void 0),t.__decorate([o.enumeration({range:"range"})],e.default.prototype,"type",void 0),e.default=u=t.__decorate([a.subclass("esri.layers.support.RangeDomain")],e.default),e.default})},"esri/layers/support/fieldType":function(){define(["exports","../../core/jsonMap"],function(e,t){"use strict";const r=new t.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});e.kebabDict=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/MapLayerSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/accessorSupport/ensureType","../../../core/has","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l){"use strict";var u;e.MapLayerSource=u=class extends r.JSONSupport{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:t}=this;return new u({mapLayerId:e,gdbVersion:t})}},t.__decorate([a.enumeration({mapLayer:"map-layer"}),n.property({json:{write:{isRequired:!0}}})],e.MapLayerSource.prototype,"type",void 0),t.__decorate([n.property({type:i.Integer,json:{write:{isRequired:!0}}})],e.MapLayerSource.prototype,"mapLayerId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.MapLayerSource.prototype,"gdbVersion",void 0),e.MapLayerSource=u=t.__decorate([l.subclass("esri.layers.support.source.MapLayerSource")],e.MapLayerSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/QueryTableDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass","../../../geometry/SpatialReference","../../../geometry/support/typeUtils"],function(e,t,r,n,i,s,o,a,l,u,c){"use strict";var h;e.QueryTableDataSource=h=class extends r.JSONSupport{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:t,oidFields:r,spatialReference:n,geometryType:i}=this,s={workspaceId:e,query:t,oidFields:r,spatialReference:n?.clone()??void 0,geometryType:i};return new h(s)}},t.__decorate([a.enumeration({queryTable:"query-table"}),n.property({json:{write:{isRequired:!0}}})],e.QueryTableDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"workspaceId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"query",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.QueryTableDataSource.prototype,"oidFields",void 0),t.__decorate([n.property({type:u,json:{write:!0}})],e.QueryTableDataSource.prototype,"spatialReference",void 0),t.__decorate([a.enumeration(c.featureGeometryTypeKebabDictionary)],e.QueryTableDataSource.prototype,"geometryType",void 0),e.QueryTableDataSource=h=t.__decorate([l.subclass("esri.layers.support.source.QueryTableDataSource")],e.QueryTableDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/RasterDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l){"use strict";var u;e.RasterDataSource=u=class extends r.JSONSupport{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:t}=this;return new u({workspaceId:e,dataSourceName:t})}},t.__decorate([a.enumeration({raster:"raster"}),n.property({json:{write:{isRequired:!0}}})],e.RasterDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.RasterDataSource.prototype,"dataSourceName",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.RasterDataSource.prototype,"workspaceId",void 0),e.RasterDataSource=u=t.__decorate([l.subclass("esri.layers.support.source.RasterDataSource")],e.RasterDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/layers/support/source/TableDataSource":function(){define(["exports","../../../chunks/tslib.es6","../../../core/JSONSupport","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/enumeration","../../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l){"use strict";var u;e.TableDataSource=u=class extends r.JSONSupport{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:t,dataSourceName:r}=this;return new u({workspaceId:e,gdbVersion:t,dataSourceName:r})}},t.__decorate([a.enumeration({table:"table"}),n.property({json:{write:{isRequired:!0}}})],e.TableDataSource.prototype,"type",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"workspaceId",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"gdbVersion",void 0),t.__decorate([n.property({type:String,json:{write:!0}})],e.TableDataSource.prototype,"dataSourceName",void 0),e.TableDataSource=u=t.__decorate([l.subclass("esri.layers.support.source.TableDataSource")],e.TableDataSource),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/FullTextSearch":function(){define(["../../chunks/tslib.es6","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a){"use strict";let l=class extends(t.ClonableMixin(r.JSONSupport)){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};return e.__decorate([n.property({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:null!=this.onFields&&this.onFields.length>0}}}}})],l.prototype,"onFields",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"operator",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"searchTerm",void 0),e.__decorate([n.property({type:String,json:{write:!0}})],l.prototype,"searchType",void 0),l=e.__decorate([a.subclass("esri.rest.support.FullTextSearch")],l),l})},"esri/core/Clonable":function(){define(["exports","../chunks/tslib.es6","./Accessor","./has","./lang","./Logger","./maybe","./accessorSupport/utils","./accessorSupport/decorators/subclass"],function(e,t,r,n,i,s,o,a,l){"use strict";const u=e=>{const r=e;let n=class extends r{clone(e){const t=a.getProperties(this);o.assertIsSome(t,"unable to clone instance of non-accessor class");const r=t.metadata,n=t.store,s={},l=new Map;for(const t in r){const o=r[t],a=n?.originOf(t),u=o.clonable;if(o.readOnly||!1===u||7!==a&&0!==a&&5!==a&&4!==a)continue;const c=this[t];let h=null;if("function"==typeof u)h=u(c,e);else if("reference"===u)h=c;else if(h=i.tryClone(c,e),null!=c&&null==h)continue;0===a?l.set(t,h):s[t]=h}const u=new(0,Object.getPrototypeOf(this).constructor)(s);if(l.size){const e=a.getProperties(u)?.store;if(e)for(const[t,r]of l)e.set(t,r,0)}return u}};return n=t.__decorate([l.subclass("esri.core.Clonable")],n),n},c=u(r);e.Clonable=c,e.ClonableMixin=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/QuantizationParameters":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/subclass","../../geometry/Extent"],function(e,t,r,n,i,s,o,a,l,u){"use strict";var c;const h=new r.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});return e.default=c=class extends n.JSONSupport{constructor(e){super(e),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new c(i.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}},t.__decorate([s.property({type:u,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.default.prototype,"extent",void 0),t.__decorate([s.property({type:["view","edit"],json:{write:!0}})],e.default.prototype,"mode",void 0),t.__decorate([s.property({type:String,json:{read:h.read,write:h.write}})],e.default.prototype,"originPosition",void 0),t.__decorate([s.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],e.default.prototype,"tolerance",void 0),e.default=c=t.__decorate([l.subclass("esri.rest.support.QuantizationParameters")],e.default),e.default})},"esri/rest/support/spatialRelationships":function(){define(["exports","../../core/jsonMap"],function(e,t){"use strict";const r=new t.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});e.spatialRelKebabDict=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/rest/support/StatisticDefinition":function(){define(["exports","../../chunks/tslib.es6","../../core/jsonMap","../../core/JSONSupport","../../core/lang","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer"],function(e,t,r,n,i,s,o,a,l,u){"use strict";var c;const h=new r.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});return e.default=c=class extends n.JSONSupport{constructor(e){super(e),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(e,t){"percentile-continuous"!==this.statisticType&&"percentile-discrete"!==this.statisticType||(t.statisticParameters=i.clone(e))}clone(){return new c({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:i.clone(this.statisticParameters)})}},t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"maxPointCount",void 0),t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"maxRecordCount",void 0),t.__decorate([s.property({type:Number,json:{write:!0}})],e.default.prototype,"maxVertexCount",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"onStatisticField",void 0),t.__decorate([s.property({type:String,json:{write:!0}})],e.default.prototype,"outStatisticFieldName",void 0),t.__decorate([s.property({type:String,json:{read:{source:"statisticType",reader:h.read},write:{target:"statisticType",writer:h.write}}})],e.default.prototype,"statisticType",void 0),t.__decorate([s.property({type:Object})],e.default.prototype,"statisticParameters",void 0),t.__decorate([u.writer("statisticParameters")],e.default.prototype,"writeStatisticParameters",null),e.default=c=t.__decorate([l.subclass("esri.rest.support.StatisticDefinition")],e.default),e.default})},"esri/chunks/TimeExtent":function(){define(["exports","./tslib.es6","../core/JSONSupport","../core/timeUtils","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../time/constants"],function(e,t,r,n,i,s,o,a,l,u,c,h){"use strict";var f;e.TimeExtent=class extends r.JSONSupport{static{f=this}static get allTime(){return d}static get empty(){return p}static fromArray(e){return new f({start:null!=e[0]?new Date(e[0]):e[0],end:null!=e[1]?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,t){return null!=t.end?new Date(t.end):null}writeEnd(e,t){t.end=e?.getTime()??null}get isAllTime(){return this.equals(f.allTime)}get isEmpty(){return this.equals(f.empty)}readStart(e,t){return null!=t.start?new Date(t.start):null}writeStart(e,t){t.start=e?.getTime()??null}clone(){return new f({end:this.end,start:this.start})}equals(e){if(!e)return!1;const t=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,i=e.end?.getTime()??e.end;return t===n&&r===i}expandTo(e,t=h.system){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=n.truncateDate(r,e,t));let i=this.end;if(i){const r=n.truncateDate(i,e,t);i=i.getTime()===r.getTime()?r:n.offsetDate(r,1,e,t)}return new f({start:r,end:i})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return f.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const t=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,i=e.end?.getTime()??1/0;let s,o;return n>=t&&n<=r?s=n:t>=n&&t<=i&&(s=t),r>=n&&r<=i?o=r:i>=t&&i<=r&&(o=i),null==s||null==o||isNaN(s)||isNaN(o)?f.empty:new f({start:s===-1/0?null:new Date(s),end:o===1/0?null:new Date(o)})}offset(e,t,r=h.system){if(this.isEmpty||this.isAllTime)return this.clone();const i=new f,{start:s,end:o}=this;return null!=s&&(i.start=n.offsetDate(s,e,t,r)),null!=o&&(i.end=n.offsetDate(o,e,t,r)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return d.clone();const t=null!=this.start&&null!=e.start?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=null!=this.end&&null!=e.end?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new f({start:t,end:r})}},t.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],e.TimeExtent.prototype,"end",void 0),t.__decorate([l.reader("end")],e.TimeExtent.prototype,"readEnd",null),t.__decorate([c.writer("end")],e.TimeExtent.prototype,"writeEnd",null),t.__decorate([i.property({readOnly:!0,json:{read:!1}})],e.TimeExtent.prototype,"isAllTime",null),t.__decorate([i.property({readOnly:!0,json:{read:!1}})],e.TimeExtent.prototype,"isEmpty",null),t.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],e.TimeExtent.prototype,"start",void 0),t.__decorate([l.reader("start")],e.TimeExtent.prototype,"readStart",null),t.__decorate([c.writer("start")],e.TimeExtent.prototype,"writeStart",null),e.TimeExtent=f=t.__decorate([u.subclass("esri.time.TimeExtent")],e.TimeExtent);const d=new e.TimeExtent,p=new e.TimeExtent({start:void 0,end:void 0});e.TimeExtent$1=e.TimeExtent})},"esri/core/timeUtils":function(){define(["exports","../intl/date","../time/constants","../chunks/datetime"],function(e,t,r,n){"use strict";const i={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function s(e,t,r){return 0===e?0:e*i[t]/i[r]}function o(e){switch(e){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}e.convertTime=s,e.isValidDate=function(e){return e instanceof Date&&!isNaN(e.getTime())},e.makeUTCTime=function(e,t,r="milliseconds"){const n=new Date(s(t,r,"milliseconds"));return n.setUTCFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n},e.mergeTimeExtents=function(e,t){return e&&t?e.intersection(t):e||t},e.millisecondsPerTimeUnit=i,e.offsetDate=function(e,i,s,a=r.system){const l=new n.IANAZone(t.resolveTimeZone(a)),u=n.DateTime.fromJSDate(e,{zone:l}),c="decades"===s||"centuries"===s?"year":o(s);return"decades"===s&&(i*=10),"centuries"===s&&(i*=100),u.plus({[c]:i}).toJSDate()},e.offsetDateUTC=function(e,t,r="milliseconds"){const n=e.getTime(),i=s(t,r,"milliseconds");return new Date(n+i)},e.resetUTCDate=function(e,t){const r=new Date(e.getTime());return r.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r},e.timeSinceUTCMidnight=function(e,t="milliseconds"){const r=s(e.getUTCHours(),"hours","milliseconds"),n=s(e.getUTCMinutes(),"minutes","milliseconds"),i=s(e.getUTCSeconds(),"seconds","milliseconds");return s(r+n+i+e.getUTCMilliseconds(),"milliseconds",t)},e.truncateDate=function(e,i,s=r.system){const a=new n.IANAZone(t.resolveTimeZone(s)),l=n.DateTime.fromJSDate(e,{zone:a});if("decades"===i||"centuries"===i){const e=l.startOf("year"),{year:t}=e,r=t-t%("decades"===i?10:100);return e.set({year:r}).toJSDate()}const u=o(i);return l.startOf(u).toJSDate()},e.truncateLocalTime=function(e){const t=new Date(0);return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/intl/date":function(){define(["exports","../core/jsonMap","./locale","../time/constants","../time/timeZoneUtils","../chunks/datetime"],function(e,t,r,n,i,s){"use strict";const o={year:void 0,month:void 0,day:void 0,weekday:void 0},a={hour:void 0,minute:void 0,second:void 0},l={timeZone:n.utc},u={year:"numeric",month:"numeric",day:"numeric"},c={year:"numeric",month:"long",day:"numeric"},h={year:"numeric",month:"short",day:"numeric"},f={year:"numeric",month:"long",weekday:"long",day:"numeric"},d={hour:"numeric",minute:"numeric"},p={...d,second:"numeric"},m={hourCycle:"h23"},y={...d,...m},g={...p,...m},_={"short-date":u,"short-date-short-time":{...u,...d},"short-date-short-time-24":{...u,...y},"short-date-long-time":{...u,...p},"short-date-long-time-24":{...u,...g},"short-date-le":u,"short-date-le-short-time":{...u,...d},"short-date-le-short-time-24":{...u,...y},"short-date-le-long-time":{...u,...p},"short-date-le-long-time-24":{...u,...g},"long-month-day-year":c,"long-month-day-year-short-time":{...c,...d},"long-month-day-year-short-time-24":{...c,...y},"long-month-day-year-long-time":{...c,...p},"long-month-day-year-long-time-24":{...c,...g},"day-short-month-year":h,"day-short-month-year-short-time":{...h,...d},"day-short-month-year-short-time-24":{...h,...y},"day-short-month-year-long-time":{...h,...p},"day-short-month-year-long-time-24":{...h,...g},"long-date":f,"long-date-short-time":{...f,...d},"long-date-short-time-24":{...f,...y},"long-date-long-time":{...f,...p},"long-date-long-time-24":{...f,...g},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":d,"long-time":p},b=t.strict()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),x={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},w=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),T=w.find(({type:e})=>"month"===e)?.value.toLowerCase();function S(){const e=r.getLocaleLanguage();return(e&&x[e])??r.normalizeLocale()}"mart"!==T&&(x.bs="sr-Latn-CS");let v=new WeakMap;const P=_["short-date-short-time"];function M(e){let t=v.get(e);if(!t){const r=S(),i=k(e.timeZone??n.system),s={...e,timeZone:i};t=new Intl.DateTimeFormat(r,s),v.set(e,t)}return t}function O(e,t=P){return M(t).format(e)}function k(e){switch(e){case n.system:return n.systemTimeZone;case n.unknown:return n.utc;default:return e}}r.beforeLocaleChange(()=>{v=new WeakMap}),e.convertDateFormatToIntlOptions=function(e){return _[e]},e.dateFormatJSONMap=b,e.formatDate=O,e.formatDateOnly=function(e,t=P){return O(new Date(e),{...t,...l,...a})},e.formatTimeOnly=function(e,t=P){return O(new Date(`1970-01-01T${e}Z`),{...t,...l,...o})},e.formatTimestamp=function(e,t=P){if(t.timeZone)return O(new Date(e),t);const r=s.DateTime.fromISO(e,{setZone:!0}),i=0===r.offset?n.utc:t.timeZone,o={...t,timeZone:i};return r.toLocaleString(o,{locale:S()})},e.getDateTimeFormatter=M,e.getShortOffsetTimeZoneSuffix=function(e,t=new Date){return function(e,t){return new Intl.DateTimeFormat(S(),t).formatToParts(e)}(t,{timeZone:e,timeZoneName:i.shortTimeZoneName}).find(({type:e})=>"timeZoneName"===e)?.value},e.resolveTimeZone=k,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/intl/locale":function(){define(["exports","../core/handleUtils","../core/has"],function(e,t,r){"use strict";let n,i;const s=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,o=globalThis.document?.documentElement;function a(){const e=o?.getAttribute("lang"),t=globalThis.navigator?.language;return s??e??t??"en"}function l(){return void 0===i&&(i=a()),i}const u=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function c(e=l()){return u.exec(e)?.groups}const h=[],f=new Map,d=[];function p(){const e=n??a();i!==e&&([...d].forEach(t=>t(e)),i=e,[...h].forEach(t=>t(e)))}globalThis.addEventListener?.("languagechange",p),o&&new MutationObserver(()=>{p()}).observe(o,{attributeFilter:["lang"]}),e.assertNoLocaleChangeListeners=function(){const e=Array.from(f.values())[0];f.clear();const t=h.length;if(0!==t)throw new Error(`Unexpected ${t} locale change listeners still active.${e?` For example:\n${e}`:" Set enableListenerTracing in esri/intl/locale.ts to include a stack trace."}`)},e.beforeLocaleChange=function(e){return d.push(e),t.makeHandle(()=>d.splice(d.indexOf(e),1))},e.getDefaultLocale=a,e.getLocale=l,e.getLocaleLanguage=function(e=l()){return c(e)?.language},e.getLocaleParts=c,e.normalizeLocale=function(e=l()){const t=c(e);return t?.language&&t?.extlang?e.replace(`${t.language}-`,""):e},e.onLocaleChange=function(e){return h.push(e),t.makeHandle(()=>{h.splice(h.indexOf(e),1)})},e.prefersRTL=function(e=l()){const t=c(e)?.language;return"he"===t||"ar"===t},e.setLocale=function(e){n=e||void 0,p()},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/time/constants":function(){define(["exports"],function(e){"use strict";const t=Intl.DateTimeFormat().resolvedOptions().timeZone;e.system="system",e.systemTimeZone=t,e.unknown="unknown",e.utc="UTC",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/time/timeZoneUtils":function(){define(["exports","./constants","./legacyTimeZoneMap","../chunks/datetime"],function(e,t,r,n){"use strict";const i="shortOffset";function s(e,r=t.system){return e?function(e){return"timeZoneIANA"in e}(e)?e.timeZoneIANA:a(e,r):r}function o(e){return{timeZoneIANA:e}}function a(e,i=t.system){if(!e||!r.legacyTimeZoneMap.has(e.timeZone))return i;const s=r.legacyTimeZoneMap.get(e.timeZone);return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?s:function(e){const t=n.DateTime.local().setZone(e),r=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===r?"Etc/UTC":`Etc/GMT${n.FixedOffsetZone.instance(-r).formatOffset(0,"narrow")}`}(s)}e.convertLegacyTimeZone=a,e.fromTimeReference=s,e.getTimeZoneFormattingOptions=function(e,r,n,s,o){if(r&&"date"===o)return{timeZone:t.utc,timeZoneName:void 0};const a=s.timeStyle||s.hour,l="timestamp-offset"===o?void 0:e??t.utc,u=n===t.unknown;return{timeZone:u?l:n,timeZoneName:u&&a?i:void 0}},e.isTimeZoneValid=function(e){const r=new Set(["etc/utc","etc/gmt","gmt"]),n=new Set(Intl.supportedValuesOf("timeZone").map(e=>e.toLowerCase()));return e===t.system||e===t.unknown||r.has(e.toLowerCase())||n.has(e.toLowerCase())},e.shortTimeZoneName=i,e.timeZoneProperty=function(e,t=!1){return{json:{read:{source:e,reader:(t,r)=>r[e]?s(r[e]):null},write:!!t&&{allowNull:!0,writer(t,r){r[e]=t?o(t):null}}}}},e.toTimeReference=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"esri/time/legacyTimeZoneMap":function(){define(["exports"],function(e){"use strict";const t=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);e.legacyTimeZoneMap=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})})},"*noref":1}}),require.boot&&require.apply(null,require.boot);