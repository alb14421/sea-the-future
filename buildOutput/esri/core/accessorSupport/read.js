// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./get","./utils","./extensions/serializableProperty"],function(e,t,r,i){"use strict";function n(e,r,i){if(!e?.read||!1===e.read.enabled||!e.read.source)return!1;const n=e.read.source;if("string"==typeof n){if(n===r)return!0;if(n.includes(".")&&n.startsWith(r)&&t.exists(n,i))return!0}else for(const e of n){if(e===r)return!0;if(e.includes(".")&&e.startsWith(r)&&t.exists(e,i))return!0}return!1}function o(e,t,r,o,s){let a=i.originSpecificReadPropertyDefinition(t[r],s);(function(e){return e&&(!e.read||!1!==e.read.enabled&&!e.read.source)})(a)&&(e[r]=!0);for(const f of Object.getOwnPropertyNames(t))a=i.originSpecificReadPropertyDefinition(t[f],s),n(a,r,o)&&(e[f]=!0)}function s(e,t,r,n){const o=r.metadata,s=i.originSpecificPropertyDefinition(o[t],n),a=s?.default;if(void 0===a)return;const f="function"==typeof a?a.call(e,t,n):a;void 0!==f&&r.set(t,f)}const a={origin:"service"};e.read=function(e,n,f=a){if(!n||"object"!=typeof n)return;const c=r.getProperties(e),u=c.metadata,d={};for(const e of Object.getOwnPropertyNames(n))o(d,u,e,n,f);c.setDefaultOrigin(f.origin);for(const r of Object.getOwnPropertyNames(d)){const o=i.originSpecificReadPropertyDefinition(u[r],f).read,s=o?.source;let a;a=s&&"string"==typeof s?t.valueOf(n,s):n[r],o?.reader&&(a=o.reader.call(e,a,n,f)),void 0!==a&&c.set(r,a)}if(!f||!f.ignoreDefaults){c.setDefaultOrigin("defaults");for(const t of Object.getOwnPropertyNames(u))d[t]||s(e,t,c,f)}c.setDefaultOrigin("user")},e.readLoadable=function(e,t,r,i=a){const n={...i,messages:[]};r(n),n.messages?.forEach(t=>{"warning"!==t.type||e.loaded?i?.messages&&i.messages.push(t):e.loadWarnings.push(t)})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});