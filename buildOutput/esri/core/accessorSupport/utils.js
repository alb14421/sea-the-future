// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../handleUtils","../lang"],function(r,e,t){"use strict";function n(r){return r.__accessor__??null}function i(r,e,n){return e?Object.keys(e).reduce((r,a)=>{const o=a;if("__proto__"===o)return r;let s=null,u="merge";if(n&&(s=n.path?`${n.path}.${a}`:a,u=n.policy(s)),"replace"===u)return r[o]=e[o],r;if("replace-arrays"===u&&Array.isArray(r[o]))return r[o]=e[o],r;if(void 0===r[o])return r[o]=t.clone(e[o]),r;let l=r[o],c=e[o];if(l===c)return r;if(Array.isArray(c)||Array.isArray(r))l=l?Array.isArray(l)?r[o]=l.slice():r[o]=[l]:r[o]=[],c&&(Array.isArray(c)||(c=[c]),c.forEach(r=>{l.includes(r)||l.push(r)}));else if(c&&"object"==typeof c)if(n){const e=n.path;n.path=s,r[o]=i(l,c,n),n.path=e}else r[o]=i(l,c,null);else r.hasOwnProperty(a)&&!e.hasOwnProperty(a)||(r[o]=c);return r},r||{}):r}function a(r){return r.includes(",")?r.split(",").map(r=>r.trim()):[r.trim()]}function o(r){if(Array.isArray(r)){const e=[];for(const t of r)e.push(...a(t));return e}return a(r)}r.getDependsInfo=function(r,e){const t=n(r);return t?t.getDependsInfo(r,e,""):""},r.getProperties=n,r.isPropertyDeclared=function(r,e){return null!=r?.metadata?.[e]},r.merge=function(r,e,t){return i(r,e,t?{policy:t,path:""}:null)},r.parse=function(r,t,n,i){const a=o(t);if(1!==a.length){const t=a.map(e=>i(r,e,n));return e.handlesGroup(t)}return i(r,a[0],n)},r.pathToArray=function(r){return Array.isArray(r)?r:r.split(".")},r.splitPath=o,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});