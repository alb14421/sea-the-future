// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../core/memoryEstimations"],function(t){"use strict";class s{constructor(t=[],s=[]){this.lengths=t??[],this.coords=s??[]}static fromJSON(t){return new s(t.lengths,t.coords)}static fromRect(t){const[e,r,o,n]=t,h=o-e,i=n-r;return new s([5],[e,r,h,0,0,i,-h,0,0,-i])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,s)=>t+s)}get usedMemory(){return 64+t.estimateNumberArrayMemory(this.lengths,this.coords)}area(){let t=0,s=0;if(!this.lengths.length)return 0;for(let e=0;e<this.lengths.length;e++){const r=this.lengths[e];if(r<3)continue;let o=this.coords[2*s],n=this.coords[2*s+1];for(let e=1;e<r;e+=1){const r=this.coords[2*(e+s)],h=this.coords[2*(e+s)+1];t+=-.5*(r-o)*(h+n),o=r,n=h}s+=r}return t}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const r=this.lengths[e];for(let e=0;e<r;e++)t(this.coords[2*(e+s)],this.coords[2*(e+s)+1]);s+=r}}deltaDecode(){const t=this.clone(),{coords:s,lengths:e}=t;let r=0;for(const t of e){for(let e=1;e<t;e++)s[2*(r+e)]+=s[2*(r+e)-2],s[2*(r+e)+1]+=s[2*(r+e)-1];r+=t}return t}clone(t){if(0===this.lengths.length)return new s([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce((t,s)=>t+s)),r=this.coords.slice(0,e);return t?(t.set(r),new s(this.lengths,t)):new s(Array.from(this.lengths),Array.from(r))}}return s});