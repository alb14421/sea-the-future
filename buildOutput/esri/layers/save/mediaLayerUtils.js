// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./utils","../../portal/support/jsonContext","../../portal/support/portalItemUtils","../../webdoc/support/resourceUtils"],function(e,t,r,s,a){"use strict";const o="Media Layer",n=["media-layer:unsupported-source"];function i(e){return{isValid:"media"===e.type,errorMessage:"Layer.type should be 'media'"}}function u(e){return r.createForItemWrite(e,"portal-item",!0)}function c(e){return Promise.resolve(e.layerJSON)}async function l(e,t){t.extent=e.fullExtent?await s.getWGS84ExtentForItem(e.fullExtent):null}async function p(e,t){t.title||=e.title,await l(e,t),s.removeTypeKeyword(t,s.typeKeyword.METADATA)}e.save=async function(e,r){const s={layer:e,itemType:o,validateLayer:i,createJSONContext:e=>u(e),createItemData:c,errorNamePrefix:"media-layer-save",supplementalUnsupportedErrors:n,setItemProperties:l,saveResources:(t,r)=>a.saveResources(e.resourceReferences,r)};return t.save(s,r)},e.saveAs=async function(e,r,s){const l={layer:e,itemType:o,validateLayer:i,createJSONContext:e=>u(e),createItemData:c,errorNamePrefix:"media-layer-save-as",supplementalUnsupportedErrors:n,newItem:r,setItemProperties:p,saveResources:(t,r)=>a.saveResources(e.resourceReferences,r)};return t.saveAs(l,s)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});