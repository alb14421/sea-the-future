// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports"],function(r){"use strict";function e(r,e){if(!r?.length||null==e)return!0;const i=e.slice().reverse().flatten(({sublayers:r})=>r&&r.toArray().reverse()).map(r=>r.id).toArray();if(r.length>i.length)return!1;let n=0;const o=i.length;for(const{id:e}of r){for(;n<o&&i[n]!==e;)n++;if(n>=o)return!1}return!0}r.isExportDynamic=function(r,i,n){return!!r.some(r=>{const e=r.source,i=!e||"map-layer"===e.type&&e.mapLayerId===r.id&&(null==e.gdbVersion||e.gdbVersion===n);r.commitProperty("renderer"),r.commitProperty("labelingInfo"),r.commitProperty("opacity"),r.commitProperty("labelsVisible"),r.commitProperty("orderBy");const o=r.layer?.capabilities?.exportMap?.supportsSublayerOrderBy??!1;return!i||r.originIdOf("renderer")>2||r.originIdOf("labelingInfo")>2||r.originIdOf("opacity")>2||r.originIdOf("labelsVisible")>2||o&&r.originIdOf("orderBy")>2})||!e(r,i)},r.isSublayerOverhaul=function(r){return!!r&&r.some(r=>null!=r.minScale||null!=r.layerDefinition?.minScale)},r.shouldWriteSublayerStructure=function(r,i,n){return i.flatten(({sublayers:r})=>r).length!==r.length||!!r.some(r=>r.originIdOf("minScale")>n||r.originIdOf("maxScale")>n||r.originIdOf("renderer")>n||r.originIdOf("labelingInfo")>n||r.originIdOf("opacity")>n||r.originIdOf("labelsVisible")>n||r.originIdOf("source")>n)||!e(r,i)},Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});