// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports"],function(t){"use strict";const e=[["binary","application/octet-stream","bin",""]];function r(t,e){return c(function(t,e){const r=t.toLowerCase();return a(e).find(t=>l(t)===r)}(t,e))}function n(t,e){return c(p(t,e))}function o(t,e){return n(t.name,e)??r(t.type,e)}function i(t,e,o){return r(t,o)??n(e,o)}function u({supportedFormats:t}){return i("model/gltf-binary","glb",t)}function s({supportedFormats:t}){return i("model/gltf+json","gltf",t)}function a(t){return[...e,...t]}function p(t,e){const r=t.toLowerCase();return a(e).find(t=>d(t).some(t=>r.endsWith(t)))}function c(t){return t?.[0]}function l(t){return t?.[1].toLowerCase()}function d(t){return t?.[2].split(",").map(t=>t.toLowerCase())??[]}t.getAssetMapTable=function(t){return t.tables?.find(t=>"assetMaps"===t.role)},t.getFileFormatId=o,t.getFilePickerAcceptType=function(t){const e={};for(const r of a(t?.supportedFormats??[])){const[t,n]=l(r).split(";"),o=t.trim().toLowerCase(),i=d(r).map(t=>`.${t}`);e[o]??=[],e[o].push(...i)}return{description:"3D Models",accept:e}},t.getFilenameFormatId=n,t.getFormatDescription=function(t){return t?.[3]},t.getFormatExtensions=d,t.getFormatId=c,t.getFormatIdMimeType=function(t,e){return l(function(t,e){return a(e).find(e=>c(e)===t)}(t,e))},t.getFormatMimeType=l,t.getGlbFormatId=u,t.getGltfFormatId=s,t.getGltfQueryFormat=function(t){if(!t)return null;const e=u(t),r=s(t);let n=null;for(const o of t.queryFormats){if(o===e)return o;o===r&&(n=o)}return n},t.getMimeTypeFormatId=r,t.getMimeTypeOrFilenameFormatId=i,t.getPrjFormatId=function({supportedFormats:t}){return i("application/esri3do-SR_prj","prj",t)},t.getSupportedExtensions=function(t){return a(t?.supportedFormats??[]).flatMap(d).map(t=>`.${t}`)},t.getWorldFileFormatId=function({supportedFormats:t}){return i("application/esri3do-SR_world","wld",t)},t.isFileEditFormat=function(t,e){if(!t)return!1;const r=o(e,t.supportedFormats??[]);return null!=r&&t.editFormats.includes(r)},t.isFileSupported=function(t,e){return null!=p(e.name,t?.supportedFormats??[])},t.isGlbSupportedEditFormat=function(t){const e=u(t);return null!=e&&t.editFormats.includes(e)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});