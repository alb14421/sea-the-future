// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../PopupTemplate","../../core/lang","../../core/object","../../core/screenUtils","../../core/accessorSupport/decorators/property","../../core/accessorSupport/ensureType","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","./AggregateField","./commonProperties","./featureLayerUtils","./FeatureReduction","./LabelClass","../../renderers/support/jsonUtils","../../renderers/support/typeUtils"],function(e,r,t,o,p,a,i,s,n,l,d,u,c,f,y,b,h,_,g){"use strict";var m;return e.default=m=class extends b.FeatureReduction{constructor(e){super(e),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=a.toPt("12px"),this.fields=[],this.renderer=null}writeFields(e,r,t){const o=e.filter(e=>"avg_angle"!==e.statisticType).map(e=>e.toJSON());p.setDeepValue(t,o,r)}readRenderer(e,r,t){const o=r.drawingInfo?.renderer;return o?_.read(o,r,t)??void 0:y.createDefaultRenderer(r,t)}clone(){return new m({fields:o.clone(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:o.clone(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:o.clone(this.popupTemplate),renderer:o.clone(this.renderer),binType:o.clone(this.binType),size:this.size})}},r.__decorate([n.enumeration({binning:"binning"})],e.default.prototype,"type",void 0),r.__decorate([n.enumeration({geohash:"geohash",square:"square"}),i.property({type:["geohash","square"]})],e.default.prototype,"binType",void 0),r.__decorate([i.property({type:Number,json:{write:!0}})],e.default.prototype,"fixedBinLevel",void 0),r.__decorate([i.property({type:[h],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],e.default.prototype,"labelingInfo",void 0),r.__decorate([i.property(f.labelsVisible)],e.default.prototype,"labelsVisible",void 0),r.__decorate([i.property({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],e.default.prototype,"maxScale",void 0),r.__decorate([i.property(f.popupEnabled)],e.default.prototype,"popupEnabled",void 0),r.__decorate([i.property({type:t,json:{name:"popupInfo",write:!0}})],e.default.prototype,"popupTemplate",void 0),r.__decorate([i.property({cast:e=>"auto"===e?e:s.ensureNumber(a.toPt(e))})],e.default.prototype,"size",void 0),r.__decorate([i.property({type:[c],json:{write:!0}})],e.default.prototype,"fields",void 0),r.__decorate([u.writer("fields")],e.default.prototype,"writeFields",null),r.__decorate([i.property({types:g.rendererTypes,json:{write:{target:"drawingInfo.renderer"}}})],e.default.prototype,"renderer",void 0),r.__decorate([l.reader("renderer",["drawingInfo.renderer"])],e.default.prototype,"readRenderer",null),e.default=m=r.__decorate([d.subclass("esri.layers.support.FeatureReductionBinning")],e.default),e.default});