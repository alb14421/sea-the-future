// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../../geometry/Extent","../../geometry/Geometry","../../geometry/Polygon","../../geometry/support/jsonUtils","./DimensionalDefinition"],function(e,t,s,r,o,n,a,i,l,u,c,p,f){"use strict";var d;const y={base:u,key:"type",typeMap:{extent:l,polygon:c}};return e.default=d=class extends s.JSONSupport{constructor(e){super(e),this.areaOfInterest=null,this.subsetDefinitions=null}get dimensions(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Map;e.forEach(e=>{if(!e.dimensionName)return;let s,r;if(Array.isArray(e.values[0])){const t=e.values;s=t[0][0],r=t[e.values.length-1][1]}else{const t=e.values;s=t[0],r=t[e.values.length-1]}if(t.has(e.dimensionName)){const o=t.get(e.dimensionName);o[0]=Math.min(s,o[0]),o[1]=Math.max(r,o[1])}else t.set(e.dimensionName,[s,r])});const s=[];for(const e of t)s.push({name:e[0],extent:e[1]});return s}get variables(){const{subsetDefinitions:e}=this;if(null==e||0===e.length)return[];const t=new Set;return e.forEach(e=>{e.variableName&&t.add(e.variableName)}),[...t]}clone(){const e=this.subsetDefinitions?.map(e=>e.clone()),t=this.areaOfInterest?this.areaOfInterest.clone():this.areaOfInterest;return new d({areaOfInterest:t,subsetDefinitions:e})}},t.__decorate([r.property({types:y,json:{read:p.fromJSON,write:!0}})],e.default.prototype,"areaOfInterest",void 0),t.__decorate([r.property({readOnly:!0})],e.default.prototype,"dimensions",null),t.__decorate([r.property({readOnly:!0})],e.default.prototype,"variables",null),t.__decorate([r.property({type:[f],json:{write:!0}})],e.default.prototype,"subsetDefinitions",void 0),e.default=d=t.__decorate([i.subclass("esri.layers.support.MultidimensionalSubset")],e.default),e.default});