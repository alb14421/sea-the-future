// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/lang","../../core/Logger","../../core/urlUtils","./arcgisLayerUrl","./commonProperties"],function(r,e,t,l,n,o){"use strict";r.normalizeParsedUrlObject=function(r,e){const{separator:t}=e??{},n=l.urlToObject(r.url);return null!=n&&(null!=r.dynamicDataSource?n.path=l.join(n.path,"dynamicLayer"):null!=r.layerId&&(n.path=l.join(n.path,t??"",r.layerId.toString()))),n},r.urlProperty=function(r){const{nonStandardUrlAllowed:l=!1,separator:a}=r??{},i=e.clone(o.url),u=i.json?.write;return"object"==typeof u&&u&&(u.writer=function(r,e,t,l){n.writeUrlWithLayerId(this,r,a,e,l)}),{...i,set:function(r){if(null==r)return void this._set("url",r);const e=n.sanitizeUrlWithLayerId({layer:this,url:r,nonStandardUrlAllowed:l,logger:t.getLogger(this)});this._set("url",e.url),null!=e.layerId&&this._set("layerId",e.layerId)}}},Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});