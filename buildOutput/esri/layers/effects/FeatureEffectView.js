// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../core/Accessor","../../core/has","../../core/accessorSupport/decorators/property","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","./EffectView"],function(e,t,i,f,r,c,s,d,o){"use strict";return e.default=class extends i{constructor(e){super(e),this._filter=null,this.duration=f("mapview-transitions-duration"),this._excludedEffectView=new o.EffectView(e),this._includedEffectView=new o.EffectView(e)}get excludedEffects(){return this._excludedEffectView.effects}set featureEffect(e){this._get("featureEffect")!==e&&this._transitionTo(e)}get filter(){return this._filter||this.featureEffect?.filter||null}get hasEffects(){return this._excludedEffectView.hasEffects||this._includedEffectView.hasEffects}get includedEffects(){return this._includedEffectView.effects}set scale(e){this._set("scale",e),this._excludedEffectView.scale=e,this._includedEffectView.scale=e}get transitioning(){return this._excludedEffectView.transitioning||this._includedEffectView.transitioning}get transitioningToEmpty(){return!this._excludedEffectView.final&&!this._includedEffectView.final}transitionStep(e,t){this._set("scale",t),this.transitioning?(this._includedEffectView.transitionStep(e,t),this._excludedEffectView.transitionStep(e,t),this.transitioning||(this._filter=null)):(this._excludedEffectView.scale=t,this._includedEffectView.scale=t)}endTransition(){this._includedEffectView.endTransition(),this._excludedEffectView.endTransition(),this._filter=null}_transitionTo(e){const t=this._get("featureEffect"),i=e,f=i?.includedEffect,r=i?.excludedEffect,c=this._includedEffectView.canTransitionTo(f)&&this._excludedEffectView.canTransitionTo(r);this._includedEffectView.effect=f,this._excludedEffectView.effect=r,this._set("featureEffect",i),this._filter=i?.filter||t?.filter||null,c||this.endTransition()}},t.__decorate([r.property()],e.default.prototype,"_filter",void 0),t.__decorate([r.property()],e.default.prototype,"_excludedEffectView",void 0),t.__decorate([r.property()],e.default.prototype,"_includedEffectView",void 0),t.__decorate([r.property()],e.default.prototype,"duration",void 0),t.__decorate([r.property()],e.default.prototype,"excludedEffects",null),t.__decorate([r.property()],e.default.prototype,"featureEffect",null),t.__decorate([r.property()],e.default.prototype,"filter",null),t.__decorate([r.property()],e.default.prototype,"hasEffects",null),t.__decorate([r.property()],e.default.prototype,"includedEffects",null),t.__decorate([r.property({value:0})],e.default.prototype,"scale",null),t.__decorate([r.property()],e.default.prototype,"transitioning",null),t.__decorate([r.property()],e.default.prototype,"transitioningToEmpty",null),e.default=t.__decorate([d.subclass("esri.layers.effects.FeatureEffectView")],e.default),e.default});