// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./constants","./legacyTimeZoneMap","../chunks/datetime"],function(e,t,n,o){"use strict";const i="shortOffset";function r(e,n=t.system){return e?function(e){return"timeZoneIANA"in e}(e)?e.timeZoneIANA:m(e,n):n}function s(e){return{timeZoneIANA:e}}function m(e,i=t.system){if(!e||!n.legacyTimeZoneMap.has(e.timeZone))return i;const r=n.legacyTimeZoneMap.get(e.timeZone);return e.timeZone.startsWith("UTC")||e.respectsDaylightSaving?r:function(e){const t=o.DateTime.local().setZone(e),n=Math.min(t.set({month:1,day:1}).offset,t.set({month:5}).offset);return 0===n?"Etc/UTC":`Etc/GMT${o.FixedOffsetZone.instance(-n).formatOffset(0,"narrow")}`}(r)}e.convertLegacyTimeZone=m,e.fromTimeReference=r,e.getTimeZoneFormattingOptions=function(e,n,o,r,s){if(n&&"date"===s)return{timeZone:t.utc,timeZoneName:void 0};const m=r.timeStyle||r.hour,a="timestamp-offset"===s?void 0:e??t.utc,c=o===t.unknown;return{timeZone:c?a:o,timeZoneName:c&&m?i:void 0}},e.isTimeZoneValid=function(e){const n=new Set(["etc/utc","etc/gmt","gmt"]),o=new Set(Intl.supportedValuesOf("timeZone").map(e=>e.toLowerCase()));return e===t.system||e===t.unknown||n.has(e.toLowerCase())||o.has(e.toLowerCase())},e.shortTimeZoneName=i,e.timeZoneProperty=function(e,t=!1){return{json:{read:{source:e,reader:(t,n)=>n[e]?r(n[e]):null},write:!!t&&{allowNull:!0,writer(t,n){n[e]=t?s(t):null}}}}},e.toTimeReference=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});