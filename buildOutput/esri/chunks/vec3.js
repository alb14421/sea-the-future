// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../colorUtils","../core/has","../core/Logger"],function(t,e,r,n){"use strict";function f(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,n=3,f=n){if(t.length/n!==Math.ceil(e.length/f))return t;const o=t.length/n,i=r[0],l=r[1],u=r[2],a=r[4],c=r[5],d=r[6],s=r[8],B=r[9],h=r[10],p=r[12],y=r[13],g=r[14];let m=0,S=0;for(let r=0;r<o;r++){const r=e[m],o=e[m+1],M=e[m+2];t[S]=i*r+a*o+s*M+p,t[S+1]=l*r+c*o+B*M+y,t[S+2]=u*r+d*o+h*M+g,m+=f,S+=n}return t}function i(t,e,r){l(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function l(t,e,r,n=3,f=n){if(t.length/n!==Math.ceil(e.length/f))return;const o=t.length/n,i=r[0],l=r[1],u=r[2],a=r[3],c=r[4],d=r[5],s=r[6],B=r[7],h=r[8];let p=0,y=0;for(let r=0;r<o;r++){const r=e[p],o=e[p+1],g=e[p+2];t[y]=i*r+a*o+s*g,t[y+1]=l*r+c*o+B*g,t[y+2]=u*r+d*o+h*g,p+=f,y+=n}}function u(t,e,r){a(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,r,n=3,f=n){const o=Math.min(t.length/n,e.length/f);let i=0,l=0;for(let u=0;u<o;u++)t[l]=r*e[i],t[l+1]=r*e[i+1],t[l+2]=r*e[i+2],i+=f,l+=n;return t}function c(t,e,r,n){d(t.typedBuffer,e.typedBuffer,r,n,t.typedBufferStride,e.typedBufferStride)}function d(t,r,n,f,o=3,i=o){const l=Math.min(t.length/o,r.length/i);let u=0,a=0;const c=1/e.colorGamma;for(let e=0;e<l;e++)t[a]=f*(n*r[u])**c,t[a+1]=f*(n*r[u+1])**c,t[a+2]=f*(n*r[u+2])**c,u+=i,a+=o}function s(t,e,r,n=3,f=n){const o=t.length/n;if(o!==Math.ceil(e.length/f))return t;let i=0,l=0;for(let u=0;u<o;u++)t[l]=e[i]+r[0],t[l+1]=e[i+1]+r[1],t[l+2]=e[i+2]+r[2],i+=f,l+=n;return t}function B(t,e){h(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function h(t,e,r=3,n=r){const f=Math.min(t.length/r,e.length/n);let o=0,i=0;for(let l=0;l<f;l++){const f=e[o],l=e[o+1],u=e[o+2],a=f*f+l*l+u*u;if(a>0){const e=1/Math.sqrt(a);t[i]=e*f,t[i+1]=e*l,t[i+2]=e*u}o+=n,i+=r}}function p(t,e,r){const n=Math.min(t.count,e.count),f=t.typedBuffer,o=t.typedBufferStride,i=e.typedBuffer,l=e.typedBufferStride;let u=0,a=0;for(let t=0;t<n;t++)f[a]=i[u]>>r,f[a+1]=i[u+1]>>r,f[a+2]=i[u+2]>>r,u+=l,a+=o}const y=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:d,linearToSRGBView:c,normalize:h,normalizeView:B,scale:a,scaleView:u,shiftRight:p,transformMat3:l,transformMat3View:i,transformMat4:o,transformMat4View:f,translate:s},Symbol.toStringTag,{value:"Module"}));t.linearToSRGB=d,t.linearToSRGBView=c,t.normalize=h,t.normalizeView=B,t.scale=a,t.scaleView=u,t.shiftRight=p,t.transformMat3=l,t.transformMat3View=i,t.transformMat4=o,t.transformMat4View=f,t.translate=s,t.vec3=y});