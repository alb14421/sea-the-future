// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../colorUtils","../core/has","../geometry/support/buffer/math/common"],function(e,t,r,n){"use strict";function f(e,t,r){if(e.count!==t.count)return;const n=e.count,f=r[0],o=r[1],i=r[2],u=r[3],c=r[4],a=r[5],d=r[6],l=r[7],s=r[8],p=r[9],B=r[10],m=r[11],y=r[12],h=r[13],S=r[14],g=r[15],M=e.typedBuffer,w=e.typedBufferStride,V=t.typedBuffer,b=t.typedBufferStride;for(let e=0;e<n;e++){const t=e*w,r=e*b,n=V[r],G=V[r+1],T=V[r+2],v=V[r+3];M[t]=f*n+c*G+s*T+y*v,M[t+1]=o*n+a*G+p*T+h*v,M[t+2]=i*n+d*G+B*T+S*v,M[t+3]=u*n+l*G+m*T+g*v}}function o(e,t,r,f=4,o=f){if(e.length/f!==t.length/o)return void n.getMathLogger().error("source and destination buffers need to have the same number of elements");const i=e.length/f,u=r[0],c=r[1],a=r[2],d=r[3],l=r[4],s=r[5],p=r[6],B=r[7],m=r[8],y=r[9],h=r[10],S=r[11],g=r[12],M=r[13],w=r[14],V=r[15];let b=0,G=0;for(let r=0;r<i;r++){const r=t[b],n=t[b+1],i=t[b+2],T=t[b+3];e[G]=u*r+l*n+m*i+g*T,e[G+1]=c*r+s*n+y*i+M*T,e[G+2]=a*r+p*n+h*i+w*T,e[G+3]=d*r+B*n+S*i+V*T,b+=o,G+=f}}function i(e,t,r){u(e.typedBuffer,t.typedBuffer,r,e.typedBufferStride,t.typedBufferStride)}function u(e,t,r,n=4,f=n){if(e.length/n!==t.length/f)return;const o=e.length/n,i=r[0],u=r[1],c=r[2],a=r[3],d=r[4],l=r[5],s=r[6],p=r[7],B=r[8];let m=0,y=0;for(let r=0;r<o;r++){const r=t[m],o=t[m+1],h=t[m+2],S=t[m+3];e[y]=i*r+a*o+s*h,e[y+1]=u*r+d*o+p*h,e[y+2]=c*r+l*o+B*h,e[y+3]=S,m+=f,y+=n}}function c(e,t){const r=Math.min(e.count,t.count),n=e.typedBuffer,f=e.typedBufferStride,o=t.typedBuffer,i=t.typedBufferStride;for(let e=0;e<r;e++){const t=e*f,r=e*i,u=o[r],c=o[r+1],a=o[r+2],d=u*u+c*c+a*a;if(d>0){const e=1/Math.sqrt(d);n[t]=e*u,n[t+1]=e*c,n[t+2]=e*a}}}function a(e,t,r){d(e.typedBuffer,t,r,e.typedBufferStride)}function d(e,t,r,n=4){const f=Math.min(e.length/n,t.count),o=t.typedBuffer,i=t.typedBufferStride;let u=0,c=0;for(let t=0;t<f;t++)e[c]=r*o[u],e[c+1]=r*o[u+1],e[c+2]=r*o[u+2],e[c+3]=r*o[u+3],u+=i,c+=n}function l(e,t,r,n){s(e.typedBuffer,t,r,n,e.typedBufferStride)}function s(e,r,n,f,o=4){const i=Math.min(e.length/o,r.count),u=r.typedBuffer,c=r.typedBufferStride;let a=0,d=0;const l=1/t.colorGamma;for(let t=0;t<i;t++)e[d]=f*(n*u[a])**l,e[d+1]=f*(n*u[a+1])**l,e[d+2]=f*(n*u[a+2])**l,e[d+3]=f*n*u[a+3],a+=c,d+=o}const p=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:s,linearToSRGBView:l,normalize:c,scale:d,scaleView:a,transformMat3:u,transformMat3View:i,transformMat4:o,transformMat4View:f},Symbol.toStringTag,{value:"Module"}));e.linearToSRGB=s,e.linearToSRGBView=l,e.normalize=c,e.scale=d,e.scaleView=a,e.transformMat3=u,e.transformMat3View=i,e.transformMat4=o,e.transformMat4View=f,e.vec4=p});