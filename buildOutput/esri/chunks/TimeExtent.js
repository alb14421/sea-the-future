// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./tslib.es6","../core/JSONSupport","../core/timeUtils","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/reader","../core/accessorSupport/decorators/subclass","../core/accessorSupport/decorators/writer","../time/constants"],function(t,e,r,n,i,s,l,a,o,u,d,m){"use strict";var c;t.TimeExtent=class extends r.JSONSupport{static{c=this}static get allTime(){return p}static get empty(){return T}static fromArray(t){return new c({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(c.allTime)}get isEmpty(){return this.equals(c.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new c({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=t.start?.getTime()??t.start,i=t.end?.getTime()??t.end;return e===n&&r===i}expandTo(t,e=m.system){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=n.truncateDate(r,t,e));let i=this.end;if(i){const r=n.truncateDate(i,t,e);i=i.getTime()===r.getTime()?r:n.offsetDate(r,1,t,e)}return new c({start:r,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return c.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=t.start?.getTime()??-1/0,i=t.end?.getTime()??1/0;let s,l;return n>=e&&n<=r?s=n:e>=n&&e<=i&&(s=e),r>=n&&r<=i?l=r:i>=e&&i<=r&&(l=i),null==s||null==l||isNaN(s)||isNaN(l)?c.empty:new c({start:s===-1/0?null:new Date(s),end:l===1/0?null:new Date(l)})}offset(t,e,r=m.system){if(this.isEmpty||this.isAllTime)return this.clone();const i=new c,{start:s,end:l}=this;return null!=s&&(i.start=n.offsetDate(s,t,e,r)),null!=l&&(i.end=n.offsetDate(l,t,e,r)),i}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,r=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new c({start:e,end:r})}},e.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],t.TimeExtent.prototype,"end",void 0),e.__decorate([o.reader("end")],t.TimeExtent.prototype,"readEnd",null),e.__decorate([d.writer("end")],t.TimeExtent.prototype,"writeEnd",null),e.__decorate([i.property({readOnly:!0,json:{read:!1}})],t.TimeExtent.prototype,"isAllTime",null),e.__decorate([i.property({readOnly:!0,json:{read:!1}})],t.TimeExtent.prototype,"isEmpty",null),e.__decorate([i.property({type:Date,json:{write:{allowNull:!0}}})],t.TimeExtent.prototype,"start",void 0),e.__decorate([o.reader("start")],t.TimeExtent.prototype,"readStart",null),e.__decorate([d.writer("start")],t.TimeExtent.prototype,"writeStart",null),t.TimeExtent=c=e.__decorate([u.subclass("esri.time.TimeExtent")],t.TimeExtent);const p=new t.TimeExtent,T=new t.TimeExtent({start:void 0,end:void 0});t.TimeExtent$1=t.TimeExtent});