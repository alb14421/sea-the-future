// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./time-zones","./region","./index-p4VH55K1"],function(t,e,n,o){"use strict";const r={groupDateRange:365,startDate:(new Date).toISOString()},s=(t,e,n)=>t.length===e.length&&t.every((t,o)=>n.same(t,e[o])),a=(t,e=5)=>{const o=t.filter(({label:t})=>n.extractRegion(t)!==n.global);return 0===o.length?[0]:function(t,e=5){const n=t.length;if(n<=e)return t;const o=Math.min(n-2,e-2),r=(n-1)/(o+1);return[t[0],...Array.from({length:o},(e,n)=>t[Math.round((n+1)*r)]),t[n-1]]}(o.map(e=>t.indexOf(e)),e)};t.groupByOffset=async function(t){const{groupDateRange:o,startDate:l,dateEngine:i}={...r,...t},c=[];if(!i)throw new Error("dateEngine is required");const g=((t,e,o,r)=>{const s=new Map,a=((t,e,n)=>{const o=[];let r=n.create(t);for(let t=0;t<=e;t++)r=n.increase(r),o.push(n.formatToIsoDateString(r));return o})(e,o,r);return t.map(t=>{const{label:e}=t,o=n.extractRegion(e),l=a.map(t=>{const n=`${t}-${e}`;let o=s.get(n);return o||(o=r.isoToTimeZone(t,e),s.set(n,o),o)});return{...t,continent:o,isRegularContinent:o!==n.global,dates:l}})})(e.timeZones.map(t=>({label:t})),l,o,i);for(const t of g){const{label:e,continent:n,dates:o}=t;if(t.visited)continue;t.visited=!0;const r={labelIdx:[],tzs:[{label:e}]};for(const t of g.filter(t=>!t.visited)){const{label:e,continent:a,isRegularContinent:l,dates:c}=t;if((n===a||!l)&&s(o,c,i)){const n={label:e};r.tzs.push(n),t.visited=!0}}c.push(r)}return c.map(t=>(t.tzs=t.tzs.sort((t,e)=>t.label.localeCompare(e.label)),{labelTzIdx:a(t.tzs,7),tzs:t.tzs.map(t=>t.label)})).sort((t,e)=>e.tzs.length-t.tzs.length)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});