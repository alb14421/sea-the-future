// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./index32","./index7","./index12","./index57","./index19","./index10","./componentsUtils","./keyed","./ref","./dom","./interactive","./component","./observers","./floating-ui","./useT9n"],function(e,t,a,n,o,i,s,l,r,c,d,h,p,g,f,u){"use strict";const b="header-container",v="header-container--border-end",m="header-content",C="header-actions",x="header-actions--end",$="header-actions--start",y="header-slotted-content",A={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"},S=l.i`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.container[hidden]{display:none}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header-slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}:host([hidden]){display:none}[hidden]{display:none}`;class H extends l.LitElement{constructor(){super(),this.resizeObserver=g.createObserver("resize",()=>this.resizeHandler()),this.messages=u.useT9n(),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.isClosed=!1,this.showHeaderContent=!1,this.closable=!1,this.closed=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=f.defaultEndMenuPlacement,this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=l.createEvent({cancelable:!1}),this.calcitePanelScroll=l.createEvent({cancelable:!1}),this.calcitePanelToggle=l.createEvent({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler)}static{this.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],isClosed:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]}}static{this.styles=S}async scrollContentTo(e){this.panelScrollEl?.scrollTo(e)}async setFocus(){await p.componentFocusable(this),d.focusFirstTabbable(this.containerEl)}async load(){this.isClosed=this.closed}willUpdate(e){e.has("closed")&&this.hasUpdated&&(this.closed?this.close():this.open())}updated(){h.updateHostInteraction(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}resizeHandler(){const{panelScrollEl:e}=this;e&&"number"==typeof e.scrollHeight&&"number"==typeof e.offsetHeight&&(e.scrollHeight>e.offsetHeight?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex"))}setContainerRef(e){this.containerEl=e}panelKeyDownHandler(e){this.closable&&"Escape"===e.key&&!e.defaultPrevented&&(this.handleUserClose(),e.preventDefault())}handleUserClose(){this.closed=!0,this.calcitePanelClose.emit()}open(){this.isClosed=!1}async close(){const e=this.beforeClose??(()=>Promise.resolve());try{await e()}catch{return void requestAnimationFrame(()=>{this.closed=!1})}this.isClosed=!0}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(e){this.hasStartActions=d.slotChangeHasAssignedElement(e)}handleHeaderActionsEndSlotChange(e){this.hasEndActions=d.slotChangeHasAssignedElement(e)}handleHeaderMenuActionsSlotChange(e){this.hasMenuItems=d.slotChangeHasAssignedElement(e)}handleActionBarSlotChange(e){const t=d.slotChangeGetAssignedElements(e).filter(e=>e?.matches("calcite-action-bar"));t.forEach(e=>e.layout="horizontal"),this.hasActionBar=!!t.length}handleHeaderContentSlotChange(e){this.hasHeaderContent=d.slotChangeHasAssignedElement(e)}handleFabSlotChange(e){this.hasFab=d.slotChangeHasAssignedElement(e)}handleFooterActionsSlotChange(e){this.hasFooterActions=d.slotChangeHasAssignedElement(e)}handleFooterEndSlotChange(e){this.hasFooterEndContent=d.slotChangeHasAssignedElement(e)}handleFooterStartSlotChange(e){this.hasFooterStartContent=d.slotChangeHasAssignedElement(e)}handleFooterSlotChange(e){this.hasFooterContent=d.slotChangeHasAssignedElement(e)}contentBottomSlotChangeHandler(e){this.hasContentBottom=d.slotChangeHasAssignedElement(e)}contentTopSlotChangeHandler(e){this.hasContentTop=d.slotChangeHasAssignedElement(e)}setPanelScrollEl(e){this.panelScrollEl=e,this.resizeObserver?.disconnect(),e&&(this.resizeObserver?.observe(e),this.resizeHandler())}handleAlertsSlotChange(e){d.slotChangeGetAssignedElements(e)?.map(e=>{"CALCITE-ALERT"===e.nodeName&&(e.embedded=!0)})}renderHeaderContent(){const{heading:e,headingLevel:t,description:a,hasHeaderContent:n}=this,i=e?o.Heading({class:"heading",level:t,children:e}):null,s=a?l.x`<span class=${l.safeClassMap("description")}>${a}</span>`:null;return n||!i&&!s?null:r.i("header-content",l.x`<div class=${l.safeClassMap(m)}>${i}${s}</div>`)}renderActionBar(){return l.x`<div class=${l.safeClassMap("action-bar-container")} .hidden=${!this.hasActionBar}><slot name=${A.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return r.i("slotted-header-content",l.x`<div class=${l.safeClassMap({[m]:!0,[y]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${A.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){const{hasStartActions:e}=this;return r.i("header-actions-start",l.x`<div class=${l.safeClassMap({[$]:!0,[C]:!0})} .hidden=${!e}><slot name=${A.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){const{hasEndActions:e,messages:t,closable:a,collapsed:n,collapseDirection:o,collapsible:i,hasMenuItems:s}=this,{collapse:c,expand:d,close:h}=t,p=["chevron-down","chevron-up"];"up"===o&&p.reverse();const g=i?l.x`<calcite-action .ariaExpanded=${!n} .ariaLabel=${c} .icon=${n?p[0]:p[1]} id=${"collapse"} @click=${this.collapse} .scale=${this.scale} .text=${c} title=${(n?d:c)??l.E}></calcite-action>`:null,f=a?l.x`<calcite-action .ariaLabel=${h} .icon=${"x"} id=${"close"} @click=${this.handleUserClose} .scale=${this.scale} .text=${h} title=${h??l.E}></calcite-action>`:null,u=l.x`<slot name=${A.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,b=e||g||f||s;return r.i("header-actions-end",l.x`<div class=${l.safeClassMap({[x]:!0,[C]:!0})} .hidden=${!b}>${u}${this.renderMenu()}${g}${f}</div>`)}renderMenu(){const{hasMenuItems:e,messages:t,menuOpen:a,menuFlipPlacements:n,menuPlacement:o}=this;return r.i("menu",l.x`<calcite-action-menu .flipPlacements=${n??["top","bottom"]} .hidden=${!e} .label=${t.options} .open=${a} .overlayPositioning=${this.overlayPositioning} .placement=${o}><calcite-action class=${l.safeClassMap("menu-action")} .icon=${"ellipsis"} .scale=${this.scale} slot=${i.SLOTS.trigger} .text=${t.options}></calcite-action><slot name=${A.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){const{hasHeaderContent:e,hasStartActions:t,hasEndActions:a,closable:n,collapsible:o,hasMenuItems:i,hasActionBar:s}=this,r=this.renderHeaderContent(),c=e||!!r||t||a||o||n||i;return this.showHeaderContent=c,l.x`<header class=${l.safeClassMap("header")} .hidden=${!(c||s)}><div class=${l.safeClassMap({[b]:!0,[v]:s})} .hidden=${!c}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${r}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){const{hasFooterEndContent:e,hasFooterStartContent:t,hasFooterContent:a,hasFooterActions:n}=this,o=t||e||a||n;return l.x`<footer class=${l.safeClassMap("footer")} .hidden=${!o}><div class=${l.safeClassMap("footer-content")} .hidden=${!a}><slot name=${A.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${l.safeClassMap("footer-start")} .hidden=${a||!t}><slot name=${A.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${l.safeClassMap("footer-end")} .hidden=${a||!e}><slot name=${A.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${l.safeClassMap("footer-actions")} .hidden=${a||!n}>${r.i("footer-actions-slot",l.x`<slot name=${A.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return l.x`<div class=${l.safeClassMap("content-wrapper")} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${c.n(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return l.x`<div class=${l.safeClassMap("content-bottom")} .hidden=${!this.hasContentBottom}><slot name=${A.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return l.x`<div class=${l.safeClassMap("content-top")} .hidden=${!this.hasContentTop}><slot name=${A.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return l.x`<div class=${l.safeClassMap("fab-container")} .hidden=${!this.hasFab}><slot name=${A.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){const{disabled:e,loading:t,isClosed:a}=this,n=l.x`<article .ariaBusy=${t} class=${l.safeClassMap("container")} .hidden=${a} ${c.n(this.setContainerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${r.i("alerts",l.x`<slot name=${A.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return h.InteractiveContainer({disabled:e,children:l.x`${t?l.x`<calcite-scrim .loading=${t}></calcite-scrim>`:null}${n}`})}}l.customElement("calcite-panel",H);const E=Object.freeze(Object.defineProperty({__proto__:null,Panel:H},Symbol.toStringTag,{value:"Module"}));e.SLOTS=A,e.index=E});