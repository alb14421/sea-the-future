// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./_commonjsHelpers"],function(t,n){"use strict";var e,r,i,o,u={exports:{}},s=(e||(e=1,r=u,i="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,o=function(t){var n,e;(t=void 0!==(t=t||{})?t:{}).ready=new Promise(function(t,r){n=t,e=r});var r=Object.assign({},t),o="object"==typeof window,u="function"==typeof importScripts;"object"==typeof process&&"object"==typeof process.versions&&process.versions.node;var s,a="";(o||u)&&(u?a=self.location.href:"undefined"!=typeof document&&document.currentScript&&(a=document.currentScript.src),i&&(a=i),a=0!==a.indexOf("blob:")?a.substr(0,a.replace(/[?#].*/,"").lastIndexOf("/")+1):"",u&&(s=t=>{var n=new XMLHttpRequest;return n.open("GET",t,!1),n.responseType="arraybuffer",n.send(null),new Uint8Array(n.response)})),t.print||console.log.bind(console);var c,f,l=t.printErr||console.warn.bind(console);Object.assign(t,r),r=null,t.arguments&&t.arguments,t.thisProgram&&t.thisProgram,t.quit&&t.quit,t.wasmBinary&&(c=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&W("no native wasm support detected");var p,h,d,m,_,y,g=!1,b="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function v(t,n){return t?function(t,n,e){for(var r=n+e,i=n;t[i]&&!(i>=r);)++i;if(i-n>16&&t.buffer&&b)return b.decode(t.subarray(n,i));for(var o="";n<i;){var u=t[n++];if(128&u){var s=63&t[n++];if(192!=(224&u)){var a=63&t[n++];if((u=224==(240&u)?(15&u)<<12|s<<6|a:(7&u)<<18|s<<12|a<<6|63&t[n++])<65536)o+=String.fromCharCode(u);else{var c=u-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&u)<<6|s)}else o+=String.fromCharCode(u)}return o}(d,t,n):""}function w(n){p=n,t.HEAP8=h=new Int8Array(n),t.HEAP16=new Int16Array(n),t.HEAP32=m=new Int32Array(n),t.HEAPU8=d=new Uint8Array(n),t.HEAPU16=new Uint16Array(n),t.HEAPU32=_=new Uint32Array(n),t.HEAPF32=new Float32Array(n),t.HEAPF64=new Float64Array(n)}t.INITIAL_MEMORY;var A=[],R=[],S=[];function x(t){A.unshift(t)}function I(t){S.unshift(t)}var P,j,E=0,D=null;function W(n){t.onAbort&&t.onAbort(n),l(n="Aborted("+n+")"),g=!0,n+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(n);throw e(r),r}function H(t){return t.startsWith("data:application/octet-stream;base64,")}function C(t){try{if(t==P&&c)return new Uint8Array(c);if(s)return s(t);throw"both async and sync fetching of the wasm failed"}catch(t){W(t)}}function T(n){for(;n.length>0;){var e=n.shift();if("function"!=typeof e){var r=e.func;"number"==typeof r?void 0===e.arg?O(r)():O(r)(e.arg):r(void 0===e.arg?null:e.arg)}else e(t)}}H(P="lerc-wasm.wasm")||(j=P,P=t.locateFile?t.locateFile(j,a):a+j);var M=[];function O(t){var n=M[t];return n||(t>=M.length&&(M.length=t+1),M[t]=n=y.get(t)),n}function U(t){this.excPtr=t,this.ptr=t-24,this.set_type=function(t){_[this.ptr+4>>2]=t},this.get_type=function(){return _[this.ptr+4>>2]},this.set_destructor=function(t){_[this.ptr+8>>2]=t},this.get_destructor=function(){return _[this.ptr+8>>2]},this.set_refcount=function(t){m[this.ptr>>2]=t},this.set_caught=function(t){t=t?1:0,h[this.ptr+12|0]=t},this.get_caught=function(){return 0!=h[this.ptr+12|0]},this.set_rethrown=function(t){t=t?1:0,h[this.ptr+13|0]=t},this.get_rethrown=function(){return 0!=h[this.ptr+13|0]},this.init=function(t,n){this.set_adjusted_ptr(0),this.set_type(t),this.set_destructor(n),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var t=m[this.ptr>>2];m[this.ptr>>2]=t+1},this.release_ref=function(){var t=m[this.ptr>>2];return m[this.ptr>>2]=t-1,1===t},this.set_adjusted_ptr=function(t){_[this.ptr+16>>2]=t},this.get_adjusted_ptr=function(){return _[this.ptr+16>>2]},this.get_exception_ptr=function(){if(z(this.get_type()))return _[this.excPtr>>2];var t=this.get_adjusted_ptr();return 0!==t?t:this.excPtr}}function B(t){try{return f.grow(t-p.byteLength+65535>>>16),w(f.buffer),1}catch(t){}}var F={a:function(t,n,e,r){W("Assertion failed: "+v(t)+", at: "+[n?v(n):"unknown filename",e,r?v(r):"unknown function"])},c:function(t){return k(t+24)+24},b:function(t,n,e){throw new U(t).init(n,e),t},d:function(){W("")},f:function(t,n,e){d.copyWithin(t,n,n+e)},e:function(t){var n=d.length,e=2147483648;if((t>>>=0)>e)return!1;let r=(t,n)=>t+(n-t%n)%n;for(var i=1;i<=4;i*=2){var o=n*(1+.2/i);if(o=Math.min(o,t+100663296),B(Math.min(e,r(Math.max(t,o),65536))))return!0}return!1}};!function(){var n={a:F};function r(n,e){var r,i=n.exports;t.asm=i,w((f=t.asm.g).buffer),y=t.asm.m,r=t.asm.h,R.unshift(r),function(){if(E--,t.monitorRunDependencies&&t.monitorRunDependencies(E),0==E&&D){var n=D;D=null,n()}}()}function i(t){r(t.instance)}function s(t){return(c||!o&&!u||"function"!=typeof fetch?Promise.resolve().then(function(){return C(P)}):fetch(P,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+P+"'";return t.arrayBuffer()}).catch(function(){return C(P)})).then(function(t){return WebAssembly.instantiate(t,n)}).then(function(t){return t}).then(t,function(t){l("failed to asynchronously prepare wasm: "+t),W(t)})}if(E++,t.monitorRunDependencies&&t.monitorRunDependencies(E),t.instantiateWasm)try{return t.instantiateWasm(n,r)}catch(t){return l("Module.instantiateWasm callback failed with error: "+t),!1}(c||"function"!=typeof WebAssembly.instantiateStreaming||H(P)||"function"!=typeof fetch?s(i):fetch(P,{credentials:"same-origin"}).then(function(t){return WebAssembly.instantiateStreaming(t,n).then(i,function(t){return l("wasm streaming compile failed: "+t),l("falling back to ArrayBuffer instantiation"),s(i)})})).catch(e)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.h).apply(null,arguments)},t._lerc_getBlobInfo=function(){return(t._lerc_getBlobInfo=t.asm.i).apply(null,arguments)},t._lerc_getDataRanges=function(){return(t._lerc_getDataRanges=t.asm.j).apply(null,arguments)},t._lerc_decode=function(){return(t._lerc_decode=t.asm.k).apply(null,arguments)},t._lerc_decode_4D=function(){return(t._lerc_decode_4D=t.asm.l).apply(null,arguments)};var k=t._malloc=function(){return(k=t._malloc=t.asm.n).apply(null,arguments)};t._free=function(){return(t._free=t.asm.o).apply(null,arguments)};var q,z=t.___cxa_is_pointer_type=function(){return(z=t.___cxa_is_pointer_type=t.asm.p).apply(null,arguments)};function L(e){function r(){q||(q=!0,t.calledRun=!0,g||(T(R),n(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),function(){if(t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;)I(t.postRun.shift());T(S)}()))}E>0||(function(){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)x(t.preRun.shift());T(A)}(),E>0||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),r()},1)):r()))}if(D=function t(){q||L(),q||(D=t)},t.run=L,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);t.preInit.length>0;)t.preInit.pop()();return L(),t.ready},r.exports=o),u.exports);const a=n.getDefaultExportFromCjs(s),c=Object.freeze(Object.defineProperty({__proto__:null,default:a},Symbol.toStringTag,{value:"Module"}));t.lercWasm=c});