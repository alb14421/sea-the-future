// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./index7","./index31","./index32","./index12","./index57","./componentsUtils","./ref","./key","./locale","./math","./component","./dom","./useT9n","./form","./interactive","./label","./Validation","./input","./text"],function(e,t,i,a,s,n,o,r,c,l,u,d,h,m,p,f,b,v,g,S){"use strict";function k({locale:e,numberingSystem:t,includeSeconds:i=!0,fractionalSecondDigits:a,hour12:s}){const n={hour:"2-digit",minute:"2-digit",timeZone:"UTC",numberingSystem:l.getSupportedNumberingSystem(t)};return"boolean"==typeof s&&(n.hour12=s),i&&(n.second="2-digit",a&&(n.fractionalSecondDigits=a)),l.getDateTimeFormat(e,n)}function $(e,t){return parseFloat(`0.${e}`).toFixed(u.decimalPlaces(t)).replace("0.","")}function w(e,t){if(null==e)return;const i=e.toString(),a=u.decimalPlaces(e);if(e<1&&a>0&&a<4){const e=i.replace("0.","");return t&&e.length!==t&&e.length<t?e.padEnd(t,"0"):e}return e>=0&&e<10?i.padStart(2,"0"):e>=10?i:void 0}function x(e){return parseInt((parseFloat(`0.${e}`)/.001).toFixed(3))}function y(e){const t={locale:e};"mk"===e?t.hour12=!1:"es-mx"===e.toLowerCase()&&(t.hour12=!0);const i=k(t).formatToParts(new Date(Date.UTC(0,0,0,0,0,0)));return i.find(({type:e})=>"dayPeriod"===e)?.value?"12":"24"}function M({locale:e,meridiem:t,parts:i}){const a=["he","bs","mk"];let s;if(i){if(s=i.find(({type:e})=>"dayPeriod"===e)?.value||null,e&&a.includes(e)){const t=l.localizedTwentyFourHourMeridiems.get(e);"PM"===s&&(s=t.pm),"AM"===s&&(s=t.am)}}else if(t)if(a.includes(e)){const i=l.localizedTwentyFourHourMeridiems.get(e);s="PM"===t?i.pm:i.am}else{const i=k({locale:e,hour12:!0}),a=6,n=18,o=new Date(Date.UTC(0,0,0,"AM"===t?a:n,0)),r=i.formatToParts(o);s=r.find(({type:e})=>"dayPeriod"===e)?.value||null}return s}function P(e,t){return l.numberStringFormatter.numberFormatOptions={locale:e,numberingSystem:t},l.numberStringFormatter.localize("1.1").split("")[1]}function D(e,t,i="latn"){return E(`${e}Suffix`,k({locale:t,numberingSystem:i}).formatToParts(new Date(Date.UTC(0,0,0,0,0,0))))}function E(e,t,i="en"){if(!e||!t)return null;if("hourSuffix"===e){const e=t.indexOf(t.find(({type:e})=>"hour"===e)),i=t.indexOf(t.find(({type:e})=>"minute"===e)),a=t[e+1];return a&&"literal"===a.type&&i-e===2&&a.value?.trim()||null}if("minuteSuffix"===e){const e=t.indexOf(t.find(({type:e})=>"minute"===e)),i=t.indexOf(t.find(({type:e})=>"second"===e)),a=t[e+1];return a&&"literal"===a.type&&i-e===2&&a.value?.trim()||null}if("secondSuffix"===e){let e;const i=t.indexOf(t.find(({type:e})=>"fractionalSecond"===e));if(i)e=t[i+1];else{const i=t.indexOf(t.find(({type:e})=>"second"===e));e=t[i+1]}return"literal"===e?.type&&e.value?.trim()||null}return"meridiem"===e&&t.find(({type:e})=>"dayPeriod"===e)?.value?M({locale:i,parts:t}):t.find(({type:t})=>t===e)?.value||null}function F(e){if(!l.isValidNumber(e))return null;const t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function H(e){return new Intl.DateTimeFormat(e,{hour:"2-digit",hour12:!0,minute:"2-digit",timeZone:"UTC"}).formatToParts(new Date(Date.UTC(0,0,0,0,0))).findIndex(e=>"dayPeriod"===e.type)}function z(e){const t="string"==typeof e;if(!e||t&&(e.startsWith(":")||e.endsWith(":"))||!t&&(!e.hour||!e.minute))return!1;let i,a,s;if(t?[i,a,s]=e.split(":"):({hour:i,minute:a,second:s}=e),!i||!a)return!1;const n=parseInt(i),o=parseInt(a),r=parseInt(s),c=l.isValidNumber(i)&&n>=0&&n<24,u=l.isValidNumber(a)&&o>=0&&o<60,d=l.isValidNumber(s)&&r>=0&&r<60;return!!(c&&u&&!s||c&&u&&d)}function C({value:e,part:t,locale:i,numberingSystem:a="latn",hour12:s}){if(!function(e,t){if("meridiem"===t)return"AM"===e||"PM"===e;if(!l.isValidNumber(e))return!1;const i=Number(e),a=i>=0;return"hour"===t?a&&i<24:"fractionalSecond"===t?a&&i<=999:a&&i<60}(e,t))return;if("fractionalSecond"===t){const t=P(i,a);let s=null;if(e){l.numberStringFormatter.numberFormatOptions={locale:i,numberingSystem:a};const n=l.numberStringFormatter.localize("0");0===parseInt(e)?s="".padStart(e.length,n):(s=l.numberStringFormatter.localize(`0.${e}`).replace(`${n}${t}`,""),s.length<e.length&&(s=s.padEnd(e.length,n)))}return s}const n=parseInt(e),o=new Date(Date.UTC(0,0,0,"hour"===t?n:"meridiem"===t?"AM"===e?0:12:0,"minute"===t?n:0,"second"===t?n:0));return o?E(t,k({hour12:s,locale:i,numberingSystem:a}).formatToParts(o),i):void 0}function V({hour12:e,includeSeconds:t=!0,locale:i,numberingSystem:a="latn",parts:s=!1,step:n,value:o}){if(!z(o))return null;const{hour:r,minute:c,second:d="0",fractionalSecond:h}=T(o,n),m=new Date(Date.UTC(0,0,0,parseInt(r),parseInt(c),parseInt(d),h&&x(h))),p=k({fractionalSecondDigits:u.decimalPlaces(n),hour12:e,includeSeconds:t,locale:i,numberingSystem:a});if(s){const e=p.formatToParts(m);return{hour:E("hour",e),hourSuffix:E("hourSuffix",e),minute:E("minute",e),minuteSuffix:E("minuteSuffix",e),second:E("second",e),decimalSeparator:P(i,a),fractionalSecond:E("fractionalSecond",e),secondSuffix:"bg"!==i&&E("secondSuffix",e),meridiem:E("meridiem",e,i)}}{let e=p.format(m)||null;if(!s&&"string"==typeof e&&"bg"===i&&e&&e.includes(" ч.")&&(e=e.replaceAll(" ч.","")),["he","bs","mk"].includes(i)){const t=l.localizedTwentyFourHourMeridiems.get(i);e.includes("AM")?e=e.replaceAll("AM",t.am):e.includes("PM")&&(e=e.replaceAll("PM",t.pm)),"he"!==i&&e.indexOf(".")!==e.length-1&&(e=e.replace(".",","))}return e}}function I({hour12:e,locale:t,numberingSystem:i="latn",step:a=60,value:s}){if(!z(s))return null;const{hour:n,minute:o,second:r="0",fractionalSecond:c}=T(s,a),l=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(o),parseInt(r),c&&x(c)));if(l){const s=k({fractionalSecondDigits:u.decimalPlaces(a),hour12:e,locale:t,numberingSystem:i}).formatToParts(l);return{hour:E("hour",s),hourSuffix:E("hourSuffix",s),minute:E("minute",s),minuteSuffix:E("minuteSuffix",s),second:E("second",s),decimalSeparator:P(t,i),fractionalSecond:E("fractionalSecond",s),secondSuffix:"bg"!==t&&E("secondSuffix",s),meridiem:E("meridiem",s,t)}}return null}function T(e,t){if(z(e)){const[i,a,s]=e.split(":");let n=s,o=null;return s?.includes(".")&&([n,o]=s.split(".")),t&&(o=$(o,t)),{fractionalSecond:o,hour:i,minute:a,second:n}}return{fractionalSecond:null,hour:null,minute:null,second:null}}function A(e,t=60){if(!z(e))return null;let i,a,s,n,o,r=null;return"string"==typeof e?([i,a,n]=e.split(":"),[s,o]=n?.split(".")||["0"]):(i=e.hour,a=e.minute,s=e.second,o=e.fractionalSecond),i&&a&&(r=`${w(parseInt(i))}:${w(parseInt(a))}`,t<60&&(r+=`:${w(parseInt(s||"0"))}`,t<1&&(r+=`.${$(o||"0",t)}`))),r}const U={button:"button",buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",buttonFractionalSecondDown:"button--fractionalSecond-down",buttonFractionalSecondUp:"button--fractionalSecond-up",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right",column:"column",decimalSeparator:"decimal-separator",delimiter:"delimiter",fractionalSecond:"fractionalSecond",hour:"hour",hourSuffix:"hour-suffix",input:"input",inputFocus:"inputFocus",meridiem:"meridiem",minute:"minute",minuteSuffix:"minute-suffix",second:"second",secondSuffix:"second-suffix",showMeridiem:"show-meridiem",showSecond:"show-second","scale-s":"scale-s","scale-m":"scale-m","scale-l":"scale-l",timePicker:"time-picker",meridiemStart:"meridiem--start"},O=o.i`:host{display:inline-block}.time-picker{display:flex;-webkit-user-select:none;user-select:none;align-items:center;font-weight:var(--calcite-font-weight-medium);--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);border-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round));color:var(--calcite-time-picker-color, var(--calcite-color-text-1));background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .column{display:flex;flex-direction:column}.time-picker .meridiem--start{order:-1}.time-picker .button{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .button:hover,.time-picker .button:focus{outline:2px solid transparent;outline-offset:2px;z-index:var(--calcite-z-index-header);outline-offset:0;background-color:var(--calcite-time-picker-button-background-color-hover, var(--calcite-color-foreground-2))}.time-picker .button:active{background-color:var(--calcite-time-picker-button-background-color-press, var(--calcite-color-foreground-3))}.time-picker .button.top-left{border-start-start-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.bottom-left{border-end-start-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.top-right{border-start-end-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.bottom-right{border-end-end-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button calcite-icon{color:var(--calcite-time-picker-icon-color, var(--calcite-color-text-3))}.time-picker .input{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .input:hover{box-shadow:inset 0 0 0 2px var(--calcite-time-picker-input-border-color-hover, var(--calcite-color-foreground-2));z-index:var(--calcite-z-index-header)}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;outline-offset:0}.time-picker .input.inputFocus,.time-picker .input:hover.inputFocus{box-shadow:inset 0 0 0 2px var(--calcite-time-picker-input-border-color-press, var(--calcite-color-brand));z-index:var(--calcite-z-index-header)}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-inline:var(--calcite-spacing-md);padding-block:var(--calcite-spacing-xxs)}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-md)}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-inline:var(--calcite-spacing-xl);padding-block:var(--calcite-spacing-sm)}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-xl)}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-inline:var(--calcite-spacing-xxl);padding-block:var(--calcite-spacing-md)}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-xxl)}:host([hidden]){display:none}[hidden]{display:none}`;class N extends o.LitElement{constructor(){super(),this.pointerActivated=!1,this.messages=m.useT9n(),this.localizedDecimalSeparator=".",this.hourFormat="user",this.scale="m",this.step=60,this.value=null,this.calciteTimePickerChange=o.createEvent({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.listen("pointerdown",this.pointerDownHandler)}static{this.properties={activeEl:[16,{},{state:!0}],effectiveHourFormat:[16,{},{state:!0}],fractionalSecond:[16,{},{state:!0}],hour:[16,{},{state:!0}],localizedDecimalSeparator:[16,{},{state:!0}],localizedFractionalSecond:[16,{},{state:!0}],localizedHour:[16,{},{state:!0}],localizedHourSuffix:[16,{},{state:!0}],localizedMeridiem:[16,{},{state:!0}],localizedMinute:[16,{},{state:!0}],localizedMinuteSuffix:[16,{},{state:!0}],localizedSecond:[16,{},{state:!0}],localizedSecondSuffix:[16,{},{state:!0}],meridiem:[16,{},{state:!0}],minute:[16,{},{state:!0}],second:[16,{},{state:!0}],showFractionalSecond:[16,{},{state:!0}],showSecond:[16,{},{state:!0}],hourFormat:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:1,scale:[3,{},{reflect:!0}],step:[11,{},{reflect:!0,type:Number}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=O}async setFocus(){await d.componentFocusable(this),this.el?.focus()}connectedCallback(){super.connectedCallback(),this.updateLocale(),this.toggleSecond()}willUpdate(e){e.has("step")&&(this.hasUpdated||60!==this.step)&&this.toggleSecond(),e.has("value")&&(this.hasUpdated||null!==this.value)&&this.setValue(this.value),(e.has("hourFormat")||e.has("messages"))&&this.updateLocale()}blurHandler(){this.activeEl=void 0,this.pointerActivated=!1}keyDownHandler(e){this.pointerActivated=!1;const{defaultPrevented:t,key:i}=e;if(!t)switch(this.activeEl){case this.hourEl:"ArrowRight"===i&&(this.focusPart("minute"),e.preventDefault());break;case this.minuteEl:switch(i){case"ArrowLeft":this.focusPart("hour"),e.preventDefault();break;case"ArrowRight":60!==this.step?(this.focusPart("second"),e.preventDefault()):"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.secondEl:switch(i){case"ArrowLeft":this.focusPart("minute"),e.preventDefault();break;case"ArrowRight":this.showFractionalSecond?this.focusPart("fractionalSecond"):"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.fractionalSecondEl:switch(i){case"ArrowLeft":this.focusPart("second"),e.preventDefault();break;case"ArrowRight":"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.meridiemEl:"ArrowLeft"===i&&(this.showFractionalSecond?this.focusPart("fractionalSecond"):60!==this.step?(this.focusPart("second"),e.preventDefault()):(this.focusPart("minute"),e.preventDefault()))}}pointerDownHandler(){this.pointerActivated=!0}async focusPart(e){await d.componentFocusable(this),this[`${e||"hour"}El`]?.focus()}decrementHour(){const e=this.hour?0===parseInt(this.hour)?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)}decrementMeridiem(){const e="PM"===this.meridiem?"AM":"PM";this.setValuePart("meridiem",e)}decrementMinuteOrSecond(e){let t;if(l.isValidNumber(this[e])){const i=parseInt(this[e]);t=0===i?59:i-1}else t=59;this.setValuePart(e,t)}decrementMinute(){this.decrementMinuteOrSecond("minute")}decrementSecond(){this.decrementMinuteOrSecond("second")}focusHandler(e){this.pointerActivated||(this.activeEl=e.currentTarget)}fractionalSecondKeyDownHandler(e){const{key:t}=e;if(c.numberKeys.includes(t)){const{stepPrecision:e}=this,i=parseInt(this.fractionalSecond),a=i.toString().length;let s;a>=e?s=t.padStart(e,"0"):a<e&&(s=`${i}${t}`.padStart(e,"0")),this.setValuePart("fractionalSecond",parseFloat(`0.${s}`))}else switch(t){case"Backspace":case"Delete":this.setValuePart("fractionalSecond",null);break;case"ArrowDown":e.preventDefault(),this.nudgeFractionalSecond("down");break;case"ArrowUp":e.preventDefault(),this.nudgeFractionalSecond("up");break;case" ":e.preventDefault()}}fractionalSecondDownClickHandler(){this.activeEl=this.fractionalSecondEl,this.fractionalSecondEl.focus(),this.nudgeFractionalSecond("down")}fractionalSecondUpClickHandler(){this.activeEl=this.fractionalSecondEl,this.fractionalSecondEl.focus(),this.nudgeFractionalSecond("up")}hourDownClickHandler(){this.activeEl=this.hourEl,this.hourEl.focus(),this.decrementHour()}hourKeyDownHandler(e){const{key:t}=e;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.hour))switch(this.effectiveHourFormat){case"12":i="01"===this.hour&&e>=0&&e<=2?`1${e}`:e;break;case"24":i="01"===this.hour?`1${e}`:"02"===this.hour&&e>=0&&e<=3?`2${e}`:e}else i=e;this.setValuePart("hour",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":e.preventDefault()}}hourUpClickHandler(){this.activeEl=this.hourEl,this.hourEl.focus(),this.incrementHour()}incrementMeridiem(){const e="AM"===this.meridiem?"PM":"AM";this.setValuePart("meridiem",e)}incrementHour(){const e=l.isValidNumber(this.hour)?"23"===this.hour?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)}incrementMinuteOrSecond(e){const t=l.isValidNumber(this[e])?"59"===this[e]?0:parseInt(this[e])+1:0;this.setValuePart(e,t)}incrementMinute(){this.incrementMinuteOrSecond("minute")}incrementSecond(){this.incrementMinuteOrSecond("second")}inputClickHandler(e){this.activeEl=e.target}meridiemUpClickHandler(){this.activeEl=this.meridiemEl,this.meridiemEl.focus(),this.incrementMeridiem()}meridiemKeyDownHandler(e){switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":this.setValuePart("meridiem",null);break;case"ArrowUp":e.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":e.preventDefault(),this.decrementMeridiem();break;case" ":e.preventDefault()}}meridiemDownClickHandler(){this.activeEl=this.meridiemEl,this.meridiemEl.focus(),this.decrementMeridiem()}minuteDownClickHandler(){this.activeEl=this.minuteEl,this.minuteEl.focus(),this.decrementMinute()}minuteUpClickHandler(){this.activeEl=this.minuteEl,this.minuteEl.focus(),this.incrementMinute()}minuteKeyDownHandler(e){const{key:t}=e;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.minute)&&this.minute.startsWith("0")){const t=parseInt(this.minute);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("minute",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":e.preventDefault()}}nudgeFractionalSecond(e){const t=u.getDecimals(this.step),{stepPrecision:i}=this,a=parseInt(this.fractionalSecond),s=parseFloat(`0.${this.fractionalSecond}`);let n,o,r,c;"up"===e&&(n=isNaN(a)?0:s+t,o=parseFloat(n.toFixed(i)),r=u.getDecimals(o),c=o<1&&u.decimalPlaces(r)>0?w(r,i):"".padStart(i,"0")),"down"===e&&(n=isNaN(a)||0===a?1-t:s-t,o=parseFloat(n.toFixed(i)),r=u.getDecimals(o),c=o<1&&u.decimalPlaces(r)>0&&1===Math.sign(r)?w(r,i):"".padStart(i,"0")),this.setValuePart("fractionalSecond",c)}sanitizeValue(e){const{hour:t,minute:i,second:a,fractionalSecond:s}=T(e);return s?`${t}:${i}:${a}.${this.sanitizeFractionalSecond(s)}`:z(e)&&e}sanitizeFractionalSecond(e){const{stepPrecision:t}=this;return e&&t!==e.length?parseFloat(`0.${e}`).toFixed(t).replace("0.",""):e}secondKeyDownHandler(e){const{key:t}=e;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.second)&&this.second.startsWith("0")){const t=parseInt(this.second);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("second",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":e.preventDefault()}}secondDownClickHandler(){this.activeEl=this.secondEl,this.secondEl.focus(),this.decrementSecond()}secondUpClickHandler(){this.activeEl=this.secondEl,this.secondEl.focus(),this.incrementSecond()}setHourEl(e){this.hourEl=e}setMeridiemEl(e){this.meridiemEl=e}setMinuteEl(e){this.minuteEl=e}setSecondEl(e){this.secondEl=e}setFractionalSecondEl(e){this.fractionalSecondEl=e}setValue(e){if(z(e)){const{hour:t,minute:i,second:a,fractionalSecond:s}=T(e),{effectiveHourFormat:n,messages:{_lang:o},numberingSystem:r,step:c}=this,{hour:l,hourSuffix:u,minute:d,minuteSuffix:h,second:m,secondSuffix:p,decimalSeparator:f,fractionalSecond:b,meridiem:v}=I({value:e,locale:o,numberingSystem:r,hour12:"12"===n,step:c});this.hour=t,this.minute=i,this.second=a,this.fractionalSecond=this.sanitizeFractionalSecond(s),this.localizedHour=l,this.localizedHourSuffix=u,this.localizedMinute=d,this.localizedMinuteSuffix=h,this.localizedSecond=m,this.localizedDecimalSeparator=f,this.localizedFractionalSecond=b,this.localizedSecondSuffix=p,v&&(this.localizedMeridiem=v,this.meridiem=F(this.hour))}else this.hour=null,this.fractionalSecond=null,this.localizedHour=null,this.localizedHourSuffix=D("hour",this.messages._lang,this.numberingSystem),this.localizedMeridiem=null,this.localizedMinute=null,this.localizedMinuteSuffix=D("minute",this.messages._lang,this.numberingSystem),this.localizedSecond=null,this.localizedDecimalSeparator=P(this.messages._lang,this.numberingSystem),this.localizedFractionalSecond=null,this.localizedSecondSuffix=D("second",this.messages._lang,this.numberingSystem),this.meridiem=null,this.minute=null,this.second=null,this.value=null}setValuePart(e,t){const{effectiveHourFormat:i,messages:{_lang:a},numberingSystem:s,step:n}=this,o="12"===i;if("meridiem"===e){if(this.meridiem=t,l.isValidNumber(this.hour)){const e=parseInt(this.hour);switch(t){case"AM":e>=12&&(this.hour=w(e-12));break;case"PM":e<12&&(this.hour=w(e+12))}this.localizedHour=C({value:this.hour,part:"hour",locale:a,numberingSystem:s,hour12:o})}}else if("fractionalSecond"===e){const{stepPrecision:e}=this;this.fractionalSecond="number"==typeof t?0===t?"".padStart(e,"0"):w(t,e):t,this.localizedFractionalSecond=C({value:this.fractionalSecond,part:"fractionalSecond",locale:a,numberingSystem:s,hour12:o})}else this[e]="number"==typeof t?w(t):t,this[`localized${r=e,r.charAt(0).toUpperCase()+r.slice(1)}`]=C({value:this[e],part:e,locale:a,numberingSystem:s,hour12:o});var r;let c,u=!1;this.hour&&this.minute?(c=`${this.hour}:${this.minute}`,this.showSecond&&(c=`${c}:${this.second??"00"}`,this.showFractionalSecond&&this.fractionalSecond&&(c=`${c}.${this.fractionalSecond}`))):c=null,this.value!==c&&(u=!0),this.value=c,this.localizedMeridiem=this.value?I({hour12:o,locale:a,numberingSystem:s,step:n,value:this.value})?.meridiem||null:C({hour12:o,value:this.meridiem,part:"meridiem",locale:a,numberingSystem:s}),u&&this.calciteTimePickerChange.emit()}toggleSecond(){this.showSecond=this.step<60,this.stepPrecision=u.decimalPlaces(this.step),this.showFractionalSecond=this.stepPrecision>0}updateLocale(){this.effectiveHourFormat="user"===this.hourFormat?y(this.messages._lang):this.hourFormat,this.localizedDecimalSeparator=P(this.messages._lang,this.numberingSystem),this.meridiemOrder=H(this.messages._lang),this.setValue(this.sanitizeValue(this.value))}render(){const e=l.isValidNumber(this.hour),t=d.getIconScale(this.scale),i=l.isValidNumber(this.minute),a=l.isValidNumber(this.second),s=l.isValidNumber(this.fractionalSecond),n="bg"!==this.messages._lang&&this.localizedSecondSuffix,c="12"===this.effectiveHourFormat;return o.x`<div class=${o.safeClassMap({[U.timePicker]:!0,[U.showMeridiem]:c,[U.showSecond]:this.showSecond,[U[`scale-${this.scale}`]]:!0})} dir=ltr><div class=${o.safeClassMap(U.column)} role=group><span .ariaLabel=${this.messages.hourUp} class=${o.safeClassMap({[U.button]:!0,[U.buttonHourUp]:!0,[U.buttonTopLeft]:!0})} @click=${this.hourUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.hour} aria-valuemax=23 aria-valuemin=1 .ariaValueNow=${e&&parseInt(this.hour)||"0"} .ariaValueText=${this.hour} class=${o.safeClassMap({[U.input]:!0,[U.hour]:!0,[U.inputFocus]:this.activeEl&&this.activeEl===this.hourEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.hourKeyDownHandler} role=spinbutton tabindex=0 ${r.n(this.setHourEl)}>${this.localizedHour||"--"}</span><span .ariaLabel=${this.messages.hourDown} class=${o.safeClassMap({[U.button]:!0,[U.buttonHourDown]:!0,[U.buttonBottomLeft]:!0})} @click=${this.hourDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div><span class=${o.safeClassMap({[U.delimiter]:!0,[U.hourSuffix]:!0})}>${this.localizedHourSuffix}</span><div class=${o.safeClassMap(U.column)} role=group><span .ariaLabel=${this.messages.minuteUp} class=${o.safeClassMap({[U.button]:!0,[U.buttonMinuteUp]:!0})} @click=${this.minuteUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.minute} aria-valuemax=12 aria-valuemin=1 .ariaValueNow=${i&&parseInt(this.minute)||"0"} .ariaValueText=${this.minute} class=${o.safeClassMap({[U.input]:!0,[U.minute]:!0,[U.inputFocus]:this.activeEl&&this.activeEl===this.minuteEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.minuteKeyDownHandler} role=spinbutton tabindex=0 ${r.n(this.setMinuteEl)}>${this.localizedMinute||"--"}</span><span .ariaLabel=${this.messages.minuteDown} class=${o.safeClassMap({[U.button]:!0,[U.buttonMinuteDown]:!0})} @click=${this.minuteDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>${this.showSecond&&o.x`<span class=${o.safeClassMap({[U.delimiter]:!0,[U.minuteSuffix]:!0})}>${this.localizedMinuteSuffix}</span>`||""}${this.showSecond&&o.x`<div class=${o.safeClassMap(U.column)} role=group><span .ariaLabel=${this.messages.secondUp} class=${o.safeClassMap({[U.button]:!0,[U.buttonSecondUp]:!0})} @click=${this.secondUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.second} aria-valuemax=59 aria-valuemin=0 .ariaValueNow=${a&&parseInt(this.second)||"0"} .ariaValueText=${this.second} class=${o.safeClassMap({[U.input]:!0,[U.second]:!0,[U.inputFocus]:this.activeEl&&this.activeEl===this.secondEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.secondKeyDownHandler} role=spinbutton tabindex=0 ${r.n(this.setSecondEl)}>${this.localizedSecond||"--"}</span><span .ariaLabel=${this.messages.secondDown} class=${o.safeClassMap({[U.button]:!0,[U.buttonSecondDown]:!0})} @click=${this.secondDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}${this.showFractionalSecond&&o.x`<span class=${o.safeClassMap({[U.delimiter]:!0,[U.decimalSeparator]:!0})}>${this.localizedDecimalSeparator}</span>`||""}${this.showFractionalSecond&&o.x`<div class=${o.safeClassMap(U.column)} role=group><span .ariaLabel=${this.messages.fractionalSecondUp} class=${o.safeClassMap({[U.button]:!0,[U.buttonFractionalSecondUp]:!0})} @click=${this.fractionalSecondUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.fractionalSecond} aria-valuemax=999 aria-valuemin=1 .ariaValueNow=${s&&parseInt(this.fractionalSecond)||"0"} .ariaValueText=${this.localizedFractionalSecond} class=${o.safeClassMap({[U.input]:!0,[U.fractionalSecond]:!0,[U.inputFocus]:this.activeEl&&this.activeEl===this.fractionalSecondEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.fractionalSecondKeyDownHandler} role=spinbutton tabindex=0 ${r.n(this.setFractionalSecondEl)}>${this.localizedFractionalSecond||"".padStart(this.stepPrecision,"-")}</span><span .ariaLabel=${this.messages.fractionalSecondDown} class=${o.safeClassMap({[U.button]:!0,[U.buttonFractionalSecondDown]:!0})} @click=${this.fractionalSecondDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}${n&&o.x`<span class=${o.safeClassMap({[U.delimiter]:!0,[U.secondSuffix]:!0})}>${this.localizedSecondSuffix}</span>`||""}${c&&o.x`<div class=${o.safeClassMap({[U.column]:!0,[U.meridiemStart]:0===this.meridiemOrder||"rtl"===h.getElementDir(this.el)})} role=group><span .ariaLabel=${this.messages.meridiemUp} class=${o.safeClassMap({[U.button]:!0,[U.buttonMeridiemUp]:!0,[U.buttonTopRight]:!0})} @click=${this.meridiemUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.meridiem} aria-valuemax=2 aria-valuemin=1 .ariaValueNow=${"PM"===this.meridiem?"2":"1"} .ariaValueText=${this.meridiem} class=${o.safeClassMap({[U.input]:!0,[U.meridiem]:!0,[U.inputFocus]:this.activeEl&&this.activeEl===this.meridiemEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.meridiemKeyDownHandler} role=spinbutton tabindex=0 ${r.n(this.setMeridiemEl)}>${this.localizedMeridiem||"--"}</span><span .ariaLabel=${this.messages.meridiemDown} class=${o.safeClassMap({[U.button]:!0,[U.buttonMeridiemDown]:!0,[U.buttonBottomRight]:!0})} @click=${this.meridiemDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}</div>`}}o.customElement("calcite-time-picker",N);class L extends o.GenericController{constructor(){super(...arguments),this.localizedDecimalSeparator=".",this.userChangedValue=!1,this.handleHourKeyDownEvent=e=>{const t=e.key;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.hour))switch(this.hourFormat){case"12":i="01"===this.hour&&e>=0&&e<=2?`1${e}`:e;break;case"24":i="01"===this.hour?`1${e}`:"02"===this.hour&&e>=0&&e<=3?`2${e}`:e}else i=e;this.setValuePart("hour",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":case"Spacebar":e.preventDefault()}},this.handleMinuteKeyDownEvent=e=>{const t=e.key;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.minute)&&this.minute.startsWith("0")){const t=parseInt(this.minute);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("minute",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":case"Spacebar":e.preventDefault()}},this.handleSecondKeyDownEvent=e=>{const t=e.key;if(c.numberKeys.includes(t)){const e=parseInt(t);let i;if(l.isValidNumber(this.second)&&this.second.startsWith("0")){const t=parseInt(this.second);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("second",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":case"Spacebar":e.preventDefault()}},this.handleFractionalSecondKeyDownEvent=e=>{const{key:t}=e;if(c.numberKeys.includes(t)){const e=u.decimalPlaces(this.component.step),i=parseInt(this.fractionalSecond),a=i.toString().length;let s;a>=e?s=t.padStart(e,"0"):a<e&&(s=`${i}${t}`.padStart(e,"0")),this.setValuePart("fractionalSecond",parseFloat(`0.${s}`))}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("fractionalSecond",null);break;case"ArrowDown":e.preventDefault(),this.nudgeFractionalSecond("down");break;case"ArrowUp":e.preventDefault(),this.nudgeFractionalSecond("up");break;case" ":e.preventDefault()}},this.handleMeridiemKeyDownEvent=e=>{switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("meridiem");break;case"ArrowUp":case"ArrowDown":e.preventDefault(),this.toggleMeridiem(e.key);break;case" ":case"Spacebar":e.preventDefault()}},this.calciteTimeChange=o.createEvent()}hostConnected(){this.setHourFormat(),this.setMeridiemOrder(),this.setValue(this.component.value)}hostUpdate(e){let t=!1,i=!1,a=!1;if(e.has("hourFormat")&&(t=!0,a=!0),e.has("messages")&&e.get("messages")?._lang!==this.component.messages._lang&&(t=!0,i=!0,a=!0),e.has("numberingSystem")&&(a=!0),e.has("step")){const t=this.component.step,i=e.get("step");(t>=60&&i>0&&i<60||i>=60&&t>0&&t<60)&&(a=!0)}t&&this.setHourFormat(),i&&this.setMeridiemOrder(),a&&this.setValue(this.component.value)}decrementHour(){const e=this.hour?"00"===this.hour?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)}decrementMinute(){this.decrementMinuteOrSecond("minute")}decrementMinuteOrSecond(e){let t;if(l.isValidNumber(this[e])){const i=parseInt(this[e]);t=0===i?59:i-1}else t=59;this.setValuePart(e,t)}decrementSecond(){this.decrementMinuteOrSecond("second")}incrementHour(){const e=l.isValidNumber(this.hour)?"23"===this.hour?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)}incrementMinute(){this.incrementMinuteOrSecond("minute")}incrementMinuteOrSecond(e){const t=l.isValidNumber(this[e])?"59"===this[e]?0:parseInt(this[e])+1:0;this.setValuePart(e,t)}incrementSecond(){this.incrementMinuteOrSecond("second")}nudgeFractionalSecond(e){const t=u.getDecimals(this.component.step),i=u.decimalPlaces(this.component.step),a=parseInt(this.fractionalSecond),s=parseFloat(`0.${this.fractionalSecond}`);let n,o,r,c;"up"===e&&(n=isNaN(a)?0:s+t,o=parseFloat(n.toFixed(i)),r=u.getDecimals(o),c=o<1&&u.decimalPlaces(r)>0?w(r,i):"".padStart(i,"0")),"down"===e&&(n=isNaN(a)||0===a?1-t:s-t,o=parseFloat(n.toFixed(i)),r=u.getDecimals(o),c=o<1&&u.decimalPlaces(r)>0&&1===Math.sign(r)?w(r,i):"".padStart(i,"0")),this.setValuePart("fractionalSecond",c)}setHourFormat(){const{hourFormat:e,messages:t}=this.component,i=t._lang;this.hourFormat="user"===e?y(i):e}setMeridiemOrder(){const{messages:e}=this.component,t=e._lang;this.meridiemOrder=H(t)}toggleMeridiem(e){let t;t=this.meridiem?"AM"===this.meridiem?"PM":"AM":"ArrowDown"===e?"PM":"AM",this.setValuePart("meridiem",t)}setValue(e,t=!1){const{messages:i,numberingSystem:a,step:s,value:n}=this.component,o=i._lang,r="12"===this.hourFormat,c=A(e,s);if(z(e)){const{hour:e,minute:t,second:i,fractionalSecond:n}=T(c,s),{hour:l,hourSuffix:u,minute:d,minuteSuffix:h,second:m,secondSuffix:p,decimalSeparator:f,fractionalSecond:b,meridiem:v}=V({hour12:r,locale:o,numberingSystem:a,parts:!0,step:s,value:c});this.hour=e,this.minute=t,this.second=i,this.fractionalSecond=n,this.localizedHour=l,this.localizedHourSuffix=u,this.localizedMinute=d,this.localizedMinuteSuffix=h,this.localizedSecond=m,this.localizedDecimalSeparator=f,this.localizedFractionalSecond=b,this.localizedSecondSuffix=p,v&&(this.meridiem=F(this.hour),this.localizedMeridiem=v)}else this.hour=null,this.minute=null,this.second=null,this.fractionalSecond=null,this.meridiem=null,this.localizedHour=null,this.localizedHourSuffix=D("hour",o,a),this.localizedMinute=null,this.localizedMinuteSuffix=D("minute",o,a),this.localizedSecond=null,this.localizedDecimalSeparator=P(o,a),this.localizedFractionalSecond=null,this.localizedSecondSuffix=D("second",o,a),this.localizedMeridiem=null;c!==n?(this.userChangedValue=t,this.component.value=c??""):this.component.requestUpdate()}setValuePart(e,t){const{hourFormat:i}=this,{messages:a,numberingSystem:s,step:n}=this.component,o=a._lang,r="12"===i,c=this.component.value;if("meridiem"===e){const e=this.meridiem;if(this.meridiem=t,this.localizedMeridiem=C({hour12:r,locale:o,numberingSystem:s,part:"meridiem",value:this.meridiem}),l.isValidNumber(this.hour)){const e=parseInt(this.hour);switch(t){case"AM":e>=12&&(this.hour=w(e-12));break;case"PM":e<12&&(this.hour=w(e+12));break;default:this.component.value=""}this.localizedHour=C({hour12:r,locale:o,numberingSystem:s,part:"hour",value:this.hour})}e!==this.meridiem&&this.component.requestUpdate()}else if("fractionalSecond"===e){const e=this.fractionalSecond,i=u.decimalPlaces(n);this.fractionalSecond="number"==typeof t?0===t?"".padStart(i,"0"):w(t,i):t,this.localizedFractionalSecond=C({value:this.fractionalSecond,part:"fractionalSecond",locale:o,numberingSystem:s,hour12:r}),e!==this.fractionalSecond&&this.component.requestUpdate()}else{const i=this[e];this[e]="number"==typeof t?w(t):t,this[`localized${S.capitalizeWord(e)}`]=C({value:this[e],part:e,locale:o,numberingSystem:s,hour12:r}),i!==this[e]&&this.component.requestUpdate()}const{hour:d,minute:h,second:m,fractionalSecond:p}=this,f=A({hour:d,minute:h,second:m,fractionalSecond:p},n);c!==f&&("hour"===e&&"12"===i&&(this.meridiem=F(d),this.localizedMeridiem=M({locale:o,meridiem:this.meridiem})),this.userChangedValue=!0,this.calciteTimeChange.emit(f??""))}}const B=m.toFunction(L),K=o.i`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}.container{--calcite-icon-color: var(--calcite-color-text-3);align-items:center;background-color:var(--calcite-color-foreground-1);border:1px solid var(--calcite-color-border-input);box-sizing:border-box;display:flex;color:var(--calcite-color-text-1);flex-wrap:nowrap;font-weight:var(--calcite-font-weight-normal);inline-size:100%;padding-block:var(--calcite-spacing-base);-webkit-user-select:none;user-select:none}.container:focus-within{border-color:var(--calcite-color-brand);outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.read-only{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}.input-container{display:flex;flex-grow:1}.input{align-items:center;display:flex;block-size:100%;justify-content:center;min-inline-size:max-content}.input.empty{inline-size:var(--calcite-spacing-xl)}.input:focus,.input:hover:focus{background-color:Highlight;color:HighlightText;outline:2px solid transparent;outline-offset:2px}.toggle-icon{align-items:center;block-size:24px;cursor:pointer;display:flex;inline-size:24px;justify-content:center}.toggle-icon:hover{--calcite-icon-color: var(--calcite-color-text-1)}.meridiem--start{margin-inline-end:var(--calcite-spacing-xxs)}.meridiem--end{margin-inline-start:var(--calcite-spacing-xxs)}:host([scale=s]) .container{block-size:1.5rem;font-size:var(--calcite-font-size-sm);gap:var(--calcite-spacing-sm);padding-inline-start:var(--calcite-spacing-sm);padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s]) .input-container{line-height:1rem}:host([scale=m]) .container{block-size:2rem;font-size:var(--calcite-font-size);gap:var(--calcite-spacing-md);padding-inline-start:var(--calcite-spacing-md);padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .input-container{line-height:1.5rem}:host([scale=l]) .container{block-size:2.75rem;font-size:var(--calcite-font-size-md);gap:var(--calcite-spacing-lg);padding-inline:var(--calcite-spacing-lg)}:host([scale=l]) .input-container{line-height:2.25rem}:host([status=invalid]) .container{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) .container:focus-within{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}:host([hidden]){display:none}[hidden]{display:none}`,_="container",R="empty",W="fractional-second",q="hour",j="input",Z="meridiem",G="meridiem--start",J="meridiem--end",Q="minute",X="read-only",Y="second";class ee extends o.LitElement{constructor(){super(),this.messages=m.useT9n(),this.time=B(this),this.disabled=!1,this.focusTrapDisabled=!1,this.hourFormat="user",this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.step=60,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTimePickerBeforeClose=o.createEvent({cancelable:!1}),this.calciteInputTimePickerBeforeOpen=o.createEvent({cancelable:!1}),this.calciteInputTimePickerChange=o.createEvent(),this.calciteInputTimePickerClose=o.createEvent({cancelable:!1}),this.calciteInputTimePickerOpen=o.createEvent({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.listen("calciteTimeChange",this.timeChangeHandler)}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],hourFormat:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],name:1,numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:1,placement:[3,{},{reflect:!0}],readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],step:[11,{},{reflect:!0,type:Number}],validationIcon:[3,{converter:o.stringOrBoolean},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=K}async reposition(e=!1){this.popoverEl?.reposition(e)}async setFocus(){await d.componentFocusable(this),h.focusFirstTabbable(this.el)}connectedCallback(){super.connectedCallback(),b.connectLabel(this),p.connectForm(this)}willUpdate(e){e.has("open")&&(this.hasUpdated||!1!==this.open)&&this.openHandler(),e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)&&(this.disabled||(this.open=!1)),e.has("readOnly")&&(this.hasUpdated||!1!==this.readOnly)&&(this.readOnly||(this.open=!1)),e.has("value")&&(this.hasUpdated?(this.time.userChangedValue||(this.previousEmittedValue=this.value),this.time.setValue(this.value)):this.previousEmittedValue=this.value)}updated(){f.updateHostInteraction(this)}disconnectedCallback(){super.disconnectedCallback(),b.disconnectLabel(this),p.disconnectForm(this)}blurHandler(){this.changeEventHandler()}changeEventHandler(){const{previousEmittedValue:e,value:t}=this;e!==t&&(this.calciteInputTimePickerChange.emit().defaultPrevented?this.time.setValue(this.previousEmittedValue):this.previousEmittedValue=t)}keyDownHandler(e){const{defaultPrevented:t,key:i}=e,{hourFormat:a,meridiemOrder:s}=this.time;if(!t)if("Enter"===i)p.submitForm(this)&&e.preventDefault(),this.changeEventHandler();else if(this.open&&this.focusTrapDisabled&&"Escape"===i)this.open=!1,e.preventDefault();else{const e=u.decimalPlaces(this.step)>0,t=this.step<60;switch(this.activeEl){case this.hourEl:"ArrowRight"===i?this.setFocusPart("minute"):"ArrowLeft"===i&&"12"===a&&0===s&&this.setFocusPart("meridiem");break;case this.minuteEl:switch(i){case"ArrowLeft":this.setFocusPart("hour");break;case"ArrowRight":60!==this.step?this.setFocusPart("second"):"12"===a&&this.setFocusPart("meridiem")}break;case this.secondEl:switch(i){case"ArrowLeft":this.setFocusPart("minute");break;case"ArrowRight":u.decimalPlaces(this.step)>0?this.setFocusPart("fractionalSecond"):"12"===a&&this.setFocusPart("meridiem")}break;case this.fractionalSecondEl:switch(i){case"ArrowLeft":this.setFocusPart("second");break;case"ArrowRight":"12"===a&&0!==s&&this.setFocusPart("meridiem")}break;case this.meridiemEl:"ArrowLeft"===i&&0!==s?e?this.setFocusPart("fractionalSecond"):t?this.setFocusPart("second"):this.setFocusPart("minute"):"ArrowRight"===i&&0===s&&this.setFocusPart("hour")}}}onLabelClick(){this.setFocus()}openHandler(){this.disabled||this.readOnly||this.popoverEl&&(this.popoverEl.open=this.open)}popoverBeforeOpenHandler(e){e.stopPropagation(),this.calciteInputTimePickerBeforeOpen.emit()}popoverOpenHandler(e){e.stopPropagation(),this.calciteInputTimePickerOpen.emit()}popoverBeforeCloseHandler(e){e.stopPropagation(),this.calciteInputTimePickerBeforeClose.emit()}popoverCloseHandler(e){e.stopPropagation(),this.calciteInputTimePickerClose.emit(),this.open=!1}setCalcitePopoverEl(e){this.popoverEl=e,this.openHandler()}setContainerEl(e){this.containerEl=e}async setFocusPart(e){this[`${e||"hour"}El`]?.focus()}setFractionalSecondEl(e){this.fractionalSecondEl=e}setHourEl(e){this.hourEl=e}setMinuteEl(e){this.minuteEl=e}setSecondEl(e){this.secondEl=e}setMeridiemEl(e){this.meridiemEl=e}syncHiddenFormInput(e){g.syncHiddenFormInput("time",this,e)}timeChangeHandler(e){if(e.stopPropagation(),this.disabled)return;const t=e.detail;t!==this.value&&(this.value=t)}timePartFocusHandler(e){this.activeEl=e.currentTarget}timePickerChangeHandler(e){e.stopPropagation(),this.time.setValue(e.target.value,!0)}toggleIconClickHandler(){this.open=!this.open}render(){const{messages:e,readOnly:t,scale:i}=this,{fractionalSecond:a,handleHourKeyDownEvent:s,handleMinuteKeyDownEvent:n,handleSecondKeyDownEvent:c,handleFractionalSecondKeyDownEvent:d,hour:m,hourFormat:g,localizedDecimalSeparator:S,localizedFractionalSecond:k,localizedHour:$,localizedHourSuffix:w,localizedMinute:x,localizedMinuteSuffix:y,localizedSecond:M,localizedSecondSuffix:P,meridiemOrder:D,minute:E,second:F}=this.time,H="--",z=l.isValidNumber(a),C=l.isValidNumber(m),V=l.isValidNumber(E),I=l.isValidNumber(F),T=u.decimalPlaces(this.step)>0,A="12"===g,U=this.step<60,O=0===D||"rtl"===h.getElementDir(this.el),N=!this.disabled&&!this.readOnly;return f.InteractiveContainer({disabled:this.disabled,children:o.x`<div aria-label=${b.getLabelText(this)??o.E} class=${o.safeClassMap({[_]:!0,[X]:t})} role=combobox ${r.n(this.setContainerEl)}><calcite-icon class=${o.safeClassMap("clock-icon")} icon=clock .scale=${"l"===i?"m":"s"}></calcite-icon><div class=${o.safeClassMap("input-container")} dir=ltr>${A&&O&&this.renderMeridiem("start")||""}<span aria-label=${this.messages.hour??o.E} aria-valuemax=23 aria-valuemin=1 aria-valuenow=${C&&parseInt(m)||"0"} aria-valuetext=${m??o.E} class=${o.safeClassMap({[R]:!$,[q]:!0,[j]:!0})} @focus=${this.timePartFocusHandler} @keydown=${N?s:void 0} role=spinbutton tabindex=0 ${r.n(this.setHourEl)}>${$||H}</span><span class=${o.safeClassMap("hour-suffix")}>${w}</span><span aria-label=${this.messages.minute??o.E} aria-valuemax=12 aria-valuemin=1 aria-valuenow=${V&&parseInt(E)||"0"} aria-valuetext=${E??o.E} class=${o.safeClassMap({[R]:!x,[j]:!0,[Q]:!0})} @focus=${this.timePartFocusHandler} @keydown=${N?n:void 0} role=spinbutton tabindex=0 ${r.n(this.setMinuteEl)}>${x||H}</span>${U&&o.x`<span class=${o.safeClassMap("minute-suffix")}>${y}</span>`||""}${U&&o.x`<span aria-label=${this.messages.second??o.E} aria-valuemax=59 aria-valuemin=0 aria-valuenow=${I&&parseInt(F)||"0"} aria-valuetext=${F??o.E} class=${o.safeClassMap({[R]:!M,[j]:!0,[Y]:!0})} @focus=${this.timePartFocusHandler} @keydown=${N?c:void 0} role=spinbutton tabindex=0 ${r.n(this.setSecondEl)}>${M||H}</span>`||""}${T&&o.x`<span class=${o.safeClassMap("decimal-separator")}>${S}</span>`||""}${T&&o.x`<span aria-label=${this.messages.fractionalSecond??o.E} aria-valuemax=999 aria-valuemin=1 aria-valuenow=${z&&parseInt(a)||"0"} aria-valuetext=${k??o.E} class=${o.safeClassMap({[R]:!k,[W]:!0,[j]:!0})} @focus=${this.timePartFocusHandler} @keydown=${N?d:void 0} role=spinbutton tabindex=0 ${r.n(this.setFractionalSecondEl)}>${k||"".padStart(u.decimalPlaces(this.step),"-")}</span>`||""}${P&&o.x`<span class=${o.safeClassMap("second-suffix")}>${P}</span>`||""}${A&&!O&&this.renderMeridiem("end")||""}</div>${!this.readOnly&&this.renderToggleIcon(this.open)||""}</div><calcite-popover auto-close .focusTrapDisabled=${this.focusTrapDisabled} .focusTrapOptions=${{initialFocus:!1}} .label=${e.chooseTime} lang=${this.messages._lang??o.E} @calcitePopoverBeforeClose=${this.popoverBeforeCloseHandler} @calcitePopoverBeforeOpen=${this.popoverBeforeOpenHandler} @calcitePopoverClose=${this.popoverCloseHandler} @calcitePopoverOpen=${this.popoverOpenHandler} .overlayPositioning=${this.overlayPositioning} .placement=${this.placement} .referenceElement=${this.containerEl} trigger-disabled ${r.n(this.setCalcitePopoverEl)}><calcite-time-picker .hourFormat=${this.time.hourFormat} lang=${this.messages._lang??o.E} .messageOverrides=${this.messageOverrides} .numberingSystem=${this.numberingSystem} @calciteTimePickerChange=${this.timePickerChangeHandler} .scale=${this.scale} .step=${this.step} tabindex=${(this.open?void 0:-1)??o.E} .value=${this.value}></calcite-time-picker></calcite-popover>${p.HiddenFormInputSlot({component:this})}${this.validationMessage&&"invalid"===this.status?v.Validation({icon:this.validationIcon,id:"inputTimePickerValidationMessage",message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}renderMeridiem(e){const{handleMeridiemKeyDownEvent:t,localizedMeridiem:i,meridiem:a}=this.time,s=!this.disabled&&!this.readOnly;return o.x`<span aria-label=${this.messages.meridiem??o.E} aria-valuemax=2 aria-valuemin=1 aria-valuenow=${"PM"===a?"2":"1"} aria-valuetext=${a??o.E} class=${o.safeClassMap({[R]:!i,[j]:!0,[Z]:!0,[G]:"start"===e,[J]:"end"===e})} @focus=${this.timePartFocusHandler} @keydown=${s?t:void 0} role=spinbutton tabindex=0 ${r.n(this.setMeridiemEl)}>${i||"--"}</span>`}renderToggleIcon(e){return o.x`<span class=${o.safeClassMap("toggle-icon")} @click=${this.toggleIconClickHandler}><calcite-icon .icon=${e?"chevron-up":"chevron-down"} .scale=${d.getIconScale(this.scale)}></calcite-icon></span>`}}o.customElement("calcite-input-time-picker",ee),e.InputTimePicker=ee,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});