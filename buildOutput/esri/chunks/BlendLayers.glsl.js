// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../views/3d/webgl-engine/core/shaderLibrary/terrain/BackgroundGrid.glsl","../views/3d/webgl-engine/core/shaderLibrary/terrain/TileBackground.glsl","../views/3d/webgl-engine/core/shaderLibrary/terrain/TileComposite.glsl","../views/3d/webgl-engine/core/shaderModules/Float3PassUniform","../views/3d/webgl-engine/core/shaderModules/FloatPassUniform","../views/3d/webgl-engine/core/shaderModules/glsl","../views/3d/webgl-engine/core/shaderModules/Texture2DPassUniform","../views/webgl/ShaderBuilder"],function(e,r,o,n,i,l,d,s,a){"use strict";function t(e){const t=new a.ShaderBuilder,u=t.fragment;if(t.include(n.TileComposite),1===e.background){const o=2===e.output;return o?u.uniforms.add(new i.Float3PassUniform("backgroundColor",e=>e.backgroundColor)):u.include(r.BackgroundGrid),u.main.add(d.glsl`fragColor = vec4(${o?d.glsl`backgroundColor`:d.glsl`gridColor(uv)`}, 1.0);`),t}return t.include(o.TileBackground,e),u.uniforms.add(new s.Texture2DPassUniform("tex",e=>e.texture),new l.FloatPassUniform("opacity",e=>e.opacity)),u.main.add(d.glsl`fragColor = blendLayers(uv, texture(tex, uv), opacity);`),t}const u=Object.freeze(Object.defineProperty({__proto__:null,build:t},Symbol.toStringTag,{value:"Module"}));e.BlendLayers=u,e.build=t});