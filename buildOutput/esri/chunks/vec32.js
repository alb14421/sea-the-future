// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(t,n,r){"use strict";function a(t){const n=t[0],r=t[1],a=t[2];return Math.sqrt(n*n+r*r+a*a)}function e(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t}function o(t,n,r,a){return t[0]=n,t[1]=r,t[2]=a,t}function s(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t[2]=n[2]+r[2],t}function c(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t[2]=n[2]-r[2],t}function u(t,n,r){return t[0]=n[0]*r[0],t[1]=n[1]*r[1],t[2]=n[2]*r[2],t}function i(t,n,r){return t[0]=n[0]/r[0],t[1]=n[1]/r[1],t[2]=n[2]/r[2],t}function h(t,n){return t[0]=Math.ceil(n[0]),t[1]=Math.ceil(n[1]),t[2]=Math.ceil(n[2]),t}function M(t,n){return t[0]=Math.floor(n[0]),t[1]=Math.floor(n[1]),t[2]=Math.floor(n[2]),t}function f(t,n){return t[0]=Math.abs(n[0]),t[1]=Math.abs(n[1]),t[2]=Math.abs(n[2]),t}function l(t,n){return t[0]=Math.sign(n[0]),t[1]=Math.sign(n[1]),t[2]=Math.sign(n[2]),t}function m(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t[2]=Math.min(n[2],r[2]),t}function d(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t[2]=Math.max(n[2],r[2]),t}function b(t,n=0,r=1){return t[0]=Math.min(Math.max(t[0],n),r),t[1]=Math.min(Math.max(t[1],n),r),t[2]=Math.min(Math.max(t[2],n),r),t}function g(t,n){return t[0]=Math.round(n[0]),t[1]=Math.round(n[1]),t[2]=Math.round(n[2]),t}function q(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t}function x(t,n,r,a){return t[0]=n[0]+r[0]*a,t[1]=n[1]+r[1]*a,t[2]=n[2]+r[2]*a,t}function p(t,n){const r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return Math.sqrt(r*r+a*a+e*e)}function v(t,n){const r=n[0]-t[0],a=n[1]-t[1],e=n[2]-t[2];return r*r+a*a+e*e}function z(t){const n=t[0],r=t[1],a=t[2];return n*n+r*r+a*a}function A(t,n){return t[0]=-n[0],t[1]=-n[1],t[2]=-n[2],t}function y(t,n){return t[0]=1/n[0],t[1]=1/n[1],t[2]=1/n[2],t}function D(t,n){const r=n[0],a=n[1],e=n[2];let o=r*r+a*a+e*e;return o>0&&(o=1/Math.sqrt(o),t[0]=n[0]*o,t[1]=n[1]*o,t[2]=n[2]*o),t}function L(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function _(t,n,r){const a=n[0],e=n[1],o=n[2],s=r[0],c=r[1],u=r[2];return t[0]=e*u-o*c,t[1]=o*s-a*u,t[2]=a*c-e*s,t}function E(t,n,r){const a=n[0],e=n[1],o=n[2],s=r[0],c=r[1],u=r[2],i=e*u-o*c,h=o*s-a*u,M=a*c-e*s,f=Math.sqrt(i*i+h*h+M*M);return t[0]=i/f,t[1]=h/f,t[2]=M/f,t}function N(t,n,r,a){const e=n[0],o=n[1],s=n[2];return t[0]=e+a*(r[0]-e),t[1]=o+a*(r[1]-o),t[2]=s+a*(r[2]-s),t}function O(t,n,r,a,e,o){const s=o*o,c=s*(2*o-3)+1,u=s*(o-2)+o,i=s*(o-1),h=s*(3-2*o);return t[0]=n[0]*c+r[0]*u+a[0]*i+e[0]*h,t[1]=n[1]*c+r[1]*u+a[1]*i+e[1]*h,t[2]=n[2]*c+r[2]*u+a[2]*i+e[2]*h,t}function P(t,n,r,a,e,o){const s=1-o,c=s*s,u=o*o,i=c*s,h=3*o*c,M=3*u*s,f=u*o;return t[0]=n[0]*i+r[0]*h+a[0]*M+e[0]*f,t[1]=n[1]*i+r[1]*h+a[1]*M+e[1]*f,t[2]=n[2]*i+r[2]*h+a[2]*M+e[2]*f,t}function j(t,n=1){const a=r.RANDOM,e=2*a()*Math.PI,o=2*a()-1,s=Math.sqrt(1-o*o)*n;return t[0]=Math.cos(e)*s,t[1]=Math.sin(e)*s,t[2]=o*n,t}function I(t,n,r){const a=n[0],e=n[1],o=n[2];return t[0]=r[0]*a+r[4]*e+r[8]*o+r[12],t[1]=r[1]*a+r[5]*e+r[9]*o+r[13],t[2]=r[2]*a+r[6]*e+r[10]*o+r[14],t}function Q(t,n,r){const a=n[0],e=n[1],o=n[2];return t[0]=a*r[0]+e*r[3]+o*r[6],t[1]=a*r[1]+e*r[4]+o*r[7],t[2]=a*r[2]+e*r[5]+o*r[8],t}function S(t,n,r){const a=r[0],e=r[1],o=r[2],s=r[3],c=n[0],u=n[1],i=n[2],h=e*i-o*u,M=o*c-a*i,f=a*u-e*c,l=e*f-o*M,m=o*h-a*f,d=a*M-e*h,b=2*s;return t[0]=c+h*b+2*l,t[1]=u+M*b+2*m,t[2]=i+f*b+2*d,t}function X(t,n,r,a){const e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[0],o[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),o[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Y(t,n,r,a){const e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),o[1]=e[1],o[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Z(t,n,r,a){const e=[],o=[];return e[0]=n[0]-r[0],e[1]=n[1]-r[1],e[2]=n[2]-r[2],o[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),o[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),o[2]=e[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function R(t,n){D(T,t),D(k,n);const r=L(T,k);return r>1?0:r<-1?Math.PI:Math.acos(r)}const T=n.create(),k=n.create();function w(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function B(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]}function C(t,n){if(t===n)return!0;const a=t[0],e=t[1],o=t[2],s=n[0],c=n[1],u=n[2],i=r.getEpsilon();return Math.abs(a-s)<=i*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(e-c)<=i*Math.max(1,Math.abs(e),Math.abs(c))&&Math.abs(o-u)<=i*Math.max(1,Math.abs(o),Math.abs(u))}function F(t,n,r){const a=r[0]-n[0],e=r[1]-n[1],o=r[2]-n[2];let s=a*a+e*e+o*o;return s>0?(s=1/Math.sqrt(s),t[0]=a*s,t[1]=e*s,t[2]=o*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const G=c,H=u,J=i,K=p,U=v,V=a,W=z,$=Object.freeze(Object.defineProperty({__proto__:null,abs:f,add:s,angle:R,bezier:P,ceil:h,clamp:b,copy:e,cross:_,crossAndNormalize:E,direction:F,dist:K,distance:p,div:J,divide:i,dot:L,equals:C,exactEquals:B,floor:M,hermite:O,inverse:y,len:V,length:a,lerp:N,max:d,min:m,mul:H,multiply:u,negate:A,normalize:D,random:j,rotateX:X,rotateY:Y,rotateZ:Z,round:g,scale:q,scaleAndAdd:x,set:o,sign:l,sqrDist:U,sqrLen:W,squaredDistance:v,squaredLength:z,str:w,sub:G,subtract:c,transformMat3:Q,transformMat4:I,transformQuat:S},Symbol.toStringTag,{value:"Module"}));t.abs=f,t.add=s,t.angle=R,t.bezier=P,t.ceil=h,t.clamp=b,t.copy=e,t.cross=_,t.crossAndNormalize=E,t.direction=F,t.dist=K,t.distance=p,t.div=J,t.divide=i,t.dot=L,t.equals=C,t.exactEquals=B,t.floor=M,t.hermite=O,t.inverse=y,t.len=V,t.length=a,t.lerp=N,t.max=d,t.min=m,t.mul=H,t.multiply=u,t.negate=A,t.normalize=D,t.random=j,t.rotateX=X,t.rotateY=Y,t.rotateZ=Z,t.round=g,t.scale=q,t.scaleAndAdd=x,t.set=o,t.sign=l,t.sqrDist=U,t.sqrLen=W,t.squaredDistance=v,t.squaredLength=z,t.str=w,t.sub=G,t.subtract=c,t.transformMat3=Q,t.transformMat4=I,t.transformQuat=S,t.vec3=$});