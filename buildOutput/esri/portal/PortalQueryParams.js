// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../chunks/tslib.es6","../core/Accessor","../core/jsonMap","../core/lang","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/accessorSupport/decorators/subclass","../geometry/Extent","../geometry/SpatialReference","../geometry/support/webMercatorUtils"],function(t,e,r,s,o,i,a,l,u,n,d,p){"use strict";var c;const y=new s.JSONMap({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});return t.default=c=class extends r{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){"asc"!==t&&"desc"!==t||this._set("sortOrder",t)}clone(){return new c({categories:this.categories?o.clone(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let r=[];this.categories&&(r=this.categories.map(t=>Array.isArray(t)?JSON.stringify(t):t));let s="";if(this.extent){const t=p.project(this.extent,d.WGS84);null!=t&&(s=`${t.xmin},${t.ymin},${t.xmax},${t.ymax}`)}let o=this.query;!this.disableExtraQuery&&t.extraQuery&&(o="("+o+")"+t.extraQuery);const i={categories:r,bbox:s,q:o,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(i.sortField=this.sortField.split(",").map(t=>y.toJSON(t.trim())).join(","),i.sortOrder=this.sortOrder),{query:{...e,...i}}}},e.__decorate([i.property()],t.default.prototype,"categories",void 0),e.__decorate([i.property()],t.default.prototype,"disableExtraQuery",void 0),e.__decorate([i.property({type:n})],t.default.prototype,"extent",void 0),e.__decorate([i.property()],t.default.prototype,"filter",void 0),e.__decorate([i.property()],t.default.prototype,"num",void 0),e.__decorate([i.property()],t.default.prototype,"query",void 0),e.__decorate([i.property()],t.default.prototype,"sortField",void 0),e.__decorate([i.property()],t.default.prototype,"sortOrder",null),e.__decorate([i.property()],t.default.prototype,"start",void 0),t.default=c=e.__decorate([u.subclass("esri.portal.PortalQueryParams")],t.default),t.default});