// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../geometry/projectionUtils","../../geometry/SpatialReference","../../geometry/support/webMercatorUtils"],function(e,t,r,o){"use strict";function n(e,t){if(!i(e,t)){const r=e.typeKeywords;r?r.push(t):e.typeKeywords=[t]}}function i(e,t){return!!e.typeKeywords?.includes(t)}function s(e,t){const r=e.typeKeywords;if(r){const e=r.indexOf(t);e>-1&&r.splice(e,1)}}const a={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};e.addTypeKeyword=n,e.getUserPrivileges=function(e){const{portal:t,isOrgItem:r,itemControl:o}=e,n=t.user?.privileges;let i=!n||n.includes("features:user:edit"),s=!!r&&!!n?.includes("features:user:fullEdit");const a="update"===o||"admin"===o;return a?s=i=!0:s&&(i=!0),{features:{edit:i,fullEdit:s},content:{updateItem:a}}},e.getWGS84ExtentForItem=async function(e){const n=e.clone().normalize();let i;if(n.length>1)for(const e of n)i?e.width>i.width&&(i=e):i=e;else i=n[0];return async function(e){const n=e.spatialReference;if(n.isWGS84)return e.clone();if(n.isWebMercator)return o.webMercatorToGeographic(e);const i=r.WGS84;return await t.initializeProjection(n,i),t.project(e,i)}(i)},e.hasTypeKeyword=i,e.isHostedLayer=function(e){return i(e,a.HOSTED_SERVICE)},e.removeTypeKeyword=s,e.toggleTypeKeyword=function(e,t,r){r?n(e,t):s(e,t)},e.typeKeyword=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});