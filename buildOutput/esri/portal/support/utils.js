// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../kernel","../../request"],function(e,n,r){"use strict";async function t(e,t,s){const u=n.id?.findCredential(e.restUrl);if(!u)return null;if("loaded"===e.loadStatus&&""===t&&e.user?.sourceJSON&&!1===s)return e.user.sourceJSON;const i={responseType:"json",query:{f:"json"}};if(s&&(i.query.returnUserLicenseTypeExtensions=!0),""===t){const n=await r(e.restUrl+"/community/self",i);if(n.data){const e=n.data;if(e?.username)return e}return null}const o=await r(e.restUrl+"/community/users/"+t,i);if(o.data){const e=o.data;return e.error?null:e}return null}e.hasPrivilege=async function(e,n,r){const s=await t(e,n,!0);return s?.privileges?.includes(r)??!1},e.hasUserTypeExtension=async function(e,n,r){const s=await t(e,n,!0);return s?.userLicenseTypeExtensions?.includes(r)??!1},e.lookupUser=t,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});