// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/arrayUtils","../../core/has","../../core/Error","../../symbols/support/symbolConversion"],function(e,r,n,t,o){"use strict";function s(e){return null==e||"simple"===e.type||"unique-value"===e.type||"class-breaks"===e.type||"dictionary"===e.type||"heatmap"===e.type}function l(e,r){if(!r)return null;if(Array.isArray(r)||(r=[r]),r.length>0){const n=r.map(e=>e.details.symbol.type||e.details.symbol.declaredClass).filter(e=>!!e);n.sort();const o=new Array;return n.forEach((e,r)=>{0!==r&&e===n[r-1]||o.push(e)}),new t("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${o.join(", ")}) which are not supported in 3D`,{renderer:e,symbolErrors:r})}return null}e.isSupportedRenderer3D=s,e.validateTo3D=function(e,n){if(null==e)return null;if(!s(e))return new t("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${e.type}'`,{renderer:e});switch(e.type){case"simple":return function(e,r){const n={...o.defaultTo3DOptions,...r,cimFallbackEnabled:!0};return l(e,o.to3D(e.symbol,n).error)}(e,n);case"unique-value":return function(e,n){const t={...o.defaultTo3DOptions,...n,cimFallbackEnabled:!0},s=e.uniqueValueInfos?.map(e=>o.to3D(e.symbol,t).error).filter(r.isSome),u=o.to3D(e.defaultSymbol,t);return u.error&&s?.unshift(u.error),l(e,s)}(e,n);case"class-breaks":return function(e,n){const t={...o.defaultTo3DOptions,...n,cimFallbackEnabled:!0},s=e.classBreakInfos.map(e=>o.to3D(e.symbol,t).error).filter(r.isSome),u=o.to3D(e.defaultSymbol,t);return u.error&&s.unshift(u.error),l(e,s)}(e,n);case"dictionary":case"heatmap":return null}return null},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});