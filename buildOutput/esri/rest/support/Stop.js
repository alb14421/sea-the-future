// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../Graphic","../../PopupTemplate","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../core/accessorSupport/decorators/writer","../../geometry/Point","../route/utils","./networkEnums","../../symbols/support/typeUtils"],function(e,t,r,a,i,o,s,p,u,l,n,d,c,m,y,b,f){"use strict";var T;return e.default=class extends(i.ClonableMixin(o.JSONSupport)){static{T=this}constructor(e){super(e),this.arriveCurbApproach=null,this.arriveTime=null,this.arriveTimeOffset=null,this.bearing=null,this.bearingTol=null,this.cumulativeCosts=null,this.cumulativeDistance=null,this.cumulativeDuration=null,this.curbApproach=null,this.departCurbApproach=null,this.departTime=null,this.departTimeOffset=null,this.distanceToNetworkInMeters=null,this.geometry=null,this.lateDuration=null,this.locationType=null,this.name=null,this.navLatency=null,this.objectId=null,this.popupTemplate=null,this.posAlong=null,this.routeName=null,this.serviceCosts=null,this.serviceDistance=null,this.serviceDuration=null,this.sequence=null,this.sideOfEdge=null,this.snapX=null,this.snapY=null,this.snapZ=null,this.sourceId=null,this.sourceOid=null,this.status=null,this.symbol=null,this.timeWindowEnd=null,this.timeWindowEndOffset=null,this.timeWindowStart=null,this.timeWindowStartOffset=null,this.type="stop",this.violations=null,this.waitDuration=null,this.wait=null}readArriveTimeOffset(e,t){return y.getTimezoneOffset(t.attributes.ArriveTime,t.attributes.ArriveTimeUTC)}readCumulativeCosts(e,t){return y.getPrefixedProperties(t.attributes,"Cumul_")}readDepartTimeOffset(e,t){return y.getTimezoneOffset(t.attributes.DepartTime,t.attributes.DepartTimeUTC)}readServiceCosts(e,t){return y.getPrefixedProperties(t.attributes,"Attr_")}writeServiceCosts(e,t){y.setPrefixedProperties(e,t,"Attr_")}writeTimeWindowEnd(e,t){null!=e&&(t.attributes||(t.attributes={}),t.attributes.TimeWindowEnd=e.getTime())}writeTimeWindowStart(e,t){null!=e&&(t.attributes||(t.attributes={}),t.attributes.TimeWindowStart=e.getTime())}readViolations(e,t){return y.getPrefixedProperties(t.attributes,"Violation_")}readWait(e,t){return y.getPrefixedProperties(t.attributes,"Wait_")}static{this.fields=[{name:"ObjectID",alias:"ObjectID",type:"esriFieldTypeOID"},{name:"ArrivalCurbApproach",alias:"Arrival Curb Approach",type:"esriFieldTypeInteger"},{name:"ArrivalTime",alias:"Arrival Time",type:"esriFieldTypeDate"},{name:"ArrivalUTCOffset",alias:"Arrival Time",type:"esriFieldTypeInteger"},{name:"CumulativeCosts",alias:"Cumulative Costs",type:"esriFieldTypeString"},{name:"CumulativeMeters",alias:"Cumulative Meters",type:"esriFieldTypeDouble"},{name:"CumulativeMinutes",alias:"Cumulative Minutes",type:"esriFieldTypeDouble"},{name:"CurbApproach",alias:"Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureCurbApproach",alias:"Departure Curb Approach",type:"esriFieldTypeInteger"},{name:"DepartureTime",alias:"Departure Time",type:"esriFieldTypeDate"},{name:"DepartureUTCOffset",alias:"Departure Time",type:"esriFieldTypeInteger"},{name:"LateMinutes",alias:"Minutes Late",type:"esriFieldTypeDouble"},{name:"LocationType",alias:"Location Type",type:"esriFieldTypeInteger"},{name:"Name",alias:"Name",type:"esriFieldTypeString"},{name:"RouteName",alias:"Route Name",type:"esriFieldTypeString"},{name:"Sequence",alias:"Sequence",type:"esriFieldTypeInteger"},{name:"ServiceCosts",alias:"Service Costs",type:"esriFieldTypeString"},{name:"ServiceMeters",alias:"Service Meters",type:"esriFieldTypeDouble"},{name:"ServiceMinutes",alias:"Service Minutes",type:"esriFieldTypeDouble"},{name:"Status",alias:"Status",type:"esriFieldTypeInteger"},{name:"TimeWindowEnd",alias:"Time Window End",type:"esriFieldTypeDate"},{name:"TimeWindowEndUTCOffset",alias:"Time Window End Offset",type:"esriFieldTypeInteger"},{name:"TimeWindowStart",alias:"Time Window Start",type:"esriFieldTypeDate"},{name:"TimeWindowStartUTCOffset",alias:"Time Window Start Offset",type:"esriFieldTypeInteger"},{name:"WaitMinutes",alias:"Minutes Wait",type:"esriFieldTypeDouble"}]}static fromGraphic(e){return new T({arriveCurbApproach:null!=e.attributes.ArrivalCurbApproach?b.curbApproachJsonMap.fromJSON(e.attributes.ArrivalCurbApproach):null,arriveTime:null!=e.attributes.ArrivalTime?new Date(e.attributes.ArrivalTime):null,arriveTimeOffset:e.attributes.ArrivalUTCOffset,cumulativeCosts:null!=e.attributes.CumulativeCosts?y.toKebabImpedanceAttributes(JSON.parse(e.attributes.CumulativeCosts)):null,cumulativeDistance:e.attributes.CumulativeMeters??null,cumulativeDuration:e.attributes.CumulativeMinutes??null,curbApproach:null!=e.attributes.CurbApproach?b.curbApproachJsonMap.fromJSON(e.attributes.CurbApproach):null,departCurbApproach:null!=e.attributes.DepartureCurbApproach?b.curbApproachJsonMap.fromJSON(e.attributes.DepartureCurbApproach):null,departTime:null!=e.attributes.DepartureTime?new Date(e.attributes.DepartureTime):null,departTimeOffset:e.attributes.DepartureUTCOffset??null,geometry:e.geometry,lateDuration:e.attributes.LateMinutes??null,locationType:null!=e.attributes.LocationType?b.locationTypeJsonMap.fromJSON(e.attributes.LocationType):null,name:e.attributes.Name,objectId:e.attributes.ObjectID??e.attributes.__OBJECTID,popupTemplate:e.popupTemplate,routeName:e.attributes.RouteName,sequence:e.attributes.Sequence??null,serviceCosts:null!=e.attributes.ServiceCosts?y.toKebabImpedanceAttributes(JSON.parse(e.attributes.ServiceCosts)):null,serviceDistance:e.attributes.ServiceMeters??null,serviceDuration:e.attributes.ServiceMinutes??null,status:null!=e.attributes.Status?b.statusJsonMap.fromJSON(e.attributes.Status):null,symbol:e.symbol,timeWindowEnd:null!=e.attributes.TimeWindowEnd?new Date(e.attributes.TimeWindowEnd):null,timeWindowEndOffset:e.attributes.TimeWindowEndUTCOffset??null,timeWindowStart:null!=e.attributes.TimeWindowStart?new Date(e.attributes.TimeWindowStart):null,timeWindowStartOffset:e.attributes.TimeWindowStartUTCOffset??null,waitDuration:e.attributes.WaitMinutes??null})}toGraphic(){const e={ObjectID:this.objectId,ArrivalCurbApproach:this.arriveCurbApproach?b.curbApproachJsonMap.toJSON(this.arriveCurbApproach):null,ArrivalTime:this.arriveTime?.getTime()??null,ArrivalUTCOffset:this.arriveTimeOffset,CumulativeCosts:this.cumulativeCosts?JSON.stringify(y.fromKebabImpedanceAttributes(this.cumulativeCosts)):null,CumulativeMeters:this.cumulativeDistance,CumulativeMinutes:this.cumulativeDuration,CurbApproach:this.curbApproach?b.curbApproachJsonMap.toJSON(this.curbApproach):null,DepartureCurbApproach:this.departCurbApproach?b.curbApproachJsonMap.toJSON(this.departCurbApproach):null,DepartureTime:this.departTime?.getTime()??null,DepartureUTCOffset:this.departTimeOffset,LateMinutes:this.lateDuration,LocationType:this.locationType?b.locationTypeJsonMap.toJSON(this.locationType):null,Name:this.name,RouteName:this.routeName,Sequence:this.sequence,ServiceCosts:this.serviceCosts?JSON.stringify(y.fromKebabImpedanceAttributes(this.serviceCosts)):null,ServiceMeters:this.serviceDistance,ServiceMinutes:this.serviceDuration,Status:this.status?b.statusJsonMap.toJSON(this.status):null,TimeWindowEnd:this.timeWindowEnd?.getTime()??null,TimeWindowEndUTCOffset:this.timeWindowEndOffset??this.arriveTimeOffset,TimeWindowStart:this.timeWindowStart?.getTime()??null,TimeWindowStartUTCOffset:this.timeWindowStartOffset??this.arriveTimeOffset,WaitMinutes:this.waitDuration};return new r({geometry:this.geometry,attributes:e,symbol:this.symbol,popupTemplate:this.popupTemplate})}},t.__decorate([s.property({type:b.curbApproachJsonMap.apiValues,json:{read:{source:"attributes.ArrivalCurbApproach",reader:b.curbApproachJsonMap.read}}})],e.default.prototype,"arriveCurbApproach",void 0),t.__decorate([s.property({type:Date,json:{read:{source:"attributes.ArriveTimeUTC"}}})],e.default.prototype,"arriveTime",void 0),t.__decorate([s.property()],e.default.prototype,"arriveTimeOffset",void 0),t.__decorate([n.reader("arriveTimeOffset",["attributes.ArriveTime","attributes.ArriveTimeUTC"])],e.default.prototype,"readArriveTimeOffset",null),t.__decorate([s.property({json:{name:"attributes.Bearing",read:!1,write:!0}})],e.default.prototype,"bearing",void 0),t.__decorate([s.property({json:{name:"attributes.BearingTol",read:!1,write:!0}})],e.default.prototype,"bearingTol",void 0),t.__decorate([s.property()],e.default.prototype,"cumulativeCosts",void 0),t.__decorate([n.reader("cumulativeCosts",["attributes"])],e.default.prototype,"readCumulativeCosts",null),t.__decorate([s.property()],e.default.prototype,"cumulativeDistance",void 0),t.__decorate([s.property()],e.default.prototype,"cumulativeDuration",void 0),t.__decorate([s.property({type:b.curbApproachJsonMap.apiValues,json:{name:"attributes.CurbApproach",read:{reader:b.curbApproachJsonMap.read},write:{writer:b.curbApproachJsonMap.write}}})],e.default.prototype,"curbApproach",void 0),t.__decorate([s.property({type:b.curbApproachJsonMap.apiValues,json:{read:{source:"attributes.DepartCurbApproach",reader:b.curbApproachJsonMap.read}}})],e.default.prototype,"departCurbApproach",void 0),t.__decorate([s.property({type:Date,json:{read:{source:"attributes.DepartTimeUTC"}}})],e.default.prototype,"departTime",void 0),t.__decorate([s.property()],e.default.prototype,"departTimeOffset",void 0),t.__decorate([n.reader("departTimeOffset",["attributes.DepartTime","attributes.DepartTimeUTC"])],e.default.prototype,"readDepartTimeOffset",null),t.__decorate([s.property({json:{read:{source:"attributes.DistanceToNetworkInMeters"}}})],e.default.prototype,"distanceToNetworkInMeters",void 0),t.__decorate([s.property({type:m,json:{write:!0}})],e.default.prototype,"geometry",void 0),t.__decorate([s.property()],e.default.prototype,"lateDuration",void 0),t.__decorate([s.property({type:b.locationTypeJsonMap.apiValues,json:{name:"attributes.LocationType",read:{reader:b.locationTypeJsonMap.read},write:{writer:b.locationTypeJsonMap.write}}})],e.default.prototype,"locationType",void 0),t.__decorate([s.property({json:{name:"attributes.Name"}})],e.default.prototype,"name",void 0),t.__decorate([s.property({json:{name:"attributes.NavLatency",read:!1,write:!0}})],e.default.prototype,"navLatency",void 0),t.__decorate([s.property({json:{name:"attributes.ObjectID"}})],e.default.prototype,"objectId",void 0),t.__decorate([s.property({type:a})],e.default.prototype,"popupTemplate",void 0),t.__decorate([s.property({json:{read:{source:"attributes.PosAlong"}}})],e.default.prototype,"posAlong",void 0),t.__decorate([s.property({json:{name:"attributes.RouteName"}})],e.default.prototype,"routeName",void 0),t.__decorate([s.property()],e.default.prototype,"serviceCosts",void 0),t.__decorate([n.reader("serviceCosts",["attributes"])],e.default.prototype,"readServiceCosts",null),t.__decorate([c.writer("serviceCosts")],e.default.prototype,"writeServiceCosts",null),t.__decorate([s.property()],e.default.prototype,"serviceDistance",void 0),t.__decorate([s.property()],e.default.prototype,"serviceDuration",void 0),t.__decorate([s.property({json:{name:"attributes.Sequence"}})],e.default.prototype,"sequence",void 0),t.__decorate([s.property({type:b.sideOfEdgeJsonMap.apiValues,json:{read:{source:"attributes.SideOfEdge",reader:b.sideOfEdgeJsonMap.read}}})],e.default.prototype,"sideOfEdge",void 0),t.__decorate([s.property({json:{read:{source:"attributes.SnapX"}}})],e.default.prototype,"snapX",void 0),t.__decorate([s.property({json:{read:{source:"attributes.SnapY"}}})],e.default.prototype,"snapY",void 0),t.__decorate([s.property({json:{read:{source:"attributes.SnapZ"}}})],e.default.prototype,"snapZ",void 0),t.__decorate([s.property({json:{read:{source:"attributes.SourceID"}}})],e.default.prototype,"sourceId",void 0),t.__decorate([s.property({json:{read:{source:"attributes.SourceOID"}}})],e.default.prototype,"sourceOid",void 0),t.__decorate([s.property({type:b.statusJsonMap.apiValues,json:{read:{source:"attributes.Status",reader:b.statusJsonMap.read}}})],e.default.prototype,"status",void 0),t.__decorate([s.property({types:f.symbolTypes})],e.default.prototype,"symbol",void 0),t.__decorate([s.property({type:Date,json:{name:"attributes.TimeWindowEnd"}})],e.default.prototype,"timeWindowEnd",void 0),t.__decorate([c.writer("timeWindowEnd")],e.default.prototype,"writeTimeWindowEnd",null),t.__decorate([s.property()],e.default.prototype,"timeWindowEndOffset",void 0),t.__decorate([s.property({type:Date,json:{name:"attributes.TimeWindowStart"}})],e.default.prototype,"timeWindowStart",void 0),t.__decorate([c.writer("timeWindowStart")],e.default.prototype,"writeTimeWindowStart",null),t.__decorate([s.property()],e.default.prototype,"timeWindowStartOffset",void 0),t.__decorate([s.property({readOnly:!0,json:{read:!1}})],e.default.prototype,"type",void 0),t.__decorate([s.property()],e.default.prototype,"violations",void 0),t.__decorate([n.reader("violations",["attributes"])],e.default.prototype,"readViolations",null),t.__decorate([s.property()],e.default.prototype,"waitDuration",void 0),t.__decorate([s.property()],e.default.prototype,"wait",void 0),t.__decorate([n.reader("wait",["attributes"])],e.default.prototype,"readWait",null),e.default=T=t.__decorate([d.subclass("esri.rest.support.Stop")],e.default),e.default});