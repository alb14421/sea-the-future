// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../AggregateGraphic","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/reader","../../core/accessorSupport/decorators/subclass","../../geometry/SpatialReference","./FeatureSet"],function(e,r,t,o,a,s,c,u,n,p,l){"use strict";return e.default=class extends l{constructor(){super(...arguments),this.features=[]}readFeatures(e,r){const o=p.fromJSON(r.spatialReference),a=[];for(let r=0;r<e.length;r++){const s=e[r],c=t.fromJSON(s),u=s.geometry?.spatialReference;null==c.geometry||u||(c.geometry.spatialReference=o);const n=s.aggregateGeometries,p=c.aggregateGeometries;if(n&&null!=p)for(const e in p){const r=p[e],t=n[e],a=t?.spatialReference;null==r||a||(r.spatialReference=o)}a.push(c)}return a}},r.__decorate([o.property({type:[t],json:{write:!0}})],e.default.prototype,"features",void 0),r.__decorate([u.reader("features")],e.default.prototype,"readFeatures",null),e.default=r.__decorate([n.subclass("esri.rest.support.AggregateFeatureSet")],e.default),e.default});