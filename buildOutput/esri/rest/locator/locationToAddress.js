// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../request","../../core/Error","../utils","../support/AddressCandidate","../support/LocationToAddressParameters"],function(e,o,t,r,a,n){"use strict";e.locationToAddress=async function(e,i,s){const d=r.parseUrl(e),{path:u,query:c}=d,l=n.from(i);if(!l.location)throw new t("location-to-address:location-required","The location parameter is required");const p=function(e){const o=e.toJSON(),{featureTypes:t,forStorage:r,langCode:a,location:n,locationType:i,outFields:s,outSR:d,preferredLabelValues:u,returnInputLocation:c,token:l}=o;return{featureTypes:t?.join(","),forStorage:r,langCode:a,location:JSON.stringify(n),locationType:i,outFields:s?.join(","),outSR:d?.wkid??void 0,preferredLabelValues:u,returnInputLocation:c,token:l}}(l),f={...s,query:{...c,...p,f:"json"}},y=`${u}/reverseGeocode`,{data:S}=await o(y,f),{address:T,location:g}=S;return a.fromJSON({address:T?.Match_addr??"",attributes:T,location:g,score:100})},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});