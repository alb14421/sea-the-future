// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../request","../../../core/Error","../../utils","./serverVersionUtils"],function(s,e,i,r,n){"use strict";const t=new Map;s.inspectConflicts=async function(s,o,c,a){t.has(s)||await n.addServerVersion(t,s);const f=t.get(s);if((f?.serverVersion??0)<=11.1)throw new i("inspectConflicts:enterprise-version","versioning API requires ArcGIS Enterprise version 11.2 or higher");if(!o)throw new i("inspectConflicts:missing-guid","guid for version is missing");const l=r.parseUrl(s),p=c.toJSON();p.conflicts&&(p.conflicts=JSON.stringify(c.conflicts));const u=r.asValidOptions(l.query,{query:r.encode({...p,f:"json"}),...a,method:"post"});o.startsWith("{")&&(o=o.slice(1,-1));const d=`${l.path}/versions/${o}/inspectConflicts`,{data:g}=await e(d,u);return g.success},s.serverVersionCacheMap=t,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});