// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../chunks/tslib.es6","../core/Collection","../core/collectionUtils","../core/Logger","../core/accessorSupport/decorators/property","../core/has","../core/RandomLCG","../core/accessorSupport/decorators/subclass"],function(e,t,r,s,o,a,n,i,l){"use strict";const c=new Set(["feature","subtype-group"]);function p(e,t,r){if(e)for(let s=0,o=e.length;s<o;s++){const o=e.at(s);if(o[t]===r)return o;if("group"===o?.type){const e=p(o.tables,t,r);if(e)return e}}}e.TablesMixin=e=>{const n=e;let i=class extends n{constructor(...e){super(...e),this.tables=new r,this.addHandles([this.tables.on("after-add",e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,c.has(t.type)||o.getLogger(this).error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",e=>{e.item.parent=null})])}destroy(){const e=this.tables.toArray();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",s.referenceSetter(e,this._get("tables")))}findTableById(e){return p(this.tables,"id",e)}findTableByUid(e){return p(this.tables,"uid",e)}};return t.__decorate([a.property()],i.prototype,"tables",null),i=t.__decorate([l.subclass("esri.support.TablesMixin")],i),i},e.allowedTableTypes=c,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});