// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../geometry/GeometryCursor","../CIMCursor","../CurveHelper"],function(e,t,i,r){"use strict";class u{static{this.instance=null}static local(){return null===u.instance&&(u.instance=new u),u.instance}execute(e,t,i){return new n(e,t,i)}}class n extends i.PathEffectCursor{constructor(e,t,i){super(e,!0,!0),this._curveHelper=new r.CurveHelper,this._beginCut=(void 0!==t.beginCut?t.beginCut:1)*i,this._endCut=(void 0!==t.endCut?t.endCut:1)*i,this._middleCut=(void 0!==t.middleCut?t.middleCut:0)*i,this._invert=void 0!==t.invert&&t.invert,this._beginCut<0&&(this._beginCut=0),this._endCut<0&&(this._endCut=0),this._middleCut<0&&(this._middleCut=0)}processPath(e){const{_beginCut:i,_endCut:r,_middleCut:u}=this,n=e.pathLength(),s=t.GeometryCursor.createEmptyOptimizedCIM("esriGeometryPolyline");if(this._invert){if(0!==i||0!==r||0!==u)if(i+r+u>=n)for(s.startPath();e.nextPoint();)s.pushXY(e.x,e.y);else this._curveHelper.appendSubCurve(s,e,0,i),this._curveHelper.appendSubCurve(s,e,.5*(n-u),.5*(n+u)),this._curveHelper.appendSubCurve(s,e,n-r,r)}else if(0===i&&0===r&&0===u)for(s.startPath();e.nextPoint();)s.pushXY(e.x,e.y);else i+r+u<n&&(0===u?this._curveHelper.appendSubCurve(s,e,i,n-r):(this._curveHelper.appendSubCurve(s,e,i,.5*(n-u)),this._curveHelper.appendSubCurve(s,e,.5*(n+u),n-r)));return 0===s.totalSize?null:s}}e.EffectCut=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});