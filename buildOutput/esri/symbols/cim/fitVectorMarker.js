// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/lang","./SDFHelper","./effects/CIMEffectHelper"],function(e,t,r,a){"use strict";e.fitVectorMarker=function(e){if(!e.frame)return e;const{markerGraphics:m}=e;if(!m||0===m.length)return e;let f=0,n=0,o=0,i=0;for(const e of m){const{geometry:t,symbol:m}=e;if(!t||!m||!("symbolLayers"in m))continue;const{symbolLayers:c}=m;if(c)for(const e of c){const{effects:m}=e,c=a.CIMEffectHelper.applyEffects(m,t),s=r.getExtent(c);s&&(f=Math.min(f,s[0]),n=Math.min(n,s[1]),o=Math.max(o,s[2]),i=Math.max(i,s[3]))}}const{xmin:c,ymin:s,xmax:x,ymax:y}=e.frame,l=(x-c)/2,M=(y-s)/2,u=(x+c)/2,h=(y+s)/2;if(l<=0||M<=0)return e;const p=(u-f)/l,g=(o-u)/l,b=(h-n)/M,E=(i-h)/M,d=Math.max(Math.max(p,g),Math.max(b,E));return d<=1.01?e:(e=t.clone(e)).frame?(e.frame.xmin=(e.frame.xmin-u)*d+u,e.frame.ymin=(e.frame.ymin-h)*d+h,e.frame.xmax=(e.frame.xmax-u)*d+u,e.frame.ymax=(e.frame.ymax-h)*d+h,!1!==e.respectFrame&&(e.size*=d),e):e},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});