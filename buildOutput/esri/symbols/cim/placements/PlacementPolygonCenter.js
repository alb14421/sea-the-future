// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../geometry/support/boundsUtils","../../../geometry/support/centroid","../../../geometry/support/labelPoint","../CIMPlacements"],function(t,e,n,s,r){"use strict";class o{static{this.instance=null}static local(){return null===o.instance&&(o.instance=new o),o.instance}execute(t,e,n){return new i(t,e,n)}}class i{constructor(t,e,n){this._geometryCursor=t,this._offsetX=void 0!==e.offsetX?e.offsetX*n:0,this._offsetY=void 0!==e.offsetY?e.offsetY*n:0,this._method=void 0!==e.method?e.method:"OnPolygon",this._placementPerPart=void 0!==e.placePerPart&&e.placePerPart,this._internalPlacement=new r.Placement}next(){const t=this._geometryCursor;if(!t)return null;if(!this._placementPerPart)return this._geometryCursor=null,this._polygonCenter(t);for(;t.nextPath();)if(!(t.getCurrentRingArea()<0))return this._polygonCenter(t.getCurrentPath());return this._geometryCursor=null,null}_polygonCenter(t){let r=!1;switch(this._method){case"CenterOfMass":{const e=n.weightedAreaCentroid(t);e&&(this._internalPlacement.setTranslate(e[0]+this._offsetX,e[1]+this._offsetY),r=!0)}break;case"BoundingBoxCenter":{const n=e.getCursorBoundsXY(t);n&&(this._internalPlacement.setTranslate((n[2]+n[0])/2+this._offsetX,(n[3]+n[1])/2+this._offsetY),r=!0)}break;default:{const e=s.getLabelPoint(t);null!==e&&(this._internalPlacement.setTranslate(e[0]+this._offsetX,e[1]+this._offsetY),r=!0)}}return r?this._internalPlacement:null}}t.PlacementPolygonCenter=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});