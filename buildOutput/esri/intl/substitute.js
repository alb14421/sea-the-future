// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../core/Logger","../core/object","../core/string","./date","./number"],function(t,e,r,n,o,a){"use strict";const u=()=>e.getLogger("esri.intl.substitute");function i(t){switch(typeof t){case"string":return t;case"number":return a.formatNumber(t);case"boolean":return""+t;default:return t instanceof Date?o.formatDate(t):""}}t.substitute=function(t,e,s={}){const{format:c={}}=s;return n.replace(t,t=>function(t,e,n){let s,c;const f=t.indexOf(":");if(-1===f?s=t.trim():(s=t.slice(0,f).trim(),c=t.slice(f+1).trim()),!s)return"";const m=r.getDeepValue(s,e);if(null==m)return"";const l=(c?n?.[c]:null)??n?.[s];return l?function(t,e){switch(e.type){case"date":return o.formatDate(t,e.intlOptions);case"number":return a.formatNumber(t,e.intlOptions);default:return u().warn("missing format descriptor for key {key}"),i(t)}}(m,l):c?function(t,e){switch(e.toLowerCase()){case"dateformat":return o.formatDate(t);case"numberformat":return a.formatNumber(t);default:return u().warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?o.formatDate(t):/^numberformat/i.test(e)?a.formatNumber(t):i(t)}}(m,c):i(m)}(t,e,c))},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});