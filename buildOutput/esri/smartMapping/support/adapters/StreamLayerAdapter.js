// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/tslib.es6","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","../../../layers/support/fieldUtils","../utils","./InMemoryLayerAdapter","./support/utils","../../../statistics/utils"],function(t,e,s,r,a,o,i,u,c,p,l,d){"use strict";return t.default=class extends p{constructor(){super(...arguments),this.adapterName="stream-layer-adapter"}async _summaryStatsFromClientQuery(t,e){const{signal:s,view:r}=t,a=l.getSummaryStatsQuery(this,t,e);a.outStatistics=a.outStatistics?.filter(t=>"totalcount_value"!==t.outStatisticFieldName);const o=await this._fetchFeatureSetFromMemory(a,r,s),i=l.getSummaryStatisticsFromFeatureSet(o,c.isAnyDateField(e)||u.isTimeOnlyField(e));return d.processSummaryStatisticsResult(i,t.outStatisticTypes)}},e.__decorate([s.property({readOnly:!0})],t.default.prototype,"adapterName",void 0),t.default=e.__decorate([i.subclass("esri.smartMapping.support.adapters.StreamLayerAdapter")],t.default),t.default});