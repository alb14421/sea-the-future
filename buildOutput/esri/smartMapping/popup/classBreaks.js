// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../PopupTemplate","../../core/Error","../../intl/messages","./support/utils"],function(e,r,s,n,a){"use strict";async function t(e){const{layer:r,renderer:n}=e;await r.load();const a=n??("renderer"in r?r.renderer:void 0);if("class-breaks"!==a?.type)throw new s("class-breaks-popup:invalid-parameters","renderer.type must be 'class-breaks'");return{layer:r,renderer:a}}async function i(e,s,n="divide"){const{fieldInfos:t,expressionInfos:i}=await a.getFieldAndExpressionInfos({renderer:e,layer:s,normFieldExpressionTemplate:n});return new r({content:await a.getContentFromFieldInfos(s,{fieldInfos:t,expressionInfos:i}),fieldInfos:t,expressionInfos:i})}e.getTemplates=async function(e){const[{renderer:r,layer:s},o]=await Promise.all([t(e),n.fetchMessageBundle("esri/smartMapping/t9n/smartMapping")]),l={name:"class-breaks",title:o.classBreaks,value:await i(r,s)},p=[];return a.hasNormalizedField(r)&&p.push({name:"class-breaks-percent",title:o.classBreaksNormFieldAsPercent,value:await i(r,s,"percentage")}),{primaryTemplate:l,secondaryTemplates:p}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});