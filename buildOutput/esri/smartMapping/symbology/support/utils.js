// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/screenUtils","../../support/utils","../../../symbols/support/cimSymbolUtils","../../../symbols/support/utils"],function(e,t,o,i,n){"use strict";const r=o.defaultBasemapGroups.light,l=o.defaultBasemapGroups.dark,s=[...r,...l];function c(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b}function u(e){const o=e.width,i=e.height;let n=e.pixelSizeAt(e.toMap(t.createScreenPoint(.5*o,.5*i),{exclude:[]}));if(n<=0&&(n=e.pixelSizeAt(e.toMap(t.createScreenPoint(.5*o,.95*i),{exclude:[]})),n<=0&&"camera"in e)){const t=e.camera.position.clone();t.z=0,n=2*e.pixelSizeAt(t)}return n}e.getBasemapTheme=function(e){const t=o.getBasemapId(e,s,!1);return t?r.includes(t)?"light":l.includes(t)?"dark":void 0:null},e.getColorSchemeDefinition=function(e){const o=e[0],r=n.getSymbolOutlineColor(o),l=n.getSymbolOutlineSize(o),s="cim"===o.type?i.getCIMSymbolSize(o):"size"in o?o.size:"width"in o?o.width:null,c={outline:r&&null!=l?{color:r?.toArray(),width:`${t.pt2px(l)}px`}:{color:[153,153,153,.25],width:"0.5px"},fillOpacity:.8,width:null!=l?`${t.pt2px(l)}px`:"2px",size:null!=s?`${t.pt2px(s)}px`:"8px"},u={stops:e.map(e=>n.getColorFromSymbol(e,1)?.toHex()).filter(Boolean),tags:["custom-scheme"],name:"custom"};return{commonProps:c,colorRampInfo:u}},e.getPixelSize=u,e.getTagsFromSchemes=function(e){if(!e)return[];const t=new Set,o=[e.primaryScheme];e.secondarySchemes&&o.push(...e.secondarySchemes);for(const e of o)e&&"tags"in e&&e.tags&&e.tags.forEach(e=>t.add(e));return[...t]},e.hasIdenticalColors=function(e,t){let o=0;if(e.length===t.length){let i=e.every((e,o)=>c(e,t[o]));i?o=1:(i=e.slice().reverse().every((e,o)=>c(e,t[o])),i&&(o=-1))}return o},e.toWorldScale=function(e,o){return Math.ceil(u(o)*t.pt2px(t.toPt(e)))},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});