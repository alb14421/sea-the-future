// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../core/lang","../../support/utils"],function(e,s){"use strict";return class{constructor(e){const{name:a,label:t,description:p,schemes:m}=e;this.name=a,this.label=t,this.description=p,this.schemes=m;const o=e.basemapGroups||s.defaultBasemapGroups;let n=[];o&&Object.keys(o).forEach(e=>{n=n.concat(o[e])}),this.supportedBasemaps=n,this.basemapGroups=o}isBasemapSupported(e){const a=s.getBasemapId(e,this.supportedBasemaps);return!(!a||!this.supportedBasemaps.includes(a))}getRawSchemes(a){const{basemapId:t,basemapTheme:p}=function(e,a,t){let p=null,m=null;if(a&&(p=s.getBasemapId(a,e,!1),p)){const e=s.getBasemapGroup(p);null!=e&&(m=e)}return!p&&t&&(p="dark"===t?"dark-gray":"gray",m=t),p||m||(p="gray",m="light"),{basemapId:p,basemapTheme:m}}(this.supportedBasemaps,a.basemap,a.basemapTheme);let m=p;if(t){const e=s.getBasemapGroup(t,this.basemapGroups);null!=e&&(m=e)}let o=a.geometryType;"multipoint"===o?o="point":"mesh"===o&&(o="polygon");const n=this.schemes[o]||this.schemes.default;return{schemesInfo:e.clone(n[m]),basemapId:t,basemapTheme:p}}}});