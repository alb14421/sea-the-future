// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/Error","../../../renderers/support/rasterRendererChecks","../../../renderers/support/rasterRendererHelper","../support/utils"],function(e,r,t,s,a){"use strict";e.createRenderer=async function(e){e=await async function(e){e=await a.processRasterRendererParameters(e);const{serviceRasterInfo:n}=e.layer;if(n.bandCount>1)throw new r("raster-class-breaks-renderer:not-supported","Multiband raster is not supported");const{attributeTable:o}=n;if(null==o){if(t.isSingleBand8BitRasterWithStats(n))return e.classFieldName=e.classFieldName||"value",e;throw new r("raster-unique-value-renderer:not-supported","The source raster does not have an attribute table")}const i=e.classFieldName?.toLowerCase();if(i&&!o.fields.some(e=>e.name.toLowerCase()===i))throw new r("raster-unique-value-renderer:invalid-parameters","A valid 'classfieldName' is required");return i||(e.classFieldName=s.getClassField(o)?.name),e}(e);const{classFieldName:n,colors:o,colorRamp:i}=e,l=s.createUVRenderer(e.layer.serviceRasterInfo,n,o,i);if(null==l)throw new r("raster-unique-value-renderer:not-supported","UniqueValueRenderer is not supported on the provided data source");return{renderer:l,classFieldName:n}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});