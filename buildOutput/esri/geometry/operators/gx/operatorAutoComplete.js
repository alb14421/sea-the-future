// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/SimpleGeometryCursor","../../../chunks/MultiPathImpl","../../../chunks/Geometry","../../../chunks/Envelope2D","../../../chunks/Envelope","../../../chunks/ProjectionTransformation"],function(e,t,r,n,o,s,l){"use strict";class u extends t.GeometryCursor{constructor(e,t,r,n){super(),this.m_resultPolygons=null,this.m_polygons=e,this.m_polylines=t,this.m_sr=r,this.m_progressTracker=n,this.m_bFirst=!0}tock(){return!0}getRank(){return 1}next(){return this.m_bFirst&&(this.performOperation(),this.m_bFirst=!1),this.m_resultPolygons?this.m_resultPolygons.next():null}getGeometryID(){return null!=this.m_resultPolygons?this.m_resultPolygons.getGeometryID():-1}performOperation(){const e=new o.Envelope2D,t=new r.EditShape;let u,i=r.nullHandle;for(;u=this.m_polylines.next();){if(u.getGeometryType()!==n.GeometryType.enumPolyline||u.isEmpty())continue;i===r.nullHandle?i=t.addGeometry(u):t.appendGeometry(i,u);const s=new o.Envelope2D;u.queryEnvelope(s),e.mergeEnvelope2D(s)}if(0===t.getTotalPointCount())return;for(;u=this.m_polygons.next();){if(!n.isArea(u.getGeometryType())||u.isEmpty())continue;const r=new o.Envelope2D;u.queryEnvelope(r),e.mergeEnvelope2D(r),t.addGeometry(u)}const m=s.calculateToleranceFromGeometryForOp(this.m_sr,e,!0);this.m_resultPolygons=l.autoComplete(t,i,m,this.m_progressTracker)}}const i=new class{getOperatorType(){return 10008}accelerateGeometry(e,t,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,t,r,n){const o=(new l.OperatorUnion).executeMany(e,r,n);return new u(o,t,r,n)}};e.execute=function(e,r,n){const o=i.execute(new t.SimpleGeometryCursor(e),new t.SimpleGeometryCursor(r),n,null);return Array.from(o)},e.supportsCurves=function(){return i.supportsCurves()},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});