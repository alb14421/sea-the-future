// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../Multipoint","../Point","../Polygon","../Polyline","./coordsUtils"],function(n,e,t,s,i){"use strict";function o(n,e,t,s){const i=[];for(const o of n){const n=o.slice();i.push(n);const r=e*(o[0]-s.x)-t*(o[1]-s.y)+s.x,a=t*(o[0]-s.x)+e*(o[1]-s.y)+s.y;n[0]=r,n[1]=a}return i}return function(r,a,c){const{hasM:x,hasZ:l,spatialReference:f}=r,h=a*Math.PI/180,u=Math.cos(h),p=Math.sin(h);if("xmin"in r&&(c=c??r.center,r=new t({spatialReference:f,rings:[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]})),"paths"in r){c=c??r.extent.center;const n=[];for(const e of r.paths)n.push(o(e,u,p,c));return new s({hasM:x,hasZ:l,spatialReference:f,paths:n})}if("rings"in r){c=c??r.extent.center;const n=[];for(const e of r.rings){const t=i.isClockwise(e),s=o(e,u,p,c);i.isClockwise(s)!==t&&s.reverse(),n.push(s)}return new t({hasM:x,hasZ:l,spatialReference:f,rings:n})}if("x"in r){c=c??r;const n=new e({x:u*(r.x-c.x)-p*(r.y-c.y)+c.x,y:p*(r.x-c.x)+u*(r.y-c.y)+c.y,spatialReference:f});return null!=r.z&&(n.z=r.z),null!=r.m&&(n.m=r.m),n}return"points"in r?(c=c??r.extent.center,new n({hasM:x,hasZ:l,points:o(r.points,u,p,c),spatialReference:f})):null}});