// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/has","../../core/mathUtils","../Extent"],function(n,t,i,e){"use strict";function r(n=s){return[n[0],n[1],n[2],n[3]]}function a(n,t){return n!==t&&(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3]),n}function u(n){return null==n||n[0]>=n[2]?0:n[2]-n[0]}function o(n){return null==n||n[1]>=n[3]?0:n[3]-n[1]}function c(n,t,i){return t>=n[0]&&i>=n[1]&&t<=n[2]&&i<=n[3]}function f(n){return null!=n&&4===n.length}const h=[1/0,1/0,-1/0,-1/0],s=[0,0,0,0];n.allFinite=function(n){for(let t=0;t<4;t++)if(!isFinite(n[t]))return!1;return!0},n.area=function(n){return u(n)*o(n)},n.center=function(n,t=[0,0]){return t[0]=(n[0]+n[2])/2,t[1]=(n[1]+n[3])/2,t},n.clone=function(n){return[n[0],n[1],n[2],n[3]]},n.contains=function(n,t){return t[0]>=n[0]&&t[2]<=n[2]&&t[1]>=n[1]&&t[3]<=n[3]},n.containsPoint=function(n,t){return c(n,t[0],t[1])},n.containsPointObject=function(n,t){return c(n,t.x,t.y)},n.containsPointWithMargin=function(n,t,i){return t[0]>=n[0]-i&&t[1]>=n[1]-i&&t[0]<=n[2]+i&&t[1]<=n[3]+i},n.containsXY=c,n.containsXYWithMargin=function(n,t,i,e){return t>=n[0]-e&&i>=n[1]-e&&t<=n[2]+e&&i<=n[3]+e},n.copy=a,n.create=r,n.diagonal=function(n){const t=u(n),i=o(n);return Math.sqrt(t*t+i*i)},n.distance=function(n,t){const i=(n[0]+n[2])/2,e=(n[1]+n[3])/2,r=Math.max(Math.abs(t[0]-i)-u(n)/2,0),a=Math.max(Math.abs(t[1]-e)-o(n)/2,0);return Math.sqrt(r*r+a*a)},n.empty=function(n){return n?a(n,h):r(h)},n.equals=function(n,t){return f(n)&&f(t)?n[0]===t[0]&&n[1]===t[1]&&n[2]===t[2]&&n[3]===t[3]:n===t},n.expand=function(n,t,i){if(null!=t)if("length"in t)f(t)?(i[0]=Math.min(n[0],t[0]),i[1]=Math.min(n[1],t[1]),i[2]=Math.max(n[2],t[2]),i[3]=Math.max(n[3],t[3])):2!==t.length&&3!==t.length||(i[0]=Math.min(n[0],t[0]),i[1]=Math.min(n[1],t[1]),i[2]=Math.max(n[2],t[0]),i[3]=Math.max(n[3],t[1]));else switch(t.type){case"extent":i[0]=Math.min(n[0],t.xmin),i[1]=Math.min(n[1],t.ymin),i[2]=Math.max(n[2],t.xmax),i[3]=Math.max(n[3],t.ymax);break;case"point":i[0]=Math.min(n[0],t.x),i[1]=Math.min(n[1],t.y),i[2]=Math.max(n[2],t.x),i[3]=Math.max(n[3],t.y)}else a(i,n)},n.expandPointInPlace=function(n,t){t[0]<n[0]&&(n[0]=t[0]),t[0]>n[2]&&(n[2]=t[0]),t[1]<n[1]&&(n[1]=t[1]),t[1]>n[3]&&(n[3]=t[1])},n.expandWithNestedArray=function(n,t,i=n){const e=t.length;let r=n[0],a=n[1],u=n[2],o=n[3];for(let n=0;n<e;n++){const i=t[n];r=Math.min(r,i[0]),a=Math.min(a,i[1]),u=Math.max(u,i[0]),o=Math.max(o,i[1])}return i[0]=r,i[1]=a,i[2]=u,i[3]=o,i},n.fromExtent=function(n,t=r()){return t[0]=n.xmin,t[1]=n.ymin,t[2]=n.xmax,t[3]=n.ymax,t},n.fromValues=function(n,t,i,e,a=r()){return a[0]=n,a[1]=t,a[2]=i,a[3]=e,a},n.hasArea=function(n){return u(n)>0&&o(n)>0},n.height=o,n.intersection=function(n,t,e){if(null==t)return a(e,n);const r=t[0],u=t[1],o=t[2],c=t[3];return e[0]=i.clamp(n[0],r,o),e[1]=i.clamp(n[1],u,c),e[2]=i.clamp(n[2],r,o),e[3]=i.clamp(n[3],u,c),e},n.intersects=function(n,t){return Math.max(t[0],n[0])<=Math.min(t[2],n[2])&&Math.max(t[1],n[1])<=Math.min(t[3],n[3])},n.intersectsSegment=function(n,t,i){const e=n[0],r=n[1],a=n[2],u=n[3],{x:o,y:c}=t,{x:f,y:h}=i,s=(n,t)=>(h-c)*n+(o-f)*t+(f*c-o*h)<0,m=s(e,u),M=s(a,u),x=s(a,r),l=s(e,r);return!(m===M&&M===x&&x===l&&l===m||o<e&&f<e||o>a&&f>a||c>u&&h>u||c<r&&h<r)},n.intersectsSphere=function(n,t){const i=t[3],e=.5*(n[0]+n[2]),r=Math.abs(t[0]-e),a=.5*(n[2]-n[0]);if(r>i+a)return!1;const u=.5*(n[1]+n[3]),o=.5*(n[3]-n[1]),c=Math.abs(t[1]-u);if(c>i+o)return!1;if(r<a||c<o)return!0;const f=r-a,h=c-o;return f*f+h*h<=i*i},n.intersectsWithMargin=function(n,t,i){return Math.max(t[0],n[0])-i<=Math.min(t[2],n[2])&&Math.max(t[1],n[1])-i<=Math.min(t[3],n[3])},n.is=f,n.isPoint=function(n){return!(0!==u(n)&&isFinite(n[0])||0!==o(n)&&isFinite(n[1]))},n.negativeInfinity=h,n.offset=function(n,t,i,e=n){return e[0]=n[0]+t,e[1]=n[1]+i,e[2]=n[2]+t,e[3]=n[3]+i,e},n.pad=function(n,t,i=n){return i[0]=n[0]-t,i[1]=n[1]-t,i[2]=n[2]+t,i[3]=n[3]+t,i},n.positiveInfinity=[-1/0,-1/0,1/0,1/0],n.setMax=function(n,t,i=n){return i[2]=t[0],i[3]=t[1],i!==n&&(i[0]=n[0],i[1]=n[1]),n},n.setMin=function(n,t,i=n){return i[0]=t[0],i[1]=t[1],i!==n&&(i[2]=n[2],i[3]=n[3]),i},n.size=function(n,t){t[0]=n[2]-n[0],t[1]=n[3]-n[1]},n.toExtent=function(n,t,i=new e){return i.xmin=n[0],i.ymin=n[1],i.xmax=n[2],i.ymax=n[3],i.spatialReference=t,i},n.union=function(n,t,i){return null==t?a(i,n):(i[0]=Math.min(n[0],t[0]),i[1]=Math.min(n[1],t[1]),i[2]=Math.max(n[2],t[2]),i[3]=Math.max(n[3],t[3]),i)},n.unit=[0,0,1,1],n.width=u,n.zero=s,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"})});