// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/Error","../../core/libs/gl-matrix-2/math/vec2","../Point","./coordsUtils"],function(e,n,t,o,i){"use strict";e.nearestCoordinate=function(e,r){const{spatialReference:a}=r,c=[r.x,r.y];let l,s,u,x;const d=[0,0],m=function(e){switch(e.type){case"extent":return[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]];case"polygon":return e.rings;case"polyline":return e.paths}}(e);for(let e=0;e<m.length;e++){const n=m[e];for(let o=0;o<n.length-1;o++){i.projectPointOnLine(d,c,n,o);const r=t.distance(c,d);(null==l||r<l)&&(l=r,s=[...d],u=e,x=o)}}if(null==l||!s||null==u||null==x)throw new n("nearest-coordinate:failed","Failed to find the nearest coordinate");const[f,y]=s;return{coordinate:new o({x:f,y,spatialReference:a}),distance:l}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});