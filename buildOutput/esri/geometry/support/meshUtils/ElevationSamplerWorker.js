// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/libs/rbush/PooledRBush":function(){define(["exports","../../arrayUtils","../../compilerUtils","../../has","../../PooledArray","../../../chunks/quickselect"],function(t,e,r,n,i,o){"use strict";function s(t,e){let n=t;for(b.clear();n;){if(!0===n.leaf)for(const t of n.children)e(r.toConst(t));else b.pushArray(n.children);n=b.pop()??null}}function a(t,e){c(t,0,t.children.length,e,t)}function c(t,e,r,n,i){i||(i=new E([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(let o,s=e;s<r;s++)o=t.children[s],u(i,t.leaf?n(o):o);return i}function u(t,e){t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY)}function f(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function p(t){return t.maxX-t.minX+(t.maxY-t.minY)}function d(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function m(t,e){const r=Math.max(t.minX,e.minX),n=Math.max(t.minY,e.minY),i=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,i-r)*Math.max(0,o-n)}function y(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function M(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t,e,r,n,i){const s=[e,r];for(;s.length;){const e=s.pop(),r=s.pop();if(e-r<=n)continue;const a=r+Math.ceil((e-r)/n/2)*n;o.quickselect(t,a,r,e,i),s.push(r,a,a,e)}}const B=new i,b=new i,T=new i,x=new i({deallocator:void 0});class S{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}}class V extends S{constructor(){super(...arguments),this.height=1,this.indexHint=new e.PositionHint}}class E extends V{constructor(t){super(),this.children=t,this.leaf=!0}}class w extends V{constructor(t){super(),this.children=t,this.leaf=!1}}t.BBox=S,t.PooledRBush=class{constructor(t=9,e){this._compareMinX=f,this._compareMinY=l,this._toBBox=t=>t,this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&("function"==typeof e?this._toBBox=e:this._initFormat(e)),this.clear()}destroy(){this.clear(),B.prune(),b.prune(),T.prune(),x.prune()}all(t){s(this._data,t)}search(t,e){let r=this._data;const n=this._toBBox;if(M(t,r))for(B.clear();r;){for(let i=0,o=r.children.length;i<o;i++){const o=r.children[i],a=r.leaf?n(o):o;M(t,a)&&(r.leaf?e(o):y(t,a)?s(o,e):B.push(o))}r=B.pop()}}collides(t){let e=this._data;const r=this._toBBox;if(!M(t,e))return!1;for(B.clear();e;){for(let n=0,i=e.children.length;n<i;n++){const i=e.children[n],o=e.leaf?r(i):i;if(M(t,o)){if(e.leaf||y(t,o))return!0;B.push(i)}}e=B.pop()}return!1}load(t){if(!t.length)return this;if(t.length<this._minEntries){for(let e=0,r=t.length;e<r;e++)this.insert(t[e]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(this._data.children.length)if(this._data.height===e.height)this._splitRoot(this._data,e);else{if(this._data.height<e.height){const t=this._data;this._data=e,e=t}this._insert(e,this._data.height-e.height-1,!0)}else this._data=e;return this}insert(t){return t&&this._insert(t,this._data.height-1),this}clear(){return this._data=new E([]),this}remove(t){if(!t)return this;let n,i=this._data,o=null,s=0,a=!1;const c=this._toBBox(t);for(T.clear(),x.clear();i||T.length>0;){if(i||(i=T.pop(),o=T.data[T.length-1],s=x.pop()??0,a=!0),i.leaf&&(n=e.indexOf(i.children,r.toConst(t),i.children.length,i.indexHint),-1!==n))return i.children.splice(n,1),T.push(i),this._condense(T),this;a||i.leaf||!y(i,c)?o?(s++,i=o.children[s],a=!1):i=null:(T.push(i),x.push(s),s=0,o=i,i=i.children[0])}return this}toJSON(){return this._data}fromJSON(t){return this._data=t,this}_build(t,e,r,n){const i=r-e+1;let o=this._maxEntries;if(i<=o){const n=new E(t.slice(e,r+1));return a(n,this._toBBox),n}n||(n=Math.ceil(Math.log(i)/Math.log(o)),o=Math.ceil(i/o**(n-1)));const s=new w([]);s.height=n;const c=Math.ceil(i/o),u=c*Math.ceil(Math.sqrt(o));g(t,e,r,u,this._compareMinX);for(let i=e;i<=r;i+=u){const e=Math.min(i+u-1,r);g(t,i,e,c,this._compareMinY);for(let r=i;r<=e;r+=c){const i=Math.min(r+c-1,e);s.children.push(this._build(t,r,i,n-1))}}return a(s,this._toBBox),s}_insert(t,e,r){const n=this._toBBox,i=r?t:n(t);T.clear();const o=function(t,e,r,n){for(;n.push(e),!0!==e.leaf&&n.length-1!==r;){let r,n=1/0,i=1/0;for(let o=0,s=e.children.length;o<s;o++){const s=e.children[o],a=h(s),c=d(t,s)-a;c<i?(i=c,n=a<n?a:n,r=s):c===i&&a<n&&(n=a,r=s)}e=r||e.children[0]}return e}(i,this._data,e,T);for(o.children.push(t),u(o,i);e>=0&&T.data[e].children.length>this._maxEntries;)this._split(T,e),e--;!function(t,e,r){for(let n=r;n>=0;n--)u(e.data[n],t)}(i,T,e)}_split(t,e){const r=t.data[e],n=r.children.length,i=this._minEntries;this._chooseSplitAxis(r,i,n);const o=this._chooseSplitIndex(r,i,n);if(!o)return;const s=r.children.splice(o,r.children.length-o),c=r.leaf?new E(s):new w(s);c.height=r.height,a(r,this._toBBox),a(c,this._toBBox),e?t.data[e-1].children.push(c):this._splitRoot(r,c)}_splitRoot(t,e){this._data=new w([t,e]),this._data.height=t.height+1,a(this._data,this._toBBox)}_chooseSplitIndex(t,e,r){let n,i,o;n=i=1/0;for(let s=e;s<=r-e;s++){const e=c(t,0,s,this._toBBox),a=c(t,s,r,this._toBBox),u=m(e,a),f=h(e)+h(a);u<n?(n=u,o=s,i=f<i?f:i):u===n&&f<i&&(i=f,o=s)}return o}_chooseSplitAxis(t,e,r){const n=t.leaf?this._compareMinX:f,i=t.leaf?this._compareMinY:l;this._allDistMargin(t,e,r,n)<this._allDistMargin(t,e,r,i)&&t.children.sort(n)}_allDistMargin(t,e,r,n){t.children.sort(n);const i=this._toBBox,o=c(t,0,e,i),s=c(t,r-e,r,i);let a=p(o)+p(s);for(let n=e;n<r-e;n++){const e=t.children[n];u(o,t.leaf?i(e):e),a+=p(o)}for(let n=r-e-1;n>=e;n--){const e=t.children[n];u(s,t.leaf?i(e):e),a+=p(s)}return a}_condense(t){for(let r=t.length-1;r>=0;r--){const n=t.data[r];if(0===n.children.length)if(r>0){const i=t.data[r-1],o=i.children;o.splice(e.indexOf(o,n,o.length,i.indexHint),1)}else this.clear();else a(n,this._toBBox)}}_initFormat(t){const e=["return a"," - b",";"];this._compareMinX=new Function("a","b",e.join(t[0])),this._compareMinY=new Function("a","b",e.join(t[1])),this._toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.cleanupPooledRBush=function(){B.prune(),b.prune(),T.prune(),x.prune()},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/quickselect":function(){define(["exports"],function(t){"use strict";function e(t,n,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,c=n-i+1,u=Math.log(a),f=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*f*(a-f)/a)*(c-a/2<0?-1:1);e(t,n,Math.max(i,Math.floor(n-c*f/a+l)),Math.min(o,Math.floor(n+(a-c)*f/a+l)),s)}var h=t[n],p=i,d=o;for(r(t,i,n),s(t[o],h)>0&&r(t,i,o);p<d;){for(r(t,p,d),p++,d--;s(t[p],h)<0;)p++;for(;s(t[d],h)>0;)d--}0===s(t[i],h)?r(t,i,d):r(t,++d,o),d<=n&&(i=d+1),n<=d&&(o=d-1)}}function r(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function n(t,e){return t<e?-1:t>e?1:0}t.quickselect=function(t,r,i,o,s){e(t,r,i||0,o||t.length-1,s||n)}})},"esri/geometry/support/MeshGeoreferencedVertexSpace":function(){define(["exports","../../chunks/tslib.es6","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass"],function(t,e,r,n,i,o,s,a,c,u){"use strict";var f;return t.default=class extends(r.ClonableMixin(n.JSONSupport)){static{f=this}constructor(t){super(t),this.type="georeferenced",this.origin=null}static{this.absolute=new f}},e.__decorate([c.enumeration({georeferenced:"georeferenced"},{readOnly:!0})],t.default.prototype,"type",void 0),e.__decorate([i.property({type:[Number],nonNullable:!1,json:{write:!0}})],t.default.prototype,"origin",void 0),t.default=f=e.__decorate([u.subclass("esri.geometry.support.MeshGeoreferencedVertexSpace")],t.default),t.default})},"esri/geometry/support/meshUtils/vertexSpaceConversion":function(){define(["exports","../../../core/Logger","../../../core/mathUtils","../../../core/unitUtils","../../../core/libs/gl-matrix-2/math/mat3","../../../core/libs/gl-matrix-2/factories/mat3f64","../../../core/libs/gl-matrix-2/math/mat4","../../../core/libs/gl-matrix-2/factories/mat4f64","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64","../../spatialReferenceEllipsoidUtils","../../projection/computeTranslationToOriginAndRotation","../../projection/projectPointToVector","../meshVertexSpaceUtils","../spatialReferenceUtils","../../../chunks/vec3","./projection"],function(t,e,r,n,i,o,s,a,c,u,f,l,h,p,d,m,y){"use strict";const M=()=>e.getLogger("esri.geometry.support.meshUtils.vertexSpaceConversion");function g(t,e){return e?.useEllipsoid&&d.isEarth(t)?f.WGS84ECEFSpatialReference:f.getSphericalPCPF(t)}function B(t,e){const r=new Float64Array(t.position.length);m.transformMat4(r,t.position,e);const n=t.normal?new Float32Array(t.normal.length):null,i=t.tangent?new Float32Array(t.tangent.length):null;return n&&t.normal&&y.transformNormal(t.normal,n,e),i&&t.tangent&&y.transformTangent(t.tangent,i,e),{position:r,normal:n,tangent:i}}function b(t,e,r,n){const i=T(e,r,n);x(i)||s.scale(t,t,[i,i,i])}function T(t,e,r){const n=!!(1&r),i=!!(2&r),o=e?.sourceUnit,s=e?.targetUnit;if(!o&&!s)return 1;let a=S(o,t);n||!o||x(a)||(M().warn("source unit conversion not supported"),a=1);let c=1/S(s,t);return i||!s||x(c)||(M().warn("target unit conversion not supported"),c=1),a*c}function x(t){return r.floatEqualUlp(t,1)}function S(t,e){if(null==t)return 1;const r=n.getMetersPerCartesianUnitForSR(e);return 1/n.convertUnit(r,"meters",t)}const V=a.create(),E=a.create(),w=o.create(),_=u.create(),v=a.create();t.convertVertexSpace=function(t,e,r){const{vertexSpace:n,transform:o,vertexAttributes:u}=t,f=p.isRelativeVertexSpace(n)?o:null,h=T(t.spatialReference,r,3);if(p.vertexSpaceEquals(n,e)&&(!f||s.exactEquals(f.localMatrix,a.IDENTITY))&&x(h)){const{position:t,normal:e,tangent:n}=u,i=r?.allowBufferReuse;return{position:i?t:t.slice(),normal:i?e:e?.slice(),tangent:i?n:n?.slice()}}switch(t.vertexSpace.type){case"local":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},i,o){const a=g(e,o);if(!l.computeTranslationToOriginAndRotation(e,n,V,a))return y.logProjectionError(M(),e,a),null;if(r&&s.multiply(V,V,r.localMatrix),!l.computeTranslationToOriginAndRotation(e,i,E,a))return y.logProjectionError(M(),a,e),null;s.invert(E,E);const c=s.multiply(V,E,V);return b(c,e,o,3),B(t,c)}(t,t.vertexSpace,e.origin,r):function({spatialReference:t,vertexAttributes:e,transform:r},{origin:n},i,o){const a=g(t,o);if(!l.computeTranslationToOriginAndRotation(t,n,V,a))return y.logProjectionError(M(),t,a),null;r&&s.multiply(V,V,r.localMatrix),b(V,t,o,1);const u=new Float64Array(e.position.length),f=function(t,e,r,n,i){m.transformMat4(n,t,e);const o=new Float64Array(t.length);return y.projectFromPCPF(n,i,o,r)?o:(y.logProjectionError(M(),i,r),null)}(e.position,V,t,u,a);if(!f)return null;const h=function(t,e,r,n,i,o){if(null==i)return null;const s=new Float32Array(i.length);return y.transformNormal(i,s,o),y.projectNormalFromPCPF(s,t,e,r,n,s)?s:(y.logProjectionError(M(),n,e),null)}(f,t,u,a,e.normal,V);if(e.normal&&!h)return null;const p=function(t,e,r,n,i,o){if(null==i)return null;const s=new Float32Array(i.length);return y.transformTangent(i,s,o),y.projectTangentFromPCPF(s,t,e,r,n,s)?s:(y.logProjectionError(M(),n,e),null)}(f,t,u,a,e.tangent,V);if(e.tangent&&!p)return null;if(i){const t=c.negate(_,i);m.translate(f,f,t)}return{position:f,normal:h,tangent:p}}(t,t.vertexSpace,e.origin,r);case"georeferenced":return"local"===e.type?function({vertexAttributes:t,spatialReference:e,transform:r},{origin:n},o,a){const c=g(e,a);if(!l.computeTranslationToOriginAndRotation(e,o,V,c))return y.logProjectionError(M(),e,c),null;const u=1/T(e,a,2);s.scale(V,V,[u,u,u]);const f=s.invert(E,V),{position:h,normal:p,tangent:d}=function(t,e,r){if(!e)return t;if(!r){const{position:r,normal:n,tangent:i}=t;return{position:m.translate(new Float64Array(r.length),r,e),tangent:i,normal:n}}const n=B(t,r.localMatrix);return m.translate(n.position,n.position,e),n}(t,n,r),b=new Float64Array(h.length),x=function(t,e,r,n,i){const o=y.projectToPCPF(t,e,n,i);if(!o)return y.logProjectionError(M(),e,i),null;const s=new Float64Array(o.length);return m.transformMat4(s,o,r),s}(h,e,f,b,c);if(!x)return null;const S=i.normalFromMat4(w,f),_=function(t,e,r,n,i,o,s){if(null==t)return null;const a=s??new Float32Array(t.length);return y.projectNormalToPCPF(t,e,r,n,i,a)?(m.transformMat3(a,a,o),a):(y.logProjectionError(M(),r,i),null)}(p,h,e,b,c,S,p!==t.normal?p:void 0);if(!_&&p)return null;const v=function(t,e,r,n,i,o,s){if(null==t)return null;const a=s??new Float32Array(t.length);return y.projectTangentToPCPF(t,e,r,n,i,a)?(m.transformMat3(a,a,o,4),a):(y.logProjectionError(M(),r,i),null)}(d,h,e,b,c,S,d!==t.tangent?d:void 0);return!v&&d?null:{position:x,normal:_,tangent:v}}(t,t.vertexSpace,e.origin,r):function({vertexAttributes:t,transform:e,spatialReference:r},{origin:n},i,o){const u=T(r,o,3),f=n||!x(u)?s.copy(V,e?.localMatrix??a.IDENTITY):null;f&&b(f,r,o,3);const{position:l,normal:h,tangent:p}=f?B(t,f):t,d=o?.allowBufferReuse,y=d?l:new Float64Array(l.length);let M=l;if(n&&(M=m.translate(y,M,n)),i){const t=c.negate(_,i);M=m.translate(y,M,t)}return{position:M!==t.position||d?M:M.slice(),normal:h!==t.normal||d?h:h?.slice(),tangent:p!==t.tangent||d?p:p?.slice()}}(t,t.vertexSpace,e.origin,r)}},t.getUnitToSpatialReferenceScaleConversion=S,t.projectPointToVertexSpace=function(t,e,{vertexSpace:r,spatialReference:n}){if("georeferenced"===r.type){const i=t;if(!h.projectPointToVector(e,i,n))return!1;const{origin:o}=r;return c.subtract(t,i,o),!0}const i=f.getSphericalPCPF(n),o=t;if(!h.projectPointToVector(e,o,i))return!1;const{origin:a}=r,u=v;if(!l.computeTranslationToOriginAndRotation(n,a,u,i))return!1;const p=s.invert(v,u);return null!=p&&(c.transformMat4(t,o,p),!0)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat3":function(){define(["exports","./common"],function(t,e){"use strict";function r(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function i(t,e,r,n,i,o,s,a,c,u){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=u,t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function s(t,e){if(t===e){const r=e[1],n=e[2],i=e[5];t[1]=e[3],t[2]=e[6],t[3]=r,t[5]=e[7],t[6]=n,t[7]=i}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function a(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],f=e[8],l=f*s-a*u,h=-f*o+a*c,p=u*o-s*c;let d=r*l+n*h+i*p;return d?(d=1/d,t[0]=l*d,t[1]=(-f*n+i*u)*d,t[2]=(a*n-i*s)*d,t[3]=h*d,t[4]=(f*r-i*c)*d,t[5]=(-a*r+i*o)*d,t[6]=p*d,t[7]=(-u*r+n*c)*d,t[8]=(s*r-n*o)*d,t):null}function c(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],f=e[8];return t[0]=s*f-a*u,t[1]=i*u-n*f,t[2]=n*a-i*s,t[3]=a*c-o*f,t[4]=r*f-i*c,t[5]=i*o-r*a,t[6]=o*u-s*c,t[7]=n*c-r*u,t[8]=r*s-n*o,t}function u(t){const e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],u=t[8];return e*(u*o-s*c)+r*(-u*i+s*a)+n*(c*i-o*a)}function f(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=r[0],p=r[1],d=r[2],m=r[3],y=r[4],M=r[5],g=r[6],B=r[7],b=r[8];return t[0]=h*n+p*s+d*u,t[1]=h*i+p*a+d*f,t[2]=h*o+p*c+d*l,t[3]=m*n+y*s+M*u,t[4]=m*i+y*a+M*f,t[5]=m*o+y*c+M*l,t[6]=g*n+B*s+b*u,t[7]=g*i+B*a+b*f,t[8]=g*o+B*c+b*l,t}function l(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=r[0],p=r[1];return t[0]=n,t[1]=i,t[2]=o,t[3]=s,t[4]=a,t[5]=c,t[6]=h*n+p*s+u,t[7]=h*i+p*a+f,t[8]=h*o+p*c+l,t}function h(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=Math.sin(r),p=Math.cos(r);return t[0]=p*n+h*s,t[1]=p*i+h*a,t[2]=p*o+h*c,t[3]=p*s-h*n,t[4]=p*a-h*i,t[5]=p*c-h*o,t[6]=u,t[7]=f,t[8]=l,t}function p(t,e,r){const n=r[0],i=r[1],o=r[2];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t[6]=o*e[6],t[7]=o*e[7],t[8]=o*e[8],t}function d(t,e,r){const n=r[0],i=r[1];return t[0]=n*e[0],t[1]=n*e[1],t[2]=n*e[2],t[3]=i*e[3],t[4]=i*e[4],t[5]=i*e[5],t}function m(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function y(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function M(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function g(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function B(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=r+r,a=n+n,c=i+i,u=r*s,f=n*s,l=n*a,h=i*s,p=i*a,d=i*c,m=o*s,y=o*a,M=o*c;return t[0]=1-l-d,t[3]=f-M,t[6]=h+y,t[1]=f+M,t[4]=1-u-d,t[7]=p-m,t[2]=h-y,t[5]=p+m,t[8]=1-u-l,t}function b(t,e){const r=e[0],n=e[1],i=e[2],o=e[4],s=e[5],a=e[6],c=e[8],u=e[9],f=e[10],l=f*s-a*u,h=-f*o+a*c,p=u*o-s*c,d=r*l+n*h+i*p;if(!d)return null;const m=1/d;return t[0]=l*m,t[1]=(-f*n+i*u)*m,t[2]=(a*n-i*s)*m,t[3]=h*m,t[4]=(f*r-i*c)*m,t[5]=(-a*r+i*o)*m,t[6]=p*m,t[7]=(-u*r+n*c)*m,t[8]=(s*r-n*o)*m,t}function T(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],m=e[13],y=e[14],M=e[15],g=r*a-n*s,B=r*c-i*s,b=r*u-o*s,T=n*c-i*a,x=n*u-o*a,S=i*u-o*c,V=f*m-l*d,E=f*y-h*d,w=f*M-p*d,_=l*y-h*m,v=l*M-p*m,A=h*M-p*y;let P=g*A-B*v+b*_+T*w-x*E+S*V;return P?(P=1/P,t[0]=(a*A-c*v+u*_)*P,t[1]=(c*w-s*A-u*E)*P,t[2]=(s*v-a*w+u*V)*P,t[3]=(i*v-n*A-o*_)*P,t[4]=(r*A-i*w+o*E)*P,t[5]=(n*w-r*v-o*V)*P,t[6]=(m*S-y*x+M*T)*P,t[7]=(y*b-d*S-M*B)*P,t[8]=(d*x-m*b+M*g)*P,t):null}function x(t,e,r){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/r,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function S(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function V(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function E(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t}function w(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t}function _(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t}function v(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t}function A(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function P(t,r){const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],f=t[7],l=t[8],h=r[0],p=r[1],d=r[2],m=r[3],y=r[4],M=r[5],g=r[6],B=r[7],b=r[8],T=e.getEpsilon();return Math.abs(n-h)<=T*Math.max(1,Math.abs(n),Math.abs(h))&&Math.abs(i-p)<=T*Math.max(1,Math.abs(i),Math.abs(p))&&Math.abs(o-d)<=T*Math.max(1,Math.abs(o),Math.abs(d))&&Math.abs(s-m)<=T*Math.max(1,Math.abs(s),Math.abs(m))&&Math.abs(a-y)<=T*Math.max(1,Math.abs(a),Math.abs(y))&&Math.abs(c-M)<=T*Math.max(1,Math.abs(c),Math.abs(M))&&Math.abs(u-g)<=T*Math.max(1,Math.abs(u),Math.abs(g))&&Math.abs(f-B)<=T*Math.max(1,Math.abs(f),Math.abs(B))&&Math.abs(l-b)<=T*Math.max(1,Math.abs(l),Math.abs(b))}function R(t){const r=e.getEpsilon(),n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],f=t[7],l=t[8];return Math.abs(1-(n*n+s*s+u*u))<=r&&Math.abs(1-(i*i+a*a+f*f))<=r&&Math.abs(1-(o*o+c*c+l*l))<=r}const j=f,F=w,I=Object.freeze(Object.defineProperty({__proto__:null,add:E,adjoint:c,copy:n,determinant:u,equals:P,exactEquals:A,frob:V,fromMat2d:g,fromMat4:r,fromQuat:B,fromRotation:y,fromScaling:M,fromTranslation:m,identity:o,invert:a,isOrthoNormal:R,mul:j,multiply:f,multiplyScalar:_,multiplyScalarAndAdd:v,normalFromMat4:T,normalFromMat4Legacy:b,projection:x,rotate:h,scale:p,scaleByVec2:d,set:i,str:S,sub:F,subtract:w,translate:l,transpose:s},Symbol.toStringTag,{value:"Module"}));t.add=E,t.adjoint=c,t.copy=n,t.determinant=u,t.equals=P,t.exactEquals=A,t.frob=V,t.fromMat2d=g,t.fromMat4=r,t.fromQuat=B,t.fromRotation=y,t.fromScaling=M,t.fromTranslation=m,t.identity=o,t.invert=a,t.isOrthoNormal=R,t.mat3=I,t.mul=j,t.multiply=f,t.multiplyScalar=_,t.multiplyScalarAndAdd=v,t.normalFromMat4=T,t.normalFromMat4Legacy=b,t.projection=x,t.rotate=h,t.scale=p,t.scaleByVec2=d,t.set=i,t.str=S,t.sub=F,t.subtract=w,t.translate=l,t.transpose=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat3f64":function(){define(["exports"],function(t){"use strict";function e(){return[1,0,0,0,1,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function n(t,e,r,n,i,o,s,a,c){return[t,e,r,n,i,o,s,a,c]}const i=[1,0,0,0,1,0,0,0,1],o=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:r,create:e,fromValues:n},Symbol.toStringTag,{value:"Module"}));t.IDENTITY=i,t.clone=r,t.create=e,t.fromValues=n,t.mat3f64=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/mat4":function(){define(["exports","../factories/vec3f64","./common"],function(t,e,r){"use strict";function n(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function i(t,e,r,n,i,o,s,a,c,u,f,l,h,p,d,m,y){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t[4]=o,t[5]=s,t[6]=a,t[7]=c,t[8]=u,t[9]=f,t[10]=l,t[11]=h,t[12]=p,t[13]=d,t[14]=m,t[15]=y,t}function o(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function s(t,e){if(t===e){const r=e[1],n=e[2],i=e[3],o=e[6],s=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=o,t[11]=e[14],t[12]=i,t[13]=s,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function a(t,e){return c(t,e)||o(t),t}function c(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],m=e[13],y=e[14],M=e[15],g=r*a-n*s,B=r*c-i*s,b=r*u-o*s,T=n*c-i*a,x=n*u-o*a,S=i*u-o*c,V=f*m-l*d,E=f*y-h*d,w=f*M-p*d,_=l*y-h*m,v=l*M-p*m,A=h*M-p*y;let P=g*A-B*v+b*_+T*w-x*E+S*V;return P?(P=1/P,t[0]=(a*A-c*v+u*_)*P,t[1]=(i*v-n*A-o*_)*P,t[2]=(m*S-y*x+M*T)*P,t[3]=(h*x-l*S-p*T)*P,t[4]=(c*w-s*A-u*E)*P,t[5]=(r*A-i*w+o*E)*P,t[6]=(y*b-d*S-M*B)*P,t[7]=(f*S-h*b+p*B)*P,t[8]=(s*v-a*w+u*V)*P,t[9]=(n*w-r*v-o*V)*P,t[10]=(d*x-m*b+M*g)*P,t[11]=(l*b-f*x-p*g)*P,t[12]=(a*E-s*_-c*V)*P,t[13]=(r*_-n*E+i*V)*P,t[14]=(m*B-d*T-y*g)*P,t[15]=(f*T-l*B+h*g)*P,t):null}function u(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=e[4],a=e[5],c=e[6],u=e[7],f=e[8],l=e[9],h=e[10],p=e[11],d=e[12],m=e[13],y=e[14],M=e[15];return t[0]=a*(h*M-p*y)-l*(c*M-u*y)+m*(c*p-u*h),t[1]=-(n*(h*M-p*y)-l*(i*M-o*y)+m*(i*p-o*h)),t[2]=n*(c*M-u*y)-a*(i*M-o*y)+m*(i*u-o*c),t[3]=-(n*(c*p-u*h)-a*(i*p-o*h)+l*(i*u-o*c)),t[4]=-(s*(h*M-p*y)-f*(c*M-u*y)+d*(c*p-u*h)),t[5]=r*(h*M-p*y)-f*(i*M-o*y)+d*(i*p-o*h),t[6]=-(r*(c*M-u*y)-s*(i*M-o*y)+d*(i*u-o*c)),t[7]=r*(c*p-u*h)-s*(i*p-o*h)+f*(i*u-o*c),t[8]=s*(l*M-p*m)-f*(a*M-u*m)+d*(a*p-u*l),t[9]=-(r*(l*M-p*m)-f*(n*M-o*m)+d*(n*p-o*l)),t[10]=r*(a*M-u*m)-s*(n*M-o*m)+d*(n*u-o*a),t[11]=-(r*(a*p-u*l)-s*(n*p-o*l)+f*(n*u-o*a)),t[12]=-(s*(l*y-h*m)-f*(a*y-c*m)+d*(a*h-c*l)),t[13]=r*(l*y-h*m)-f*(n*y-i*m)+d*(n*h-i*l),t[14]=-(r*(a*y-c*m)-s*(n*y-i*m)+d*(n*c-i*a)),t[15]=r*(a*h-c*l)-s*(n*h-i*l)+f*(n*c-i*a),t}function f(t){const e=t[0],r=t[1],n=t[2],i=t[3],o=t[4],s=t[5],a=t[6],c=t[7],u=t[8],f=t[9],l=t[10],h=t[11],p=t[12],d=t[13],m=t[14],y=t[15];return(e*s-r*o)*(l*y-h*m)-(e*a-n*o)*(f*y-h*d)+(e*c-i*o)*(f*m-l*d)+(r*a-n*s)*(u*y-h*p)-(r*c-i*s)*(u*m-l*p)+(n*c-i*a)*(u*d-f*p)}function l(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=e[4],c=e[5],u=e[6],f=e[7],l=e[8],h=e[9],p=e[10],d=e[11],m=e[12],y=e[13],M=e[14],g=e[15];let B=r[0],b=r[1],T=r[2],x=r[3];return t[0]=B*n+b*a+T*l+x*m,t[1]=B*i+b*c+T*h+x*y,t[2]=B*o+b*u+T*p+x*M,t[3]=B*s+b*f+T*d+x*g,B=r[4],b=r[5],T=r[6],x=r[7],t[4]=B*n+b*a+T*l+x*m,t[5]=B*i+b*c+T*h+x*y,t[6]=B*o+b*u+T*p+x*M,t[7]=B*s+b*f+T*d+x*g,B=r[8],b=r[9],T=r[10],x=r[11],t[8]=B*n+b*a+T*l+x*m,t[9]=B*i+b*c+T*h+x*y,t[10]=B*o+b*u+T*p+x*M,t[11]=B*s+b*f+T*d+x*g,B=r[12],b=r[13],T=r[14],x=r[15],t[12]=B*n+b*a+T*l+x*m,t[13]=B*i+b*c+T*h+x*y,t[14]=B*o+b*u+T*p+x*M,t[15]=B*s+b*f+T*d+x*g,t}function h(t,e,r){const n=r[0],i=r[1],o=r[2];if(e===t)t[12]=e[0]*n+e[4]*i+e[8]*o+e[12],t[13]=e[1]*n+e[5]*i+e[9]*o+e[13],t[14]=e[2]*n+e[6]*i+e[10]*o+e[14],t[15]=e[3]*n+e[7]*i+e[11]*o+e[15];else{const r=e[0],s=e[1],a=e[2],c=e[3],u=e[4],f=e[5],l=e[6],h=e[7],p=e[8],d=e[9],m=e[10],y=e[11];t[0]=r,t[1]=s,t[2]=a,t[3]=c,t[4]=u,t[5]=f,t[6]=l,t[7]=h,t[8]=p,t[9]=d,t[10]=m,t[11]=y,t[12]=r*n+u*i+p*o+e[12],t[13]=s*n+f*i+d*o+e[13],t[14]=a*n+l*i+m*o+e[14],t[15]=c*n+h*i+y*o+e[15]}return t}function p(t,e,r){const n=r[0],i=r[1],o=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function d(t,e,i,o){let s=o[0],a=o[1],c=o[2],u=Math.sqrt(s*s+a*a+c*c);if(u<=r.getEpsilon())return void n(t,e);u=1/u,s*=u,a*=u,c*=u;const f=Math.sin(i),l=Math.cos(i),h=1-l,p=e[0],d=e[1],m=e[2],y=e[3],M=e[4],g=e[5],B=e[6],b=e[7],T=e[8],x=e[9],S=e[10],V=e[11],E=s*s*h+l,w=a*s*h+c*f,_=c*s*h-a*f,v=s*a*h-c*f,A=a*a*h+l,P=c*a*h+s*f,R=s*c*h+a*f,j=a*c*h-s*f,F=c*c*h+l;t[0]=p*E+M*w+T*_,t[1]=d*E+g*w+x*_,t[2]=m*E+B*w+S*_,t[3]=y*E+b*w+V*_,t[4]=p*v+M*A+T*P,t[5]=d*v+g*A+x*P,t[6]=m*v+B*A+S*P,t[7]=y*v+b*A+V*P,t[8]=p*R+M*j+T*F,t[9]=d*R+g*j+x*F,t[10]=m*R+B*j+S*F,t[11]=y*R+b*j+V*F,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function m(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[4],s=e[5],a=e[6],c=e[7],u=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*i+u*n,t[5]=s*i+f*n,t[6]=a*i+l*n,t[7]=c*i+h*n,t[8]=u*i-o*n,t[9]=f*i-s*n,t[10]=l*i-a*n,t[11]=h*i-c*n,t}function y(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],c=e[3],u=e[8],f=e[9],l=e[10],h=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i-u*n,t[1]=s*i-f*n,t[2]=a*i-l*n,t[3]=c*i-h*n,t[8]=o*n+u*i,t[9]=s*n+f*i,t[10]=a*n+l*i,t[11]=c*n+h*i,t}function M(t,e,r){const n=Math.sin(r),i=Math.cos(r),o=e[0],s=e[1],a=e[2],c=e[3],u=e[4],f=e[5],l=e[6],h=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*i+u*n,t[1]=s*i+f*n,t[2]=a*i+l*n,t[3]=c*i+h*n,t[4]=u*i-o*n,t[5]=f*i-s*n,t[6]=l*i-a*n,t[7]=h*i-c*n,t}function g(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function B(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,e,n){if(0===e)return o(t);let i=n[0],s=n[1],a=n[2],c=Math.sqrt(i*i+s*s+a*a);if(c<=r.getEpsilon())return null;c=1/c,i*=c,s*=c,a*=c;const u=Math.sin(e),f=Math.cos(e),l=1-f;return t[0]=i*i*l+f,t[1]=s*i*l+a*u,t[2]=a*i*l-s*u,t[3]=0,t[4]=i*s*l-a*u,t[5]=s*s*l+f,t[6]=a*s*l+i*u,t[7]=0,t[8]=i*a*l+s*u,t[9]=s*a*l-i*u,t[10]=a*a*l+f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function T(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function x(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function S(t,e){const r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function V(t,e,r){const n=e[0],i=e[1],o=e[2],s=e[3],a=n+n,c=i+i,u=o+o,f=n*a,l=n*c,h=n*u,p=i*c,d=i*u,m=o*u,y=s*a,M=s*c,g=s*u;return t[0]=1-(p+m),t[1]=l+g,t[2]=h-M,t[3]=0,t[4]=l-g,t[5]=1-(f+m),t[6]=d+y,t[7]=0,t[8]=h+M,t[9]=d-y,t[10]=1-(f+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function E(t,e){const r=w,n=-e[0],i=-e[1],o=-e[2],s=e[3],a=e[4],c=e[5],u=e[6],f=e[7],l=n*n+i*i+o*o+s*s;return l>0?(r[0]=2*(a*s+f*n+c*o-u*i)/l,r[1]=2*(c*s+f*i+u*n-a*o)/l,r[2]=2*(u*s+f*o+a*i-c*n)/l):(r[0]=2*(a*s+f*n+c*o-u*i),r[1]=2*(c*s+f*i+u*n-a*o),r[2]=2*(u*s+f*o+a*i-c*n)),V(t,e,r),t}const w=e.create();function _(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function v(t,e){const r=e[0],n=e[1],i=e[2],o=e[4],s=e[5],a=e[6],c=e[8],u=e[9],f=e[10];return t[0]=Math.sqrt(r*r+n*n+i*i),t[1]=Math.sqrt(o*o+s*s+a*a),t[2]=Math.sqrt(c*c+u*u+f*f),t}function A(t,e){const r=e[0]+e[5]+e[10];let n=0;return r>0?(n=2*Math.sqrt(r+1),t[3]=.25*n,t[0]=(e[6]-e[9])/n,t[1]=(e[8]-e[2])/n,t[2]=(e[1]-e[4])/n):e[0]>e[5]&&e[0]>e[10]?(n=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/n,t[0]=.25*n,t[1]=(e[1]+e[4])/n,t[2]=(e[8]+e[2])/n):e[5]>e[10]?(n=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/n,t[0]=(e[1]+e[4])/n,t[1]=.25*n,t[2]=(e[6]+e[9])/n):(n=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/n,t[0]=(e[8]+e[2])/n,t[1]=(e[6]+e[9])/n,t[2]=.25*n),t}function P(t,e,r,n){const i=e[0],o=e[1],s=e[2],a=e[3],c=i+i,u=o+o,f=s+s,l=i*c,h=i*u,p=i*f,d=o*u,m=o*f,y=s*f,M=a*c,g=a*u,B=a*f,b=n[0],T=n[1],x=n[2];return t[0]=(1-(d+y))*b,t[1]=(h+B)*b,t[2]=(p-g)*b,t[3]=0,t[4]=(h-B)*T,t[5]=(1-(l+y))*T,t[6]=(m+M)*T,t[7]=0,t[8]=(p+g)*x,t[9]=(m-M)*x,t[10]=(1-(l+d))*x,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}function R(t,e,r,n,i){const o=e[0],s=e[1],a=e[2],c=e[3],u=o+o,f=s+s,l=a+a,h=o*u,p=o*f,d=o*l,m=s*f,y=s*l,M=a*l,g=c*u,B=c*f,b=c*l,T=n[0],x=n[1],S=n[2],V=i[0],E=i[1],w=i[2],_=(1-(m+M))*T,v=(p+b)*T,A=(d-B)*T,P=(p-b)*x,R=(1-(h+M))*x,j=(y+g)*x,F=(d+B)*S,I=(y-g)*S,O=(1-(h+m))*S;return t[0]=_,t[1]=v,t[2]=A,t[3]=0,t[4]=P,t[5]=R,t[6]=j,t[7]=0,t[8]=F,t[9]=I,t[10]=O,t[11]=0,t[12]=r[0]+V-(_*V+P*E+F*w),t[13]=r[1]+E-(v*V+R*E+I*w),t[14]=r[2]+w-(A*V+j*E+O*w),t[15]=1,t}function j(t,e){const r=e[0],n=e[1],i=e[2],o=e[3],s=r+r,a=n+n,c=i+i,u=r*s,f=n*s,l=n*a,h=i*s,p=i*a,d=i*c,m=o*s,y=o*a,M=o*c;return t[0]=1-l-d,t[1]=f+M,t[2]=h-y,t[3]=0,t[4]=f-M,t[5]=1-u-d,t[6]=p+m,t[7]=0,t[8]=h+y,t[9]=p-m,t[10]=1-u-l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function F(t,e,r,n,i,o,s){const a=1/(r-e),c=1/(i-n),u=1/(o-s);return t[0]=2*o*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*c,t[6]=0,t[7]=0,t[8]=(r+e)*a,t[9]=(i+n)*c,t[10]=(s+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*u,t[15]=0,t}function I(t,e,r,n,i){const o=1/Math.tan(e/2);let s;return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(s=1/(n-i),t[10]=(i+n)*s,t[14]=2*i*n*s):(t[10]=-1,t[14]=-2*n),t}function O(t,e,r,n){const i=Math.tan(e.upDegrees*Math.PI/180),o=Math.tan(e.downDegrees*Math.PI/180),s=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),c=2/(s+a),u=2/(i+o);return t[0]=c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=-(s-a)*c*.5,t[9]=(i-o)*u*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}function C(t,e,r,n,i,o,s){const a=1/(e-r),c=1/(n-i),u=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*c,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*u,t[11]=0,t[12]=(e+r)*a,t[13]=(i+n)*c,t[14]=(s+o)*u,t[15]=1,t}function Y(t,e,n,i){const s=e[0],a=e[1],c=e[2];let u=s-n[0],f=a-n[1],l=c-n[2];const h=r.getEpsilon();if(Math.abs(u)<h&&Math.abs(f)<h&&Math.abs(l)<h)return void o(t);let p=1/Math.sqrt(u*u+f*f+l*l);u*=p,f*=p,l*=p;const d=i[0],m=i[1],y=i[2];let M=m*l-y*f,g=y*u-d*l,B=d*f-m*u;p=Math.sqrt(M*M+g*g+B*B),p?(p=1/p,M*=p,g*=p,B*=p):(M=0,g=0,B=0);let b=f*B-l*g,T=l*M-u*B,x=u*g-f*M;p=Math.sqrt(b*b+T*T+x*x),p?(p=1/p,b*=p,T*=p,x*=p):(b=0,T=0,x=0),t[0]=M,t[1]=b,t[2]=u,t[3]=0,t[4]=g,t[5]=T,t[6]=f,t[7]=0,t[8]=B,t[9]=x,t[10]=l,t[11]=0,t[12]=-(M*s+g*a+B*c),t[13]=-(b*s+T*a+x*c),t[14]=-(u*s+f*a+l*c),t[15]=1}function N(t,e,r,n){const i=e[0],o=e[1],s=e[2],a=n[0],c=n[1],u=n[2];let f=i-r[0],l=o-r[1],h=s-r[2],p=f*f+l*l+h*h;p>0&&(p=1/Math.sqrt(p),f*=p,l*=p,h*=p);let d=c*h-u*l,m=u*f-a*h,y=a*l-c*f;return p=d*d+m*m+y*y,p>0&&(p=1/Math.sqrt(p),d*=p,m*=p,y*=p),t[0]=d,t[1]=m,t[2]=y,t[3]=0,t[4]=l*y-h*m,t[5]=h*d-f*y,t[6]=f*m-l*d,t[7]=0,t[8]=f,t[9]=l,t[10]=h,t[11]=0,t[12]=i,t[13]=o,t[14]=s,t[15]=1,t}function q(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function L(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function U(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t[4]=e[4]+r[4],t[5]=e[5]+r[5],t[6]=e[6]+r[6],t[7]=e[7]+r[7],t[8]=e[8]+r[8],t[9]=e[9]+r[9],t[10]=e[10]+r[10],t[11]=e[11]+r[11],t[12]=e[12]+r[12],t[13]=e[13]+r[13],t[14]=e[14]+r[14],t[15]=e[15]+r[15],t}function X(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t[4]=e[4]-r[4],t[5]=e[5]-r[5],t[6]=e[6]-r[6],t[7]=e[7]-r[7],t[8]=e[8]-r[8],t[9]=e[9]-r[9],t[10]=e[10]-r[10],t[11]=e[11]-r[11],t[12]=e[12]-r[12],t[13]=e[13]-r[13],t[14]=e[14]-r[14],t[15]=e[15]-r[15],t}function k(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12]*r,t[13]=e[13]*r,t[14]=e[14]*r,t[15]=e[15]*r,t}function z(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t[4]=e[4]+r[4]*n,t[5]=e[5]+r[5]*n,t[6]=e[6]+r[6]*n,t[7]=e[7]+r[7]*n,t[8]=e[8]+r[8]*n,t[9]=e[9]+r[9]*n,t[10]=e[10]+r[10]*n,t[11]=e[11]+r[11]*n,t[12]=e[12]+r[12]*n,t[13]=e[13]+r[13]*n,t[14]=e[14]+r[14]*n,t[15]=e[15]+r[15]*n,t}function D(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function G(t,e){if(t===e)return!0;const n=t[0],i=t[1],o=t[2],s=t[3],a=t[4],c=t[5],u=t[6],f=t[7],l=t[8],h=t[9],p=t[10],d=t[11],m=t[12],y=t[13],M=t[14],g=t[15],B=e[0],b=e[1],T=e[2],x=e[3],S=e[4],V=e[5],E=e[6],w=e[7],_=e[8],v=e[9],A=e[10],P=e[11],R=e[12],j=e[13],F=e[14],I=e[15],O=r.getEpsilon();return Math.abs(n-B)<=O*Math.max(1,Math.abs(n),Math.abs(B))&&Math.abs(i-b)<=O*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(o-T)<=O*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(s-x)<=O*Math.max(1,Math.abs(s),Math.abs(x))&&Math.abs(a-S)<=O*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(c-V)<=O*Math.max(1,Math.abs(c),Math.abs(V))&&Math.abs(u-E)<=O*Math.max(1,Math.abs(u),Math.abs(E))&&Math.abs(f-w)<=O*Math.max(1,Math.abs(f),Math.abs(w))&&Math.abs(l-_)<=O*Math.max(1,Math.abs(l),Math.abs(_))&&Math.abs(h-v)<=O*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(p-A)<=O*Math.max(1,Math.abs(p),Math.abs(A))&&Math.abs(d-P)<=O*Math.max(1,Math.abs(d),Math.abs(P))&&Math.abs(m-R)<=O*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(y-j)<=O*Math.max(1,Math.abs(y),Math.abs(j))&&Math.abs(M-F)<=O*Math.max(1,Math.abs(M),Math.abs(F))&&Math.abs(g-I)<=O*Math.max(1,Math.abs(g),Math.abs(I))}function W(t){const e=r.getEpsilon(),n=t[0],i=t[1],o=t[2],s=t[4],a=t[5],c=t[6],u=t[8],f=t[9],l=t[10];return Math.abs(1-(n*n+s*s+u*u))<=e&&Math.abs(1-(i*i+a*a+f*f))<=e&&Math.abs(1-(o*o+c*c+l*l))<=e}function J(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}const Z=l,Q=X,$=Object.freeze(Object.defineProperty({__proto__:null,add:U,adjoint:u,copy:n,determinant:f,equals:G,exactEquals:D,frob:L,fromQuat:j,fromQuat2:E,fromRotation:b,fromRotationTranslation:V,fromRotationTranslationScale:P,fromRotationTranslationScaleOrigin:R,fromScaling:B,fromTranslation:g,fromXRotation:T,fromYRotation:x,fromZRotation:S,frustum:F,getRotation:A,getScale:v,getTranslation:_,hasIdentityRotation:J,identity:o,invert:c,invertOrIdentity:a,isOrthoNormal:W,lookAt:Y,mul:Z,multiply:l,multiplyScalar:k,multiplyScalarAndAdd:z,ortho:C,perspective:I,perspectiveFromFieldOfView:O,rotate:d,rotateX:m,rotateY:y,rotateZ:M,scale:p,set:i,str:q,sub:Q,subtract:X,targetTo:N,translate:h,transpose:s},Symbol.toStringTag,{value:"Module"}));t.add=U,t.adjoint=u,t.copy=n,t.determinant=f,t.equals=G,t.exactEquals=D,t.frob=L,t.fromQuat=j,t.fromQuat2=E,t.fromRotation=b,t.fromRotationTranslation=V,t.fromRotationTranslationScale=P,t.fromRotationTranslationScaleOrigin=R,t.fromScaling=B,t.fromTranslation=g,t.fromXRotation=T,t.fromYRotation=x,t.fromZRotation=S,t.frustum=F,t.getRotation=A,t.getScale=v,t.getTranslation=_,t.hasIdentityRotation=J,t.identity=o,t.invert=c,t.invertOrIdentity=a,t.isOrthoNormal=W,t.lookAt=Y,t.mat4=$,t.mul=Z,t.multiply=l,t.multiplyScalar=k,t.multiplyScalarAndAdd=z,t.ortho=C,t.perspective=I,t.perspectiveFromFieldOfView=O,t.rotate=d,t.rotateX=m,t.rotateY=y,t.rotateZ=M,t.scale=p,t.set=i,t.str=q,t.sub=Q,t.subtract=X,t.targetTo=N,t.translate=h,t.transpose=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/mat4f64":function(){define(["exports"],function(t){"use strict";function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function n(t,e,r,n,i,o,s,a,c,u,f,l,h,p,d,m){return[t,e,r,n,i,o,s,a,c,u,f,l,h,p,d,m]}const i=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:i,clone:r,create:e,fromValues:n},Symbol.toStringTag,{value:"Module"}));t.IDENTITY=i,t.clone=r,t.create=e,t.fromValues=n,t.mat4f64=o,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec32":function(){define(["exports","../core/libs/gl-matrix-2/factories/vec3f64","../core/libs/gl-matrix-2/math/common"],function(t,e,r){"use strict";function n(t){const e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}function i(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function o(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}function s(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}function a(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}function c(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}function u(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}function f(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function l(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function h(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function p(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function d(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}function m(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}function y(t,e=0,r=1){return t[0]=Math.min(Math.max(t[0],e),r),t[1]=Math.min(Math.max(t[1],e),r),t[2]=Math.min(Math.max(t[2],e),r),t}function M(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function g(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}function B(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}function b(t,e){const r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}function T(t,e){const r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}function x(t){const e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}function S(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function V(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function E(t,e){const r=e[0],n=e[1],i=e[2];let o=r*r+n*n+i*i;return o>0&&(o=1/Math.sqrt(o),t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o),t}function w(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function _(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[0],a=r[1],c=r[2];return t[0]=i*c-o*a,t[1]=o*s-n*c,t[2]=n*a-i*s,t}function v(t,e,r){const n=e[0],i=e[1],o=e[2],s=r[0],a=r[1],c=r[2],u=i*c-o*a,f=o*s-n*c,l=n*a-i*s,h=Math.sqrt(u*u+f*f+l*l);return t[0]=u/h,t[1]=f/h,t[2]=l/h,t}function A(t,e,r,n){const i=e[0],o=e[1],s=e[2];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t[2]=s+n*(r[2]-s),t}function P(t,e,r,n,i,o){const s=o*o,a=s*(2*o-3)+1,c=s*(o-2)+o,u=s*(o-1),f=s*(3-2*o);return t[0]=e[0]*a+r[0]*c+n[0]*u+i[0]*f,t[1]=e[1]*a+r[1]*c+n[1]*u+i[1]*f,t[2]=e[2]*a+r[2]*c+n[2]*u+i[2]*f,t}function R(t,e,r,n,i,o){const s=1-o,a=s*s,c=o*o,u=a*s,f=3*o*a,l=3*c*s,h=c*o;return t[0]=e[0]*u+r[0]*f+n[0]*l+i[0]*h,t[1]=e[1]*u+r[1]*f+n[1]*l+i[1]*h,t[2]=e[2]*u+r[2]*f+n[2]*l+i[2]*h,t}function j(t,e=1){const n=r.RANDOM,i=2*n()*Math.PI,o=2*n()-1,s=Math.sqrt(1-o*o)*e;return t[0]=Math.cos(i)*s,t[1]=Math.sin(i)*s,t[2]=o*e,t}function F(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=r[0]*n+r[4]*i+r[8]*o+r[12],t[1]=r[1]*n+r[5]*i+r[9]*o+r[13],t[2]=r[2]*n+r[6]*i+r[10]*o+r[14],t}function I(t,e,r){const n=e[0],i=e[1],o=e[2];return t[0]=n*r[0]+i*r[3]+o*r[6],t[1]=n*r[1]+i*r[4]+o*r[7],t[2]=n*r[2]+i*r[5]+o*r[8],t}function O(t,e,r){const n=r[0],i=r[1],o=r[2],s=r[3],a=e[0],c=e[1],u=e[2],f=i*u-o*c,l=o*a-n*u,h=n*c-i*a,p=i*h-o*l,d=o*f-n*h,m=n*l-i*f,y=2*s;return t[0]=a+f*y+2*p,t[1]=c+l*y+2*d,t[2]=u+h*y+2*m,t}function C(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0],o[1]=i[1]*Math.cos(n)-i[2]*Math.sin(n),o[2]=i[1]*Math.sin(n)+i[2]*Math.cos(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function Y(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[2]*Math.sin(n)+i[0]*Math.cos(n),o[1]=i[1],o[2]=i[2]*Math.cos(n)-i[0]*Math.sin(n),t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function N(t,e,r,n){const i=[],o=[];return i[0]=e[0]-r[0],i[1]=e[1]-r[1],i[2]=e[2]-r[2],o[0]=i[0]*Math.cos(n)-i[1]*Math.sin(n),o[1]=i[0]*Math.sin(n)+i[1]*Math.cos(n),o[2]=i[2],t[0]=o[0]+r[0],t[1]=o[1]+r[1],t[2]=o[2]+r[2],t}function q(t,e){E(L,t),E(U,e);const r=w(L,U);return r>1?0:r<-1?Math.PI:Math.acos(r)}const L=e.create(),U=e.create();function X(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function k(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function z(t,e){if(t===e)return!0;const n=t[0],i=t[1],o=t[2],s=e[0],a=e[1],c=e[2],u=r.getEpsilon();return Math.abs(n-s)<=u*Math.max(1,Math.abs(n),Math.abs(s))&&Math.abs(i-a)<=u*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(o-c)<=u*Math.max(1,Math.abs(o),Math.abs(c))}function D(t,e,r){const n=r[0]-e[0],i=r[1]-e[1],o=r[2]-e[2];let s=n*n+i*i+o*o;return s>0?(s=1/Math.sqrt(s),t[0]=n*s,t[1]=i*s,t[2]=o*s,t):(t[0]=0,t[1]=0,t[2]=0,t)}const G=a,W=c,J=u,Z=b,Q=T,$=n,H=x,K=Object.freeze(Object.defineProperty({__proto__:null,abs:h,add:s,angle:q,bezier:R,ceil:f,clamp:y,copy:i,cross:_,crossAndNormalize:v,direction:D,dist:Z,distance:b,div:J,divide:u,dot:w,equals:z,exactEquals:k,floor:l,hermite:P,inverse:V,len:$,length:n,lerp:A,max:m,min:d,mul:W,multiply:c,negate:S,normalize:E,random:j,rotateX:C,rotateY:Y,rotateZ:N,round:M,scale:g,scaleAndAdd:B,set:o,sign:p,sqrDist:Q,sqrLen:H,squaredDistance:T,squaredLength:x,str:X,sub:G,subtract:a,transformMat3:I,transformMat4:F,transformQuat:O},Symbol.toStringTag,{value:"Module"}));t.abs=h,t.add=s,t.angle=q,t.bezier=R,t.ceil=f,t.clamp=y,t.copy=i,t.cross=_,t.crossAndNormalize=v,t.direction=D,t.dist=Z,t.distance=b,t.div=J,t.divide=u,t.dot=w,t.equals=z,t.exactEquals=k,t.floor=l,t.hermite=P,t.inverse=V,t.len=$,t.length=n,t.lerp=A,t.max=m,t.min=d,t.mul=W,t.multiply=c,t.negate=S,t.normalize=E,t.random=j,t.rotateX=C,t.rotateY=Y,t.rotateZ=N,t.round=M,t.scale=g,t.scaleAndAdd=B,t.set=o,t.sign=p,t.sqrDist=Q,t.sqrLen=H,t.squaredDistance=T,t.squaredLength=x,t.str=X,t.sub=G,t.subtract=a,t.transformMat3=I,t.transformMat4=F,t.transformQuat=O,t.vec3=K})},"esri/geometry/spatialReferenceEllipsoidUtils":function(){define(["exports","./ellipsoidUtils","./SpatialReference","./support/spatialReferenceUtils"],function(t,e,r,n){"use strict";const i=new r(e.SphericalECEFSpatialReferenceLike),o=new r(e.SphericalPCPFMarsLike),s=new r(e.SphericalPCPFMoonLike),a=new r(e.WGS84ECEFSpatialReferenceLike),c=new Map,u=o.wkt.toUpperCase(),f=s.wkt.toUpperCase();t.SphericalECEFSpatialReference=i,t.SphericalPCPFMars=o,t.SphericalPCPFMoon=s,t.WGS84ECEFSpatialReference=a,t.cleanupSpatialReferenceEllipsoidUtils=function(){c.clear()},t.getSphericalPCPF=function(t){const e=c.get(t);if(e)return e;let r=i;if(t)if(t===o)r=o;else if(t===s)r=s;else{const e=t.wkid,i=t.latestWkid;if(null!=e||null!=i)n.isWKIDFromMars(e)||n.isWKIDFromMars(i)?r=o:(n.isWKIDFromMoon(e)||n.isWKIDFromMoon(i))&&(r=s);else{const e=t.wkt2??t.wkt;if(e){const t=e.toUpperCase();t===u?r=o:t===f&&(r=s)}}}return c.set(t,r),r},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/computeTranslationToOriginAndRotation":function(){define(["exports","../../core/mathUtils","../../core/libs/gl-matrix-2/math/mat4","../../core/libs/gl-matrix-2/factories/vec3f64","./localRotationUtils","./projectors","../support/spatialReferenceUtils"],function(t,e,r,n,i,o,s){"use strict";function a(t){return 1===t||6===t||8===t||4===t}const c=e.deg2rad(1),u=n.create(),f=n.create();t.computeTranslationToOriginAndRotation=function(t,e,n,l){const h=o.getProjectorClassification(t,l);if(null==h)return!1;const p=h.source.spatialReferenceId,d=h.dest.spatialReferenceId;if(p===d&&!a(d)&&(0!==p||s.equals(t,l)))return r.fromTranslation(n,e),!0;if(a(d)){const t=o.projectionTable[p][10],r=o.projectionTable[10][d];return null!=t&&null!=r&&(t(e,0,u,0),r(u,0,f,0),i.computeENUToPCPFLocalRotation(c*u[0],c*u[1],n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}const m=a(p);if((3===d||11===d||2===d||5===d)&&(2===p||m||3===p||5===p)){const t=o.projectionTable[p][10],s=o.projectionTable[10][d];return null!=t&&null!=s&&(t(e,0,u,0),s(u,0,f,0),m?i.computePCPFToENULocalRotation(c*u[0],c*u[1],n):r.identity(n),n[12]=f[0],n[13]=f[1],n[14]=f[2],!0)}return!1},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/localRotationUtils":function(){define(["exports","../../core/libs/gl-matrix-2/math/mat4"],function(t,e){"use strict";function r(t,e,r){const n=Math.sin(t),i=Math.cos(t),o=Math.sin(e),s=Math.cos(e),a=r;return a[0]=-n,a[4]=-o*i,a[8]=s*i,a[12]=0,a[1]=i,a[5]=-o*n,a[9]=s*n,a[13]=0,a[2]=0,a[6]=s,a[10]=o,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a}t.computeENUToPCPFLocalRotation=r,t.computePCPFToENULocalRotation=function(t,n,i){return r(t,n,i),e.transpose(i,i),i},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/projection/projectPointToVector":function(){define(["exports","../../core/libs/gl-matrix-2/factories/vec3f64","../projectionUtils","./projectBuffer"],function(t,e,r,n){"use strict";function i(t,e,i,s){if(r.canProjectWithoutEngine(t.spatialReference,i)){o[0]=t.x,o[1]=t.y;const r=t.z;return o[2]=r??s??0,n.projectBuffer(o,t.spatialReference,0,e,i,0)}const a=r.tryProjectWithZConversion(t,i);return!!a&&(e[0]=a?.x,e[1]=a?.y,e[2]=a?.z??s??0,!0)}const o=e.create();t.projectPointToVector=i,t.projectPointToVectorAsync=async function(t,e,n,o,s){return await r.initializeProjection(t.spatialReference,n,null,s),i(t,e,n,o)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/meshVertexSpaceUtils":function(){define(["exports","../../chunks/vec32","../Point","./MeshGeoreferencedVertexSpace","./MeshLocalVertexSpace"],function(t,e,r,n,i){"use strict";function o(t){return null!=t.origin}t.isAbsoluteVertexSpace=function(t){return null==t.origin},t.isMeshWithRelativeVertexSpace=function(t){return o(t.vertexSpace)},t.isRelativeVertexSpace=o,t.selectVertexSpace=function(t,e){const{x:r,y:o,z:s,spatialReference:a}=t,c=[r,o,s??0];return"local"===(e?.vertexSpace??function(t){return t.isGeographic||t.isWebMercator?"local":"georeferenced"}(a))?new i({origin:c}):new n({origin:c})},t.vertexSpaceEquals=function(t,r){return t.type===r.type&&(t.origin===r.origin||null!=t.origin&&null!=r.origin&&e.exactEquals(t.origin,r.origin))},t.vertexSpaceOriginToPoint=function(t,e){if(!o(t))return null;const[n,i,s]=t.origin;return new r({x:n,y:i,z:s,spatialReference:e})},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/MeshLocalVertexSpace":function(){define(["exports","../../chunks/tslib.es6","../../core/Clonable","../../core/JSONSupport","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/enumeration","../../core/accessorSupport/decorators/subclass","../../core/libs/gl-matrix-2/factories/vec3f64"],function(t,e,r,n,i,o,s,a,c,u,f){"use strict";return t.default=class extends(r.ClonableMixin(n.JSONSupport)){constructor(t){super(t),this.type="local",this.origin=f.create()}},e.__decorate([c.enumeration({local:"local"},{readOnly:!0})],t.default.prototype,"type",void 0),e.__decorate([i.property({type:[Number],nonNullable:!0,json:{write:!0}})],t.default.prototype,"origin",void 0),t.default=e.__decorate([u.subclass("esri.geometry.support.MeshLocalVertexSpace")],t.default),t.default})},"esri/chunks/vec3":function(){define(["exports","../colorUtils","../core/has","../core/Logger"],function(t,e,r,n){"use strict";function i(t,e,r){o(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function o(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return t;const o=t.length/n,s=r[0],a=r[1],c=r[2],u=r[4],f=r[5],l=r[6],h=r[8],p=r[9],d=r[10],m=r[12],y=r[13],M=r[14];let g=0,B=0;for(let r=0;r<o;r++){const r=e[g],o=e[g+1],b=e[g+2];t[B]=s*r+u*o+h*b+m,t[B+1]=a*r+f*o+p*b+y,t[B+2]=c*r+l*o+d*b+M,g+=i,B+=n}return t}function s(t,e,r){a(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,r,n=3,i=n){if(t.length/n!==Math.ceil(e.length/i))return;const o=t.length/n,s=r[0],a=r[1],c=r[2],u=r[3],f=r[4],l=r[5],h=r[6],p=r[7],d=r[8];let m=0,y=0;for(let r=0;r<o;r++){const r=e[m],o=e[m+1],M=e[m+2];t[y]=s*r+u*o+h*M,t[y+1]=a*r+f*o+p*M,t[y+2]=c*r+l*o+d*M,m+=i,y+=n}}function c(t,e,r){u(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function u(t,e,r,n=3,i=n){const o=Math.min(t.length/n,e.length/i);let s=0,a=0;for(let c=0;c<o;c++)t[a]=r*e[s],t[a+1]=r*e[s+1],t[a+2]=r*e[s+2],s+=i,a+=n;return t}function f(t,e,r,n){l(t.typedBuffer,e.typedBuffer,r,n,t.typedBufferStride,e.typedBufferStride)}function l(t,r,n,i,o=3,s=o){const a=Math.min(t.length/o,r.length/s);let c=0,u=0;const f=1/e.colorGamma;for(let e=0;e<a;e++)t[u]=i*(n*r[c])**f,t[u+1]=i*(n*r[c+1])**f,t[u+2]=i*(n*r[c+2])**f,c+=s,u+=o}function h(t,e,r,n=3,i=n){const o=t.length/n;if(o!==Math.ceil(e.length/i))return t;let s=0,a=0;for(let c=0;c<o;c++)t[a]=e[s]+r[0],t[a+1]=e[s+1]+r[1],t[a+2]=e[s+2]+r[2],s+=i,a+=n;return t}function p(t,e){d(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function d(t,e,r=3,n=r){const i=Math.min(t.length/r,e.length/n);let o=0,s=0;for(let a=0;a<i;a++){const i=e[o],a=e[o+1],c=e[o+2],u=i*i+a*a+c*c;if(u>0){const e=1/Math.sqrt(u);t[s]=e*i,t[s+1]=e*a,t[s+2]=e*c}o+=n,s+=r}}function m(t,e,r){const n=Math.min(t.count,e.count),i=t.typedBuffer,o=t.typedBufferStride,s=e.typedBuffer,a=e.typedBufferStride;let c=0,u=0;for(let t=0;t<n;t++)i[u]=s[c]>>r,i[u+1]=s[c+1]>>r,i[u+2]=s[c+2]>>r,c+=a,u+=o}const y=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:l,linearToSRGBView:f,normalize:d,normalizeView:p,scale:u,scaleView:c,shiftRight:m,transformMat3:a,transformMat3View:s,transformMat4:o,transformMat4View:i,translate:h},Symbol.toStringTag,{value:"Module"}));t.linearToSRGB=l,t.linearToSRGBView=f,t.normalize=d,t.normalizeView=p,t.scale=u,t.scaleView=c,t.shiftRight=m,t.transformMat3=a,t.transformMat3View=s,t.transformMat4=o,t.transformMat4View=i,t.translate=h,t.vec3=y})},"esri/geometry/support/meshUtils/projection":function(){define(["exports","../../../core/mathUtils","../../../core/libs/gl-matrix-2/math/mat3","../../../core/libs/gl-matrix-2/factories/mat3f64","../../../core/libs/gl-matrix-2/math/mat4","../../../core/libs/gl-matrix-2/factories/mat4f64","../../../chunks/vec32","../../../core/libs/gl-matrix-2/factories/vec3f64","../../projection/computeTranslationToOriginAndRotation","../../projection/projectBuffer","../Ellipsoid","../spatialReferenceUtils","../webMercatorUtils","../buffer/BufferView","../../../chunks/vec3","../../../chunks/vec4"],function(t,e,r,n,i,o,s,a,c,u,f,l,h,p,d,m){"use strict";function y(t,e,r,n,i){const o=0===e?3:4,s=[0,0];for(let e=0,a=1;e<t.length;e+=o,a+=3){n(r[a],s);const c=t[e]*s[0],u=t[e+1]*s[1],f=t[e+2],l=1/Math.sqrt(c*c+u*u+f*f);i[e]=c*l,i[e+1]=u*l,i[e+2]=f*l,4===o&&(i[e+3]=t[e+3])}return i}function M(t,e,n,o,s){switch(c.computeTranslationToOriginAndRotation(o,n,T,o),1===t&&i.invert(T,T),e){case 0:return r.normalFromMat4(s,T);case 1:return r.fromMat4(s,T)}}function g(t,e,r,n,i,o,a,c){if(!e)return;const u=n.count;if(function(t){return t.isWGS84||l.isCGCS2000(t)||l.isMars(t)||l.isMoon(t)}(i))for(let n=0;n<u;n++)o.getVec(n,B),e.getVec(n,b),s.transformMat3(b,b,M(t,r,B,a,x)),c.setVec(n,b);else for(let i=0;i<u;i++){o.getVec(i,B),e.getVec(i,b);const u=h.y2lat(n.get(i,1));let f=Math.cos(u);1===r!=(0===t)&&(f=1/f),M(t,r,B,a,x),0===t?(x[0]*=f,x[1]*=f,x[2]*=f,x[3]*=f,x[4]*=f,x[5]*=f):(x[0]*=f,x[3]*=f,x[6]*=f,x[1]*=f,x[4]*=f,x[7]*=f),s.transformMat3(b,b,x),s.normalize(b,b),c.setVec(i,b)}return c}const B=a.create(),b=a.create(),T=o.create(),x=n.create();t.loadProjectErrorMessage="Projection may be possible after calling projection.load().",t.logProjectionError=function(t,e,r,n){t.error(`Failed to project from (wkid:${e.wkid}) to (wkid:${r.wkid}).${n?" ":""}${n}`)},t.projectFromPCPF=function(t,e,r,n){return u.projectBuffer(t,e,0,r,n,0)?r:null},t.projectNormalFromPCPF=function(t,e,r,n,i,o){return g(1,p.BufferViewVec3f.fromTypedArray(t),0,p.BufferViewVec3f64.fromTypedArray(e),r,p.BufferViewVec3f64.fromTypedArray(n),i,p.BufferViewVec3f.fromTypedArray(o))?o:null},t.projectNormalToPCPF=function(t,e,r,n,i,o){return g(0,p.BufferViewVec3f.fromTypedArray(t),0,p.BufferViewVec3f64.fromTypedArray(e),r,p.BufferViewVec3f64.fromTypedArray(n),i,p.BufferViewVec3f.fromTypedArray(o))?o:null},t.projectTangentFromPCPF=function(t,e,r,n,i,o){if(!g(1,p.BufferViewVec3f.fromTypedArray(t,16),1,p.BufferViewVec3f64.fromTypedArray(e),r,p.BufferViewVec3f64.fromTypedArray(n),i,p.BufferViewVec3f.fromTypedArray(o,16)))return null;for(let e=3;e<t.length;e+=4)o[e]=t[e];return o},t.projectTangentToPCPF=function(t,e,r,n,i,o){if(!g(0,p.BufferViewVec3f.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),1,p.BufferViewVec3f64.fromTypedArray(e),r,p.BufferViewVec3f64.fromTypedArray(n),i,p.BufferViewVec3f.fromTypedArray(o,4*Float32Array.BYTES_PER_ELEMENT)))return null;for(let e=3;e<t.length;e+=4)o[e]=t[e];return o},t.projectToPCPF=function(t,e,r,n){return u.projectBuffer(t,e,0,r,n,0)?r:null},t.transformNormal=function(t,n,i){return r.normalFromMat4(x,i),d.transformMat3(n,t,x),e.hasScaling(x)&&d.normalize(n,n),n},t.transformTangent=function(t,n,i){return r.fromMat4(x,i),m.transformMat3(n,t,x),e.hasScaling(x)&&d.normalize(n,n,4),n},t.transformVectorENUPlateCarree=function(t,r,n,i){const o=0===r;return y(t,r,n,(t,r)=>{const n=Math.cos(e.deg2rad(t));r[0]=o?n:1/n,r[1]=1},i)},t.transformVectorWMPlateCarree=function(t,e,r,n){const i=0===e;return y(t,e,r,(t,e)=>{const r=Math.cosh(-t/f.earth.radius);e[0]=1,e[1]=i?r:1/r},n)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/BufferView":function(){define(["exports","../float16","./internals/Mat3","./internals/Mat4","./internals/Scalar","./internals/Vec2","./internals/Vec3","./internals/Vec4","../../../views/3d/webgl-engine/lib/Util"],function(t,e,r,n,i,o,s,a,c){"use strict";class u extends i.BufferViewScalarImpl{constructor(t,r=0,n,i){c.assert(e.hasNativeFloat16Array),super(e.getFloat16ArrayConstructor(),t,r,n,i),this.elementType="f16"}static{this.ElementType="f16"}}class f extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}static{this.ElementType="f32"}}class l extends o.BufferViewVec2Impl{constructor(t,r=0,n,i){c.assert(e.hasNativeFloat16Array),super(e.getFloat16ArrayConstructor(),t,r,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(l,t,e)}static{this.ElementType="f16"}}class h extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(h,t,e)}static{this.ElementType="f32"}}class p extends s.BufferViewVec3Impl{constructor(t,r=0,n,i){c.assert(e.hasNativeFloat16Array),super(e.getFloat16ArrayConstructor(),t,r,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(p,t,e)}static{this.ElementType="f16"}}class d extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(d,t,e)}static fromTypedArray(t,e){return new d(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class m extends a.BufferViewVec4Impl{constructor(t,r=0,n,i){c.assert(e.hasNativeFloat16Array),super(e.getFloat16ArrayConstructor(),t,r,n,i),this.elementType="f16"}slice(t,e){return this.sliceBuffer(m,t,e)}static{this.ElementType="f16"}}class y extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(y,t,e)}static{this.ElementType="f32"}}class M extends r.BufferViewMat3Impl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(M,t,e)}static{this.ElementType="f32"}}class g extends r.BufferViewMat3Impl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(g,t,e)}static{this.ElementType="f64"}}class B extends n.BufferViewMat4Impl{constructor(t,e=0,r,n){super(Float32Array,t,e,r,n),this.elementType="f32"}slice(t,e){return this.sliceBuffer(B,t,e)}static{this.ElementType="f32"}}class b extends n.BufferViewMat4Impl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(b,t,e)}static{this.ElementType="f64"}}class T extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(T,t,e)}static{this.ElementType="f64"}}class x extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(x,t,e)}static{this.ElementType="f64"}}class S extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(S,t,e)}static fromTypedArray(t,e){return new S(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class V extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Float64Array,t,e,r,n),this.elementType="f64"}slice(t,e){return this.sliceBuffer(V,t,e)}static{this.ElementType="f64"}}class E extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(E,t,e)}static{this.ElementType="u8"}}class w extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="u8"}}class _ extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(_,t,e)}static fromTypedArray(t,e){return new _(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class v extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Uint8Array,t,e,r,n),this.elementType="u8"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="u8"}}class A extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(A,t,e)}static{this.ElementType="u16"}}class P extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="u16"}}class R extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="u16"}}class j extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Uint16Array,t,e,r,n),this.elementType="u16"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="u16"}}class F extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="u32"}}class I extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="u32"}}class O extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="u32"}}class C extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Uint32Array,t,e,r,n),this.elementType="u32"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="u32"}}class Y extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="i8"}}class N extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(N,t,e)}static{this.ElementType="i8"}}class q extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(q,t,e)}static{this.ElementType="i8"}}class L extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Int8Array,t,e,r,n),this.elementType="i8"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="i8"}}class U extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="i16"}}class X extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="i16"}}class k extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="i16"}}class z extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Int16Array,t,e,r,n),this.elementType="i16"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="i16"}}class D extends i.BufferViewScalarImpl{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="i32"}}class G extends o.BufferViewVec2Impl{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="i32"}}class W extends s.BufferViewVec3Impl{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="i32"}}class J extends a.BufferViewVec4Impl{constructor(t,e=0,r,n){super(Int32Array,t,e,r,n),this.elementType="i32"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="i32"}}t.BufferViewFloat=f,t.BufferViewFloat16=u,t.BufferViewFloat64=T,t.BufferViewInt16=U,t.BufferViewInt32=D,t.BufferViewInt8=Y,t.BufferViewMat3f=M,t.BufferViewMat3f64=g,t.BufferViewMat4f=B,t.BufferViewMat4f64=b,t.BufferViewUint16=A,t.BufferViewUint32=F,t.BufferViewUint8=E,t.BufferViewVec2f=h,t.BufferViewVec2f16=l,t.BufferViewVec2f64=x,t.BufferViewVec2i16=X,t.BufferViewVec2i32=G,t.BufferViewVec2i8=N,t.BufferViewVec2u16=P,t.BufferViewVec2u32=I,t.BufferViewVec2u8=w,t.BufferViewVec3f=d,t.BufferViewVec3f16=p,t.BufferViewVec3f64=S,t.BufferViewVec3i16=k,t.BufferViewVec3i32=W,t.BufferViewVec3i8=q,t.BufferViewVec3u16=R,t.BufferViewVec3u32=O,t.BufferViewVec3u8=_,t.BufferViewVec4f=y,t.BufferViewVec4f16=m,t.BufferViewVec4f64=V,t.BufferViewVec4i16=z,t.BufferViewVec4i32=J,t.BufferViewVec4i8=L,t.BufferViewVec4u16=j,t.BufferViewVec4u32=C,t.BufferViewVec4u8=v,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/float16":function(){define(["exports"],function(t){"use strict";let e=globalThis.Float16Array;t.hasNativeFloat16Array=!!e,t.disableNativeF16Array=function(){e=null,t.hasNativeFloat16Array=!1},t.getFloat16ArrayConstructor=function(){return e},t.makeFloat16Array=function(...t){return new(e??Float32Array)(...t)},t.resetNativeF16Array=function(){e=globalThis.Float16Array,t.hasNativeFloat16Array=!!e},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat3":function(){define(["exports"],function(t){"use strict";class e{static{this.ElementCount=9}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=9;const o=this.TypedArrayConstructor;void 0===n&&(n=9*o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let o=t*this.typedBufferStride,s=r*e.typedBufferStride;for(let t=0;t<9;++t)n[o++]=i[s++]}get buffer(){return this.typedBuffer.buffer}}t.BufferViewMat3Impl=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Mat4":function(){define(["exports"],function(t){"use strict";class e{static{this.ElementCount=16}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=16;const o=this.TypedArrayConstructor;void 0===n&&(n=16*o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[r++];return e}setMat(t,e){let r=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[r++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}copyFrom(t,e,r){this.copyFromTypedBuffer(t,e.typedBuffer,r*e.typedBufferStride)}copyFromTypedBuffer(t,e,r){const n=this.typedBuffer;let i=t*this.typedBufferStride;for(let t=0;t<16;++t)n[i++]=e[r++]}get buffer(){return this.typedBuffer.buffer}}t.BufferViewMat4Impl=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Scalar":function(){define(["exports"],function(t){"use strict";class e{static{this.ElementCount=1}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=1;const o=this.TypedArrayConstructor;void 0===n&&(n=o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.stride=n,this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}t.BufferViewScalarImpl=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec2":function(){define(["exports","../../../../core/libs/gl-matrix-2/math/vec2"],function(t,e){"use strict";class r{static{this.ElementCount=2}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=2;const o=this.TypedArrayConstructor;void 0===n&&(n=2*o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,r){return t*=this.typedBufferStride,e.set(r,this.typedBuffer[t],this.typedBuffer[t+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=r}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let o=t*this.typedBufferStride,s=r*e.typedBufferStride;n[o++]=i[s++],n[o]=i[s]}get buffer(){return this.typedBuffer.buffer}}t.BufferViewVec2Impl=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/math/vec2":function(){define(["exports","./common"],function(t,e){"use strict";function r(t,e){return t[0]=e[0],t[1]=e[1],t}function n(t,e,r){return t[0]=e,t[1]=r,t}function i(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t}function o(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t}function s(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t}function a(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t}function c(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function u(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function f(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t}function l(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t}function h(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function p(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t}function d(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t}function m(t,e){const r=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(r*r+n*n)}function y(t,e){const r=e[0]-t[0],n=e[1]-t[1];return r*r+n*n}function M(t){const e=t[0],r=t[1];return Math.sqrt(e*e+r*r)}function g(t){const e=t[0],r=t[1];return e*e+r*r}function B(t,e){return t[0]=-e[0],t[1]=-e[1],t}function b(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function T(t,e){const r=e[0],n=e[1];let i=r*r+n*n;return i>0&&(i=1/Math.sqrt(i),t[0]=e[0]*i,t[1]=e[1]*i),t}function x(t,e){return t[0]*e[0]+t[1]*e[1]}function S(t,e,r){const n=e[0]*r[1]-e[1]*r[0];return t[0]=t[1]=0,t[2]=n,t}function V(t,e,r,n){const i=e[0],o=e[1];return t[0]=i+n*(r[0]-i),t[1]=o+n*(r[1]-o),t}function E(t,r=1){const n=2*e.RANDOM()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t}function w(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i,t[1]=r[1]*n+r[3]*i,t}function _(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[2]*i+r[4],t[1]=r[1]*n+r[3]*i+r[5],t}function v(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[3]*i+r[6],t[1]=r[1]*n+r[4]*i+r[7],t}function A(t,e,r){const n=e[0],i=e[1];return t[0]=r[0]*n+r[4]*i+r[12],t[1]=r[1]*n+r[5]*i+r[13],t}function P(t,e,r,n){const i=e[0]-r[0],o=e[1]-r[1],s=Math.sin(n),a=Math.cos(n);return t[0]=i*a-o*s+r[0],t[1]=i*s+o*a+r[1],t}function R(t,e){const r=t[0],n=t[1],i=e[0],o=e[1];let s=r*r+n*n;s>0&&(s=1/Math.sqrt(s));let a=i*i+o*o;a>0&&(a=1/Math.sqrt(a));const c=(r*i+n*o)*s*a;return c>1?0:c<-1?Math.PI:Math.acos(c)}function j(t){return"vec2("+t[0]+", "+t[1]+")"}function F(t,e){return t[0]===e[0]&&t[1]===e[1]}function I(t,r){const n=t[0],i=t[1],o=r[0],s=r[1],a=e.getEpsilon();return Math.abs(n-o)<=a*Math.max(1,Math.abs(n),Math.abs(o))&&Math.abs(i-s)<=a*Math.max(1,Math.abs(i),Math.abs(s))}function O(t,e,r,n,i){let o=e[0]-r[0],s=e[1]-r[1];const a=(n[0]*o+n[1]*s)*(i-1);return o=n[0]*a,s=n[1]*a,t[0]=e[0]+o,t[1]=e[1]+s,t}const C=M,Y=o,N=s,q=a,L=m,U=y,X=g,k=Object.freeze(Object.defineProperty({__proto__:null,add:i,angle:R,ceil:c,copy:r,cross:S,dist:L,distance:m,div:q,divide:a,dot:x,equals:I,exactEquals:F,floor:u,inverse:b,len:C,length:M,lerp:V,max:l,min:f,mul:N,multiply:s,negate:B,normalize:T,projectAndScale:O,random:E,rotate:P,round:h,scale:p,scaleAndAdd:d,set:n,sqrDist:U,sqrLen:X,squaredDistance:y,squaredLength:g,str:j,sub:Y,subtract:o,transformMat2:w,transformMat2d:_,transformMat3:v,transformMat4:A},Symbol.toStringTag,{value:"Module"}));t.add=i,t.angle=R,t.ceil=c,t.copy=r,t.cross=S,t.dist=L,t.distance=m,t.div=q,t.divide=a,t.dot=x,t.equals=I,t.exactEquals=F,t.floor=u,t.inverse=b,t.len=C,t.length=M,t.lerp=V,t.max=l,t.min=f,t.mul=N,t.multiply=s,t.negate=B,t.normalize=T,t.projectAndScale=O,t.random=E,t.rotate=P,t.round=h,t.scale=p,t.scaleAndAdd=d,t.set=n,t.sqrDist=U,t.sqrLen=X,t.squaredDistance=y,t.squaredLength=g,t.str=j,t.sub=Y,t.subtract=o,t.transformMat2=w,t.transformMat2d=_,t.transformMat3=v,t.transformMat4=A,t.vec2=k,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec3":function(){define(["exports","../../../../chunks/vec32"],function(t,e){"use strict";class r{static{this.ElementCount=3}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.elementCount=3;const o=this.TypedArrayConstructor;void 0===n&&(n=3*o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,r){return t*=this.typedBufferStride,e.set(r,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t]=n}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let o=t*this.typedBufferStride,s=r*e.typedBufferStride;n[o++]=i[s++],n[o++]=i[s++],n[o]=i[s]}get buffer(){return this.typedBuffer.buffer}}t.BufferViewVec3Impl=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/geometry/support/buffer/internals/Vec4":function(){define(["exports","../../../../chunks/vec42"],function(t,e){"use strict";class r{static{this.ElementCount=4}constructor(t,e,r=0,n,i){this.TypedArrayConstructor=t,this.start=r,this.elementCount=4;const o=this.TypedArrayConstructor;void 0===n&&(n=4*o.BYTES_PER_ELEMENT);const s=0===e.byteLength?0:r;this.typedBuffer=null==i?new o(e,s):new o(e,s,(i-r)/o.BYTES_PER_ELEMENT),this.typedBufferStride=n/o.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,r=this.count-e){const n=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,n,this.stride,n+r*this.stride)}getVec(t,r){return t*=this.typedBufferStride,e.set(r,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,r){this.typedBuffer[t*this.typedBufferStride+e]=r}setValues(t,e,r,n,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=r,this.typedBuffer[t++]=n,this.typedBuffer[t]=i}copyFrom(t,e,r){const n=this.typedBuffer,i=e.typedBuffer;let o=t*this.typedBufferStride,s=r*e.typedBufferStride;n[o++]=i[s++],n[o++]=i[s++],n[o++]=i[s++],n[o]=i[s]}get buffer(){return this.typedBuffer.buffer}}t.BufferViewVec4Impl=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/views/3d/webgl-engine/lib/Util":function(){define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../chunks/vec42","../../../../core/libs/gl-matrix-2/factories/vec4f64"],function(t,e,r,n){"use strict";const i=n.create();class o{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function s(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new o(`${e} at ${t}`)}}t.assert=s,t.isTranslationMatrix=function(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]},t.logWithBase=function(t,e){return Math.log(t)/Math.log(e)},t.project=function(t,e,n,o,a){i[0]=t[0],i[1]=t[1],i[2]=t[2],i[3]=1,r.transformMat4(i,i,e),a.length>2&&(a[2]=-i[2]),r.transformMat4(i,i,n),s(0!==i[3]),a[0]=i[0]/i[3],a[1]=i[1]/i[3],a[2]=i[2]/i[3],a[0]=(.5*a[0]+.5)*o[2]+o[0],a[1]=(.5*a[1]+.5)*o[3]+o[1]},t.rayBoxTest=function(t,e,r,n){let i,o=(r[0]-t[0])/e[0],s=(n[0]-t[0])/e[0];o>s&&(i=o,o=s,s=i);let a=(r[1]-t[1])/e[1],c=(n[1]-t[1])/e[1];if(a>c&&(i=a,a=c,c=i),o>c||a>s)return!1;a>o&&(o=a),c<s&&(s=c);let u=(r[2]-t[2])/e[2],f=(n[2]-t[2])/e[2];return u>f&&(i=u,u=f,f=i),!(o>f||u>s||(f<s&&(s=f),s<0))},t.rayRay2D=function(t,r,n,i,o,s=e.create()){const a=(i[o]-n[o])*(r[0]-t[0])-(i[0]-n[0])*(r[o]-t[o]),c=(i[0]-n[0])*(t[o]-n[o])-(i[o]-n[o])*(t[0]-n[0]);if(0===a)return!1;const u=c/a;return s[0]=t[0]+u*(r[0]-t[0]),s[1]=t[o]+u*(r[o]-t[o]),!0},t.setMatrixTranslation3=function(t,e,r,n){t[12]=e,t[13]=r,t[14]=n},t.verify=function(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/core/libs/gl-matrix-2/factories/vec2f64":function(){define(["exports"],function(t){"use strict";function e(){return[0,0]}function r(t){return[t[0],t[1]]}function n(t,e){return[t,e]}function i(t,e){return[t,e]}function o(t,e=[0,0]){const r=Math.min(2,t.length);for(let n=0;n<r;++n)e[n]=t[n];return e}function s(){return[0,0]}function a(){return n(1,1)}function c(){return n(1,0)}function u(){return n(0,1)}const f=[0,0],l=a(),h=c(),p=u(),d=Object.freeze(Object.defineProperty({__proto__:null,ONES:l,UNIT_X:h,UNIT_Y:p,ZEROS:f,clone:r,create:e,freeze:i,fromArray:o,fromValues:n,ones:a,unitX:c,unitY:u,zeros:s},Symbol.toStringTag,{value:"Module"}));t.ONES=l,t.UNIT_X=h,t.UNIT_Y=p,t.ZEROS=f,t.clone=r,t.create=e,t.freeze=i,t.fromArray=o,t.fromValues=n,t.ones=a,t.unitX=c,t.unitY=u,t.vec2f64=d,t.zeros=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"esri/chunks/vec4":function(){define(["exports","../colorUtils","../core/has","../geometry/support/buffer/math/common"],function(t,e,r,n){"use strict";function i(t,e,r){if(t.count!==e.count)return;const n=t.count,i=r[0],o=r[1],s=r[2],a=r[3],c=r[4],u=r[5],f=r[6],l=r[7],h=r[8],p=r[9],d=r[10],m=r[11],y=r[12],M=r[13],g=r[14],B=r[15],b=t.typedBuffer,T=t.typedBufferStride,x=e.typedBuffer,S=e.typedBufferStride;for(let t=0;t<n;t++){const e=t*T,r=t*S,n=x[r],V=x[r+1],E=x[r+2],w=x[r+3];b[e]=i*n+c*V+h*E+y*w,b[e+1]=o*n+u*V+p*E+M*w,b[e+2]=s*n+f*V+d*E+g*w,b[e+3]=a*n+l*V+m*E+B*w}}function o(t,e,r,i=4,o=i){if(t.length/i!==e.length/o)return void n.getMathLogger().error("source and destination buffers need to have the same number of elements");const s=t.length/i,a=r[0],c=r[1],u=r[2],f=r[3],l=r[4],h=r[5],p=r[6],d=r[7],m=r[8],y=r[9],M=r[10],g=r[11],B=r[12],b=r[13],T=r[14],x=r[15];let S=0,V=0;for(let r=0;r<s;r++){const r=e[S],n=e[S+1],s=e[S+2],E=e[S+3];t[V]=a*r+l*n+m*s+B*E,t[V+1]=c*r+h*n+y*s+b*E,t[V+2]=u*r+p*n+M*s+T*E,t[V+3]=f*r+d*n+g*s+x*E,S+=o,V+=i}}function s(t,e,r){a(t.typedBuffer,e.typedBuffer,r,t.typedBufferStride,e.typedBufferStride)}function a(t,e,r,n=4,i=n){if(t.length/n!==e.length/i)return;const o=t.length/n,s=r[0],a=r[1],c=r[2],u=r[3],f=r[4],l=r[5],h=r[6],p=r[7],d=r[8];let m=0,y=0;for(let r=0;r<o;r++){const r=e[m],o=e[m+1],M=e[m+2],g=e[m+3];t[y]=s*r+u*o+h*M,t[y+1]=a*r+f*o+p*M,t[y+2]=c*r+l*o+d*M,t[y+3]=g,m+=i,y+=n}}function c(t,e){const r=Math.min(t.count,e.count),n=t.typedBuffer,i=t.typedBufferStride,o=e.typedBuffer,s=e.typedBufferStride;for(let t=0;t<r;t++){const e=t*i,r=t*s,a=o[r],c=o[r+1],u=o[r+2],f=a*a+c*c+u*u;if(f>0){const t=1/Math.sqrt(f);n[e]=t*a,n[e+1]=t*c,n[e+2]=t*u}}}function u(t,e,r){f(t.typedBuffer,e,r,t.typedBufferStride)}function f(t,e,r,n=4){const i=Math.min(t.length/n,e.count),o=e.typedBuffer,s=e.typedBufferStride;let a=0,c=0;for(let e=0;e<i;e++)t[c]=r*o[a],t[c+1]=r*o[a+1],t[c+2]=r*o[a+2],t[c+3]=r*o[a+3],a+=s,c+=n}function l(t,e,r,n){h(t.typedBuffer,e,r,n,t.typedBufferStride)}function h(t,r,n,i,o=4){const s=Math.min(t.length/o,r.count),a=r.typedBuffer,c=r.typedBufferStride;let u=0,f=0;const l=1/e.colorGamma;for(let e=0;e<s;e++)t[f]=i*(n*a[u])**l,t[f+1]=i*(n*a[u+1])**l,t[f+2]=i*(n*a[u+2])**l,t[f+3]=i*n*a[u+3],u+=c,f+=o}const p=Object.freeze(Object.defineProperty({__proto__:null,linearToSRGB:h,linearToSRGBView:l,normalize:c,scale:f,scaleView:u,transformMat3:a,transformMat3View:s,transformMat4:o,transformMat4View:i},Symbol.toStringTag,{value:"Module"}));t.linearToSRGB=h,t.linearToSRGBView=l,t.normalize=c,t.scale=f,t.scaleView=u,t.transformMat3=a,t.transformMat3View=s,t.transformMat4=o,t.transformMat4View=i,t.vec4=p})},"esri/geometry/support/buffer/math/common":function(){define(["exports","../../../../core/Logger"],function(t,e){"use strict";t.getMathLogger=()=>e.getLogger("esri.views.3d.support.buffer.math"),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})})},"*noref":1}}),define(["../../../core/has","../../../core/libs/rbush/PooledRBush","../MeshGeoreferencedVertexSpace","./vertexSpaceConversion"],function(t,e,r,n){"use strict";function i(){return new e.PooledRBush(9,t("esri-csp-restrictions")?t=>t:[".minX",".minY",".maxX",".maxY"])}function o(t,e,r,n){return{minX:Math.min(t[e],t[r],t[n]),maxX:Math.max(t[e],t[r],t[n]),minY:Math.min(t[e+1],t[r+1],t[n+1]),maxY:Math.max(t[e+1],t[r+1],t[n+1]),p0:[t[e],t[e+1],t[e+2]],p1:[t[r],t[r+1],t[r+2]],p2:[t[n],t[n+1],t[n+2]]}}return class{async createIndex(t,o){const s=new Array;if(!t.vertexAttributes?.position)return new e.PooledRBush;const a=function(t){const{vertexAttributes:{position:e},vertexSpace:i,spatialReference:o,transform:s}=t,a=n.convertVertexSpace({vertexAttributes:{position:e},vertexSpace:i,spatialReference:o,transform:s},r.absolute,{allowBufferReuse:!0})?.position;return a?!t.components||t.components.some(t=>!t.faces)?{position:a.buffer}:{position:a.buffer,components:t.components.map(t=>t.faces)}:null}(t),c=null!=o?await o.invoke("createIndexThread",a,{transferList:s}):this.createIndexThread(a).result;return i().fromJSON(c)}createIndexThread(t){const e=i();if(!t)return{result:e.toJSON()};const r=new Float64Array(t.position);return t.components?function(t,e,r){let n=0;for(const t of r)n+=t.length/3;const i=new Array(n);let s=0;for(const t of r)for(let r=0;r<t.length;r+=3)i[s++]=o(e,3*t[r],3*t[r+1],3*t[r+2]);return t.load(i),{result:t.toJSON()}}(e,r,t.components.map(t=>new Uint32Array(t))):function(t,e){const r=new Array(e.length/9);let n=0;for(let t=0;t<e.length;t+=9)r[n++]=o(e,t,t+3,t+6);return t.load(r),{result:t.toJSON()}}(e,r)}}});