// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports"],function(t){"use strict";class e{static{this.HEADER_SIZE=12}static{this.CHUNK_HEADER_SIZE=8}static{this.MAGIC=1179937895}static{this.VERSION=2}constructor(t,n){if(!t)throw new Error("GLB requires a JSON gltf chunk");this._length=e.HEADER_SIZE,this._length+=e.CHUNK_HEADER_SIZE;const h=function(t){return(new TextEncoder).encode(t).buffer}(t);if(this._length+=i(h.byteLength,4),n&&(this._length+=e.CHUNK_HEADER_SIZE,this._length+=n.byteLength,n.byteLength%4))throw new Error("Expected BIN chunk length to be divisible by 4 at this point");this.buffer=new ArrayBuffer(this._length),this._outView=new DataView(this.buffer),this._writeHeader();const s=this._writeChunk(h,12,1313821514,32);n&&this._writeChunk(n,s,5130562)}_writeHeader(){this._outView.setUint32(0,e.MAGIC,!0),this._outView.setUint32(4,e.VERSION,!0),this._outView.setUint32(8,this._length,!0)}_writeChunk(t,e,n,h=0){const s=i(t.byteLength,4);var r,o,u,_;for(this._outView.setUint32(e,s,!0),this._outView.setUint32(e+=4,n,!0),r=this._outView.buffer,o=t,u=e+=4,_=t.byteLength,new Uint8Array(r,u,_).set(new Uint8Array(o,0,_),0),e+=t.byteLength;e%4;)h&&this._outView.setUint8(e,h),e++;return e}}function i(t,e){return e*Math.ceil(t/e)}t.GLB=e,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});