// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/libs/gl-matrix-2/math/mat4","../../chunks/vec32","../../core/libs/gl-matrix-2/factories/vec3f64","../ellipsoidUtils","../SpatialReference","../spatialReferenceEllipsoidUtils","../../chunks/boundedPlane","../../chunks/sphere"],function(e,t,n,o,r,i,a,u,s){"use strict";function c(e){return{operations:e,value:e.create()}}function l(e,t,n=c(e)){return n.operations=e,e.copy(t,n.value),n}const f=2**50;function p(e,t,n,o){return e.operations.setAltitudeAt(e.value,t,n,o)}const d=o.create(),v=o.create();e.altitudeAt=function(e,t){return e.operations.altitudeAt(e.value,t)},e.axisAt=function(e,t,n,o){return e.operations.axisAt(e.value,t,n,o)},e.closestPoint=function(e,t,n){return e.operations.closestPoint(e.value,t,n)},e.closestPointOnSilhouette=function(e,t,n){return e.operations.closestPointOnSilhouette(e.value,t,n)},e.coordinateSystemFromOneAxisAndNormalVector=function(e,t,o,r,i){n.copy(o,e),n.copy(v,t),n.normalize(v,v),n.cross(r,v,o),n.cross(i,r,o)},e.create=function(e){const{value:t,operations:n}=e;return{operations:n,value:n.create(t)}},e.createFromOperations=c,e.createGlobal=function(e){return l(s.sphere,s.fromValues(0,0,0,r.getReferenceEllipsoid(e).radius))},e.createLocal=function(){return l(u.boundedPlane,u.fromValues([0,0,0],[f,0,0],[0,f,0]))},e.distanceToSilhouette=function(e,t){return e.operations.distanceToSilhouette(e.value,t)},e.elevate=function(e,t,n){return e.operations.elevate(e.value,t,n.value)},e.fromValues=l,e.getExtent=function(e,t){return e.operations.getExtent(e.value,t),t},e.intersectRay=function(e,t,n){return e.operations.intersectRay(e.value,t,n)},e.intersectRayClosestSilhouette=function(e,t,n){return e.operations.intersectRayClosestSilhouette(e.value,t,n)},e.normalAt=function(e,t,n){return e.operations.axisAt(e.value,t,2,n)},e.renderSRFromViewSR=function(e,t){return e?a.getSphericalPCPF(t):t.isGeographic?i.PlateCarree:t},e.setAltitudeAt=p,e.setAltitudeOfTransformation=function(e,o,r,i){return o!==i&&t.copy(i,o),n.set(d,i[12],i[13],i[14]),p(e,d,r,d),i[12]=d[0],i[13]=d[1],i[14]=d[2],i},e.setExtent=function(e,t,n){return e.operations.setExtent(e.value,t,n.value),n},e.vectorCoordinates=function(e,t,o,r,i){return i[0]=n.dot(e,t),i[1]=n.dot(e,o),i[2]=n.dot(e,r),i},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});