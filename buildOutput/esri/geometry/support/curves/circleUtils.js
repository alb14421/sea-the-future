// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../aaBoundingRect","./mathUtils"],function(t,n,a){"use strict";const e=2*Math.PI;function c(t,n){const{cx:a,cy:e,radius:c}=t;return[a+c*Math.cos(n),e+c*Math.sin(n)]}function i(t,n){const{thetaStart:a,thetaEnd:e}=t;return c(t,a*(1-n)+e*n)}t.DerivedCircle=class{constructor(t,n,a,e,c,i){this.cx=t,this.cy=n,this.radius=a,this.thetaStart=e,this.thetaEnd=c,this.isInvalid=i}},t.circularCurveExtent=function(t,e){const{thetaStart:i,thetaEnd:r}=e,s=r-i;n.expandPointInPlace(t,c(e,i)),n.expandPointInPlace(t,c(e,r));for(let o=0;o<4;o++){let h=o*(Math.PI/2);h=a.matchWindingAndWrap(h,i,r);const u=(h-i)/s;u>0&&u<1&&n.expandPointInPlace(t,c(e,h))}return t},t.circularCurveLength=function(t){const{radius:n,thetaStart:a,thetaEnd:e}=t;return n*Math.abs(e-a)},t.closestPointOnCircle=function(t,n){const{cx:c,cy:r,thetaStart:s,thetaEnd:o}=t,[h,u]=n;let d=a.wrapAtan2(u-r,h-c);d=a.matchWindingAndWrap(d,s,o);const l=d-s;let M=l/(o-s);if(M<0||M>1){const t=Math.abs(l)%e,n=Math.abs(d-o)%e;M=Math.min(n,e-n)<Math.min(t,e-t)?1:0}const P=i(t,M);return{t:M,curvePoint:P,distance:Math.sqrt(a.distance2(n,P))}},t.interpolateCircle=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});