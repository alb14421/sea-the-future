// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/mathUtils","../../core/libs/gl-matrix-2/factories/vec3f64","./projectors","../support/Ellipsoid"],function(e,t,r,n,o){"use strict";function c(e,t,r,n){const o=n+t;if(o<n/2||r>o)return Number.MAX_VALUE;const c=Math.abs(s*e)+Math.asin(r/o);return c>=Math.PI/2?Number.MAX_VALUE:r/Math.cos(c)}const i=r.create(),s=t.deg2rad(1);e.projectBoundingSphere=function(e,t,r,s){if(null==t||null==s)return!1;const a=n.getProjectorClassification(t,s);if(null==a?.projector)return!1;if(a.projector===n.copy3)return r[0]=e[0],r[1]=e[1],r[2]=e[2],r[3]=e[3],!0;const{source:l,dest:u,projector:p}=a;if(3===u.spatialReferenceId){const t=n.projectionTable[l.spatialReferenceId][2];return null!=t&&(t(e,0,i,0),n.wgs84ToWebMercator(i,0,r,0),r[3]=c(i[1],e[2],e[3],o.earth.radius),!0)}if(2!==l.spatialReferenceId&&5!==l.spatialReferenceId||11!==u.spatialReferenceId){p(e,0,r,0);const t=l.metersPerUnit??1,n=u.metersPerUnit??1;r[3]=e[3]*t/n}else{const t=n.projectionTable[l.spatialReferenceId][1],i=n.projectionTable[1][11];let s=e[3];null!=t&&null!=i&&(s=c(e[1],e[2],e[3],o.earth.radius)),p(e,0,r,0),r[3]=s}return!0},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});