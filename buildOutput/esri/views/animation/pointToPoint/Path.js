// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../core/time"],function(t,e){"use strict";t.Path=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((t,o)=>e.Seconds(t+o.time),e.Seconds(0))}interpolateComponentsAt(t,e){t=Math.min(Math.max(t,0),1),t*=this.time;let o=0,n=0;const s=this.definition,i=this.segments.reduce((t,e)=>t||e.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const m=this.segments[a],r=m.definition;if(t<=m.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(m,0===m.time?0:t/m.time,e),s.hasPan&&!isNaN(e.pan)&&isFinite(s.compared.pan)?e.pan=(o+r.compared.pan*e.pan)/s.compared.pan:e.pan=1,s.hasRotate&&!isNaN(e.rotate)&&isFinite(s.compared.rotate)?e.rotate=(n+r.compared.rotate*e.rotate)/s.compared.rotate:e.rotate=1,i&&!isNaN(e.zoom)&&isFinite(r.compared.targetZoom)){const{sourceZoom:t,targetZoom:o}=r.compared,n=e.zoom*(o-t)+t,s=this.segments[0].definition.compared.sourceZoom,i=this.segments[this.segments.length-1].definition.compared.targetZoom,a=Math.abs(o-s)>Math.abs(t-s)?o:t;e.zoomOffset=a-i,e.zoom=(n-s)/(a-s)}else e.zoom=1;return e}t-=m.time,o+=r.compared.pan,n+=r.compared.rotate}}segmentInterpolateComponentsAt(t,e,o){t.interpolateComponentsAt(e,o)}},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});