// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../sketch/constraints","../../sketch/normalizedPoint","./SnappingCandidate","../hints/LineSnappingHint","../hints/ParallelSnappingHint"],function(e,t,i,n,a,s,r,d){"use strict";class f extends s.SnappingCandidate{constructor({referenceLine:e,lineStart:s,targetPoint:r,isDraped:d}){const f=i.clone(s),{left:g,right:h}=e;t.subtract(f,t.add(f,f,h),g),super(r,new n.VerticalPlaneConstraint(s,a.fromVec3(f)),d,2),this._referenceLines=[{edge:e,fadeLeft:!0,fadeRight:!0}]}get hints(){return[new r.LineSnappingHint(0,this.constraint.start,this.targetPoint,this.isDraped,this.domain),new d.ParallelSnappingHint(this.constraint.start,this.targetPoint,this.isDraped,this.domain),...this._referenceLines.map(e=>new r.LineSnappingHint(1,e.edge.left,e.edge.right,this.isDraped,this.domain,e.fadeLeft,e.fadeRight))]}addReferenceLine(e){const i={edge:e,fadeLeft:!0,fadeRight:!0};this._referenceLines.forEach(n=>{t.exactEquals(e.right,n.edge.left)&&(n.fadeLeft=!1,i.fadeRight=!1),t.exactEquals(e.right,n.edge.right)&&(n.fadeRight=!1,i.fadeRight=!1),t.exactEquals(e.left,n.edge.right)&&(n.fadeRight=!1,i.fadeLeft=!1),t.exactEquals(e.left,n.edge.left)&&(n.fadeLeft=!1,i.fadeLeft=!1)}),this._referenceLines.push(i)}}e.ParallelLineSnappingCandidate=f,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});