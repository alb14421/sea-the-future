// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/has"],function(t,n){"use strict";class e{filter(t,n){return n}notifyElevationSourceChange(){}}class r{filter(t,n){const{point:e,distance:r}=t,{z:a}=e;if(null==a)return n;if(0===n.length)return n;const o=function(t){return"number"==typeof t?{x:t,y:t,z:t}:t}(r),s=this._updateCandidatesTo3D(n,e,o).filter(i);return s.sort(c),s}_updateCandidatesTo3D(t,n,e){for(const r of t)switch(r.type){case"edge":a(r,n,e);continue;case"vertex":o(r,n,e);continue}return t}}function i(t){return t.distance<=1}function a(t,n,{x:e,y:r,z:i}){const{start:a,end:o,target:c}=t;t.draped||function(t,n,e,r){const i=r.x-e.x,a=r.y-e.y,o=r.z-e.z,c=i*i+a*a+o*o,s=(n.x-e.x)*i+(n.y-e.y)*a+o*(n.z-e.z),u=Math.min(1,Math.max(0,s/c)),d=e.x+i*u,f=e.y+a*u,y=e.z+o*u;t.x=d,t.y=f,t.z=y}(c,n,a,o);const s=(n.x-c.x)/e,u=(n.y-c.y)/r,d=(n.z-c.z)/i;t.distance=Math.sqrt(s*s+u*u+d*d)}function o(t,n,{x:e,y:r,z:i}){const{target:a}=t,o=(n.x-a.x)/e,c=(n.y-a.y)/r,s=(n.z-a.z)/i,u=Math.sqrt(o*o+c*c+s*s);t.distance=u}function c(t,n){return t.distance-n.distance}t.getSnappingCandidateElevationFilter=function(t=!1){return t?new r:new e},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});