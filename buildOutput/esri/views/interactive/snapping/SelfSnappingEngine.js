// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../chunks/tslib.es6","../../../core/Accessor","../../../core/Collection","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","./LineSnapper","./ParallelLineSnapper","./RightAngleSnapper","./RightAngleTriangleSnapper","./snappingUtils"],function(e,n,t,i,s,o,p,r,a,c,l,g,h,S){"use strict";e.SelfSnappingEngine=class extends t{constructor(e){super(e),this.updating=!1,this._snappers=new i,this._domain=2}initialize(){this._snappers.push(new l.ParallelLineSnapper(this.view,this.options),new c.LineSnapper(this.view,this.options,this.geodesicLengthMeasurementUtils),new g.RightAngleSnapper(this.view,this.options,this.geodesicLengthMeasurementUtils),new h.RightAngleTriangleSnapper(this.view,this.options))}set options(e){this._set("options",e);for(const n of this._snappers)n.options=e}async fetchCandidates(e,n,t){if(!(n&this._domain&&this.options.effectiveSelfEnabled))return[];const i=[];for(const n of this._snappers.items)for(const s of n.snap(e,t))i.push(s);return S.sortCandidatesInPlace(e,i),i}},n.__decorate([s.property({readOnly:!0})],e.SelfSnappingEngine.prototype,"updating",void 0),n.__decorate([s.property({constructOnly:!0})],e.SelfSnappingEngine.prototype,"view",void 0),n.__decorate([s.property({constructOnly:!0})],e.SelfSnappingEngine.prototype,"geodesicLengthMeasurementUtils",void 0),n.__decorate([s.property()],e.SelfSnappingEngine.prototype,"options",null),e.SelfSnappingEngine=n.__decorate([a.subclass("esri.views.interactive.snapping.SelfSnappingEngine")],e.SelfSnappingEngine),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});