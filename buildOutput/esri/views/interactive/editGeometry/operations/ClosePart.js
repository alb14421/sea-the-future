// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/arrayUtils","../EditGeometry"],function(e,t,r){"use strict";e.ClosePart=class{constructor(e,t){this._editGeometry=e,this._part=t,this._createdSegment=null}apply(){let e="redo";const{_part:t}=this;if(null==this._createdSegment){e="apply";const n=t.getFirstVertex(),i=t.getLastVertex();if(t.isClosed()||t.vertices.length<2||null==n||null==i)return;if(2===t.vertices.length&&"line"===i.leftSegment?.type)return;this._createdSegment=new r.LineSegment(this._part,i,n)}this._createdSegment.leftVertex.rightSegment=this._createdSegment,this._createdSegment.rightVertex.leftSegment=this._createdSegment,t.segments.push(this._createdSegment),this._editGeometry.notifyChanges({operation:e})}undo(){const{_part:e,_createdSegment:r,_editGeometry:n}=this;null!=r&&(t.remove(e.segments,r),r.leftVertex.rightSegment=null,r.rightVertex.leftSegment=null,n.notifyChanges({operation:"undo"}))}accumulate(){return!1}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});