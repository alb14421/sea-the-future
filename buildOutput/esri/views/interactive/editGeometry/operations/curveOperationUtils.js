// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/libs/gl-matrix-2/factories/mat3f64","../../../../core/libs/gl-matrix-2/math/mat3","../../../../geometry/support/curves/circularArcUtils","../../../../geometry/support/curves/curveUtils","../../../../geometry/support/curves/ellipticArc7Utils"],function(r,t,e,c,a,o){"use strict";function i(r,t){const[e]=t.c,a=c.deriveCircleFromCircularArc(r,t);return{a:[e,[a.cx,a.cy],Math.abs(a.thetaEnd-a.thetaStart)>Math.PI?0:1,1,0,a.radius,1]}}function s(r,c,a,o,i,s,l,u){const n=t.fromValues(1,0,0,0,1,0,-r,-c,1),m=l-1,f=t.fromValues(a*a*m+1,o*a*m,0,a*o*m,o*o*m+1,0,0,0,1),p=u-1,h=t.fromValues(i*i*p+1,s*i*p,0,i*s*p,s*s*p+1,0,0,0,1),A=t.fromValues(1,0,0,0,1,0,r,c,1),g=t.create();return e.mul(g,f,n),e.mul(g,h,g),e.mul(g,A,g),g}r.getScaleTransform=s,r.rotateArc=function(r,e,c,s){const l=a.isCircularArc(e)?i(r,e):e,[u,n,m,f,p,h,A]=l.a,g=p??0,y=h??Math.hypot(u[0]-n[0],u[1]-n[1]),M=A??1,d=Math.cos(s),v=Math.sin(s),[V,b]=c,x=t.fromValues(d,v,0,-v,d,0,V-d*V+v*b,b-v*V-d*b,1);return o.transformEllipticArc(r,{a:[u,n,m,f,g,y,M]},x)},r.scaleArc=function(r,t,e,c,l,u,n,m){const f=t??e.leftVertex.pos,p=a.isCircularArc(r)?i(f,r):r,[h,A,g,y,M,d,v]=p.a,V=M??0,b=d??Math.hypot(h[0]-A[0],h[1]-A[1]),x=v??1,C=s(c[0],c[1],l[0],l[1],u[0],u[1],n,m);return o.transformEllipticArc(f,{a:[h,A,g,y,V,b,x]},C)},r.toEllipticArc7=i,Object.defineProperty(r,Symbol.toStringTag,{value:"Module"})});