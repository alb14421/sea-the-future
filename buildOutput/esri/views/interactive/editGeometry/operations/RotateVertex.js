// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/arrayUtils","../../../../core/libs/gl-matrix-2/math/vec2","./curveOperationUtils"],function(t,e,i,o){"use strict";class n{constructor(t,e,i=0){this.origin=t,this.angle=e,this._accumulationType=i}_rotate(t,e){i.rotate(t.pos,t.pos,this.origin,e),function(t,e,n){switch(t?.type){case null:case void 0:case"line":return;case"bezier":{const{controlPoint1:o,controlPoint2:r}=t.curveDefinition;return i.rotate(o,o,e,n),void i.rotate(r,r,e,n)}case"circular-arc":{const{interiorPoint:o}=t.curveDefinition;return void i.rotate(o,o,e,n)}case"elliptic-arc-4":case"elliptic-arc-7":{const r=t.leftVertex.pos,a=i.rotate([0,0],[r[0],r[1]],e,-n),c=t.toCurveOrCoordinate(),[,s,l,u,g,p,h]=o.rotateArc(a,c,e,n).a;if("elliptic-arc-4"===t.type){const e=t.curveDefinition;e.centerPoint=[...s],e.sweep=l,e.orientation=u}else{const e=t.curveDefinition;e.centerPoint=[...s],e.sweep=l,e.orientation=u,e.rotation=g,e.semiMajorAxisLength=p,e.minorMajorAxisRatio=h}}}}(t.leftSegment,this.origin,e)}apply(t){this._rotate(t,this.angle)}undo(t){this._rotate(t,-this.angle)}canAccumulate(t){return t instanceof n&&e.equals(this.origin,t.origin)}accumulate(t,e){const i=1===e._accumulationType;this._rotate(t,i?e.angle-this.angle:e.angle)}accumulateParams(t){const e=1===t._accumulationType;this.angle=e?t.angle:this.angle+t.angle}}t.RotateVertex=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});