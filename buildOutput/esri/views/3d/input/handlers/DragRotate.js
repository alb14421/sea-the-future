// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils","../../state/controllers/RotateController","../../../input/InputHandler","../../../input/handlers/support"],function(t,e,r,o,a){"use strict";class n extends o.InputHandler{constructor(t,e,r,o){super(!0),this._view=t,this.pointerActions=e,this._pivot=r,this.registerIncoming("drag",o,t=>this._handleDrag(t))}_handleDrag(t){const o=t.data;if(o.pointers.size>1)return;if(!a.eventMatchesMousePointerActions(t.data,this.pointerActions))return;const n=e.createScreenPointArray(o.center.x,o.center.y);switch(o.action){case"start":this._cameraController&&(this._cameraController.end(),this._cameraController=null),this._cameraController=new r.RotateController({view:this._view,pivot:this._pivot}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(n);break;case"update":this._cameraController&&this._cameraController.update(n);break;case"end":this._cameraController&&(this._cameraController.end(),this._cameraController=null)}t.stopPropagation()}}t.DragRotate=n,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});