// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils","../../state/controllers/FovController","../../state/controllers/ZoomStepControllerGlobal","../../state/controllers/ZoomStepControllerLocal","../../../input/InputHandler"],function(o,e,t,l,r,n){"use strict";class i extends n.InputHandler{constructor(o,e){super(!0),this._view=o,this.registerIncoming("mouse-wheel",[e],o=>this._handleFov(o)),this.registerIncoming("mouse-wheel",o=>this._handleZoom(o))}_handleZoom(o){if(!this._mouseWheelZoomEnabled)return;const t=o.data;this._zoomController?.running||(this._stopFovController(),this._zoomController=this._view.state.isGlobal?new l.ZoomStepControllerGlobal({view:this._view,mode:"interaction"}):new r.ZoomStepControllerLocal({view:this._view,mode:"interaction"}),this._view.state.switchCameraController(this._zoomController)),this._zoomController.step(-t.deltaY/60,e.createScreenPointArray(t.x,t.y)),o.preventDefault(),o.stopPropagation()}_handleFov(o){this._mouseWheelZoomEnabled&&(this._fovController?.running||(this._zoomController?.finish(),this._fovController?.hideOverlay(),this._fovController=new t.FovController({view:this._view,onStop:()=>this._stopFovController()}),this._view.state.switchCameraController(this._fovController),1!==this._fovController.state)?(this._fovController.updateTimeout(),this._fovController.step(o.data.deltaY/20),o.preventDefault(),o.stopPropagation()):this._stopFovController())}get _mouseWheelZoomEnabled(){return"zoom"===this._view.navigation.actionMap.mouseWheel}_stopFovController(){this._fovController?.finish(),this._fovController=null}}o.MouseWheelZoom=i,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});