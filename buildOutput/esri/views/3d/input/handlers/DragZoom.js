// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils","../../state/controllers/FovController","../../state/controllers/ZoomControllerGlobal","../../state/controllers/ZoomControllerLocal","../../../input/InputHandler","../../../input/handlers/support"],function(o,t,e,r,n,s,i){"use strict";class l extends s.InputHandler{constructor(o,t,e){super(!0),this._view=o,this.pointerActions=t,this._fovModifier=e,this.registerIncoming("drag",[e],o=>this._handleZoom(o)),this.registerIncoming("drag",o=>this._handleZoom(o))}_handleZoom(o){const s=o.data;if(s.pointers.size>1)return;if(!i.eventMatchesMousePointerActions(o.data,this.pointerActions))return;const l=t.createScreenPointArray(s.center.x,s.center.y);switch(s.action){case"start":{this._cameraController?.finish();const t=this._view,s=o.modifiers.has(this._fovModifier);this._cameraController=s?new e.FovController({view:t,onStop:()=>this._stopController()}):t.state.isGlobal?new r.ZoomControllerGlobal({view:t}):new n.ZoomControllerLocal({view:t}),this._view.state.switchCameraController(this._cameraController),this._cameraController.begin(l);break}case"update":this._cameraController?.update(l);break;case"end":this._cameraController instanceof e.FovController?this._cameraController.updateTimeout():this._stopController()}o.stopPropagation()}_stopController(){this._cameraController?.finish(),this._cameraController=null}}o.DragZoom=l,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});