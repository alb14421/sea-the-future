// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../../chunks/Compositing.glsl","../shaders/CompositingTechnique","../shaders/CompositingTechniqueConfiguration","../../../../chunks/HUDCompositing.glsl","../shaders/HUDCompositingTechnique"],function(i,t,s,e,o){"use strict";return class{constructor(n,h){this._rctx=n,this._techniques=h,this._configuration=new s.CompositingTechniqueConfiguration,this._passParameters=new i.CompositingPassParameters,this._hudParameters=new e.HUDCompositingPassParameters,this._configuration.blitMode=2,this._techniques.precompile(t.CompositingTechnique,this._configuration),this._configuration.hasOpacityFactor=!0,this._techniques.precompile(t.CompositingTechnique,this._configuration),this._configuration.hasOpacityFactor=!1,this._configuration.blitMode=1,this._techniques.precompile(t.CompositingTechnique,this._configuration),this._configuration.blitMode=3,this._techniques.precompile(t.CompositingTechnique,this._configuration),this._techniques.precompile(o.HUDCompositingTechnique)}compositeHUD(i,t){this._hudParameters.texture=t;const s=this._techniques.get(o.HUDCompositingTechnique);this._rctx.bindTechnique(s,i,this._hudParameters),this._rctx.screen.draw()}compositePreMultipliedAlpha(i,t,s=1){this._composite(i,t,2,s)}composite(i,t){this._composite(i,t,1,1)}blitDepthToLinearDepth(i,t){this._composite(i,t,3,1)}_composite(i,s,e,o){this._configuration.blitMode=e,this._configuration.hasOpacityFactor=1!==o,this._passParameters.texture=s,this._passParameters.opacity=o;const n=this._techniques.get(t.CompositingTechnique,this._configuration);this._rctx.bindTechnique(n,i,this._passParameters),this._rctx.screen.draw()}}});