// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../core/typedArrayUtil","../../../../../core/workers/WorkerHandle","../../../support/buffer/workerHelper","./edgeProcessing"],function(e,t,r,n,a){"use strict";class s extends r.WorkerHandle{constructor(e){super("EdgeProcessingWorker","extract",{extract:e=>[e.dataBuffer],extractComponentsEdgeLocations:e=>[e.dataBuffer],extractEdgeLocations:e=>[e.dataBuffer]},e)}async process(e,t,r){return r?a.extract(e):(s=await this.invoke(new i(e),t),{regular:{instancesData:n.unpackInterleavedBuffer(s.regular.instancesData),lodInfo:{lengths:new Float32Array(s.regular.lodInfo.lengths)}},silhouette:{instancesData:n.unpackInterleavedBuffer(s.silhouette.instancesData),lodInfo:{lengths:new Float32Array(s.silhouette.lodInfo.lengths)}},averageEdgeLength:s.averageEdgeLength});var s}async extractEdgeLocations(e,t){const r=await this.invokeMethod("extractEdgeLocations",new i(e),t);return n.unpackInterleavedBuffer(r)}async extractComponentsEdgeLocations(e,t){const r=await this.invokeMethod("extractComponentsEdgeLocations",new i(e),t);return n.unpackInterleavedBuffer(r)}}class i{constructor(e){this.dataBuffer=e.data.buffer,this.writerSettings=e.writerSettings,this.skipDeduplicate=e.skipDeduplicate,this.indices=t.isTypedArray(e.indices)?e.indices.buffer:e.indices,this.indicesType=t.isTypedArray(e.indices)?t.isUint32Array(e.indices)?"Uint32Array":"Uint16Array":"Array",this.indicesLength=e.indicesLength}}e.EdgeWorkerHandle=s,e.PackedInput=i,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});