// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../geometry/support/meshUtils/deduplicate","../../../support/meshProcessing","../../../support/buffer/InterleavedLayout","./bufferLayouts","./edgeBufferWriters","./edgePreprocessing"],function(e,t,i,n,s,o,r){"use strict";function c(e,n,o,r){if(n){const t=i.computeNeighbors(o,r,e.count);return new u(o,r,t,e)}const c=t.deduplicate(e.buffer,e.stride/4,{originalIndices:o}),a=i.computeNeighbors(c.indices,r,c.uniqueCount);return{faces:c.indices,facesLength:c.indices.length,neighbors:a,vertices:s.EdgeInputBufferLayout.createView(c.buffer)}}class u{constructor(e,t,i,n){this.faces=e,this.facesLength=t,this.neighbors=i,this.vertices=n}}const a=new o.RegularEdgeBufferWriter,f=new o.SilhouetteEdgeBufferWriter,d=n.newLayout().vec3f("position0").vec3f("position1"),g=n.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex");e.extract=function(e){const t=c(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return a.updateSettings(e.writerSettings),f.updateSettings(e.writerSettings),r.extractEdges(t,a,f)},e.extractComponentsEdgeLocationsLayout=g,e.extractEdgeInformation=c,e.extractEdgeLocationsLayout=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});