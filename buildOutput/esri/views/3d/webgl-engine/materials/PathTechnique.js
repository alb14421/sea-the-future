// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../support/buffer/InterleavedLayout","../core/shaderLibrary/ShaderOutput","../core/shaderLibrary/attributes/PathVertexPosition.glsl","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../effects/geometry/olidUtils","../lib/OrderIndependentTransparency","../lib/StencilUtils","./pbrUtils","../../../../chunks/Path.glsl","../../../webgl/renderState"],function(e,t,r,i,s,a,l,o,n,u,c,d,h,f){"use strict";class p extends a.PathVertexPositionPassParameters{constructor(){super(...arguments),this.ambient=r.freeze(.2,.2,.2),this.diffuse=r.freeze(.8,.8,.8),this.opacity=1,this.origin=r.create(),this.modelTransformation=null,this.mrrFactors=d.advancedMRRFactors,this.emissiveStrength=0,this.emissiveSource=1,this.emissiveBaseColor=r.ZEROS}}class P extends o.ShaderTechnique{constructor(t,r){super(t,r,new l.ReloadableShaderModule(h.Path,()=>new Promise((t,r)=>e(["../shaders/Path.glsl"],t,r))),b(r).locations)}initializePipeline(e){const{output:t,transparent:r,hasSlicePlane:i,doubleSidedMode:a,hasOccludees:l,oitPass:n}=e,d=0===n,h=2===n;return f.makePipelineState({blending:s.isColorOrColorEmission(t)&&r?u.blending(n):null,culling:i&&!r&&0!==a?f.frontFaceCullingParams:null,depthTest:{func:u.oitDepthTest(n)},depthWrite:d||h?f.defaultDepthWrite:null,drawBuffers:o.depthOnlyOutputBuffersOr(t,u.getDrawBuffers(n,t)),colorWrite:f.defaultColorWrite,stencilWrite:l?c.stencilWriteMaskOn:null,stencilTest:l?c.stencilBaseAllZerosParams:null,polygonOffset:d||h?null:u.OITPolygonOffset})}}function b(e){const t=i.newLayout().vec3f("position").vec4f16("profileVertexAndNormal").vec2i16("profileRight",{glNormalized:!0}).vec2i16("profileUp",{glNormalized:!0});return e.hasVVSize&&t.f32("sizeFeatureAttribute"),e.hasVVColor&&t.f32("colorFeatureAttribute"),e.hasVVOpacity&&t.f32("opacityFeatureAttribute"),n.olidEnabled()&&t.vec4u8("olidColor"),t.vec3f16("profileAuxData"),t.freeze()}t.PathPassParameters=p,t.PathTechnique=P,t.getLayout=b,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});