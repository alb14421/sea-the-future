// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../core/libs/gl-matrix-2/factories/vec4f64","../core/shaderLibrary/ShaderOutput","../lib/GLMaterial","../lib/Material","./DefaultBufferWriter","./DefaultLayouts","./TriangleMaterial","../shaders/CheckerBoardTechnique","../shaders/CheckerBoardTechniqueConfiguration","../../../../webscene/support/AlphaCutoff"],function(e,r,t,i,a,s,o,n,u,h,c,l){"use strict";class f extends u.TriangleMaterial{constructor(e){super(e,g),this._configuration=new c.CheckerBoardTechniqueConfiguration,this.produces=new Map([[2,e=>i.isColor(e)&&!this.transparent],[4,e=>i.isColor(e)&&this.transparent&&this.parameters.writeDepth],[8,e=>i.isColor(e)&&this.transparent&&!this.parameters.writeDepth]])}getConfiguration(e,r){return super.getConfiguration(e,r,this._configuration),this._configuration.transparent=this.transparent,this._configuration.writeDepth=this.parameters.writeDepth,this._configuration.polygonOffset=this.parameters.polygonOffset,this._configuration.oitPass=r.oitPass,this._configuration.terrainDepthTest=r.terrainDepthTest,this._configuration.cullAboveTerrain=r.cullAboveTerrain,this._configuration}get visible(){return this.parameters.color1[3]>=l.alphaCutoff||this.parameters.color2[3]>=l.alphaCutoff}get transparent(){return this.parameters.color1[3]<1||this.parameters.color2[3]<1}createGLMaterial(e){return new p(e)}createBufferWriter(){return new o.DefaultBufferWriter(n.PositionUvLayout)}}class p extends a{beginSlot(e){return this.getTechnique(h.CheckerBoardTechnique,e)}}class g extends s.MaterialParameters{constructor(){super(...arguments),this.size=r.fromValues(1,1),this.color1=t.fromValues(.75,.75,.75,1),this.color2=t.fromValues(.5,.5,.5,1),this.writeDepth=!0,this.polygonOffset=!1}}e.CheckerBoardMaterial=f,e.Parameters=g,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});