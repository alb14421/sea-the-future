// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["require","exports","../../support/buffer/InterleavedLayout","../core/shaderLibrary/ShaderOutput","../core/shaderTechnique/ReloadableShaderModule","../core/shaderTechnique/ShaderTechnique","../effects/geometry/olidUtils","../lib/OrderIndependentTransparency","../../../../chunks/HUDMaterial.glsl","../../../webgl/enums","../../../webgl/renderState"],function(e,t,i,r,l,o,n,a,s,u,c){"use strict";class d extends o.ShaderTechnique{constructor(t,i){super(t,i,new l.ReloadableShaderModule(s.HUDMaterial,()=>new Promise((t,i)=>e(["./HUDMaterial.glsl"],t,i))),(n.olidEnabled()?h:p).locations),this.primitiveType=i.occlusionPass?u.PrimitiveType.POINTS:u.PrimitiveType.TRIANGLES}initializePipeline(e){const{oitPass:t,hasPolygonOffset:i,draped:l,output:o,depthTestEnabled:n,occlusionPass:s}=e,u=0===t,d=n&&!l&&!(1===t)&&!s&&!(8===o);return c.makePipelineState({blending:r.isColorOrColorEmission(o)?u?c.premultipliedAlpha:a.oitBlending(t):null,depthTest:n&&!l?{func:515}:null,depthWrite:d?c.defaultDepthWrite:null,drawBuffers:a.getDrawBuffers(t,o),colorWrite:c.defaultColorWrite,polygonOffset:i?f:null})}}const f={factor:0,units:-4},p=i.newLayout().vec3f("position").vec3f("normal").vec2i16("uvi").vec4u8("color").vec2f("size").f32("rotation").vec4f("centerOffsetAndDistance").vec4f("featureAttribute"),h=p.clone().vec4u8("olidColor");t.HUDMaterialTechnique=d,t.layout=p,t.olidLayout=h,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});