// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../core/libs/gl-matrix-2/math/mat4","../../../../../../core/libs/gl-matrix-2/factories/mat4f64","../../../../../../chunks/vec32","../../../../../../core/libs/gl-matrix-2/factories/vec3f64","../../shaderModules/Float3BindUniform","../../shaderModules/Float3DrawUniform","../../shaderModules/FloatBindUniform","../../shaderModules/Matrix4BindUniform","../../shaderModules/Matrix4DrawUniform"],function(i,r,e,a,n,o,t,s,d,c){"use strict";const m=e.create(),l=n.create();i.addCameraPosition=function(i,r){r.instancedDoublePrecision?i.constants.add("cameraPosition","vec3",n.ZEROS):i.uniforms.add(new t.Float3DrawUniform("cameraPosition",(i,r)=>a.set(l,r.camera.viewInverseTransposeMatrix[3]-i.origin[0],r.camera.viewInverseTransposeMatrix[7]-i.origin[1],r.camera.viewInverseTransposeMatrix[11]-i.origin[2])))},i.addPixelRatio=function(i){i.uniforms.add(new s.FloatBindUniform("pixelRatio",i=>i.camera.pixelRatio/i.overlayStretch))},i.addProjViewLocalOrigin=function(i,e){if(!e.instancedDoublePrecision)return void i.uniforms.add(new d.Matrix4BindUniform("proj",i=>i.camera.projectionMatrix),new c.Matrix4DrawUniform("view",(i,e)=>r.translate(m,e.camera.viewMatrix,i.origin)),new t.Float3DrawUniform("localOrigin",i=>i.origin));const n=({camera:i})=>a.set(l,i.viewInverseTransposeMatrix[3],i.viewInverseTransposeMatrix[7],i.viewInverseTransposeMatrix[11]);i.uniforms.add(new d.Matrix4BindUniform("proj",i=>i.camera.projectionMatrix),new d.Matrix4BindUniform("view",i=>r.translate(m,i.camera.viewMatrix,n(i))),new o.Float3BindUniform("localOrigin",i=>n(i)))},i.addViewNormal=function(i){i.uniforms.add(new d.Matrix4BindUniform("viewNormal",i=>i.camera.viewInverseTransposeMatrix))},Object.defineProperty(i,Symbol.toStringTag,{value:"Module"})});