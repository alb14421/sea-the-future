// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../support/debugFlags"],function(e,t){"use strict";let l,n,i=!1,o=!1,s=!1,a=!1,r=null;function u(){r&&(r(),r=null)}function c(e,t,i,o,s){u();const a=l.height,r=n;r.beginPath(),r.lineWidth=1,r.strokeStyle=s,r.moveTo(e,a-i),r.lineTo(t,a-i),r.stroke(),r.lineTo(t,a-o),r.stroke(),r.lineTo(e,a-o),r.stroke(),r.lineTo(e,a-i),r.stroke(),r.closePath()}e.drawAccelerationStruct=function(e){const t=o?e():null;if(!t?.bins)return;u();const l=n;let i=0;for(let e=0;e<t.numX;e++)for(let n=0;n<t.numY;n++){const o=t.bins[e][t.numY-1-n];i+=o.length;const s=e*t.sizeX,a=(e+1)*t.sizeX,r=n*t.sizeY,u=(n+1)*t.sizeY;l.fillText(o.length.toFixed(),s+5,r+15),c(s,a,r,u,"blue")}l.fillText("total totalShownLabels: "+i,70,40),l.fillText("total visible labels: "+t.numVisible,70,50),l.fillText("total numTests: "+t.numTests,70,30)},e.drawPoly=function(e,t,l=!1){i&&(t&&s||!t&&a)&&c(e[0],e[2],e[1],e[3],l?t?"pink":"grey":t?"green":"red")},e.prepare=function(e){s=t.debugFlags.DECONFLICTOR_SHOW_VISIBLE,a=t.debugFlags.DECONFLICTOR_SHOW_INVISIBLE,i=s||a,o=t.debugFlags.DECONFLICTOR_SHOW_GRID,r=null,i||o?(n&&l&&n.clearRect(0,0,l.width,l.height),r=()=>function(e){null==l&&(l=document.createElement("canvas"),l.setAttribute("id","debugCanvas2d"),e.surface.parentElement.style.position="relative",e.surface.parentElement.appendChild(l),l.style.position="absolute",l.style.width="100%",l.style.height="100%",l.style.display="block",l.style.pointerEvents="none",n=l.getContext("2d"),n.font="12px Arial");const{width:t,height:i}=e.state.camera;l.width=t,l.height=i}(e)):l&&(l.parentElement.removeChild(l),l=null)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});