// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../chunks/tslib.es6","../../../core/handleUtils","../../../core/Logger","../../../core/has","../../../core/RandomLCG","../../../core/Error","../../../core/accessorSupport/decorators/subclass","./DynamicLayerView3D","./support/SublayerPopupHighlightHelper3D","../../layers/MapImageLayerView"],function(e,t,i,s,r,a,p,h,o,l){"use strict";let n=class extends(l(h)){constructor(){super(...arguments),this.type="map-image-3d"}initialize(){this._updatingHandles.add(()=>this.exportImageVersion,()=>this._updatingHandles.addPromise(this.refreshDebounced())),this._popupHighlightHelper=new o.SublayerPopupHighlightHelper3D({view:this.view,layerView:this,updatingHandles:this._updatingHandles}),this.addHandles(t.destroyHandle(this._popupHighlightHelper))}fetchPopupFeaturesAtLocation(e,t){return this._popupHighlightHelper.fetchPopupFeaturesAtLocation(e,t)}highlight(e,t){return this._popupHighlightHelper.highlight(e,t)}getFetchOptions(){return{timeExtent:this.timeExtent,scale:this.view.scale}}};return n=e.__decorate([p.subclass("esri.views.3d.layers.MapImageLayerView3D")],n),n});