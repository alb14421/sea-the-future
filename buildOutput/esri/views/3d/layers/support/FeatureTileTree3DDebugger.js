// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../core/reactiveUtils","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../../../core/support/UpdatingHandles","../../../../geometry/Polygon","../../../support/TileTreeDebugger"],function(e,r,t,i,o,a,s,n,g,l,c){"use strict";e.FeatureTileTree3DDebugger=class extends c.TileTreeDebugger{get updating(){return this._watchUpdatingTracking?.updating??!1}constructor(e){super(e),this._watchUpdatingTracking=new g.UpdatingHandles}initialize(){this.addHandles(this.view.enableFeatureTiles()),this._watchUpdatingTracking.addOnCollectionChange(()=>this.view.featureTiles?.tiles,()=>this.update(),t.initial)}destroy(){this._watchUpdatingTracking.destroy()}getTiles(){const e=this.view.featureTiles;if(!e)return[];const r=r=>{const[t,i,o]=r.lij;return l.fromExtent(e.tilingScheme.getExtentGeometry(t,i,o))};return e.tiles.toArray().sort((e,r)=>e.loadPriority-r.loadPriority).map(e=>({...e,level:e.level,geometry:r(e)}))}},r.__decorate([i.property()],e.FeatureTileTree3DDebugger.prototype,"_watchUpdatingTracking",void 0),r.__decorate([i.property()],e.FeatureTileTree3DDebugger.prototype,"updating",null),r.__decorate([i.property()],e.FeatureTileTree3DDebugger.prototype,"view",void 0),e.FeatureTileTree3DDebugger=r.__decorate([n.subclass("esri.views.3d.layers.support.FeatureTileTree3DDebugger")],e.FeatureTileTree3DDebugger),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});