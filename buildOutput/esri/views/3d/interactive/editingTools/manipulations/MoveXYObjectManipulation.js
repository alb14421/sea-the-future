// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../core/handleUtils","../dragEventPipeline3D","./Manipulation","./moveUtils","../../../../interactive/dragEventPipeline"],function(t,e,a,i,n,o){"use strict";class r extends i.Manipulation{constructor(t){super(),this._view=t.view,this._tool=t.tool,this._object=t.object,this._manipulator=this._object.createManipulator?.({selectable:!0,cursor:"move"}),this.forEachManipulator(t=>this._tool.manipulators.add(t))}destroy(){this.forEachManipulator(t=>{this._tool.manipulators.remove(t),t.destroy()}),this._tool=null,this._view=null,this._manipulator=null}forEachManipulator(t){this._manipulator&&t(this._manipulator,1)}createManipulatedObjectDragPipeline(t){return n.createManipulatedMoveDragPipeline(this._object,t,t=>this.createDragPipeline(t))}createDragPipeline(t){if(!this._manipulator)return e.makeHandle();const i=this._view;return o.createManipulatorDragEventPipeline(this._manipulator,(e,n,r,l,s)=>{const c=this._object.operations?.data.spatialReference,p=n.next(t=>c?t:null).next(a.screenToMapXYForManipulatedObject(s,i,this._object,c)).next(o.addMapDelta()).next(o.addScreenDelta());t(e,p,r,l,s)})}}t.MoveXYObjectManipulation=r,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});