// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../Color","../../../../core/Accessor","../../../../core/colorUtils","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../webgl-engine/materials/lineStippleUtils"],function(t,o,e,l,i,s,r,n,c,h,a){"use strict";const p=.3;function d(t,o){o&&Object.assign(t,o)}class u{constructor(t){this.height=90,this.coneHeight=40,this.coneWidth=23,this.width=3,this.renderOccluded=16,this.color=t.accent}}class g{constructor({colors:t,...o}){this.size=11,this.outlineSize=1,this.collisionPadding=9,this.color=t.accent,this.outlineColor=t.outline,this.renderOccluded=16,this.hoverOutlineColor=t.selectedOutline,d(this,o)}applyColor(t){this._apply(this.color,t)}applyOutline(t){this._apply(this.outlineColor,t)}applyHoverOutline(t){this._apply(this.hoverOutlineColor,t)}_apply(t,o){o.setParameters({color:i.unitRGBAFromColor(t),renderOccluded:this.renderOccluded})}}class f{constructor({colors:t,...o}){this.size=40,this.height=.2,this.offset=.25,this.collisionPadding=2,this.renderOccluded=2,this.minSquaredEdgeLength=900,this.color=i.multiplyOpacity(t.accent,.5),this.hoverColor=t.accent,d(this,o)}applyColor(t){this._apply(this.color,t)}applyHover(t){this._apply(this.hoverColor,t)}_apply(t,o){o.setParameters({color:i.unitRGBAFromColor(t),renderOccluded:this.renderOccluded})}}class C{constructor(t){this.vertex=new g({colors:t,color:t.accent,outlineColor:t.outline}),this.edge=new g({colors:t,color:i.desaturate(i.multiplyOpacity(t.accent,2/3),.5),outlineColor:i.multiplyOpacity(t.outline,.5),size:8,collisionPadding:8}),this.selected=new g({colors:t,color:t.selected,outlineColor:t.outline}),this.edgeOffset=new f({colors:t})}}class y{constructor({colors:t,...o}){this.width=1.5,this.stipplePattern=a.createStipplePatternSimple(3.3),this.falloff=0,this.innerWidth=1.5,this.renderOccluded=4,this.color=t.selected,this.stippleOffColor=t.outline,this.innerColor=t.selected,d(this,o)}apply(t){t.color=i.unitRGBAFromColor(this.color),t.width=this.width,t.stipplePattern=this.stipplePattern,t.stippleOffColor=i.unitRGBAFromColor(this.stippleOffColor),t.falloff=this.falloff,t.innerWidth=this.innerWidth,t.innerColor=i.unitRGBAFromColor(this.innerColor),t.renderOccluded=this.renderOccluded}}class w{constructor({colors:t,...o}){this.size=4,this.outlineSize=1,this.shape="square",this.color=t.selected,this.outlineColor=t.outline,d(this,o)}apply(t){t.color=i.unitRGBAFromColor(this.color),t.size=this.size,t.outlineSize=this.outlineSize,t.outlineColor=i.unitRGBAFromColor(this.outlineColor),t.primitive=this.shape}}class O{constructor({colors:t,...o}){this.innerWidth=1,this.glowWidth=8,this.glowFalloff=8,this.globalAlpha=p,this.globalAlphaContrastBoost=1.5,this.radius=3,this.innerColor=t.selected,this.glowColor=t.accent,this.heightFillColor=t.accent,d(this,o)}apply(t,o=1){const l={glowColor:e.toUnitRGB(this.glowColor),glowFalloff:this.glowFalloff,glowWidth:this.glowWidth,innerColor:e.toUnitRGB(this.innerColor),innerWidth:this.innerWidth,globalAlpha:this.globalAlpha*o*this.glowColor.a,globalAlphaContrastBoost:this.globalAlphaContrastBoost,intersectsLineRadius:this.radius};"style"in t?t.style=l:t.laserlineStyle=l}}class m{constructor(t){this.outline=new y({colors:t,color:t.stippleOff,renderOccluded:8,stippleOffColor:t.stippleOn,innerWidth:0}),this.staged=new y({colors:t,color:t.stippleOn,renderOccluded:8,innerColor:t.stagedSolid,stippleOffColor:t.stippleOff}),this.shadowStyle=new O({colors:t,globalAlpha:p,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:1})}}class A{constructor(t){this.outline=new w({colors:t,color:t.selected,outlineColor:t.outline,outlineSize:1,shape:"circle",size:4}),this.shadowStyle=new O({colors:t,globalAlpha:p,glowColor:t.accent,glowFalloff:1.5,glowWidth:6,innerColor:t.selected,innerWidth:1,radius:2})}}class S extends y{constructor({colors:t,...o}){super({colors:t}),this.extensionType=2,d(this,o)}}class b{constructor(t){this.laserlineAlphaMultiplier=1.5,this.heightPlaneAngleCutoff=20,this.lineObjects=new m(t),this.pointObjects=new A(t),this.heightPlane=new O({colors:t,globalAlpha:p,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:1}),this.heightBox=new O({colors:t,globalAlpha:p,glowColor:t.accent,glowFalloff:8,glowWidth:8,innerColor:t.selected,innerWidth:0,heightFillColor:t.accent}),this.zVerticalLine=new S({colors:t,color:i.multiplyOpacity(t.accent,.5),falloff:2,innerColor:i.multiplyOpacity(t.selected,0),renderOccluded:4,stipplePattern:null,width:5,extensionType:2})}}t.Settings=class extends l{constructor(t){super(t)}get colors(){const t=this.getTheme().accentColor,o=t.a;return{accent:t,contrast:i.getContrast(t),selected:e.fromArray([255,255,255,o]),selectedOutline:e.fromArray([255,255,255,o]),staged:e.fromArray([12,207,255,o]),stagedSolid:e.fromArray([12,207,255,1]),outline:e.fromArray([0,0,0,.5*o]),stippleOn:e.fromArray([255,255,255,1]),stippleOff:e.fromArray([0,0,0,.5])}}get visualElements(){return new b(this.colors)}get manipulators(){return new C(this.colors)}get zManipulator(){return new u(this.colors)}},o.__decorate([s.property()],t.Settings.prototype,"colors",null),o.__decorate([s.property()],t.Settings.prototype,"visualElements",null),o.__decorate([s.property()],t.Settings.prototype,"manipulators",null),o.__decorate([s.property()],t.Settings.prototype,"zManipulator",null),o.__decorate([s.property()],t.Settings.prototype,"getTheme",void 0),t.Settings=o.__decorate([h.subclass("esri.views.3d.interactive.editingTools.settings")],t.Settings),Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});