// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../Color","../../../../core/reactiveUtils","../../../../core/libs/gl-matrix-2/factories/vec3f64","./sliceToolConfig","./sliceToolUtils","../../interactive/Manipulator3D","../../interactive/manipulatorUtils","../../interactive/RenderObject","../../webgl-engine/lib/GeometryUtil","../../webgl-engine/materials/RibbonLineMaterial"],function(e,i,t,r,a,n,l,o,s,c,d){"use strict";class u extends l.Manipulator3D{constructor(e,r){const l=n.isDiagonalResizeHandle(r),s=l?a.resizeHandleCornerWidth:a.resizeHandleEdgeWidth,c=s*a.displayFocusMultiplier,u=a.resizeHandleEdgeWidth,b={renderOccluded:4,isDecoration:!0},f=new d.RibbonLineMaterial({...b,width:s}),p=new d.RibbonLineMaterial({...b,width:c}),M=new d.RibbonLineMaterial({...b,width:u});super({view:e,...o.worldScaledManipulatorSettings,...m({isCorner:l,unfocusedMaterial:f,focusedMaterial:p,outlineMaterial:M})}),this._themeHandle=t.watch(()=>e.effectiveTheme.accentColor,e=>{const t=i.toUnitRGBA(e);f.setParameters({color:t}),p.setParameters({color:t}),M.setParameters({color:t})},t.initial)}destroy(){this._themeHandle.remove(),super.destroy()}}function m({isCorner:e,unfocusedMaterial:i,focusedMaterial:t,outlineMaterial:l}){const o=e?[r.fromValues(1,0,0),r.fromValues(0,0,0),r.fromValues(0,1,0)]:[r.fromValues(1,0,0),r.fromValues(-1,0,0)];return{renderObjects:[new s.RenderObject(c.createPolylineGeometry(i,o),1|n.resizeNormal),new s.RenderObject(c.createPolylineGeometry(t,o),2|n.resizeNormal),new s.RenderObject(c.createPolylineGeometry(l,o),n.resizeOutlineOnly)],collisionType:{type:"line",paths:[o]},radius:e?a.resizeHandleCornerInputRadius:a.resizeHandleEdgeInputRadius,state:n.resizeNormal}}e.ResizeManipulator=u,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});