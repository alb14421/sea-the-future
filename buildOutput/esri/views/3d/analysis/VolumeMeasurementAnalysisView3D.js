// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["../../../chunks/tslib.es6","../../../core/Accessor","../../../core/maybe","../../../core/accessorSupport/decorators/property","../../../core/has","../../../core/Logger","../../../core/RandomLCG","../../../core/accessorSupport/decorators/subclass","./AnalysisView3D","./VolumeMeasurement/CutFillVolumeMeasurementController","./VolumeMeasurement/CutFillVolumeMeasurementVisualization"],function(e,t,s,o,r,l,i,a,n,u,y){"use strict";let p=class extends(n.AnalysisView3D(t)){constructor(e){super(e),this.type="volume-measurement-view-3d",this.analysis=null,this.elevationAlignedGeometry=null,this.targetGeometry=null,this.tool=null}initialize(){const{analysis:e,view:t}=this;this._analysisController=new u.CutFillVolumeMeasurementController({view:t,analysis:e,analysisViewData:this}),this._analysisVisualization=new y.CutFillVolumeMeasurementVisualization({view:t,analysisViewData:this})}destroy(){this._analysisController=s.destroyMaybe(this._analysisController),this._analysisVisualization=s.destroyMaybe(this._analysisVisualization)}get result(){return null}get effectiveTargetElevation(){const{targetElevation:e}=this.analysis.cutFillOptions;if(null!=e)return e;const t=this.elevationAlignedGeometry?.extent;return t&&t.zmin&&t.zmax?(t.zmax+t.zmin)/2:null}get updating(){return null!=this._analysisController&&this._analysisController.updating}};return e.__decorate([o.property({readOnly:!0})],p.prototype,"type",void 0),e.__decorate([o.property({constructOnly:!0,nonNullable:!0})],p.prototype,"analysis",void 0),e.__decorate([o.property()],p.prototype,"result",null),e.__decorate([o.property()],p.prototype,"elevationAlignedGeometry",void 0),e.__decorate([o.property({type:Number})],p.prototype,"effectiveTargetElevation",null),e.__decorate([o.property()],p.prototype,"targetGeometry",void 0),e.__decorate([o.property()],p.prototype,"updating",null),p=e.__decorate([a.subclass("esri.views.3d.analysis.VolumeMeasurementAnalysisView3D")],p),p});