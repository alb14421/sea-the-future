// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/vec32","../../../../core/libs/gl-matrix-2/factories/vec3f64","../../../../geometry/Polygon","../../../../chunks/sphere","../../support/mathUtils"],function(e,t,n,r,o,i){"use strict";const c=new r({hasM:!1,hasZ:!0,rings:[[n.create(),n.create(),n.create(),n.create()]],spatialReference:null}),s=n.create();e.bestFitPlane=function(e,t){if(e.length<3)throw new Error("need at least 3 points to fit a plane");i.planeFromPoints(e[0],e[1],e[2],t)},e.boundingSphere=function(e,n){const r=o.getCenter(n);t.set(r,0,0,0);for(let n=0;n<e.length;++n)t.add(r,r,e[n]);t.scale(r,r,1/e.length);let i=0;for(let n=0;n<e.length;++n)i=Math.max(i,t.squaredDistance(r,e[n]));n[3]=Math.sqrt(i)},e.fitHemisphere=function(e,n=null,r=!0){const o=(e,n)=>{if(0===n[0]&&0===n[1]&&0===n[2])return!1;for(let r=0;r<e.length;++r)if(t.dot(n,e[r])<-1e-6)return!1;return!0};if(0===e.length)return!1;if(1===e.length)return n&&t.copy(n,e[0]),!0;t.set(s,0,0,0);for(let n=0;n<e.length;++n)t.add(s,s,e[n]);if(t.normalize(s,s),o(e,s))return n&&t.copy(n,s),!0;if(!r)return!1;for(let r=0;r<e.length;++r)for(let i=0;i<e.length;++i)if(r!==i&&(t.cross(s,e[r],e[i]),t.normalize(s,s),o(e,s)))return n&&t.copy(n,s),!0;return!1},e.isPrimaryPointerAction=function(e){return"mouse"!==e.pointerType||0===e.button},e.planePointDistance=function(e,n){return t.dot(e,n)+e[3]},e.triangleAreaGeodesic=function(e,n,r,o,{geodesicArea:i}){const s=c;return t.copy(s.rings[0][0],e),t.copy(s.rings[0][1],n),t.copy(s.rings[0][2],r),t.copy(s.rings[0][3],e),s.spatialReference=o,s.clearCache(),i(s)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});