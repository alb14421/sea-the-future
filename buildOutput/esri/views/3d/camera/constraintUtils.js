// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./constraintUtils/altitude","./constraintUtils/common","./constraintUtils/ConstraintOptions","./constraintUtils/distance","./constraintUtils/surfaceCollision","./constraintUtils/tilt","../../animation/easing"],function(t,n,i,e,o,r,a,s){"use strict";const l=[{type:1,error:function(t,n,i){return a.getTiltConstraintError(t,n,i)*n.distance},apply:a.applyTiltConstraint},{type:2,error:n.getAltitudeConstraintError,apply:n.applyAltitudeConstraint},{type:4,error:o.getDistanceConstraintError,apply:o.applyDistanceConstraint}],c=new e.ConstraintOptions;t.applyAll=function(t,n,e=c,o=n){o!==n&&o.copyFrom(n),o.computeUp(t.state.viewingMode);let a=!1;for(let n=0;n<5;n++){let n=0;for(const r of l)if(i.hasConstraintType(e.selection,r.type)){const i=Math.abs(r.error(t,o,e));r.apply(t,o,e)&&(a=!0,n+=i)}if(0===n)break}const s=i.hasConstraintType(e.selection,8),p=function(t,n){switch(t){case 4:return 1;case 5:return n.state.isGlobal?2:1;default:return 0}}(e.interactionType,t);return s&&r.applySurfaceCollisionConstraint(t,o,p)&&(a=!0),a&&o.computeUp(t.state.viewingMode),a},t.pixelDistanceToInteractionFactor=function(t){const n=Math.min(1,t/150);return s.inOutCubic(n)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});