// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../core/Logger","../../../../core/has","../../../../core/RandomLCG","../../../../core/Error","../../../../core/accessorSupport/decorators/subclass","../../../2d/engine/flow/dataUtils","../../layers/FlowSubView3D"],function(e,t,s,r,a,n,i,l,o){"use strict";return e.default=class extends o{constructor(e){super(e)}initialize(){this.updatingHandles.add(()=>this.renderedTiles,()=>this.triggerLoad())}async fetchDataAndGenerateStreamlines(e,t){const{simulationSettings:s,workerHandle:r}=this,{size:a,extent:n,timeExtent:i}=e;if(null==s||null==r)return;const o=await l.loadImagery(this.layer,n,a[0],a[1],i,t);if(null==o)return null;const u={simulationSettings:s,size:a,flowData:o},{streamlines:c}=await r.generateStreamlines(u,t);return c}},e.default=t.__decorate([i.subclass("esri.views.3d.support.flow.FlowSubViewExtent3D")],e.default),e.default});