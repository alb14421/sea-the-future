// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/libs/gl-matrix-2/factories/vec2f64","./enums","./Texture","./TextureDescriptor"],function(e,t,r,n,a){"use strict";e.createColormapTexture=function(e,t){const r=new a.TextureDescriptor(t.length/4,1);return r.internalFormat=6408,r.samplingMode=9728,r.wrapMode=33071,new n.Texture(e,r,t)},e.createPixelMaskTexture=function(e,t,i){const u=new a.TextureDescriptor(i[0],i[1]);return u.internalFormat=6406,u.pixelFormat=6406,u.dataType=r.PixelType.UNSIGNED_BYTE,u.samplingMode=9728,u.wrapMode=33071,new n.Texture(e,u,t)},e.createRasterTexture=function(e,t,i="nearest",u=!1){const o=!(u&&"u8"===t.pixelType),s=o?r.PixelType.FLOAT:r.PixelType.UNSIGNED_BYTE,l=null==t.pixels||0===t.pixels.length?null:o?t.getAsRGBAFloat():t.getAsRGBA(),m=e.capabilities.textureFloatLinear,c=new a.TextureDescriptor(t.width,t.height);return c.internalFormat=o?r.SizedPixelFormat.RGBA32F:6408,c.samplingMode=!m||"bilinear"!==i&&"cubic"!==i?9728:9729,c.dataType=s,c.wrapMode=33071,new n.Texture(e,c,l)},e.createTransformTexture=function(e,t){const{spacing:i,offsets:u,coefficients:o,size:[s,l]}=t,m=i[0]>1,c=new a.TextureDescriptor(m?4*s:s,l);c.internalFormat=r.SizedPixelFormat.RGBA32F,c.dataType=r.PixelType.FLOAT,c.samplingMode=9728,c.wrapMode=33071;const f=new Float32Array(m?s*l*16:2*u.length);if(m&&null!=o)for(let e=0,t=0;e<o.length;e++)f[t++]=o[e],e%3==2&&(f[t++]=1);else for(let e=0;e<l;e++)for(let t=0;t<s;t++){const r=4*(e*s+t),n=2*(t*l+e);f[r]=u[n],f[r+1]=u[n+1],f[r+3]=-1===u[n]?0:1}return new n.Texture(e,c,f)},e.getColormapUniforms=function(e,t){return{u_colormapOffset:t||0,u_colormapMaxIndex:e?e.length/4-1:0}},e.getCommonUniforms=function(e,r,n,a=1,i=!0){return{u_flipY:i,u_applyTransform:!!e,u_opacity:a,u_transformSpacing:e?e.spacing:t.ZEROS,u_transformGridSize:e?e.size:t.ZEROS,u_targetImageSize:r,u_srcImageSize:n}},e.getShadedReliefUniforms=function(e){return{u_hillshadeType:e.hillshadeType,u_sinZcosAs:e.sinZcosAs,u_sinZsinAs:e.sinZsinAs,u_cosZs:e.cosZs,u_weights:e.weights,u_factor:e.factor,u_minValue:e.minValue,u_maxValue:e.maxValue}},e.getStretchUniforms=function(e){return{u_bandCount:e.bandCount,u_minOutput:e.minOutput,u_maxOutput:e.maxOutput,u_minCutOff:e.minCutOff,u_maxCutOff:e.maxCutOff,u_factor:e.factor,u_useGamma:e.useGamma,u_gamma:e.gamma,u_gammaCorrection:e.gammaCorrection}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});