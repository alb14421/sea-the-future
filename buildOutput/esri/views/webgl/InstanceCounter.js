// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/object","./AllocationTracer","./enums"],function(e,t,r,n){"use strict";const o={RECORD_ALLOCATIONS:!1};e.InstanceCounter=class{constructor(){for(this._current=new Array,this._allocations=o.RECORD_ALLOCATIONS?new r.AllocationTracer("WebGLObject"):null;this._current.length<n.ResourceType.COUNT;)this._current.push(0)}increment(e,t,r=1){this._current[e]+=r,this._allocations?.add(t)}decrement(e,t,r=1){this._current[e]-=r,this._allocations?.remove(t)}get current(){return this._current}get total(){return this.current.reduce((e,t,r)=>e+(r<n.ResourceType.UNCOUNTED?t:0),0)}get resourceInformation(){let e="";if(this.total>0){e+="Live objects:\n";for(let r=0;r<n.ResourceType.COUNT;++r){const o=this._current[r];o>0&&(e+=`${t.getKey(n.ResourceType,r)}: ${o}\n`)}}return e+=this._allocations?.resetLog(),e}},e.test=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});