// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../chunks/tslib.es6","../../core/Accessor","../../core/accessorSupport/decorators/property","../../core/has","../../core/Logger","../../core/RandomLCG","../../core/accessorSupport/decorators/subclass","../../libs/maquette/projection","../../libs/maquette/h","../../libs/maquette/projector"],function(t,e,s,o,r,i,a,d,h,n,l){"use strict";t.default=class extends s{get startPosition(){return[this.startX,this.startY]}set startPosition(t){this._set("startX",t[0]),this._set("startY",t[1])}get endPosition(){return[this.endX,this.endY]}set endPosition(t){this._set("endX",t[0]),this._set("endY",t[1])}constructor(t){super(t),this.startX=0,this.startY=0,this.endX=0,this.endY=0,this.width=1,this.color=[0,0,0,.5],this.visible=!0,this.isDecoration=!0}get _strokeStyle(){const t=this.color;return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${t[3]})`}get _lineCap(){return"round"}render(){const{height:t,left:e,top:s,width:o,x1:r,x2:i,y1:a,y2:d}=this._calculateCoordinates(p),h=`stroke: ${this._strokeStyle}; stroke-width: ${this.width}; stroke-linecap: ${this._lineCap};`;return n.h("div",{classes:{"esri-line-overlay-item":!0},styles:{left:e+"px",top:s+"px",width:o+"px",height:t+"px",visibility:this.visible?"visible":"hidden"}},[n.h("svg",{width:o,height:t},[n.h("line",{x1:r,y1:a,x2:i,y2:d,style:h})])])}renderCanvas(t){if(!this.visible)return;t.strokeStyle=this._strokeStyle,t.lineWidth=this.width,t.lineCap=this._lineCap;const e=this._calculateCoordinates(p);t.beginPath(),t.moveTo(e.left+e.x1,e.top+e.y1),t.lineTo(e.left+e.x2,e.top+e.y2),t.stroke()}_calculateCoordinates(t){const e=Math.min(this.startX,this.endX),s=Math.max(this.startX,this.endX),o=Math.min(this.startY,this.endY),r=Math.max(this.startY,this.endY),i=this.width;return t.left=e-i,t.top=o-i,t.width=s-e+2*i,t.height=Math.max(20,r-o+2*i),t.x1=this.startX-e+i,t.y1=this.startY-o+i,t.x2=this.endX-e+i,t.y2=this.endY-o+i,t}},e.__decorate([o.property()],t.default.prototype,"startX",void 0),e.__decorate([o.property()],t.default.prototype,"startY",void 0),e.__decorate([o.property()],t.default.prototype,"endX",void 0),e.__decorate([o.property()],t.default.prototype,"endY",void 0),e.__decorate([o.property()],t.default.prototype,"startPosition",null),e.__decorate([o.property()],t.default.prototype,"endPosition",null),e.__decorate([o.property()],t.default.prototype,"width",void 0),e.__decorate([o.property()],t.default.prototype,"color",void 0),e.__decorate([o.property()],t.default.prototype,"visible",void 0),e.__decorate([o.property()],t.default.prototype,"isDecoration",void 0),e.__decorate([o.property({readOnly:!0})],t.default.prototype,"_strokeStyle",null),t.default=e.__decorate([d.subclass("esri.views.overlay.LineOverlayItem")],t.default);const p={left:0,top:0,width:0,height:0,x1:0,y1:0,x2:0,y2:0};return t.default});