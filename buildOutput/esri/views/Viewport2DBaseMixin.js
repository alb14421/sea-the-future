// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../chunks/tslib.es6","../Viewpoint","../core/reactiveUtils","../core/accessorSupport/decorators/property","../core/has","../core/Logger","../core/RandomLCG","../core/accessorSupport/decorators/subclass","./2d/FrameTask","./2d/MapViewConstraints","./2d/ViewStateManager","./2d/support/StationaryManager","./input/ViewEvents"],function(t,e,a,r,n,i,o,s,p,l,d,c,g,y){"use strict";t.Viewport2DBaseMixin=t=>{const i=t;let o=class extends i{constructor(...t){super(...t),this.fullOpacity=1,this.stateManager=new c.ViewStateManager({constraints:new d({view:this})}),this.stationaryManager=new g.StationaryManager,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new l(this),this.viewEvents=new y.ViewEvents(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([r.watch(()=>this.viewpoint,()=>this.stationaryManager.flip(),r.sync)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(t){this.stateManager.extent=t}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(t){const e=this._get("animation");if(t===e)return;if(e&&e.stop(),t!==this.animationManager.animation&&this.animationManager.stop(),!t||t.isFulfilled())return void this._set("animation",null);this._set("animation",t);const a=()=>{this.destroyed||t===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};t.when(a,a)}get constraints(){return this.stateManager?.constraints}set constraints(t){t.view=this;const e=this.stateManager.constraints;this.stateManager.constraints=t,e?.destroy()}get padding(){return this.stateManager?.padding}set padding(t){this.stateManager&&(this.stateManager.padding=t)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(t){this.stateManager.resizeAlign=t}get rotation(){return this.stateManager.rotation??0}set rotation(t){const{rotationEnabled:e}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=t,this.constraints.rotationEnabled=e}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(t){this.stateManager.viewpoint=t,this.frameTask.requestFrame()}};return e.__decorate([n.property({readOnly:!0})],o.prototype,"animationManager",void 0),e.__decorate([n.property({readOnly:!0})],o.prototype,"fullOpacity",void 0),e.__decorate([n.property()],o.prototype,"stateManager",void 0),e.__decorate([n.property()],o.prototype,"constraintsInfo",null),e.__decorate([n.property()],o.prototype,"extent",null),e.__decorate([n.property({readOnly:!0})],o.prototype,"state",null),e.__decorate([n.property({readOnly:!0})],o.prototype,"mapViewNavigation",void 0),e.__decorate([n.property()],o.prototype,"renderingOptions",void 0),e.__decorate([n.property({readOnly:!0})],o.prototype,"interacting",null),e.__decorate([n.property()],o.prototype,"stationary",null),e.__decorate([n.property()],o.prototype,"animation",null),e.__decorate([n.property({type:d})],o.prototype,"constraints",null),e.__decorate([n.property()],o.prototype,"padding",null),e.__decorate([n.property()],o.prototype,"resizeAlign",null),e.__decorate([n.property()],o.prototype,"rotation",null),e.__decorate([n.property({readOnly:!0})],o.prototype,"viewEvents",void 0),e.__decorate([n.property({type:a})],o.prototype,"viewpoint",null),o=e.__decorate([p.subclass("esri.views.Viewport2DBaseMixin")],o),o},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});