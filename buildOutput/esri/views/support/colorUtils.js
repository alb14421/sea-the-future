// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../Color","../../core/colorUtils"],function(t,e,o){"use strict";async function n(t){await t.whenReady();const o=t.basemapView?.baseLayerViews.map(t=>t.layer).toArray()??[];if(!o.length){const o=getComputedStyle(t.container).backgroundColor,n=o?new e(o):void 0;return("background"in t?t.background?.color:void 0)||(0!==n?.a?n:null)||null}const n=(await t.takeScreenshot({format:"png",layers:o})).data.data,r=n.length;let a=0,l=0,u=0,c=0,i=0,s=0;for(let t=0;t<r;t+=4){const e=n[t],o=n[t+1],r=n[t+2],d=n[t+3],g=d/255;a+=e*e*g,l+=o*o*g,u+=r*r*g,i+=g,d&&(c+=d,s++)}return a=Math.round(Math.sqrt(a/i)),l=Math.round(Math.sqrt(l/i)),u=Math.round(Math.sqrt(u/i)),new e([a,l,u,c/s/255])}t.getBackgroundColor=n,t.getBackgroundColorTheme=async function(t){if(!t)return null;const e=await n(t);return null!=e?o.getColorTheme(e):null},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});