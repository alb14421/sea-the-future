// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../core/unitUtils","../../geometry/Extent","../../renderers/support/clickToleranceUtils"],function(e,t,n,r){"use strict";function a(e,r,a,i=new n){let l=0;if("2d"===a.type)l=r*(a.resolution??0);else if("3d"===a.type){const n=a.overlayPixelSizeInMapUnits(e),i=a.basemapSpatialReference;l=null==i||i.equals(a.spatialReference)?r*n:t.getMetersPerUnitForSR(i)/t.getMetersPerUnitForSR(a.spatialReference)}const s=e.x-l,c=e.y-l,o=e.x+l,u=e.y+l,{spatialReference:p}=a;return i.xmin=Math.min(s,o),i.ymin=Math.min(c,u),i.xmax=Math.max(s,o),i.ymax=Math.max(c,u),i.spatialReference=p,i}let i=new n;e.cleanupDrapedUtils=function(){i=new n},e.createQueryGeometry=a,e.intersectsDrapedGeometry=function(e,t,n){const l=n.toMap(e);return null!=l&&a(l,r.calculateTolerance(),n,i).intersects(t)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});