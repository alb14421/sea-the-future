// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/maybe","./shaders/BitBlitPrograms","../../../webgl/enums","../../../webgl/ProgramTemplate","../../../webgl/VertexArrayObject","../../../webgl/VertexAttributeLayouts","../../../webgl/VertexBuffer"],function(e,t,r,i,s,a,n,o){"use strict";e.BitBlitRenderer=class{constructor(){this._initialized=!1}dispose(){this._program=t.disposeMaybe(this._program),this._vertexArrayObject=t.disposeMaybe(this._vertexArrayObject)}render(e,t,r,s){e&&(this._initialized||this._initialize(e),e.setBlendFunctionSeparate(1,771,1,771),e.bindVAO(this._vertexArrayObject),e.useProgram(this._program),t.setSamplingMode(r),e.bindTexture(t,0),this._program.setUniform1i("u_tex",0),this._program.setUniform1f("u_opacity",s),e.drawArrays(i.PrimitiveType.TRIANGLE_STRIP,0,4),e.bindTexture(null,0),e.bindVAO(null))}_initialize(e){if(this._initialized)return!0;const t=new Int8Array(16);t[0]=-1,t[1]=-1,t[2]=0,t[3]=0,t[4]=1,t[5]=-1,t[6]=1,t[7]=0,t[8]=-1,t[9]=1,t[10]=0,t[11]=1,t[12]=1,t[13]=1,t[14]=1,t[15]=1;const i=new a.VertexArrayObject(e,new o.VertexBuffer(e,n.PosTex2b,t));return this._program=s.createProgram(e,r.bitBlit,i.locations),this._vertexArrayObject=i,this._initialized=!0,!0}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});