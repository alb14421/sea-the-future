// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../../../chunks/tslib.es6","../../../../GraphShaderModule","../../../../graph/glsl"],function(t,e,o,a){"use strict";class r extends o.UniformGroup{}e.__decorate([o.uniform(a.Sampler2D)],r.prototype,"image1",void 0),e.__decorate([o.uniform(a.Float)],r.prototype,"image1Const",void 0),e.__decorate([o.uniform(a.Mat3)],r.prototype,"imageSwap",void 0);class i extends o.UniformGroup{}e.__decorate([o.uniform(a.Sampler2D)],i.prototype,"image1",void 0),e.__decorate([o.uniform(a.Sampler2D)],i.prototype,"image2",void 0),e.__decorate([o.uniform(a.Float)],i.prototype,"image1Const",void 0),e.__decorate([o.uniform(a.Float)],i.prototype,"image2Const",void 0),e.__decorate([o.uniform(a.Mat3)],i.prototype,"imageSwap",void 0),t.MultiRasterMixin=t=>{const n=t;class s extends n{constructor(){super(...arguments),this.constantCount=0,this.imageCount=1}_getRasterValues(t){const{imageCount:e}=this;if(1===e){const e=a.texture2D(this.config.texture,t);return{a:e.r,b:e.g,c:e.b,alpha:e.a}}if(2===e){const e=this._getTwoValues(t);return{a:e.a,b:e.b,c:e.b,alpha:e.alpha}}return this._getThreeValues(t)}_getTwoValues(t){const e=a.texture2D(this.config.texture,t);if(1===this.constantCount){const{imageSwap:t,image1Const:o}=this.twoRasterConfig,r=t.multiply(new a.Vec3(e.r,o,0));return{a:r.x,b:r.y,alpha:e.a}}const{image1:o}=this.twoRasterConfig,r=a.texture2D(o,t);return{a:e.r,b:r.r,alpha:e.a.multiply(r.a)}}_getThreeValues(t){const e=a.texture2D(this.config.texture,t),{imageSwap:o,image1:r,image2:i,image1Const:n,image2Const:s}=this.threeRasterConfig;if(2===this.constantCount){const t=o.multiply(new a.Vec3(e.r,n,s));return{a:t.x,b:t.y,c:t.z,alpha:e.a}}if(1===this.constantCount){const i=a.texture2D(r,t),s=o.multiply(new a.Vec3(e.r,i.r,n));return{a:s.x,b:s.y,c:s.z,alpha:e.a.multiply(i.a)}}const u=a.texture2D(r,t),p=a.texture2D(i,t);return{a:e.r,b:u.r,c:p.r,alpha:e.a.multiply(u.a).multiply(p.a)}}}return e.__decorate([o.define],s.prototype,"constantCount",void 0),e.__decorate([o.define],s.prototype,"imageCount",void 0),e.__decorate([o.option(r)],s.prototype,"twoRasterConfig",void 0),e.__decorate([o.option(i)],s.prototype,"threeRasterConfig",void 0),s},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});