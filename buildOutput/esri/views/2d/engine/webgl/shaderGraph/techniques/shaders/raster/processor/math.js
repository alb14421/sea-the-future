// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../../../layers/support/rasterFunctions/pixelUtils","../../../../graph/glsl"],function(e,t,n){"use strict";e.computeMapValue=function(e,t,c){const u=new n.Vec3(e);let i=new n.Vec3(0,0,0),o=new n.Float(0);for(let e=0;e<c/3;e++){const c=9*e,r=new n.Vec3(t[c],t[c+3],t[c+6]),l=new n.Vec3(t[c+1],t[c+4],t[c+7]),a=n.step(r,u).multiply(n.step(u,l)),s=new n.Vec3(t[c+2],t[c+5],t[c+8]);o=n.mix(o,s.x,a.x),o=n.mix(o,s.y,a.y),o=n.mix(o,s.z,a.z),i=i.add(a)}return{mapValue:o,includeMask:n.sign(n.dot(i,new n.Vec3(1,1,1)))}},e.computeSingleBandRangeFactor=function(e,c){let u=new n.Vec3(0,0,0);const i=new n.Vec3(e);for(let e=0;e<t.maxMapSizeGpu/3;e++){const t=6*e,o=new n.Vec3(c[t],c[t+2],c[t+4]),r=new n.Vec3(c[t+1],c[t+3],c[t+5]);u=u.add(n.step(o,i).multiply(n.step(i,r)))}return n.sign(n.dot(u,new n.Vec3(1,1,1)))},e.getRangeClipFactor=function(e,t){return n.step(t.x,e).multiply(n.step(e,t.y))},e.invertValue=function(e){const t=n.sign(e),c=e.add(n.abs(t).subtract(1));return t.multiply(t).divide(c)},e.roundOutput=function(e){return new n.Vec4(n.floor(e.rgb.add(.5)),e.a)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});