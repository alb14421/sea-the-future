// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../FeatureTechnique","../featureTechniqueUtils","./utils","../shaders/GradientStrokeShader"],function(e,t,i,s,r){"use strict";class a extends t.FeatureTechnique{constructor(){super(...arguments),this.type=11,this.shaders={geometry:new r.GradientStrokeShader},this.symbologyPlane=1}_getShaderOptions(e,t,r){const{context:a,painter:n,pixelRatio:o}=e,l=t.instance.getInput();return{shader:this.shaders.geometry,uniforms:{...i.resolveDynamicUniforms(e,t.target,l.uniforms),...i.getFeatureUniforms(e,t.target),antialiasingControls:s.getAntialiasingControls(o),mosaicInfo:n.textureManager.getMosaicInfo(a,t.textureKey),technique:{isColorPass:r}},defines:{...i.getSelectionDefines(e)},optionalAttributes:l.optionalAttributes,useComputeBuffer:i.isHittest(e)}}render(e,t){const{painter:s}=e;if(i.isHittest(e)||i.isHighlight(e)){const r=i.getFeaturePipelineState(e);return s.setPipelineState(r),s.setShader(this._getShaderOptions(e,t,1)),void s.submitDraw(e,t)}e.context.setClearDepth(1),e.context.clear(256),s.setShader(this._getShaderOptions(e,t,0)),s.setPipelineState({color:!1,depth:{write:{zNear:0,zFar:1},test:513},stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7680}}}}),s.submitDraw(e,t),s.setShader(this._getShaderOptions(e,t,1)),s.setPipelineState({color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:{write:!1,test:515},stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7680}}}}),s.submitDraw(e,t)}}e.GradientStrokeTechnique=a,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});