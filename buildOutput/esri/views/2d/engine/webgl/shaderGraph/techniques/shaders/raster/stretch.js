// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../../chunks/tslib.es6","../../../GraphShaderModule","../../../graph/glsl","../utils"],function(t,o,e,r,i){"use strict";class u extends e.UniformGroup{}o.__decorate([e.uniform(r.Float)],u.prototype,"minOutput",void 0),o.__decorate([e.uniform(r.Float)],u.prototype,"maxOutput",void 0),o.__decorate([e.uniform(r.Vec3)],u.prototype,"minCutOff",void 0),o.__decorate([e.uniform(r.Vec3)],u.prototype,"maxCutOff",void 0),o.__decorate([e.uniform(r.Vec3)],u.prototype,"factor",void 0),o.__decorate([e.uniform(r.Vec3)],u.prototype,"gamma",void 0),o.__decorate([e.uniform(r.Vec3)],u.prototype,"gammaCorrection",void 0),t.StretchConfig=u,t.stretch=function(t,o,e,u=255){const a=e?function(t,o){const{minCutOff:e,maxCutOff:u,minOutput:a,maxOutput:n,gamma:c,gammaCorrection:m}=o,p=r.clamp(t,e,u).subtract(e),d=u.subtract(e),f=p.divide(d),l=r.step(new r.Float(1),c),s=r.sign(c.subtract(1)),y=n.subtract(a),_=new r.Vec3(1),g=r.pow(_.divide(y),f.multiply(m)),v=i.oneMinus(l.multiply(s).multiply(g)),O=r.pow(f,_.divide(c)),b=v.multiply(y).multiply(O).add(a);return r.clamp(b,a,n)}(t.rgb,o).divide(u):function(t,o){const{minCutOff:e,maxCutOff:i,factor:u,minOutput:a}=o;return r.clamp(t,e,i).subtract(e).multiply(u).add(a)}(t.rgb,o);return new r.Vec4(a,t.a)},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});