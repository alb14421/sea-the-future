// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../../../chunks/tslib.es6","../../../../GraphShaderModule","../../../../graph/glsl","./BaseRasterProcessorShader","./math"],function(t,e,s,r,o,a){"use strict";class n extends s.UniformGroup{}e.__decorate([s.uniform(r.Float)],n.prototype,"contrastOffset",void 0),e.__decorate([s.uniform(r.Float)],n.prototype,"brightnessOffset",void 0);class i extends o.BaseRasterProcessorShader{constructor(){super(...arguments),this.type="ContrastBrightnessShader"}_process(t){const{rgb:e,a:s}=this._getPixel(t),{contrastOffset:o,brightnessOffset:n}=this.contrastBrightnessConfig,i=new r.Float(255),d=new r.Float(128),l=e.multiply(200),u=i.multiply(100),c=i.multiply(2).multiply(n),p=l.subtract(u).add(c),h=r.cond([r.equal(o,new r.Float(-100)),new r.Vec3(d)],[r.equal(o,new r.Float(100)),r.sign(p).add(1).divide(2).multiply(i)],[r.greaterThan(o,new r.Float(0)),p.divide(new r.Float(100).subtract(o).multiply(2)).add(d)],[!0,p.multiply(o.add(100)).divide(2e4).add(d)]);return a.roundOutput(new r.Vec4(h,s))}}e.__decorate([s.uniform(n)],i.prototype,"contrastBrightnessConfig",void 0),t.ContrastBrightnessShader=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});