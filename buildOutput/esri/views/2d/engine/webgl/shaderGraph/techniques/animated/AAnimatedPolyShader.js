// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl","./AAnimatedShader","../markers/markerConstants","../shaders/utils","../shaders/vvUtils"],function(e,t,o,l,a,i,s,n){"use strict";class r extends a.AAnimatedVertexInput{}t.__decorate([o.location(9,l.Vec4)],r.prototype,"tlbr",void 0);class c extends o.ComputeVertexInput{}t.__decorate([o.location(13,l.Vec2)],c.prototype,"nextPos1",void 0),t.__decorate([o.location(14,l.Vec2)],c.prototype,"nextPos2",void 0);class d extends a.AAnimatedFragmentInput{}class u extends a.AAnimatedShader{_fragmentPoly(e){const t=l.mod(e.uv,new l.Float(1)),o=l.mix(e.tlbr.xy,e.tlbr.zw,t);return this._getColor(o,{color:e.color,distanceToPx:e.distanceToPx,isSDF:e.isSDF,outlineColor:e.outlineColor,outlineSize:e.strokeWidth})}_vertexPoly(e){const{position:t,animationPointer:o,evalParams:r,isOutline:c,unscaledDistanceToPx:d,vvScale:u,strokeWidth:m,scaleSymbolsProportionally:p,scale:y,isSDF:x,baseSize:g,clip:P}=this._vertexPreamble(e,new l.Float(0),e.lineLength||new l.Float(0)),h=this._toNdc(t);let V=a.getValue(o,1,r);V=new l.Vec4(V.rgb.multiply(V.a),V.a);let b=a.getValue(o,2,r);b=new l.Vec4(b.rgb.multiply(b.a),b.a);let S=a.getValue(o,3,r);S=new l.Vec4(S.rgb.multiply(S.a),S.a);const v=a.getValue(o,4,r).a,_=a.getValue(o,5,r).a,A=n.getVisualVariableColor(this,e.id,V,l.or(s.getBitBool(e.bitset,i.MarkerConstants.bitset.colorLocked),new l.Bool(c))),F=l.mix(A,b,S),k=n.getVisualVariableOpacity(this,e.id),w=l.mix(k,v,_),C=F.multiply(w),z=this.clip(e.id,e.zoomRange).add(P.multiply(2)),D=d.multiply(u);return{unscaledDistanceToPx:d,vvScale:u,strokeWidth:m,scaleSymbolsProportionally:p,scale:y,isSDF:x,baseSize:g,ndc:h,color:C,z,isOutline:c,evalParams:r,distanceToPx:D}}}e.AAnimatedPolyShader=u,e.PolyFragmentInput=d,e.PolyHittestVertexInput=c,e.PolyVertexInput=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});