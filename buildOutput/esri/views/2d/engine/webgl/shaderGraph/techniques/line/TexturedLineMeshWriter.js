// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../core/screenUtils","../../../../../../../geometry/GeometryCursor","../../../definitions","../fill/meshWriterUtils","./LineMeshWriter","../shaders/constants","../../../../../../webgl/enums"],function(e,t,s,r,i,a,n,c){"use strict";const o={createComputedParams:e=>e,optionalAttributes:a.LineVertexSpec.optionalAttributes,attributes:{...a.LineVertexSpec.attributes,bitset:{type:c.DataType.UNSIGNED_BYTE,count:1,pack:({shouldSampleAlphaOnly:e,shouldScaleDash:t,isSDF:s})=>i.packBitset([[n.bitsetGenericConsiderAlphaOnly,e],[n.bitsetLineScaleDash,t],[n.bitsetLineIsSdf,s]])},tlbr:{type:c.DataType.UNSIGNED_SHORT,count:4,pack:({sprite:e})=>{const{rect:t,width:s,height:i}=e,a=t.x+r.spritePadding,n=t.y+r.spritePadding;return[a,n,a+s,n+i]}},accumulatedDistance:{type:c.DataType.UNSIGNED_SHORT,count:1,packTessellation:({distance:e})=>e},segmentDirection:{type:c.DataType.BYTE,count:2,packPrecisionFactor:16,packTessellation:({directionX:e,directionY:t})=>[e,t]},offsetAlongLine:{type:c.DataType.HALF_FLOAT,count:1,pack:({offsetAlongLine:e})=>t.pt2px(e)},capType:{type:c.DataType.UNSIGNED_BYTE,count:1,pack:({capType:e})=>{switch(e){case"Butt":case"butt":default:return 0;case"Square":case"square":return 1;case"Round":case"round":return 2}}}}};class p extends a.LineMeshWriter{constructor(e,t,s,r){super(e,t,s,r),this.vertexSpec=o,this._tessellationOptions.textured=!0}_write(e,t,r){const i=r??s.GeometryCursor.fromFeatureSetReaderCIM(t);if(!i)return;const{sprite:a}=this.evaluatedMeshParams;this._writeGeometry(e,t,i,a?.textureBinding)}}e.TexturedLineMeshWriter=p,e.texturedLineVertexSpec=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});