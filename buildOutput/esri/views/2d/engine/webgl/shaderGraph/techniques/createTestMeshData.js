// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../geometry/SpatialReference","../../../../../../geometry/support/jsonUtils","../../../../../../layers/support/FieldsIndex","../../mesh/MeshData","./createMeshWriter","./mesh/AResourceProxy","../../../../layers/features/support/ComputedAttributeStorage","../../../../layers/features/support/FeatureMetadata","../../../../layers/features/support/FeatureSetReaderJSON"],function(e,t,r,a,o,s,n,u,i,d){"use strict";class c extends n.AResourceProxy{fetchDictionaryResourceImmediate(e){throw new Error("Method not implemented.")}fetchResourceImmediate(e){throw new Error("Method not implemented.")}enqueueRequest(e){throw new Error("Method not implemented.")}fetchEnqueuedResources(){throw new Error("Method not implemented.")}getResource(e){throw new Error("Method not implemented.")}}e.createTestMeshData=async function(e){const n=new o.MeshData("0.0.0.0"),m=new c,l={},p={fields:new a,spatialReference:t.WebMercator},h={$view:{scale:0,timeZone:null,timeProperties:{currentStart:null,currentEnd:null}}},f=new u.ComputedAttributeStorage(p);for(const t of e){const e=await s.createMeshWriter(f,m,l,t.instanceId,t.meshParams,t.meshWriterClass);t.feature.displayId=t.feature.attributes.objectId;const a=d.FeatureSetReaderJSON.fromFeatures([t.feature],i.FeatureMetadata.minimal(r.getJsonType(t.feature.geometry),"objectId",[]));a.next(),n.entityStart(a.getDisplayId(),0),e.write(n,m,a,h,0),n.entityEnd()}return n.serialize().message},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});