// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./FeatureTechnique","./mesh/MeshWriter","./shaders/TestShader","../../../../../webgl/enums"],function(e,t,r,i,s){"use strict";const a={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{ref:e=>e.stencilRef,compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}};class o extends t.FeatureTechnique{constructor(){super(...arguments),this.type=24,this.shaders={geometry:new i.TestShader}}render(e,t){const{painter:r}=e,i=t.instance.getInput();r.setShader({shader:this.shaders.geometry,uniforms:{dataDrivenColor:i.uniforms.dataDrivenColor,view:{zoomLevel:1}},defines:{returnRed:!1},optionalAttributes:{},useComputeBuffer:!1}),r.setPipelineState(a),r.submitDraw(e,t)}}const n={createComputedParams:e=>e,optionalAttributes:{},attributes:{pos:{type:s.DataType.SHORT,count:2,pack:"position",packPrecisionFactor:10},id:{type:s.DataType.UNSIGNED_BYTE,count:3,pack:"id"},bitset:{type:s.DataType.UNSIGNED_BYTE,count:1},size:{type:s.DataType.UNSIGNED_BYTE,count:1,packPrecisionFactor:10,pack:e=>.2},offset:{type:s.DataType.INT,count:2,packPrecisionFactor:10,packAlternating:{count:4,pack:()=>[[-1,1],[1,1],[-1,-1],[1,-1]]}},color:{type:s.DataType.UNSIGNED_BYTE,count:4,normalized:!0,pack:({color:e})=>e}}};class c extends r.MeshWriter{constructor(){super(...arguments),this.vertexSpec=n}_write(e,t){e.recordStart(this.instanceId,this.attributeLayout);const r=e.vertexCount(),i=t.readXForDisplay(),s=t.readYForDisplay();this._writeVertex(e,655360,i,s),e.indexWrite(r+0),e.indexWrite(r+1),e.indexWrite(r+2),e.indexWrite(r+1),e.indexWrite(r+3),e.indexWrite(r+2),e.recordEnd()}}e.TestMeshWriter=c,e.TestTechnique=o,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});