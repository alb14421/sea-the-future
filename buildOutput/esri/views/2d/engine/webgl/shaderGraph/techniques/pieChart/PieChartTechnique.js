// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../FeatureTechnique","../featureTechniqueUtils","./PieChartShader"],function(e,t,i,s){"use strict";class r extends t.FeatureTechnique{constructor(){super(...arguments),this.type=23,this.shaders={geometry:new s.PieChartShader},this.symbologyPlane=2}render(e,t){const{painter:s}=e,{instance:r,target:a}=t,n=this.shaders.geometry,h=r.getInput(),u=h.uniforms.numberOfFields,o=i.isHittest(e),l=i.getFeatureUniforms(e,a),S=i.getSelectionDefines(e);n.setNumberOfFields(u),s.setShader({shader:n,uniforms:{...i.resolveDynamicUniforms(e,t.target,h.uniforms.shader),...l.storage,...l.view,...l.highlight,highlightUniforms:l.highlight,hittestUniforms:l.hittestRequest?{hittestDist:l.hittestRequest?.distance,hittestPos:l.hittestRequest?.position}:null},defines:{VV_SIZE_MIN_MAX_VALUE:!!h.uniforms.shader.visualVariableSizeMinMaxValue,VV_SIZE_SCALE_STOPS:!!h.uniforms.shader.visualVariableSizeScaleStops,VV_SIZE_FIELD_STOPS:!!h.uniforms.shader.visualVariableSizeStops,VV_SIZE_UNIT_VALUE:!!h.uniforms.shader.visualVariableSizeUnitValue,VV_OPACITY:!!h.uniforms.shader.visualVariableOpacity,HITTEST:o,highlight:l.highlight?1:0,...S,numberOfFields:u},optionalAttributes:{},useComputeBuffer:o}),s.setPipelineState(i.getFeaturePipelineState(e)),s.submitDraw(e,t)}}e.PieChartTechnique=r,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});