// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../../chunks/tslib.es6","../../../GraphShaderModule","../../../graph/glsl","../bitmapUtils","../utils","./sampleBilinear"],function(e,t,n,r,o,i,c){"use strict";class u extends n.UniformGroup{}t.__decorate([n.uniform(r.Sampler2D)],u.prototype,"transformTexture",void 0),t.__decorate([n.uniform(r.Vec2)],u.prototype,"targetImageSize",void 0),t.__decorate([n.uniform(r.Vec2)],u.prototype,"transformSpacing",void 0),t.__decorate([n.uniform(r.Vec2)],u.prototype,"transformGridSize",void 0),e.ProjectionConfig=u,e.getPixel=function(e,t,n){const{bicubic:i=!1,bilinear:u=!1,nearestOnEdge:a=!1}=n??{};return i||u?i?o.sampleBicubicBSpline(t.texture,e,t.srcImageSize):c.sampleBilinear(t.texture,e,t.srcImageSize,a):r.texture2D(t.texture,e)},e.getPixelLocation=function(e,t,n=!1){return t?n?function(e,t){const n=r.texture2D(t.transformTexture,e);return new r.Vec2(n.r,n.g)}(e,t):function(e,t){const{transformTexture:n,targetImageSize:o,transformSpacing:i}=t,c=r.floor(e.multiply(o)),u=new r.Vec2(4,1),a=r.floor(c.divide(i)).multiply(u),l=r.fract(c.add(new r.Vec2(.5,.5)).divide(i)),s=new r.IVec2(r.int(a.x),r.int(a.y)),d=new r.Vec3(l,1);return r.ifElse(r.lessThanEqual(l.x,l.y),function(e,t,n){const o=r.texelFetch(e,t,new r.Int(0)),i=new r.IVec2(t.x.add(1),t.y),c=r.texelFetch(e,i,new r.Int(0));return new r.Vec2(r.dot(o.rgb,n),r.dot(c.rgb,n))}(n,s,d),function(e,t,n){const o=new r.IVec2(t.x.add(2),t.y),i=r.texelFetch(e,o,new r.Int(0)),c=new r.IVec2(t.x.add(3),t.y),u=r.texelFetch(e,c,new r.Int(0));return new r.Vec2(r.dot(i.rgb,n),r.dot(u.rgb,n))}(n,s,d))}(e,t):e},e.isOutside=function(e){const t=r.step(new r.Vec2(-1e-5,-1e-5),e).multiply(r.step(e,new r.Vec2(1.00001,1.00001))),n=i.oneMinus(t.x.multiply(t.y));return new r.Bool(n)},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});