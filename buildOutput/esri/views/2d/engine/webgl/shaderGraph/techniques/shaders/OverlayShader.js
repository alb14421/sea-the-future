// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../../chunks/tslib.es6","../../GraphShaderModule","../../graph/glsl"],function(e,t,o,r){"use strict";class i extends o.VertexInput{}t.__decorate([o.location(0,r.Vec2)],i.prototype,"pos",void 0),t.__decorate([o.location(1,r.Vec2)],i.prototype,"uv",void 0);class n extends o.FragmentInput{}class p extends o.UniformGroup{}t.__decorate([o.uniform(r.Mat3)],p.prototype,"dvs",void 0);class a extends o.UniformGroup{}t.__decorate([o.uniform(r.Vec2)],a.prototype,"perspective",void 0),t.__decorate([o.uniform(r.Vec2)],a.prototype,"texSize",void 0),t.__decorate([o.uniform(r.Float)],a.prototype,"wrapAroundShift",void 0),t.__decorate([o.uniform(r.Float)],a.prototype,"opacity",void 0),t.__decorate([o.uniform(r.Sampler2D)],a.prototype,"texture",void 0);class d extends o.GraphShaderModule{constructor(){super(...arguments),this.type="OverlayShader"}vertex(e){const t=e.uv.divide(this.config.texSize),o=new r.Float(1).add(r.dot(t,this.config.perspective)),i=new r.Vec3(e.pos.add(new r.Vec2(this.config.wrapAroundShift,0)),1),n=this.transform.dvs.multiply(i);return{uv:t,glPosition:new r.Vec4(n.xy.multiply(o),0,o)}}fragment(e){const t=r.texture2D(this.config.texture,e.uv).multiply(this.config.opacity),i=new o.FragmentOutput;return i.fragColor=t,i}}t.__decorate([o.uniform(p)],d.prototype,"transform",void 0),t.__decorate([o.uniform(a)],d.prototype,"config",void 0),t.__decorate([t.__param(0,o.input(i))],d.prototype,"vertex",null),t.__decorate([t.__param(0,o.input(n))],d.prototype,"fragment",null),e.OverlayShader=d,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});