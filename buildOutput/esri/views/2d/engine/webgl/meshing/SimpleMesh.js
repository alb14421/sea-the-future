// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","./definitions","./Mesh","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],function(e,t,i,n,r){"use strict";const o={position:{type:n.DataType.SHORT,count:2}};class s extends i.Mesh{static create(e,i){const n=[];let{stride:o}=i;if(null==o){o=0;for(const[e,{count:n,type:r,offset:s}]of Object.entries(i.layout)){if(null!=s)throw new Error("Stride cannot be computed automatically when attribute offsets are supplied explicitly.");o+=n*t.dataSizeInBytes[r]}}let a=0;for(const[e,{count:s,offset:l,type:u,normalized:c}]of Object.entries(i.layout)){null!=l&&(a=l);const i=new r.VertexElementDescriptor(e,s,u,a,o,null!=c&&c,0);n.push(i),a+=s*t.dataSizeInBytes[u]}const l={primitive:i.primitive};null!=i.index&&(l.index="indexData");let{count:u}=i;if(null==u&&(u=i.index?i.index.length:i.vertex.byteLength/o,Math.floor(u)!==u))throw new Error(`The byte length of vertex data must be an exact multiple of the stride, which is ${o}.`);const c={start:0,count:u,group:0,primitive:i.primitive},p={vertex:{vertexData:{data:i.vertex,layout:n}},parts:[c],groups:[l]};return null!=i.index&&(p.index={indexData:{data:i.index}}),new s(e,p,i.layout)}static fromVertexStream(e,t){return s.create(e,{primitive:n.PrimitiveType.TRIANGLE_STRIP,vertex:new Uint16Array(t),layout:o})}constructor(e,t,i){super(e,t),this._spec=i}bind(e,t,i=0){super.bind(e,t,i)}}e.SimpleMesh=s,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});