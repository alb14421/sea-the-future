// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../core/Accessor","../../../../core/has","../../../../core/promiseUtils","../../../../core/accessorSupport/decorators/property","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass"],function(e,t,i,s,o,r,a,n,d){"use strict";e.FadeTransition=class extends i{constructor(e){super(e),this.computedOpacity=1,this.computedVisible=!0,this.opacity=1,this.visible=!0,this._fadeOutResolver=null,this._fadeInResolver=null}get transitioning(){return(this._fadeOutResolver||!this.visible?0:this.opacity)!==this.computedOpacity}endTransition(){this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeInResolver=this._fadeOutResolver=null,this.computedOpacity=this.visible?this.opacity:0}fadeIn(){return this._fadeInResolver||(this.opacity=1,this.computedOpacity=0,this._fadeOutResolver?.(),this._fadeOutResolver=null,this._fadeInResolver=o.createResolver()),this._fadeInResolver.promise}fadeOut(){return this._fadeOutResolver||(this.opacity=0,this._fadeInResolver?.(),this._fadeInResolver=null,this._fadeOutResolver=o.createResolver()),this._fadeOutResolver.promise}transitionStep(e,t){const i=s("mapview-transitions-duration"),o=i?1/i:0;if(0===o)this.computedOpacity=this.opacity,this.computedVisible=this.visible;else{const t=this._fadeOutResolver||!this.visible?0:this.opacity,i=this.computedOpacity;if(i===t)this.computedVisible=this.visible;else{const s=e*o;this.computedOpacity=i>t?Math.max(t,i-s):Math.min(t,i+s),this.computedVisible=this.computedOpacity>0}}this.transitioning||(this._fadeInResolver?.(),this._fadeOutResolver?.(),this._fadeOutResolver=this._fadeInResolver=null)}},t.__decorate([r.property()],e.FadeTransition.prototype,"computedOpacity",void 0),t.__decorate([r.property()],e.FadeTransition.prototype,"computedVisible",void 0),t.__decorate([r.property()],e.FadeTransition.prototype,"opacity",void 0),t.__decorate([r.property()],e.FadeTransition.prototype,"visible",void 0),t.__decorate([r.property()],e.FadeTransition.prototype,"transitioning",null),t.__decorate([r.property()],e.FadeTransition.prototype,"_fadeOutResolver",void 0),t.__decorate([r.property()],e.FadeTransition.prototype,"_fadeInResolver",void 0),e.FadeTransition=t.__decorate([d.subclass("esri.views.2d.engine.transitions.FadeTransition")],e.FadeTransition),Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});