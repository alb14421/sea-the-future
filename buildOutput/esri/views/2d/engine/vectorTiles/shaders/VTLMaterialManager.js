// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["./Programs"],function(e){"use strict";return class{constructor(){this._programByKey=new Map}dispose(){this._programByKey.forEach(e=>e.dispose()),this._programByKey.clear()}getMaterialProgram(e,r,t){const a=r.key<<3|this._getMaterialOptionsValue(r.type,t);if(this._programByKey.has(a))return this._programByKey.get(a);const s=this._getProgramTemplate(r.type),{shaders:n}=s,{vertexShader:c,fragmentShader:i}=n(t),o=r.getShaderHeader(),u=r.getShaderMain(),g=c.replace("#pragma header",o).replace("#pragma main",u),p=e.programCache.acquire(g,i,r.getAttributeLocations());return this._programByKey.set(a,p),p}_getMaterialOptionsValue(e,r){switch(e){case 0:case 1:return(r.pattern?1:0)<<1;case 2:case 5:case 6:default:return 0;case 3:{const e=r;return(e.sdf?1:0)<<2|(e.pattern?1:0)<<1}case 4:return(r.sdf?1:0)<<1}}_getProgramTemplate(r){switch(r){case 0:return e.background;case 5:return e.circle;case 1:return e.fill;case 4:return e.icon;case 3:return e.line;case 2:return e.outline;case 6:return e.text;default:return null}}}});