// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../geometry/support/coordsUtils","../../../../geometry/support/TileClipper"],function(t,n,e){"use strict";const o=Number.POSITIVE_INFINITY,r=Math.PI,i=2*r,c=128/r,s=256/360,u=r/180,a=1/Math.LN2;function l(t,n){return(t%=n)>=0?t:t+n}t.between=function(t,n,e){return t>=n&&t<=e||t>=e&&t<=n},t.c2pi=i,t.cDegTo256=s,t.cDegToRad=u,t.cInfinity=o,t.cPi=r,t.cRadTo256=c,t.degToByte=function(t){return l(t*s,256)},t.distanceFromToPolylineWithinThreshold=function(t,e,o,r){let i,c,s,u;const a=r*r;for(const r of o){const o=r.length;if(!(o<2)){i=r[0].x,c=r[0].y;for(let l=1;l<o;++l){if(s=r[l].x,u=r[l].y,n.distanceToSegmentSquared(t,e,i,c,s,u)<a)return!0;i=s,c=u}}}return!1},t.getTileMargins=function(t){return 8+Math.max(16*(t-14),0)},t.interpolate=function(t,n,e){return t*(1-e)+n*e},t.isCircleOverlapingRect=function(t,n,e,o,r,i,c){const s=Math.max(o,Math.min(n,i))-n,u=Math.max(r,Math.min(e,c))-e;return s*s+u*u<=t*t},t.log2=function(t){return Math.log(t)*a},t.offsetLine=function(t,n){if(0===n||Number.isNaN(n))return t;const o=[],r=new e.Point(0,0),i=new e.Point(0,0),c=new e.Point(0,0);for(let s=0;s<t.length;s++){const u=t[s],a=[];for(let t=0;t<u.length;t++){const o=u[t-1],s=u[t],l=u[t+1];0===t?r.setCoords(0,0):r.assignSub(s,o).normalize().rightPerpendicular(),t===u.length-1?i.setCoords(0,0):i.assignSub(l,s).normalize().rightPerpendicular(),c.assignAdd(r,i).normalize();const f=c.x*i.x+c.y*i.y;0!==f&&c.scale(1/f),a.push(e.Point.add(s,c.scale(n)))}o.push(a)}return o},t.pointInPolygon=function(t,n,e){let o,r,i,c=0;for(const s of e){o=s.length;for(let e=1;e<o;++e)r=s[e-1],i=s[e],r.y>n!=i.y>n&&((i.x-r.x)*(n-r.y)-(i.y-r.y)*(t-r.x)>0?c++:c--)}return 0!==c},t.positiveMod=l,t.radToByte=function(t){return l(t*c,256)},t.sqr=function(t){return t*t},t.translateAnchor=function(t,n,o,r){const i=new e.Point(t[0],t[1]);if(i.scale(r),"viewport"===n){const t=-o*(Math.PI/180),n=Math.cos(t),e=Math.sin(t);i.rotate(n,e)}return i},Object.defineProperty(t,Symbol.toStringTag,{value:"Module"})});