// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../Viewpoint","../../../core/mathUtils","../../../geometry/Point","../../../geometry/support/pointUtils","../viewpointUtils"],function(e,t,o,i,r,n){"use strict";e.Camera=class{constructor(e){this._view=e,this.viewpoint=new t({targetGeometry:new i,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,t]=this._view.size;return Math.sqrt(e*e+t*t)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return n.getScaleToResolutionFactor(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,t){t.pan=r.distance(this.center,e.center);let i=Math.abs(e.rotation-this.rotation);i=i>=180?360-i:i,t.rotate=o.deg2rad(i),t.sourceZoom=this.scale,t.targetZoom=e.scale}interpolate(e,t,i){const{pan:r,rotate:n,zoom:s,zoomOffset:a}=i,{center:c}=this;c.spatialReference=e.center.spatialReference,c.x=o.lerp(e.center.x,t.center.x,r),c.y=o.lerp(e.center.y,t.center.y,r),this.viewpoint.scale=o.lerp(e.scale,t.scale+a,s);let l=e.rotation;const p=t.rotation;Math.abs(p-l)>=180&&(l+=360*(l<p?1:-1)),this.viewpoint.rotation=o.lerp(l,p,n)}copyFrom(e){n.copy(this.viewpoint,e.viewpoint),this._view=e.view}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});