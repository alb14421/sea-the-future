// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../../../core/string","../../../../../../layers/support/labelingInfo","../../layerAdapters/geometryUtils","./symbols/SymbolSchema"],function(e,a,l,s,n){"use strict";e.createLabelMatcherSchema=async function(e,o,i){const t=o.labelsVisible&&o.labelingInfo||[],r=s.getServiceGeometryType(o),c=l.validateLabelingInfo(t,r);return{type:"label",classes:await Promise.all(c.map((l,s)=>async function(e,l,s,o,i,t,r){const c=a.numericHash(`${o} ${i}`),b=await n.createSymbolMeshSchemas(l,{schemaOptions:e,uniforms:r,labelClassId:c});return{maxScale:l.maxScale,minScale:l.minScale,deconflictionEnabled:"none"!==l.deconflictionStrategy&&s,expression:l.labelExpressionInfo?.expression??l.labelExpression,where:l.where,meshes:b,labelClassId:c,geometryType:t}}(e,l,o.labelsVisible,o.labelingInfoSource,s,r,i)))}},Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});