// All material copyright Esri, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.34/esri/copyright.txt for details.
//>>built
define(["exports","../../../../chunks/tslib.es6","../../../../Viewpoint","../../../../core/Accessor","../../../../core/accessorSupport/decorators/property","../../../../core/has","../../../../core/Logger","../../../../core/RandomLCG","../../../../core/accessorSupport/decorators/subclass","../../../../core/libs/gl-matrix-2/math/vec2","../../../../core/libs/gl-matrix-2/factories/vec2f64","../../../../geometry/Point","../../viewpointUtils"],function(e,t,o,r,i,s,a,n,c,p,d,u,v){"use strict";const l=d.create(),g=d.create();return e.default=class extends r{constructor(e){super(e),this._previousCenter=d.create(),this.viewpoint=new o({targetGeometry:new u,scale:0,rotation:0})}begin(e,t){this.navigation.begin(),p.set(this._previousCenter,t.center.x,t.center.y)}update(e,t){const{state:{size:o,padding:r}}=e;p.set(l,t.center.x,t.center.y),v.getAnchor(g,o,r),e.viewpoint=v.rotateBy(this.viewpoint,e.state.paddedViewState.viewpoint,v.angleBetween(g,this._previousCenter,l)),p.copy(this._previousCenter,l)}end(){this.navigation.end()}},t.__decorate([i.property()],e.default.prototype,"viewpoint",void 0),t.__decorate([i.property()],e.default.prototype,"navigation",void 0),e.default=t.__decorate([c.subclass("esri.views.2d.navigation.actions.Rotate")],e.default),e.default});