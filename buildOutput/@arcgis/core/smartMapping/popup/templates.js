/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import e from"../../core/Error.js";import t from"../../PopupTemplate.js";import{f as n}from"../../chunks/messages.js";import{h as r,a as o,b as s,e as i,c as p,g as a}from"../../chunks/utils20.js";import l from"../../popup/ExpressionInfo.js";import m from"../../popup/FieldInfo.js";import{getArcadeForOrderedFields as u,getArcadeForPredominantCategoryAlias as f,fieldNamesFromFieldInfos as c,getArcadeForPredominantCategoryValue as d,getArcadeForStrengthOfPredominance as y,getArcadeForPredominanceMargin as j,getArcadeForSumOfFields as h}from"../statistics/support/predominanceUtils.js";import{s as I}from"../../chunks/substitute.js";import b from"../../popup/support/FieldInfoFormat.js";import{createPopupTemplate as g}from"../../support/popupUtils.js";import"../../core/lang.js";import"../../chunks/Logger.js";import"../../config.js";import"../../chunks/object.js";import"../../chunks/string.js";import"../../chunks/tslib.es6.js";import"../../core/Clonable.js";import"../../core/Accessor.js";import"../../core/Handles.js";import"../../chunks/maybe.js";import"../../core/accessorSupport/decorators/subclass.js";import"../../chunks/Lifecycle.js";import"../../chunks/metadata.js";import"../../chunks/utils.js";import"../../chunks/handleUtils.js";import"../../chunks/tracking.js";import"../../chunks/ensureType.js";import"../../chunks/MapUtils.js";import"../../chunks/Warning.js";import"../../chunks/get.js";import"../../chunks/ObjectPool.js";import"../../chunks/ObservableBase.js";import"../../core/accessorSupport/decorators/property.js";import"../../chunks/watch.js";import"../../core/scheduling.js";import"../../chunks/nextTick.js";import"../../chunks/PooledArray.js";import"../../core/promiseUtils.js";import"../../chunks/events.js";import"../../chunks/SetUtils.js";import"../../chunks/SimpleTrackingTarget.js";import"../../core/Collection.js";import"../../core/Evented.js";import"../../chunks/shared.js";import"../../chunks/SimpleObservable.js";import"../../chunks/jsonUtils.js";import"../../core/JSONSupport.js";import"../../core/accessorSupport/decorators/cast.js";import"../../chunks/reader.js";import"../../chunks/writer.js";import"../../layers/support/fieldUtils.js";import"../../core/sql.js";import"../../chunks/guards.js";import"../../chunks/datetime.js";import"../../popup/content.js";import"../../popup/content/AttachmentsContent.js";import"../../popup/content/Content.js";import"../../popup/support/AttachmentsOrderByInfo.js";import"../../chunks/jsonMap.js";import"../../popup/content/CustomContent.js";import"../../popup/content/ExpressionContent.js";import"../../popup/ElementExpressionInfo.js";import"../../popup/content/FieldsContent.js";import"../../chunks/enumeration.js";import"../../chunks/date.js";import"../../chunks/locale.js";import"../../chunks/constants.js";import"../../popup/content/MediaContent.js";import"../../popup/content/BarChartMediaInfo.js";import"../../popup/content/mixins/ChartMediaInfo.js";import"../../popup/content/mixins/MediaInfo.js";import"../../popup/content/support/ChartMediaInfoValue.js";import"../../Color.js";import"../../chunks/colorUtils.js";import"../../chunks/mathUtils.js";import"../../popup/content/support/ChartMediaInfoValueSeries.js";import"../../chunks/chartMediaInfoUtils.js";import"../../popup/content/ColumnChartMediaInfo.js";import"../../popup/content/ImageMediaInfo.js";import"../../popup/content/support/ImageMediaInfoValue.js";import"../../popup/content/LineChartMediaInfo.js";import"../../popup/content/PieChartMediaInfo.js";import"../../popup/content/RelationshipContent.js";import"../../popup/support/RelatedRecordsInfoFieldOrder.js";import"../../popup/content/TextContent.js";import"../../popup/content/UtilityNetworkAssociationsContent.js";import"../../popup/support/UtilityNetworkAssociationType.js";import"../../popup/LayerOptions.js";import"../../popup/RelatedRecordsInfo.js";import"../../support/actions/ActionBase.js";import"../../core/Identifiable.js";import"../../support/actions/ActionButton.js";import"../../support/actions/ActionToggle.js";import"../../renderers/support/utils.js";import"../../chunks/numberUtils.js";import"../../intl.js";import"../../chunks/number.js";import"../../request.js";import"../../kernel.js";import"../../core/urlUtils.js";import"../../chunks/persistableUrlUtils.js";import"../../chunks/assets.js";import"../../renderers/visualVariables/support/ColorStop.js";import"../../chunks/utils7.js";import"../../chunks/basemapUtils.js";import"../../chunks/utils5.js";import"../../chunks/screenUtils.js";import"../../chunks/mat4.js";import"../../chunks/common.js";import"../../chunks/basemapDefinitions.js";import"../../chunks/timeZoneUtils.js";import"../../chunks/utils8.js";import"../../chunks/asyncUtils.js";import"../../chunks/vec3f64.js";import"../../chunks/jsonUtils2.js";import"../../chunks/parser.js";import"../../symbols/support/cimSymbolUtils.js";import"../../chunks/utils6.js";import"../../chunks/defaultCIMValues.js";import"../../chunks/gfxUtils.js";import"../../chunks/LRUCache.js";import"../../chunks/MemCache.js";import"../../chunks/Symbol3DMaterial.js";import"../../chunks/materialUtils.js";import"../../chunks/opacityUtils.js";import"../../chunks/typeUtils2.js";import"../../symbols/CIMSymbol.js";import"../../symbols/Symbol.js";import"../../symbols/LabelSymbol3D.js";import"../../symbols/Symbol3D.js";import"../../chunks/collectionUtils.js";import"../../portal/Portal.js";import"../../core/Loadable.js";import"../../core/Promise.js";import"../../geometry/Extent.js";import"../../geometry/Geometry.js";import"../../geometry/SpatialReference.js";import"../../chunks/unitUtils.js";import"../../chunks/pe.js";import"../../geometry/Point.js";import"../../geometry/support/webMercatorUtils.js";import"../../portal/PortalGroup.js";import"../../portal/PortalQueryParams.js";import"../../portal/PortalQueryResult.js";import"../../portal/PortalUser.js";import"../../portal/PortalFolder.js";import"../../symbols/ExtrudeSymbol3DLayer.js";import"../../symbols/Symbol3DLayer.js";import"../../chunks/utils3.js";import"../../symbols/edges/Edges3D.js";import"../../symbols/edges/SketchEdges3D.js";import"../../symbols/edges/SolidEdges3D.js";import"../../symbols/FillSymbol3DLayer.js";import"../../symbols/patterns/LineStylePattern3D.js";import"../../symbols/patterns/StylePattern3D.js";import"../../chunks/utils4.js";import"../../chunks/colors.js";import"../../chunks/symbolLayerUtils3D.js";import"../../chunks/aaBoundingBox.js";import"../../chunks/aaBoundingRect.js";import"../../chunks/DoubleArray.js";import"../../symbols/IconSymbol3DLayer.js";import"../../symbols/LineSymbol3DLayer.js";import"../../symbols/LineStyleMarker3D.js";import"../../chunks/lineMarkers.js";import"../../symbols/ObjectSymbol3DLayer.js";import"../../symbols/PathSymbol3DLayer.js";import"../../symbols/TextSymbol3DLayer.js";import"../../symbols/Font.js";import"../../symbols/WaterSymbol3DLayer.js";import"../../symbols/support/StyleOrigin.js";import"../../chunks/Thumbnail.js";import"../../chunks/calloutUtils.js";import"../../symbols/callouts/Callout3D.js";import"../../symbols/callouts/LineCallout3D.js";import"../../symbols/support/Symbol3DVerticalOffset.js";import"../../symbols/LineSymbol3D.js";import"../../symbols/MeshSymbol3D.js";import"../../symbols/PictureFillSymbol.js";import"../../symbols/FillSymbol.js";import"../../symbols/SimpleLineSymbol.js";import"../../symbols/LineSymbol.js";import"../../symbols/LineSymbolMarker.js";import"../../chunks/urlUtils.js";import"../../symbols/PictureMarkerSymbol.js";import"../../symbols/MarkerSymbol.js";import"../../symbols/PointSymbol3D.js";import"../../symbols/PolygonSymbol3D.js";import"../../core/reactiveUtils.js";import"../../symbols/SimpleFillSymbol.js";import"../../symbols/SimpleMarkerSymbol.js";import"../../symbols/TextSymbol.js";import"../../symbols/WebStyleSymbol.js";import"../../chunks/colorRampUtils2.js";import"../../chunks/utils17.js";import"../../chunks/timeUtils.js";import"../../renderers/support/HeatmapColorStop.js";import"../../chunks/visualVariableUtils.js";import"../../Graphic.js";import"../../geometry/support/jsonUtils.js";import"../../geometry/Multipoint.js";import"../../chunks/zmUtils.js";import"../../geometry/Polygon.js";import"../../chunks/coordsUtils.js";import"../../chunks/extentUtils.js";import"../../chunks/boundsUtils.js";import"../../geometry/Polyline.js";import"../../chunks/typeUtils.js";import"../../chunks/createFeatureId.js";import"../../chunks/lengthUtils.js";import"../../chunks/utils18.js";import"../../layers/support/CodedValueDomain.js";import"../../layers/support/Domain.js";import"../../layers/support/InheritedDomain.js";import"../../layers/support/RangeDomain.js";import"../../layers/support/Field.js";import"../../chunks/domains.js";import"../../chunks/fieldType.js";import"../../rest/support/StatisticDefinition.js";import"../../chunks/utils14.js";import"../../chunks/quantizationUtils.js";import"../../chunks/heatmapUtils.js";import"../../chunks/vec4.js";import"../../chunks/vec4f64.js";import"../../chunks/utils13.js";import"../../chunks/generateRendererUtils.js";async function k(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("class-breaks"!==o?.type)throw new e("class-breaks-popup:invalid-parameters","renderer.type must be 'class-breaks'");return{layer:n,renderer:o}}async function x(e,n,r="divide"){const{fieldInfos:i,expressionInfos:p}=await o({renderer:e,layer:n,normFieldExpressionTemplate:r});return new t({content:await s(n,{fieldInfos:i,expressionInfos:p}),fieldInfos:i,expressionInfos:p})}async function w(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("dot-density"!==o?.type)throw new e("dot-density-popup:invalid-parameters","renderer.type must be 'dot-density'");return{layer:n,renderer:o}}async function v(e,n){const{fieldInfos:r,expressionInfos:i}=await o({renderer:e,layer:n});return new t({content:await s(n,{fieldInfos:r,expressionInfos:i}),expressionInfos:i,fieldInfos:r})}async function S(e,n,r){const{fieldInfos:s,expressionInfos:p}=await o({renderer:e,layer:n}),a=s.filter(e=>!e.fieldName?.includes(i)),f={fieldInfo:new m({fieldName:"expression/dot-density-categories-list"}),expressionInfo:new l({name:"dot-density-categories-list",title:r.listOfCategories,expression:u(a,p)})},c=new t({expressionInfos:[f.expressionInfo],fieldInfos:[f.fieldInfo],title:r.competingFields,content:`{${f.fieldInfo.fieldName}}`});return{name:"dot-density-categories-list",title:r.orderedListOfValues,value:c}}async function C(e,n,r){const{fieldInfos:s,expressionInfos:p}=await o({renderer:e,layer:n}),a=s.filter(e=>!e.fieldName?.includes(i)),u={fieldInfo:new m({fieldName:"expression/dot-density-category"}),expressionInfo:new l({name:"dot-density-category",title:r.predominantCategory,expression:f(a,p)})},c=new t({expressionInfos:[u.expressionInfo,...p],fieldInfos:[u.fieldInfo,...s],content:[{type:"text",text:`<div><b><font size="3">{${u.fieldInfo.fieldName}}</font></b></div>`},{type:"media",mediaInfos:{type:"pie-chart",title:r.competingFields,value:{fields:s.map(e=>e.fieldName)}}}]});return{name:"dot-density-category-chart",title:r.predominantCategoryWithChart,value:c}}async function U(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("heatmap"!==o?.type)throw new e("heatmap-popup:invalid-parameters","renderer.type must be 'heatmap'");return{layer:n,renderer:o}}function M(e,t){return e.legendOptions?.title??t.competingFields}function N(e,t){return{fieldInfo:new m({fieldName:"expression/predominant-category"}),expressionInfo:new l({name:"predominant-category",title:t.predominantCategory,expression:f(e)})}}function T(e,t){const n=c(e);return{fieldInfo:new m({fieldName:"expression/predominant-value",format:new b({digitSeparator:!0,places:1})}),expressionInfo:new l({name:"predominant-value",title:t.predominantCategoryValue,expression:d(n),returnType:"number"})}}function P(e,t){const n=c(e);return{fieldInfo:new m({fieldName:"expression/predominant-strength",format:new b({digitSeparator:!0,places:0})}),expressionInfo:new l({name:"predominant-strength",title:t.strengthOfPredominance,expression:y(n),returnType:"number"})}}function D(e,n){const r=N(e.fieldInfos,n),o=new t({expressionInfos:[r.expressionInfo],fieldInfos:[r.fieldInfo],content:I(n.predominantCategoryContent,{expression:`<b>{${r.fieldInfo.fieldName}}</b>`})});return{name:"predominant-category",title:n.predominantCategory,value:o}}function L(e,n){const{fieldInfos:r}=e,o=N(r,n),s=T(r,n),i=new t({expressionInfos:[s.expressionInfo,o.expressionInfo],fieldInfos:[s.fieldInfo,o.fieldInfo],content:I(n.predominantCategoryValueContent,{expression1:`<b>{${o.fieldInfo.fieldName}}</b>`,expression2:`<b>{${s.fieldInfo.fieldName}}</b>`})});return{name:"predominant-category-value",title:n.predominantCategoryValue,value:i}}function F(e,n){const{fieldInfos:r}=e,o=N(r,n),s=T(r,n),i=function(e,t){const n=c(e);return{fieldInfo:new m({fieldName:"expression/predominant-margin",format:new b({digitSeparator:!0,places:0})}),expressionInfo:new l({name:"predominant-margin",title:t.marginOfVictory,expression:j(n),returnType:"number"})}}(r,n),p=new t({expressionInfos:[s.expressionInfo,o.expressionInfo,i.expressionInfo],fieldInfos:[s.fieldInfo,o.fieldInfo,i.fieldInfo],title:I(n.mostCommon,{expression:"{expression/predominant-category}"}),content:I(n.predominantCategoryValueMarginContent,{expression1:`<b>{${o.fieldInfo.fieldName}}</b>`,expression2:`<b>{${s.fieldInfo.fieldName}}</b>`,expression3:`<b>{${i.fieldInfo.fieldName}}</b>`})});return{name:"predominant-category-value-margin",title:n.marginOfVictory,value:p}}function $(e,n){const{fieldInfos:r}=e,o=N(r,n),s=T(r,n),i=P(r,n),p=new t({expressionInfos:[s.expressionInfo,o.expressionInfo,i.expressionInfo],fieldInfos:[s.fieldInfo,o.fieldInfo,i.fieldInfo],content:I(n.predominantCategoryStrengthContent,{expression1:`{${s.fieldInfo.fieldName}}`,expression2:`<b>{${o.fieldInfo.fieldName}}</b>`,expression3:`<b>{${i.fieldInfo.fieldName}}%</b>`})});return{name:"predominant-category-strength",title:n.strengthOfPredominance,value:p}}function O(e,n){const{renderer:r,fieldInfos:o}=e,s=N(o,n),i=T(o,n),p=P(o,n),a=function(e,t){return{fieldInfo:new m({fieldName:"expression/predominant-categories-list"}),expressionInfo:new l({name:"predominant-categories-list",title:t.listOfCategories,expression:u(e)})}}(o,n),f=new t({expressionInfos:[s.expressionInfo,i.expressionInfo,p.expressionInfo,a.expressionInfo],fieldInfos:[s.fieldInfo,i.fieldInfo,p.fieldInfo,a.fieldInfo],title:M(r,n),content:[{type:"text",text:I(n.predominantCategoryStrengthContent,{expression1:`{${i.fieldInfo.fieldName}}`,expression2:`<b>{${s.fieldInfo.fieldName}}</b>`,expression3:`<b>{${p.fieldInfo.fieldName}}%</b>`})},{type:"text",text:`{${a.fieldInfo.fieldName}}`}]});return{name:"predominant-categories-list",title:n.orderedListOfValues,value:f}}function V(e,n){const{fieldInfos:r}=e,o=N(r,n),s=T(r,n),i=P(r,n),p=function(e,t){const n=c(e);return{fieldInfo:new m({fieldName:"expression/predominant-total",format:new b({digitSeparator:!0,places:0})}),expressionInfo:new l({name:"predominant-total",title:t.sumOfCategories,expression:h(n),returnType:"number"})}}(r,n),a=new t({expressionInfos:[s.expressionInfo,o.expressionInfo,p.expressionInfo,i.expressionInfo],fieldInfos:[s.fieldInfo,o.fieldInfo,p.fieldInfo,i.fieldInfo],content:I(n.predominantCategoryTotalStrengthContent,{expression1:`{${s.fieldInfo.fieldName}}`,expression2:`<b>{${o.fieldInfo.fieldName}}</b>`,expression3:`<b>{${i.fieldInfo.fieldName}}%</b>`,expression4:`{${p.fieldInfo.fieldName}}`})});return{name:"predominant-category-total-strength",title:n.predominantCategoryWithTotalAndStrength,value:a}}function q(e,n){const{renderer:r,fieldInfos:o}=e,s=N(o,n),i=T(o,n),p=P(o,n),a=new t({expressionInfos:[i.expressionInfo,s.expressionInfo,p.expressionInfo],fieldInfos:[i.fieldInfo,s.fieldInfo,p.fieldInfo],title:M(r,n),content:[{type:"text",text:I(n.predominantCategoryStrengthContent,{expression1:`{${i.fieldInfo.fieldName}}`,expression2:`<b>{${s.fieldInfo.fieldName}}</b>`,expression3:`<b>{${p.fieldInfo.fieldName}}%</b>`})},{type:"media",mediaInfos:{type:"pie-chart",value:{fields:o.map(e=>e.fieldName)}}}]});return{name:"predominant-category-chart",title:n.predominantCategoryWithChart,value:a}}async function A(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("unique-value"!==o?.type)throw new e("predominance-popup:invalid-parameters","renderer.type must be 'unique-value'");const s=function(t,n){const r=t.authoringInfo,o="predominance"===r?.type?r.fields:[];if(!o?.length)throw new e("predominance-popup:insufficient-info","unable to find input fields in authoringInfo");return o.map(e=>p(n,e))}(o,n);return{renderer:o,fieldInfos:s}}async function E(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("unique-value"!==o?.type)throw new e("relationship-popup:invalid-parameters","renderer.type must be 'unique-value'");const s=o.authoringInfo;if(!s||"relationship"!==s.type)throw new e("relationship-popup:invalid-parameters","renderer.authoringInfo.type must be 'relationship'");if(!s.field1?.field||!s.field2?.field)throw new e("relationship-popup:invalid-parameters","'field1' and/or 'field2' properties are missing in renderer.authoringInfo");return{layer:n,renderer:o}}async function R(e,n,r="divide"){const{fieldInfos:i,expressionInfos:p}=await o({renderer:e,layer:n,normFieldExpressionTemplate:r});return new t({content:await s(n,{fieldInfos:i,expressionInfos:p}),fieldInfos:i,expressionInfos:p})}async function B(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("simple"!==o?.type)throw new e("simple-popup:invalid-parameters","renderer.type must be 'simple'");return{layer:n,renderer:o}}async function W(e,n,r="divide"){const{fieldInfos:i,expressionInfos:p}=await o({renderer:e,layer:n,normFieldExpressionTemplate:r});return new t({content:await s(n,{fieldInfos:i,expressionInfos:p}),expressionInfos:p,fieldInfos:i})}async function z(t){const{layer:n,renderer:r}=t;await n.load();const o=r??("renderer"in n?n.renderer:void 0);if("unique-value"!==o?.type)throw new e("unique-values-popup:invalid-parameters","renderer.type must be 'unique-value'");return{layer:n,renderer:o}}async function G(e,n,r="divide"){const{fieldInfos:i,expressionInfos:p}=await o({renderer:e,layer:n,normFieldExpressionTemplate:r});return new t({content:await s(n,{fieldInfos:i,expressionInfos:p}),fieldInfos:i,expressionInfos:p})}async function H(i){const{renderer:p,layer:l}=function(t){const{layer:n}=t,r=t.renderer??("renderer"in n?n.renderer:void 0);if(!r)throw new e("getTemplates:invalid-parameters","'renderer' or 'layer.renderer' must be provided");return{layer:n,renderer:r}}(i);if(!p)return null;if("simple"===p.type)return async function(e){const[{renderer:t,layer:o},s]=await Promise.all([B(e),n("esri/smartMapping/t9n/smartMapping")]),i=[];if(!a(t).length){const e=g(o);return e?{primaryTemplate:{name:"simple",title:s.simple,value:e},secondaryTemplates:i}:null}const p={name:"simple",title:s.simple,value:await W(t,o)};return r(t)&&i.push({name:"simple-percent",title:s.simpleNormFieldAsPercent,value:await W(t,o,"percentage")}),{primaryTemplate:p,secondaryTemplates:i}}({renderer:p,layer:l});if("class-breaks"===p.type)return async function(e){const[{renderer:t,layer:o},s]=await Promise.all([k(e),n("esri/smartMapping/t9n/smartMapping")]),i={name:"class-breaks",title:s.classBreaks,value:await x(t,o)},p=[];return r(t)&&p.push({name:"class-breaks-percent",title:s.classBreaksNormFieldAsPercent,value:await x(t,o,"percentage")}),{primaryTemplate:i,secondaryTemplates:p}}({renderer:p,layer:l});if("dot-density"===p.type)return async function(e){const[{renderer:t,layer:r},o]=await Promise.all([w(e),n("esri/smartMapping/t9n/smartMapping")]);return{primaryTemplate:{name:"dot-density",title:o.dotDensity,value:await v(t,r)},secondaryTemplates:[await S(t,r,o),await C(t,r,o)]}}({renderer:p,layer:l});if("heatmap"===p.type)return async function(e){const[{renderer:r,layer:i},p]=await Promise.all([U(e),n("esri/smartMapping/t9n/smartMapping")]);if(!r.field)return null;const{fieldInfos:a}=await o({renderer:r,layer:i}),l=new t({content:await s(i,{fieldInfos:a}),fieldInfos:a});return{primaryTemplate:{name:"heatmap",title:p.heatmap,value:l},secondaryTemplates:[]}}({renderer:p,layer:l});if("unique-value"===p.type){const e=p.authoringInfo?.type;return"predominance"===e?async function(e){const[t,r]=await Promise.all([A(e),n("esri/smartMapping/t9n/smartMapping")]),o=O(t,r),s=await async function(e){const[t,r]=await Promise.all([A(e),n("esri/smartMapping/t9n/smartMapping")]);return[D(t,r),L(t,r),F(t,r),V(t,r),O(t,r),$(t,r),q(t,r)]}(e);return{primaryTemplate:o,secondaryTemplates:s.filter(e=>e.name!==o.name)}}({renderer:p,layer:l}):"relationship"===e?async function(e){const[{renderer:t,layer:r},o]=await Promise.all([E(e),n("esri/smartMapping/t9n/smartMapping")]),s={name:"relationship",title:o.relationshipPopupTitle,value:await R(t,r)},i=[];return function(e){const t=e.authoringInfo;return!(!t?.field1?.normalizationField&&!t?.field2?.normalizationField)}(t)&&i.push({name:"relationship-percent",title:o.relationshipNormFieldAsPercent,value:await R(t,r,"percentage")}),{primaryTemplate:s,secondaryTemplates:i}}({renderer:p,layer:l}):async function(e){const[{renderer:t,layer:o},s]=await Promise.all([z(e),n("esri/smartMapping/t9n/smartMapping")]),i={name:"unique-values",title:s.uniqueValues,value:await G(t,o)},p=[];return r(t)&&p.push({name:"unique-values-percent",title:s.uniqueValuesNormFieldAsPercent,value:await G(t,o,"percentage")}),{primaryTemplate:i,secondaryTemplates:p}}({renderer:p,layer:l})}return null}export{H as getTemplates};
