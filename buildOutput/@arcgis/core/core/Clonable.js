/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as s}from"../chunks/tslib.es6.js";import t from"./Accessor.js";import{tryClone as o}from"./lang.js";import"../chunks/Logger.js";import{b as r}from"../chunks/maybe.js";import{g as n}from"../chunks/utils.js";import{subclass as e}from"./accessorSupport/decorators/subclass.js";import"./Handles.js";import"../chunks/get.js";import"../chunks/Lifecycle.js";import"../chunks/metadata.js";import"../chunks/ObjectPool.js";import"../chunks/ObservableBase.js";import"../chunks/handleUtils.js";import"../chunks/tracking.js";import"./accessorSupport/decorators/property.js";import"../chunks/ensureType.js";import"../chunks/MapUtils.js";import"./Error.js";import"../chunks/object.js";import"../chunks/watch.js";import"./scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"./promiseUtils.js";import"../chunks/events.js";import"../chunks/SetUtils.js";import"../chunks/SimpleTrackingTarget.js";import"../config.js";import"../chunks/string.js";import"../chunks/Warning.js";const c=t=>{const c=t;let i=class extends c{clone(s){const t=n(this);r(t,"unable to clone instance of non-accessor class");const e=t.metadata,c=t.store,i={},p=new Map;for(const t in e){const r=e[t],n=c?.originOf(t),m=r.clonable;if(r.readOnly||!1===m||7!==n&&0!==n&&5!==n&&4!==n)continue;const u=this[t];let a=null;if("function"==typeof m)a=m(u,s);else if("reference"===m)a=u;else if(a=o(u,s),null!=u&&null==a)continue;0===n?p.set(t,a):i[t]=a}const m=new(0,Object.getPrototypeOf(this).constructor)(i);if(p.size){const s=n(m)?.store;if(s)for(const[t,o]of p)s.set(t,o,0)}return m}};return i=s([e("esri.core.Clonable")],i),i},i=c(t);export{i as Clonable,c as ClonableMixin};
