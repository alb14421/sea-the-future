/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as s}from"../../chunks/tslib.es6.js";import{property as e}from"../../core/accessorSupport/decorators/property.js";import"../../core/lang.js";import"../../chunks/Logger.js";import{subclass as t}from"../../core/accessorSupport/decorators/subclass.js";import{l as o}from"../../chunks/componentsUtils.js";import"../../chunks/widgetUtils.js";import{t as r}from"../../chunks/jsxFactory.js";import{V as i}from"../../chunks/ValuePickerBaseComponent.js";import"../../chunks/ensureType.js";import"../../chunks/MapUtils.js";import"../../chunks/get.js";import"../../chunks/utils.js";import"../../chunks/handleUtils.js";import"../../chunks/metadata.js";import"../../core/Error.js";import"../../chunks/object.js";import"../../config.js";import"../../chunks/string.js";import"../../chunks/Lifecycle.js";import"../../chunks/tracking.js";import"../../chunks/Warning.js";import"../../chunks/assets.js";import"../../request.js";import"../../kernel.js";import"../../core/urlUtils.js";import"../../chunks/jsonUtils.js";import"../../core/promiseUtils.js";import"../../chunks/events.js";import"../../chunks/maybe.js";import"../../chunks/persistableUrlUtils.js";import"../../chunks/watch.js";import"../../chunks/ObjectPool.js";import"../../core/scheduling.js";import"../../chunks/nextTick.js";import"../../chunks/PooledArray.js";import"../../chunks/SetUtils.js";import"../../chunks/SimpleTrackingTarget.js";import"../../core/reactiveUtils.js";import"../../chunks/jsxWidgetSupport.js";import"../Widget.js";import"../../intl.js";import"../../chunks/date.js";import"../../chunks/jsonMap.js";import"../../chunks/locale.js";import"../../chunks/constants.js";import"../../chunks/datetime.js";import"../../chunks/number.js";import"../../chunks/substitute.js";import"../../chunks/messages.js";import"../../chunks/domUtils.js";import"../../core/Evented.js";import"../../core/Accessor.js";import"../../core/Handles.js";import"../../chunks/ObservableBase.js";import"../../core/Promise.js";import"../../chunks/uuid.js";import"../../core/accessorSupport/decorators/cast.js";import"../../chunks/projector.js";import"../../chunks/sanitizerUtils.js";let n=class extends i{constructor(s,e){super(s,e),this.items=null,this.placeholder=null,this.type="combobox"}loadDependencies(){return o({combobox:()=>import("../../chunks/index30.js"),"combobox-item":()=>import("../../chunks/index31.js")})}get canNext(){return!(!this.items||!this.viewModel)&&this.items.findIndex(({value:s})=>s===this.viewModel.values?.[0])!==this.items.length-1}get canPlay(){return null!=this.viewModel&&!!this.items?.length}get canPrevious(){const{items:s,viewModel:e}=this;return!(!s||!e)&&0!==s.findIndex(({value:s})=>s===e.values?.[0])}get label(){return super.label}set label(s){super.label=s}render(){const{viewModel:s}=this;if(null==s)return r("div",null);const e=s.values?.[0];return r("div",{class:"esri-value-picker__combobox"},r("calcite-combobox",{disabled:s.disabled,label:this.label,maxItems:10,overlayPositioning:"fixed",placeholder:this.placeholder??void 0,selectionMode:"single",onCalciteComboboxChange:e=>{Array.isArray(e.currentTarget.value)||(null!=s.values?s.values[0]!==e.currentTarget.value&&(s.values=[e.currentTarget.value]):s.values=[e.currentTarget.value])}},this.items?.map(({value:s,label:t},o)=>r("calcite-combobox-item",{key:o,selected:s===e,textLabel:t,value:s}))))}animate(s){this._step(1,s)}next(){this._step(1)}previous(){this._step(-1)}_step(s,e=!1){const{viewModel:t,items:o}=this;if(!o?.length||!t)return;if(!t.values)return void(t.values=[o[0].value]);const r=o.findIndex(({value:s})=>s===t.values[0]);if(-1===r)return void(t.values=[o[0].value]);const i=r+s;i<0||i>=o.length?t.loop||e?t.values=[o[1===s?0:o.length-1].value]:"playing"===t.state&&t.pause():t.values=[o[i].value]}};s([e()],n.prototype,"canNext",null),s([e()],n.prototype,"canPlay",null),s([e()],n.prototype,"canPrevious",null),s([e()],n.prototype,"items",void 0),s([e()],n.prototype,"placeholder",void 0),s([e()],n.prototype,"type",void 0),n=s([t("esri.widgets.ValuePicker.ValuePickerCombobox")],n);const l=n;export{l as default};
