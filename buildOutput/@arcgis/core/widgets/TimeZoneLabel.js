/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import s,{g as t}from"../core/Accessor.js";import{L as i}from"../chunks/Logger.js";import{property as r}from"../core/accessorSupport/decorators/property.js";import"../core/lang.js";import{subclass as o}from"../core/accessorSupport/decorators/subclass.js";import{b as n,s as a,u as c}from"../chunks/constants.js";import l from"./Widget.js";import{l as d}from"../chunks/componentsUtils.js";import{g as p}from"../chunks/globalCss.js";import{a as m}from"../chunks/widgetUtils.js";import{m as h}from"../chunks/messageBundle.js";import{t as u}from"../chunks/jsxFactory.js";import"../core/Handles.js";import"../chunks/maybe.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/Lifecycle.js";import"../chunks/metadata.js";import"../chunks/ObjectPool.js";import"../chunks/ObservableBase.js";import"../chunks/tracking.js";import"../chunks/watch.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"../core/promiseUtils.js";import"../core/Error.js";import"../chunks/object.js";import"../config.js";import"../chunks/string.js";import"../chunks/events.js";import"../chunks/SetUtils.js";import"../chunks/SimpleTrackingTarget.js";import"../chunks/ensureType.js";import"../chunks/MapUtils.js";import"../chunks/Warning.js";import"../intl.js";import"../chunks/date.js";import"../chunks/jsonMap.js";import"../chunks/locale.js";import"../chunks/datetime.js";import"../chunks/number.js";import"../chunks/substitute.js";import"../chunks/messages.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../chunks/jsonUtils.js";import"../chunks/persistableUrlUtils.js";import"../chunks/assets.js";import"../chunks/domUtils.js";import"../core/Evented.js";import"../core/Promise.js";import"../core/reactiveUtils.js";import"../chunks/uuid.js";import"../core/accessorSupport/decorators/cast.js";import"../chunks/projector.js";import"../chunks/sanitizerUtils.js";import"../chunks/jsxWidgetSupport.js";const j="esri-time-zone-label",b={base:j,badge:`${j}__badge`,badgeDisabled:`${j}__badge--disabled`,badgeHidden:`${j}__badge--hidden`,badgeIcon:`${j}__badge-icon`,name:`${j}__name`,nameHidden:`${j}__name--hidden`,label:`${j}__label`,labelDisabled:`${j}__label--disabled`,labelHidden:`${j}__label--hidden`,expander:`${j}__expander`};let g=class extends s{constructor(e){super(e),this.view=null}get state(){return this.view?.ready?"ready":"disabled"}};e([r({readOnly:!0})],g.prototype,"state",null),e([r()],g.prototype,"view",void 0),g=e([o("esri.widgets.TimeZoneLabel.TimeZoneLabelViewModel")],g);const k=g;let v=class extends l{constructor(e,s){super(e,s),this.disabled=!1,this.expanded=!1,this.messages=null,this.viewModel=new k,this._onExpanderClick=()=>{this.expanded=!this.expanded},t(i.getLogger(this),"Time Zone Label","arcgis-time-zone-label",{version:"4.33"})}loadDependencies(){return d({action:()=>import("../chunks/index5.js"),icon:()=>import("../chunks/index.js"),"input-time-zone":()=>import("../chunks/index40.js"),label:()=>import("../chunks/index2.js")})}get expandDirection(){if(!this.view||!this.container)return"end";const e=m();switch(this.view.ui.getPosition(this.container)){case"top-right":case"bottom-right":case"top-trailing":case"bottom-trailing":return e?"end":"start";case"top-left":case"bottom-left":case"top-leading":case"bottom-leading":return e?"start":"end";default:return"end"}}set expandDirection(e){this._overrideIfSome("expandDirection",e)}get icon(){return"time-zone"}set icon(e){this._overrideIfSome("icon",e)}get interactive(){return!(this.disabled||"disabled"===this.viewModel.state)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const{expandDirection:e,interactive:s,label:t}=this,i=this.classes(b.base,p.widget,!s&&p.disabled),r=[this._renderExpander(),this._renderName(),this._renderBadge()];return"start"===e&&r.reverse(),u("div",{"aria-label":t,class:i},r)}_getIcon(){const{expanded:e,expandDirection:s}=this;return e?m()?"start"===s?"chevrons-left":"chevrons-right":"start"===s?"chevrons-right":"chevrons-left":"time-zone"}_renderExpander(){const{interactive:e,label:s}=this,t=this._getIcon();return u("calcite-action",{active:!1,class:b.expander,disabled:!e,icon:t,key:b.expander,onclick:this._onExpanderClick,scale:"s",text:s,title:s})}_renderBadge(){const{expanded:e,interactive:s}=this;return u("div",{class:this.classes(b.badge,!e&&b.badgeHidden,!s&&b.badgeDisabled)},u("calcite-icon",{class:b.badgeIcon,icon:"time-zone",scale:"s"}))}_renderName(){const e=this.viewModel.view?.timeZone,s=e===a?n:e,t=e===c;return[u("calcite-label",{class:this.classes(b.label,(!this.expanded||!t)&&b.labelHidden,!this.interactive&&b.labelDisabled)},this.messages.noAdjustment),u("calcite-input-time-zone",{class:this.classes(b.name,(!this.expanded||!s||t)&&b.nameHidden),disabled:!this.interactive,mode:"region",readOnly:!0,value:s})]}};e([r()],v.prototype,"disabled",void 0),e([r()],v.prototype,"expandDirection",null),e([r()],v.prototype,"expanded",void 0),e([r()],v.prototype,"icon",null),e([r({readOnly:!0})],v.prototype,"interactive",null),e([r()],v.prototype,"label",null),e([r(),h("esri/widgets/TimeZoneLabel/t9n/TimeZoneLabel")],v.prototype,"messages",void 0),e([r()],v.prototype,"view",null),e([r()],v.prototype,"viewModel",void 0),v=e([o("esri.widgets.TimeZoneLabel")],v);const _=v;export{_ as default};
