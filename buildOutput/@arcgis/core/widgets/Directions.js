/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as e}from"../chunks/tslib.es6.js";import{i as t}from"../core/lang.js";import s from"../core/Collection.js";import{b as i}from"../chunks/events.js";import{m as o}from"../chunks/handleUtils.js";import{d as r}from"../chunks/maybe.js";import{debounce as n,isAbortError as a}from"../core/promiseUtils.js";import{watch as l,initial as c,on as p}from"../core/reactiveUtils.js";import{e as d}from"../chunks/string.js";import{property as m}from"../core/accessorSupport/decorators/property.js";import"../chunks/Logger.js";import{subclass as h}from"../core/accessorSupport/decorators/subclass.js";import{o as u,g as v}from"../chunks/locale.js";import _ from"../portal/Portal.js";import{d as y}from"../chunks/defaultUnit.js";import g from"../rest/support/Stop.js";import b from"../symbols/SimpleMarkerSymbol.js";import k from"./Search.js";import S from"./Widget.js";import{I as j}from"../chunks/InteractiveToolBase.js";import w,{f,a as D,D as C,g as M}from"./Directions/DirectionsViewModel.js";import I from"../core/Accessor.js";import{i as T,m as F}from"./Search/LocatorSearchSource.js";import{l as x}from"../chunks/componentsUtils.js";import{g as P}from"../chunks/globalCss.js";import"../chunks/widgetUtils.js";import{m as L}from"../chunks/messageBundle.js";import{t as E}from"../chunks/jsxFactory.js";import"../chunks/watch.js";import"../chunks/ObjectPool.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"../core/Error.js";import"../chunks/object.js";import"../config.js";import"../chunks/SetUtils.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/Lifecycle.js";import"../chunks/tracking.js";import"../chunks/SimpleTrackingTarget.js";import"../core/Evented.js";import"../core/Handles.js";import"../chunks/metadata.js";import"../chunks/ensureType.js";import"../chunks/MapUtils.js";import"../chunks/Warning.js";import"../chunks/ObservableBase.js";import"../chunks/shared.js";import"../chunks/SimpleObservable.js";import"../chunks/jsonUtils.js";import"../kernel.js";import"../core/urlUtils.js";import"../request.js";import"../chunks/persistableUrlUtils.js";import"../core/JSONSupport.js";import"../core/Loadable.js";import"../core/Promise.js";import"../chunks/reader.js";import"../geometry/Extent.js";import"../geometry/Geometry.js";import"../geometry/SpatialReference.js";import"../chunks/unitUtils.js";import"../chunks/jsonMap.js";import"../chunks/pe.js";import"../chunks/assets.js";import"../chunks/writer.js";import"../geometry/Point.js";import"../core/accessorSupport/decorators/cast.js";import"../geometry/support/webMercatorUtils.js";import"../portal/PortalGroup.js";import"../portal/PortalQueryParams.js";import"../portal/PortalQueryResult.js";import"../portal/PortalUser.js";import"../portal/PortalFolder.js";import"../chunks/getDefaultUnitForView.js";import"../Graphic.js";import"../PopupTemplate.js";import"../core/Clonable.js";import"../layers/support/fieldUtils.js";import"../core/sql.js";import"../chunks/guards.js";import"../chunks/datetime.js";import"../popup/content.js";import"../popup/content/AttachmentsContent.js";import"../popup/content/Content.js";import"../popup/support/AttachmentsOrderByInfo.js";import"../popup/content/CustomContent.js";import"../popup/content/ExpressionContent.js";import"../popup/ElementExpressionInfo.js";import"../popup/content/FieldsContent.js";import"../popup/FieldInfo.js";import"../chunks/enumeration.js";import"../popup/support/FieldInfoFormat.js";import"../chunks/date.js";import"../chunks/constants.js";import"../popup/content/MediaContent.js";import"../popup/content/BarChartMediaInfo.js";import"../popup/content/mixins/ChartMediaInfo.js";import"../popup/content/mixins/MediaInfo.js";import"../popup/content/support/ChartMediaInfoValue.js";import"../Color.js";import"../chunks/colorUtils.js";import"../chunks/mathUtils.js";import"../popup/content/support/ChartMediaInfoValueSeries.js";import"../chunks/chartMediaInfoUtils.js";import"../popup/content/ColumnChartMediaInfo.js";import"../popup/content/ImageMediaInfo.js";import"../popup/content/support/ImageMediaInfoValue.js";import"../popup/content/LineChartMediaInfo.js";import"../popup/content/PieChartMediaInfo.js";import"../popup/content/RelationshipContent.js";import"../popup/support/RelatedRecordsInfoFieldOrder.js";import"../popup/content/TextContent.js";import"../popup/content/UtilityNetworkAssociationsContent.js";import"../popup/support/UtilityNetworkAssociationType.js";import"../popup/ExpressionInfo.js";import"../popup/LayerOptions.js";import"../popup/RelatedRecordsInfo.js";import"../support/actions/ActionBase.js";import"../core/Identifiable.js";import"../support/actions/ActionButton.js";import"../support/actions/ActionToggle.js";import"../geometry/support/jsonUtils.js";import"../geometry/Multipoint.js";import"../chunks/zmUtils.js";import"../geometry/Polygon.js";import"../chunks/coordsUtils.js";import"../chunks/extentUtils.js";import"../chunks/boundsUtils.js";import"../chunks/aaBoundingRect.js";import"../geometry/Polyline.js";import"../chunks/typeUtils.js";import"../chunks/createFeatureId.js";import"../chunks/typeUtils2.js";import"../symbols/CIMSymbol.js";import"../symbols/Symbol.js";import"../symbols/LabelSymbol3D.js";import"../symbols/Symbol3D.js";import"../chunks/collectionUtils.js";import"../symbols/ExtrudeSymbol3DLayer.js";import"../symbols/Symbol3DLayer.js";import"../chunks/utils3.js";import"../symbols/edges/Edges3D.js";import"../chunks/screenUtils.js";import"../chunks/materialUtils.js";import"../chunks/opacityUtils.js";import"../symbols/edges/SketchEdges3D.js";import"../symbols/edges/SolidEdges3D.js";import"../chunks/Symbol3DMaterial.js";import"../symbols/FillSymbol3DLayer.js";import"../symbols/patterns/LineStylePattern3D.js";import"../symbols/patterns/StylePattern3D.js";import"../chunks/utils4.js";import"../chunks/colors.js";import"../chunks/symbolLayerUtils3D.js";import"../chunks/vec3f64.js";import"../chunks/aaBoundingBox.js";import"../chunks/DoubleArray.js";import"../symbols/IconSymbol3DLayer.js";import"../symbols/LineSymbol3DLayer.js";import"../symbols/LineStyleMarker3D.js";import"../chunks/lineMarkers.js";import"../symbols/ObjectSymbol3DLayer.js";import"../symbols/PathSymbol3DLayer.js";import"../symbols/TextSymbol3DLayer.js";import"../symbols/Font.js";import"../symbols/WaterSymbol3DLayer.js";import"../symbols/support/StyleOrigin.js";import"../chunks/Thumbnail.js";import"../chunks/calloutUtils.js";import"../symbols/callouts/Callout3D.js";import"../symbols/callouts/LineCallout3D.js";import"../symbols/support/Symbol3DVerticalOffset.js";import"../symbols/LineSymbol3D.js";import"../symbols/MeshSymbol3D.js";import"../symbols/PictureFillSymbol.js";import"../symbols/FillSymbol.js";import"../symbols/SimpleLineSymbol.js";import"../symbols/LineSymbol.js";import"../symbols/LineSymbolMarker.js";import"../chunks/urlUtils.js";import"../symbols/PictureMarkerSymbol.js";import"../symbols/MarkerSymbol.js";import"../symbols/PointSymbol3D.js";import"../symbols/PolygonSymbol3D.js";import"../symbols/SimpleFillSymbol.js";import"../symbols/TextSymbol.js";import"../symbols/WebStyleSymbol.js";import"../chunks/utils16.js";import"../chunks/networkEnums.js";import"../intl.js";import"../chunks/number.js";import"../chunks/substitute.js";import"../chunks/messages.js";import"./Search/SearchResultRenderer.js";import"./Search/SearchViewModel.js";import"../chunks/geometryUtils2.js";import"../chunks/scaleUtils.js";import"../chunks/layerViewUtils.js";import"./Search/LayerSearchSource.js";import"./Search/SearchSource.js";import"../chunks/FullTextSearch.js";import"../chunks/geolocationUtils.js";import"../chunks/project.js";import"../chunks/utils9.js";import"../chunks/utils10.js";import"../rest/support/ProjectParameters.js";import"./support/GoTo.js";import"../chunks/goToUtils.js";import"../chunks/suggestLocations.js";import"../rest/support/AddressCandidate.js";import"../chunks/commonProperties3.js";import"../chunks/domUtils.js";import"../chunks/uuid.js";import"../chunks/projector.js";import"../chunks/sanitizerUtils.js";import"../chunks/jsxWidgetSupport.js";import"../chunks/vmEvent.js";import"../rest/networkService.js";import"../rest/support/TravelMode.js";import"../rest/support/RouteParameters.js";import"../rest/support/DataLayer.js";import"../rest/support/FeatureSet.js";import"../layers/support/Field.js";import"../chunks/domains.js";import"../layers/support/CodedValueDomain.js";import"../layers/support/Domain.js";import"../layers/support/InheritedDomain.js";import"../layers/support/RangeDomain.js";import"../chunks/fieldType.js";import"../rest/support/NetworkFeatureSet.js";import"../rest/support/NetworkUrl.js";import"../chunks/timeZoneUtils.js";import"../chunks/quantityUtils.js";import"../chunks/unitFormatUtils.js";import"../chunks/Cyclical.js";import"../chunks/dateUtils.js";const R="esri-directions",$={base:R,accordion:`${R}__accordion`,actionContainer:`${R}__action-container`,addStopButton:`${R}__add-stop-button`,departureTime:`${R}__departure-time`,departureTimeOptions:`${R}__departure-time-options`,directionsHeader:`${R}__directions-header`,directionsHeaderStopName:`${R}__directions-header-stop-name`,editFooter:`${R}__edit-footer`,editRouteButton:`${R}__edit-route-button`,editToolbar:`${R}__edit-toolbar`,editToolbarContainer:`${R}__edit-toolbar-container`,flexColumn:`${R}__flex-column`,flexRow:`${R}__flex-row`,folder:`${R}__folder`,folderHome:`${R}__folder-home`,headerStops:`${R}__header-stops`,labelEmphasize:`${R}__label-emphasize`,labelNoBottomMargin:`${R}__label-no-bottom-margin`,marginInlineMedium:`${R}__margin-inline-medium`,optimizeSection:`${R}__optimize-section`,optimizeSwitches:`${R}__optimize-switches`,paddingMedium:`${R}__padding-medium`,primaryFlowItem:`${R}__primary-flow-item`,primaryFooter:`${R}__primary-footer`,primaryFooterCentered:`${R}__primary-footer-centered`,primaryFooterLoader:`${R}__primary-footer-loader`,printAvoidPageBreak:`${R}__print--avoid-page-break`,printBody:`${R}__print-body`,printDocument:`${R}__print-document`,printDocumentClose:`${R}__print-document-close`,printDocumentPrint:`${R}__print-document-print`,printHeader:`${R}__print-header`,printHeaderButtons:`${R}__print-header-buttons`,printHeaderLabel:`${R}__print-header-label`,printHideOnPrint:`${R}__print--hide-on-print`,printMedia:`${R}__print-media`,printSection:`${R}__print-section`,routeItem:`${R}__route-item`,routeItemButton:`${R}__route-item-button`,routeItemButtonContent:`${R}__route-item-button-content`,routeItemDescription:`${R}__route-item-description`,routeItemLabel:`${R}__route-item-label`,saveError:`${R}__save-error`,saveErrorIcon:`${R}__save-error-icon`,saveErrorLabel:`${R}__save-error-label`,saveProcessLoader:`${R}__save-process-loader`,selectedFeatureContainer:`${R}__selected-feature-container`,separator:`${R}__separator`,solveRoute:`${R}__solve-route`,stopContainer:`${R}__stop-container`,stopItem:`${R}__stop-item`,stopList:`${R}__stop-list`};let A=class extends j{constructor(e){super(e)}get cursor(){return"crosshair"}onInputEvent(e){"click"===e.type&&this._handleClick(e)}_handleClick(e){this.emit("click",e)}};e([m({readOnly:!0})],A.prototype,"cursor",null),e([m({constructOnly:!0})],A.prototype,"stop",void 0),A=e([h("esri.widgets.Directions.DirectionsSearchTool")],A);let B=class extends I{constructor(){super(...arguments),this.editRouteButton=!0,this.layerDetails=!0,this.printButton=!0,this.saveAsButton=!0,this.saveButton=!0}};e([m({type:Boolean,nonNullable:!0})],B.prototype,"editRouteButton",void 0),e([m({type:Boolean,nonNullable:!0})],B.prototype,"layerDetails",void 0),e([m({type:Boolean,nonNullable:!0})],B.prototype,"printButton",void 0),e([m({type:Boolean,nonNullable:!0})],B.prototype,"saveAsButton",void 0),e([m({type:Boolean,nonNullable:!0})],B.prototype,"saveButton",void 0),B=e([h("esri.widgets.Directions.DirectionsVisibleElements")],B);const U=B;function O(e){const{branchName:s,displayText:i,exitName:o,intersectingName:r,name:n,towardName:a}=e;if(null==i)return null;const l=[s,o,r,n,a].filter(t).sort((e,t)=>t.length-e.length).map(e=>d(e));if(!l.length)return i;const c=new RegExp(l.join("|"),"g"),p=i.matchAll(c);let m=0;const h=[];for(const{0:e,index:t}of p)h.push(i.slice(m,t),E("span",{class:$.labelEmphasize,key:`maneuver-${t}`},e)),m=t+e.length;return h.push(i.slice(m)),E("span",null,h)}let N=class extends S{constructor(e,t){super(e,t),this._activeManeuver=null,this._placeholderStops=new s([new g,new g]),this._portalFolderCombobox=null,this._portalFolders=null,this._portalItemNameInput=null,this._portalUserName=null,this._printDocument=null,this._printDocumentParent=null,this._sections=null,this._stopsToSearches=new Map,this._printDocumentOpen=!1,this._currentFlowItem="primary",this._parentFlowItem="primary",this._saveState="initialized",this._searchTool=null,this.headingLevel=2,this.messages=null,this.messagesUnits=null,this.searchProperties={popupEnabled:!1,resultGraphicEnabled:!1},this.viewModel=new w,this.visibleElements=new U,this._solveRouteDebounced=n(()=>this._solveRoute())}initialize(){this.addHandles([l(()=>this.viewModel.layer,()=>{try{this.viewModel.load()}catch{}},c),l(()=>this.viewModel.layer?.routeInfo,()=>{this._sections=this._getStopSections()},c),l(()=>this.viewModel.layer?.stops.toArray(),e=>{e&&this.view?.activeTool&&this._searchTool&&this.view.activeTool===this._searchTool&&!e.includes(this._searchTool.stop)&&(this.view.tools.remove(this._searchTool),this._searchTool=null)}),i(window,"beforeprint",this._beforePrint.bind(this)),i(window,"afterprint",this._afterPrint.bind(this))])}loadDependencies(){return x({accordion:()=>import("../chunks/index56.js"),"accordion-item":()=>import("../chunks/index57.js"),action:()=>import("../chunks/index5.js"),"action-menu":()=>import("../chunks/index17.js").then(e=>e.i),"block-section":()=>import("../chunks/index58.js"),button:()=>import("../chunks/index6.js"),combobox:()=>import("../chunks/index30.js"),"combobox-item":()=>import("../chunks/index31.js"),flow:()=>import("../chunks/index32.js"),"flow-item":()=>import("../chunks/index33.js"),icon:()=>import("../chunks/index.js"),input:()=>import("../chunks/index10.js"),"input-date-picker":()=>import("../chunks/index13.js"),"input-time-picker":()=>import("../chunks/index14.js"),label:()=>import("../chunks/index2.js"),list:()=>import("../chunks/index19.js"),"list-item":()=>import("../chunks/index18.js"),loader:()=>import("../chunks/index28.js"),notice:()=>import("../chunks/index20.js"),panel:()=>import("../chunks/index25.js").then(e=>e.i),switch:()=>import("../chunks/index3.js")})}destroy(){this._stopsToSearches.forEach(r)}get apiKey(){return this.viewModel.apiKey}set apiKey(e){this.viewModel.apiKey=e}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return"right"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get lastRoute(){return this.viewModel.lastRoute}get layer(){return this.viewModel.layer}set layer(e){this.viewModel.layer=e}get maxStops(){return this.viewModel.maxStops}set maxStops(e){this.viewModel.maxStops=e}get unit(){return this.defaultUnit}set unit(e){this._overrideIfSome("unit",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}acquireSearch(e){const{view:t}=this.viewModel;if(this._stopsToSearches.has(e)){const s=this._stopsToSearches.get(e);return s.view=t,this._overrideDefaultSources(s),s}const s=new k({icon:"",popupEnabled:!1,resultGraphicEnabled:!1,view:t,...this.searchProperties});return this._normalizeSearchSources(s),this.addHandles([p(()=>s.allSources,"change",()=>this._normalizeSearchSources(s)),s.on("search-clear",()=>{e.geometry=null,e.name=null,this.viewModel.layer?.removeResult()}),s.on("select-result",()=>{const t=s.selectedResult;e.geometry=t?.feature.geometry,e.name=t?.name,this._solveRouteDebounced()}),l(()=>s.searchTerm,t=>{e.name=t}),u(()=>this._normalizeSearchSources(s))],s),this._stopsToSearches.set(e,s),s}getDirections(){return this.viewModel.getDirections()}render(){return E("div",{class:this.classes($.base,P.widget,P.panel)},E("calcite-flow",null,this._renderPrimaryFlowItem(),this._renderDirectionsFlowItem(),this._renderEditFlowItem(),this._renderSaveFlowItem()),this._renderPrintDocument())}save(){return this.viewModel.save()}saveAs(e,t={}){return this.viewModel.saveAs(e,t)}zoomToRoute(){return this.viewModel.zoomToRoute()}_afterPrint(){this._printDocumentOpen&&this._printDocument&&this._printDocumentParent?.appendChild(this._printDocument)}_applyLocatorSourceOverrides({allSources:e}){for(const t of e)"url"in t&&t.url&&(t.language=v(),t.locationType??="street",T(t.url)&&this.apiKey&&null==t.apiKey&&(t.apiKey=this.apiKey,t.url=F))}_beforePrint(){this._printDocumentOpen&&this._printDocument&&document.body.appendChild(this._printDocument)}_disposeSearch(e){if(!e||!this._stopsToSearches.has(e))return;const t=this._stopsToSearches.get(e);this.removeHandles(t),t.destroy(),this._stopsToSearches.delete(e)}_getEffectiveStops(){return this.viewModel.layer?.stops??this._placeholderStops}_getErrorDescription(){switch(this.viewModel.lastError?.name){case"directions-view-model:unable-to-route":return this.messages.errors.unableToRoute;case"directions-view-model:service-metadata-unavailable":return this.messages.errors.unableToLoadServiceMetadata;default:return this.messages.errors.unknownError}}_getNetworkFeatureName(e){switch(e.type){case"stop":switch(e.locationType){case"stop":default:return this.messages.networkFeatures.stops.stop;case"waypoint":return this.messages.networkFeatures.stops.waypoint;case"break":return this.messages.networkFeatures.stops.break}case"point-barrier":return this.messages.networkFeatures.pointBarrier;case"polyline-barrier":return this.messages.networkFeatures.polylineBarrier;case"polygon-barrier":return this.messages.networkFeatures.polygonBarrier}}_getRouteCostSummary(){const e=this.viewModel.layer?.routeInfo;if(!e)return null;const t=e.totalDistance??0,s=e.totalDuration??0,{messagesUnits:i,unit:o}=this;return{distance:f(i,t,o),duration:D(s)}}_getStopCostDescription(e){if(!e.directions.length)return;const{totalDistance:t,totalDuration:s}=e.directions.reduce((e,{lines:t})=>{for(const{distance:s,duration:i}of t)e.totalDistance+=s??0,e.totalDuration+=i??0;return e},{totalDistance:0,totalDuration:0}),{messagesUnits:i,unit:o}=this,r=f(i,t,o);return`${D(s)} (${r})`}_getStopSections(){if(!this.viewModel.layer)return null;const{directionPoints:e,directionLines:t,stops:s}=this.viewModel.layer;if(!e||!t)return null;const i=[];let o=null;for(const r of e){const{objectId:e,stopId:n}=r;if(null!=n){const e=s.find(({objectId:e})=>e===n);o&&o.stop===e||(o={stop:e,directions:[]},i.push(o));continue}if(null==o)continue;const a=t.toArray().filter(({directionPointId:t})=>t===e);0!==a.length&&o.directions.push({directionPoint:r,lines:a})}return i}_handleAddStopClick(){const e=new b;this.viewModel.layer?.stops.add(new g({symbol:e}))}_handleAutoSolveChange({target:e}){this.viewModel.autoSolve=e.checked}_handleCreatePolylineBarrierClick(){this.viewModel.create("polyline-barrier")}_handleClearRouteClick(){this._currentFlowItem="primary",this.viewModel.reset()}_handleCreateStopClick(){this.viewModel.create("stop")}_handleDeleteNetworkFeatureClick(e){this.viewModel.remove(e),this.viewModel.autoSolve&&this._solveRouteDebounced()}_handleDeleteStopClick(e){this._getEffectiveStops().remove(e),this._disposeSearch(e),this._solveRouteDebounced()}_handleDepartureDateChange({currentTarget:{value:e}}){Array.isArray(e)||(this.viewModel.departureIsoDate=e,this._solveRouteDebounced())}_handleDepartureTimeChange({currentTarget:{value:e}}){this.viewModel.departureIsoTime=e,this._solveRouteDebounced()}_handleDepartureTimeOptionChange({currentTarget:e}){const{selectedItems:t}=e;t.length&&(this.viewModel.departureOption=t[0].value,this._solveRouteDebounced())}_handleDirectionsFlowItemBackClick(e){e.stopPropagation(),this._currentFlowItem="primary"}_handleDirectionTurnItemSelect(e){this._activeManeuver===e?this.zoomToRoute():(this._activeManeuver=e,this.viewModel.centerAt(e.geometry))}_handleDirectionTurnPointerEnter(e){this.viewModel.highlight(e)}_handleDirectionTurnPointerLeave(){this.viewModel.clearHighlights()}_handleEditFlowItemBackClick(e){e.stopPropagation(),this.viewModel.stopEditing(),this._currentFlowItem="primary"}_handleEditingDoneClick(){this.viewModel.stopEditing(),this._currentFlowItem="primary"}_handleEditRouteClick(){this._currentFlowItem="edit",this.viewModel.startEditing()}_handleItemDetailsClick(){const e=this.viewModel.layer?.portalItem;e&&window.open(`${e.portal.url}/home/item.html?id=${e.id}`,"_blank")}_handleLocateStopClick(e){const{view:t}=this;if(!t)return;const s="directions-search-tool";this.removeHandles(s),this._searchTool=new A({stop:e,view:t}),this.addHandles([this._searchTool.on("click",async t=>{if(t.mapPoint&&this._stopsToSearches.has(e)){const s=this._stopsToSearches.get(e),i=await s.search(t.mapPoint),o=i?.results?.[0].results?.[0];if(o){const{feature:t,name:i}=o;s.searchTerm=i,e.geometry=t.geometry}}this.removeHandles(s)}),o(()=>{this._searchTool&&(this.view?.tools.remove(this._searchTool),this._searchTool=null)})],s),t.addAndActivateTool(this._searchTool)}_handleOptimizeStopOrderToggle({target:{expanded:e}}){this.viewModel.routeParameters.findBestSequence=e,this._solveRouteDebounced()}_handlePanToStopClick(e){this.viewModel.centerAt(e)}_handlePreserveFirstStopChange({target:{checked:e}}){this.viewModel.routeParameters.preserveFirstStop=e,this._solveRouteDebounced()}_handlePreserveLastStopChange({target:{checked:e}}){this.viewModel.routeParameters.preserveLastStop=e,this._solveRouteDebounced()}_handlePrintDocumentAfterCreate(e){e.focus(),this._printDocument=e,this._printDocumentParent=e.parentElement}_handlePrintDocumentClick(){this._printDocumentOpen=!0}_handlePrintDocumentCloseClick(){this._printDocumentOpen=!1}_handlePrintDocumentKeyDown(e){"Escape"===e.key&&(this._printDocumentOpen=!1)}_handlePrintDocumentPrintClick(){document.body.classList.add($.printMedia),window.print(),document.body.classList.remove($.printMedia)}_handleResolveRouteClick(){this._solveRouteDebounced()}_handleReverseStopOrderClick(){this._getEffectiveStops().reverse(),this._solveRouteDebounced()}_handleSaveErrorCloseClick(){this._currentFlowItem=this._parentFlowItem}_handleSaveFlowItemBackClick(e){e.stopPropagation(),this._currentFlowItem=this._parentFlowItem}async _handleSaveLayerAs(){const e=_.getDefault();try{await e.signIn()}catch(e){if(a(e)||"identity-manager:user-aborted"===e.name)return;return this._parentFlowItem=this._currentFlowItem,this._currentFlowItem="save",void(this._saveState="connect-to-portal-error")}this._saveState="fetch-portal-information",this._parentFlowItem=this._currentFlowItem,this._currentFlowItem="save",this._portalUserName=e.user?.username;try{this._portalFolders=await(e.user?.fetchFolders())}catch{return void(this._saveState="fetch-portal-information-error")}this._saveState="save-layer"}_handleSaveLayerClick(){this.viewModel.layer?.save()}_handleSaveLayerButtonClick(){this._saveState="saving";const{layer:e}=this;if(!e||!this._portalFolders)return;const t=this._portalItemNameInput?.value,s=this._portalFolderCombobox?.value,i=this._portalFolders.find(({id:e})=>e===s);e.saveAs({title:t},{folder:i}).then(()=>{e.title=t,this._currentFlowItem=this._parentFlowItem}).catch(()=>{this._saveState="saving-error"})}_handleSaveLayerCancelClick(){this._currentFlowItem=this._parentFlowItem}_handleSaveLayerFolderCreate(e){this._portalFolderCombobox=e}_handleSaveLayerNameCreate(e){this._portalItemNameInput=e}_handleSignInClick(){this.viewModel.load().catch(()=>{})}_handleStopListReorder({detail:{dragEl:e,newIndex:t}}){this._getEffectiveStops().reorder(e.value,t),this._solveRouteDebounced()}_handleTravelModeChange({currentTarget:{selectedItems:e}}){e.length&&(this.viewModel.selectedTravelMode=e[0].value,this._solveRouteDebounced())}_handleViewDrivingDirectionsClick(){this._currentFlowItem="directions"}_normalizeSearchSources(e){this._overrideDefaultSources(e),this._applyLocatorSourceOverrides(e)}_overrideDefaultSources(e){for(const t of e.viewModel.defaultSources)t.autoNavigate=!1}_renderClearRouteAction(e){return E("calcite-action",{bind:this,icon:"trash",key:"clear-route",onclick:this._handleClearRouteClick,...e,text:this.messages.common.clear,textEnabled:!0})}_renderDeleteStopAction(e){return E("calcite-action",{icon:"trash",onclick:this._handleDeleteStopClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.deleteStop,title:this.messages.deleteStop})}_renderDepartureTime(){const{DEPART_AT:e,NOW:t,UNSPECIFIED:s}=C;return E("calcite-label",{class:$.departureTime,key:"departure-time"},this.messages.departureTime,E("calcite-combobox",{bind:this,clearDisabled:!0,label:this.messages.departureTime,overlayPositioning:"fixed",selectionMode:"single-persist",onCalciteComboboxChange:this._handleDepartureTimeOptionChange},E("calcite-combobox-item",{heading:this.messages.leaveNow,key:t,label:this.messages.leaveNow,selected:this.viewModel.departureOption===t,value:t}),E("calcite-combobox-item",{heading:this.messages.departAt,key:e,label:this.messages.departAt,selected:this.viewModel.departureOption===e,value:e}),E("calcite-combobox-item",{heading:this.messages.timeUnspecified,key:s,label:this.messages.timeUnspecified,selected:this.viewModel.departureOption===s,value:s})))}_renderDepartureTimeOptions(){return this.viewModel.departureOption!==C.DEPART_AT?null:E("div",{class:$.departureTimeOptions},E("calcite-input-date-picker",{bind:this,scale:"s",value:this.viewModel.departureIsoDate,onCalciteInputDatePickerChange:this._handleDepartureDateChange}),E("calcite-input-time-picker",{bind:this,scale:"s",value:this.viewModel.departureIsoTime,onCalciteInputTimePickerClose:this._handleDepartureTimeChange}))}_renderDirectionsFlowItem(){if("directions"!==this._currentFlowItem)return null;const e=this._getRouteCostSummary();if(!this._sections||!e)return null;const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel,o=this._sections.at(0)?.stop.name??"",r=this._sections.at(-1)?.stop.name??"";return E("calcite-flow-item",{bind:this,key:"directions-flow-item",overlayPositioning:"fixed",selected:"directions"===this._currentFlowItem,onCalciteFlowItemBack:this._handleDirectionsFlowItemBackClick},E("div",{class:$.directionsHeader,slot:"header-content"},E("div",{class:$.headerStops},E("span",null,this.messages.from)," ",E("span",{class:$.directionsHeaderStopName},o),E("span",null,this.messages.to)," ",E("span",{class:$.directionsHeaderStopName},r)),E("div",{class:$.flexColumn},E("span",null,`${s} (${t})`),i?E("span",null,i):null)),this._renderRouteLayerActions({slot:"header-menu-actions"}),E("calcite-accordion",{class:$.accordion,iconPosition:"start",selectionMode:"single"},this._sections.map((e,t)=>this._renderDirectionSection(e,t))))}_renderDirectionSection(e,t){const{stop:s,directions:i}=e,{name:o}=s,r=0===t,n=this._getStopCostDescription(e);return E("calcite-accordion-item",{description:n,expanded:r,heading:o??"",key:`stop-${t}`},E("calcite-action",{icon:"zoom-to-object",onclick:this._handlePanToStopClick.bind(this,s),slot:"actions-end",text:this.messages.panToStop,title:this.messages.panToStop}),this._renderDirectionTurns(i))}_renderDirectionTurns(e){return E("calcite-list",{label:this.messages.drivingDirections,selectionMode:"none"},e.map((e,t)=>{const{directionPoint:s,lines:i}=e,o=i[0],{distance:r,duration:n}=o,a=f(this.messagesUnits,r??0,this.unit),l=D(n??0),c=a&&l?`${a} | ${l}`:`${a||l}`,p=O(s),d=M(s.directionPointType);return E("calcite-list-item",{class:$.labelNoBottomMargin,key:`driving-direction-${t}`,onpointerenter:this._handleDirectionTurnPointerEnter.bind(this,o),onpointerleave:this._handleDirectionTurnPointerLeave.bind(this),onCalciteListItemSelect:this._handleDirectionTurnItemSelect.bind(this,o)},E("calcite-icon",{icon:d,slot:"content-start"}),E("div",{slot:"content"},E("calcite-label",{layout:"inline",scale:"s"},p),E("calcite-label",{layout:"inline",scale:"s"},c)))}))}_renderEditFlowItem(){return"edit"!==this._currentFlowItem?null:E("calcite-flow-item",{bind:this,heading:this.messages.editRoute,headingLevel:this.headingLevel,key:"edit-flow-item",loading:"routing"===this.viewModel.state,selected:"edit"===this._currentFlowItem,onCalciteFlowItemBack:this._handleEditFlowItemBackClick},E("div",{class:$.flexColumn,key:"edit-container"},E("div",{class:$.editToolbarContainer},E("calcite-label",{layout:"inline",scale:"s"},this.messages.automaticallySolve,E("calcite-switch",{bind:this,checked:this.viewModel.autoSolve,scale:"s",onCalciteSwitchChange:this._handleAutoSolveChange})),E("div",{class:$.editToolbar},E("calcite-action",{bind:this,disabled:!this.viewModel.layer||this.viewModel.layer.stops.length>=this.maxStops,icon:"flag",onclick:this._handleCreateStopClick,scale:"s",text:this.messages.networkFeatures.stops.stop,textEnabled:!0}),E("calcite-action",{bind:this,icon:"line",onclick:this._handleCreatePolylineBarrierClick,scale:"s",text:this.messages.barrier,textEnabled:!0}),E("calcite-action",{bind:this,class:$.solveRoute,disabled:this.viewModel.autoSolve,icon:"refresh",onclick:this._handleResolveRouteClick,scale:"s",text:this.messages.solve,textEnabled:!0}))),E("div",{class:$.selectedFeatureContainer},E("calcite-list",{label:this.messages.selectedNetworkFeatures,scale:"s",selectionMode:"none"},this.viewModel.selectedNetworkFeatures?.toArray().map((e,t)=>E("calcite-list-item",{description:this._getNetworkFeatureName(e),key:`network-feature-${t}`,label:e.name??e.objectId?.toString()??this.messages.unnamed},E("calcite-action",{icon:"trash",onclick:this._handleDeleteNetworkFeatureClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.common.delete}))))),E("div",{class:$.editFooter},this._renderEditFooterContent())))}_renderEditFooterContent(){return this.viewModel.lastError?this._renderErrorNotice():E("calcite-button",{appearance:"outline-fill",bind:this,onclick:this._handleEditingDoneClick,width:"full"},this.messages.common.done)}_renderErrorNotice(){return E("calcite-notice",{icon:"exclamation-mark-circle",kind:"danger",open:!0},E("calcite-label",{class:$.labelNoBottomMargin,slot:"message"},this._getErrorDescription()))}_renderFooter(){if(!this.viewModel.layer)return E("div",{class:$.primaryFooter,key:"footer-missing-layer"},E("calcite-notice",{icon:"information",open:!0},E("calcite-label",{class:$.labelNoBottomMargin,slot:"message"},this.messages.missingLayer)));if("unauthenticated"===this.viewModel.state)return E("div",{class:$.primaryFooterCentered,key:"footer-sign-in"},E("calcite-label",null,this.messages.signInRequired),E("calcite-button",{bind:this,onclick:this._handleSignInClick},this.messages.common.auth.signIn));if("routing"===this.viewModel.state)return E("div",{class:this.classes($.primaryFooter,$.primaryFooterLoader),key:"footer-routing"},E("calcite-loader",{label:this.messages.solve,scale:"s"}));if("error"===this.viewModel.state)return E("div",{class:$.primaryFooter,key:"footer-service-error"},this._renderErrorNotice());if(!this.viewModel.layer?.routeInfo)return E("div",{class:$.primaryFooter,key:"footer-unsolved-route"},E("calcite-notice",{icon:"information",open:!0},E("calcite-label",{class:$.labelNoBottomMargin,slot:"message"},this.messages.directionsPlaceholder)));const e=this._getRouteCostSummary();if(!e||!this.viewModel.layer?.directionPoints)return E("div",{class:$.primaryFooter,key:"footer-invalid-route"},E("calcite-notice",{icon:"exclamation-mark-triangle",kind:"danger",open:!0},E("calcite-label",{class:$.labelNoBottomMargin,slot:"message"},this.messages.invalidRoute)));const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel;return E("div",{class:$.routeItem,key:"footer-directions-summary"},E("button",{"aria-busy":"false","aria-label":this.messages.viewDrivingDirections,"aria-live":"polite",bind:this,class:$.routeItemButton,onclick:this._handleViewDrivingDirectionsClick,title:this.messages.viewDrivingDirections,type:"button"},E("div",{class:$.routeItemButtonContent},E("span",{class:$.routeItemLabel},`${s} (${t})`),E("span",{class:$.routeItemDescription},i)),E("calcite-icon",{flipRtl:!0,icon:"chevron-right",scale:"s"})),E("calcite-action-menu",{label:"test"},E("calcite-action",{icon:"ellipsis",key:"route-actions",slot:"trigger",text:"Route actions"}),this._renderRouteLayerActions()))}_renderInteractiveRouteActions(){return E("div",{class:$.actionContainer,key:$.actionContainer},E("calcite-button",{appearance:"outline",bind:this,class:$.addStopButton,disabled:this._getEffectiveStops().length>=this.maxStops,iconStart:"plus",kind:"neutral",label:this.messages.addStop,onclick:this._handleAddStopClick,title:this.messages.addStop,width:"half"},this.messages.addStop),this.visibleElements.editRouteButton?E("calcite-button",{appearance:"outline",bind:this,class:$.editRouteButton,disabled:"2d"!==this.viewModel.view?.type,iconStart:"pencil",kind:"neutral",label:this.messages.editRoute,onclick:this._handleEditRouteClick,title:this.messages.editRoute,width:"half"},this.messages.editRoute):null)}_renderLocateStopAction(e){if(null!=e.name||null!=e.geometry)return null;const t=this._getEffectiveStops().indexOf(e),s=!!this.view?.activeTool&&this.view.activeTool===this._searchTool&&this._searchTool.stop===e;return E("calcite-action",{active:s,icon:"crosshair",key:`stop-location-action-${t}`,onclick:this._handleLocateStopClick.bind(this,e),scale:"s",slot:"actions-end",text:this.messages.pickALocationOnTheMap,title:this.messages.pickALocationOnTheMap})}_renderOptimizeStopOrder(){const{routeParameters:e}=this.viewModel,{findBestSequence:t,preserveFirstStop:s,preserveLastStop:i}=e;return E("calcite-block-section",{bind:this,class:$.optimizeSection,text:this.messages.optimizeOrder,toggleDisplay:"switch",onCalciteBlockSectionToggle:this._handleOptimizeStopOrderToggle},t?[E("calcite-label",{class:$.optimizeSwitches,key:"preserve-first-stop",layout:"inline-space-between"},this.messages.preserveFirstStop,E("calcite-switch",{bind:this,checked:s,scale:"s",onCalciteSwitchChange:this._handlePreserveFirstStopChange})),E("calcite-label",{class:$.optimizeSwitches,key:"preserve-last-stop",layout:"inline-space-between"},this.messages.preserveLastStop,E("calcite-switch",{bind:this,checked:i,scale:"s",onCalciteSwitchChange:this._handlePreserveLastStopChange}))]:null)}_renderPrimaryFlowItem(){return E("calcite-flow-item",{key:"primary-flow-item",loading:"initializing"===this.viewModel.state,selected:"primary"===this._currentFlowItem},E("calcite-panel",{class:$.primaryFlowItem,disabled:!this.viewModel.layer||"unauthenticated"===this.viewModel.state||"error"===this.viewModel.state&&!this.viewModel.serviceDescription},this._renderStops(),this._renderInteractiveRouteActions(),this._renderSeparator(),this._renderRouteSolveOptions()),this._renderFooter())}_renderPrintDocument(){if(!this._printDocumentOpen)return null;const e=this._getRouteCostSummary();if(!this._sections||!e)return null;const{distance:t,duration:s}=e,{formattedEta:i}=this.viewModel,o=this._sections.at(0)?.stop.name??"",r=this._sections.at(-1)?.stop.name??"";return E("div",{afterCreate:this._handlePrintDocumentAfterCreate,bind:this,class:$.printDocument,onkeydown:this._handlePrintDocumentKeyDown,tabindex:0},E("div",{class:$.printBody},E("div",{class:$.printHeader},E("div",{class:$.printHeaderLabel},E("div",{class:$.headerStops},E("span",null,this.messages.from)," ",E("span",{class:$.directionsHeaderStopName},o),E("span",null,this.messages.to)," ",E("span",{class:$.directionsHeaderStopName},r))),E("div",{class:this.classes($.printHeaderButtons,$.printHideOnPrint)},E("calcite-button",{class:$.printDocumentPrint,iconStart:"print",onclick:this._handlePrintDocumentPrintClick},this.messages.common.print),E("calcite-button",{appearance:"outline",bind:this,class:$.printDocumentClose,iconStart:"x-circle",onclick:this._handlePrintDocumentCloseClick},this.messages.common.close))),E("div",{class:$.directionsHeader},E("span",null,`${s} (${t})`),i?E("span",null,i):null),this._sections.map((e,t)=>this._renderPrintSection(e,t))))}_renderPrintManuever(e,t){const{directionPoint:s,lines:i}=e,{distance:o,duration:r}=i.at(0)??{},n=f(this.messagesUnits,o??0,this.unit),a=D(r??0),l=n&&a?`${n} | ${a}`:`${n||a}`,c=O(s),p=M(s.directionPointType);return E("div",{class:this.classes($.flexRow,$.printAvoidPageBreak),key:`direction-${t}`},E("calcite-icon",{icon:p}),E("div",{class:$.flexColumn},E("span",null,c),E("span",null,l)))}_renderPrintRouteAction(e){if(!this.visibleElements.printButton)return null;const t=!this.viewModel.layer?.routeInfo;return E("calcite-action",{bind:this,disabled:t,icon:"print",key:"print-route",onclick:this._handlePrintDocumentClick,...e,text:this.messages.common.print,textEnabled:!0})}_renderPrintSection({stop:e,directions:t},s){return E("div",{class:$.printSection,key:`section-${s}`},E("span",{class:$.directionsHeaderStopName},e.name??""),t.map((e,t)=>this._renderPrintManuever(e,t)))}_renderRouteLayerActions(e){return[this._renderClearRouteAction(e),this._renderSaveLayerAction(e),this._renderSaveLayerAsAction(e),this._renderPrintRouteAction(e),this._renderViewItemDetailsAction(e)]}_renderRouteSolveOptions(){return E("div",{class:$.marginInlineMedium,key:"route-solve-options"},this._renderTravelModes(),this._renderDepartureTime(),this._renderDepartureTimeOptions(),this._renderOptimizeStopOrder())}_renderSaveContent(){switch(this._saveState){case"initialized":return this._renderSaveInitialized();case"connect-to-portal":return this._renderSaveProcessing(this.messages.identity.lblSigning);case"connect-to-portal-error":return this._renderSaveError(this.messages.errors.authenticating);case"fetch-portal-information":return this._renderSaveProcessing(this.messages.processing.fetching);case"fetch-portal-information-error":return this._renderSaveError(this.messages.errors.fetching);case"save-layer":return this._renderSaveLayerSettings();case"saving":return this._renderSaveProcessing(this.messages.processing.saving);case"saving-error":return this._renderSaveError(this.messages.errors.saving)}}_renderSaveError(e){return E("calcite-panel",{class:$.paddingMedium,key:"save-layer-error"},E("div",{class:$.saveError},E("calcite-icon",{class:$.saveErrorIcon,icon:"exclamation-mark-triangle",scale:"l",textLabel:this.messages.common.errorMessage}),E("calcite-label",{class:$.saveErrorLabel},e)),E("calcite-button",{appearance:"outline",bind:this,onclick:this._handleSaveErrorCloseClick,slot:"footer-actions",width:"full"},this.messages.common.close))}_renderSaveInitialized(){return E("calcite-panel",{class:$.paddingMedium,key:"save-layer-initialized"})}_renderSaveFlowItem(){return"save"!==this._currentFlowItem?null:E("calcite-flow-item",{bind:this,heading:this.messages.saveLayer,headingLevel:this.headingLevel,key:"save-layer-flow-item",selected:"save"===this._currentFlowItem,onCalciteFlowItemBack:this._handleSaveFlowItemBackClick},this._renderSaveContent())}_renderSaveLayerAction(e){if(!this.visibleElements.saveButton)return null;const t=this.viewModel.layer,s=t?.routeInfo,i=t?.portalItem?.itemControl;return E("calcite-action",{bind:this,disabled:!(s&&("admin"===i||"update"===i)),icon:"save",key:"save-route",onclick:this._handleSaveLayerClick,...e,text:this.messages.common.save,textEnabled:!0})}_renderSaveLayerAsAction(e){if(!this.visibleElements.saveAsButton)return null;const t=!this.viewModel.layer?.routeInfo;return E("calcite-action",{disabled:t,icon:"save-as",key:"save-as-route",onclick:()=>{this._handleSaveLayerAs()},...e,text:this.messages.common.saveAs,textEnabled:!0})}_renderSaveLayerSettings(){if(null==this.layer||null==this._portalFolders||null==this._portalUserName)return this._renderSaveInitialized();const{stops:e}=this.layer,t=`${e.at(0).name} - ${e.at(-1).name}`,s=[E("calcite-combobox-item",{heading:`${this._portalUserName} (${this.messages.common.home})`,key:$.folderHome,selected:!0,value:$.folderHome}),...this._portalFolders.map(e=>E("calcite-combobox-item",{heading:e.title??"",key:`${$.folder}-${e.id}`,value:e.id}))];return E("calcite-panel",{key:"save-layer-panel"},E("div",{class:$.paddingMedium},E("calcite-label",null,this.messages.layerName,E("calcite-input",{afterCreate:this._handleSaveLayerNameCreate,bind:this,label:this.messages.layerName,value:t})),E("calcite-label",null,this.messages.saveInFolder,E("calcite-combobox",{afterCreate:this._handleSaveLayerFolderCreate,bind:this,clearDisabled:!0,label:this.messages.saveInFolder,overlayPositioning:"fixed",selectionMode:"single-persist"},s))),E("calcite-button",{bind:this,onclick:this._handleSaveLayerButtonClick,slot:"footer-actions",width:"full"},this.messages.common.save),E("calcite-button",{appearance:"outline",bind:this,onclick:this._handleSaveLayerCancelClick,slot:"footer-actions",width:"full"},this.messages.common.cancel))}_renderSaveProcessing(e){return E("calcite-panel",{class:$.marginInlineMedium,key:"save-layer-processing"},E("calcite-loader",{class:$.saveProcessLoader,label:e,text:e}))}_renderSeparator(){return E("div",{class:$.separator})}_renderStop(e){const t=this.acquireSearch(e);null!=e.name&&(t.searchTerm=e.name);const s=this._getEffectiveStops(),i=this._renderLocateStopAction(e),o=s.length>2&&this._renderDeleteStopAction(e);return E("calcite-list-item",{key:e,value:e},i,o,E("div",{class:$.stopItem,slot:"content"},t.render()))}_renderStops(){const e=this._getEffectiveStops();for(const t of this._stopsToSearches.keys())e.includes(t)||this._disposeSearch(t);return E("div",{class:$.stopContainer,key:$.stopContainer},E("calcite-list",{bind:this,class:$.stopList,dragEnabled:!0,label:this.messages.widgetLabel,scale:"s",onCalciteListOrderChange:this._handleStopListReorder},e.toArray().map(e=>this._renderStop(e))),2===e.length&&E("calcite-action",{bind:this,icon:"arrow-up-down",onclick:this._handleReverseStopOrderClick,scale:"s",text:this.messages.reverseStops,title:this.messages.reverseStops}))}_renderTravelMode(e){const{id:t,name:s}=e;return E("calcite-combobox-item",{heading:s,key:t,label:s,selected:this.viewModel.selectedTravelMode?.id===t,value:e})}_renderTravelModes(){return this.viewModel.travelModes.length?E("calcite-label",{key:"travel-modes"},this.messages.mode,E("calcite-combobox",{bind:this,clearDisabled:!0,label:this.messages.mode,overlayPositioning:"fixed",selectionMode:"single-persist",onCalciteComboboxChange:this._handleTravelModeChange},this.viewModel.travelModes.map(e=>this._renderTravelMode(e)))):null}_renderViewItemDetailsAction(e){return this.visibleElements.layerDetails?E("calcite-action",{bind:this,disabled:!this.viewModel.layer?.portalItem,icon:"launch",key:"open-route-details-link",onclick:this._handleItemDetailsClick,...e,text:this.messages.viewLayerDetails,textEnabled:!0}):null}async _solveRoute(){if(this.viewModel.updateDepartureTime(),!((this.viewModel.layer?.stops.filter(({geometry:e})=>!!e).length??0)<2))try{await this.viewModel.getDirections()}catch{}}};e([m()],N.prototype,"_printDocumentOpen",void 0),e([m()],N.prototype,"_currentFlowItem",void 0),e([m()],N.prototype,"_saveState",void 0),e([m()],N.prototype,"_searchTool",void 0),e([m()],N.prototype,"apiKey",null),e([m(y)],N.prototype,"defaultUnit",void 0),e([m()],N.prototype,"goToOverride",null),e([m()],N.prototype,"headingLevel",void 0),e([m()],N.prototype,"icon",null),e([m()],N.prototype,"label",null),e([m({readOnly:!0})],N.prototype,"lastRoute",null),e([m()],N.prototype,"layer",null),e([m()],N.prototype,"maxStops",null),e([m(),L("esri/widgets/Directions/t9n/Directions")],N.prototype,"messages",void 0),e([m(),L("esri/core/t9n/Units")],N.prototype,"messagesUnits",void 0),e([m()],N.prototype,"searchProperties",void 0),e([m()],N.prototype,"unit",null),e([m()],N.prototype,"view",null),e([m({type:w})],N.prototype,"viewModel",void 0),e([m({type:U,nonNullable:!0})],N.prototype,"visibleElements",void 0),N=e([h("esri.widgets.Directions")],N);const z=N;export{z as default};
