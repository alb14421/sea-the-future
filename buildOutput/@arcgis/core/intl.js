/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
export{c as convertDateFormatToIntlOptions,f as formatDate,d as formatDateOnly,b as formatTimeOnly,a as formatTimestamp}from"./chunks/date.js";export{c as convertNumberFormatToIntlOptions,f as formatNumber}from"./chunks/number.js";export{s as substitute}from"./chunks/substitute.js";export{a as getLocale,g as getLocaleLanguage,o as onLocaleChange,p as prefersRTL,s as setLocale}from"./chunks/locale.js";import{n as t,r as e}from"./chunks/messages.js";export{f as fetchMessageBundle}from"./chunks/messages.js";import n from"./request.js";import r from"./core/Error.js";import{g as i}from"./chunks/assets.js";import"./chunks/jsonMap.js";import"./chunks/object.js";import"./core/lang.js";import"./chunks/constants.js";import"./chunks/datetime.js";import"./chunks/Logger.js";import"./config.js";import"./chunks/string.js";import"./chunks/handleUtils.js";import"./core/promiseUtils.js";import"./chunks/events.js";import"./chunks/maybe.js";import"./kernel.js";import"./core/urlUtils.js";import"./chunks/jsonUtils.js";import"./chunks/MapUtils.js";import"./chunks/persistableUrlUtils.js";async function m(t){if(null!=h.fetchBundleAsset)return h.fetchBundleAsset(t);const s=await n(t,{responseType:"text"});return JSON.parse(s.data)}class u{constructor({base:t="",pattern:s,location:e=new URL(window.location.href)}){let n;n="string"==typeof e?t=>new URL(t,new URL(e,window.location.href)).href:e instanceof URL?t=>new URL(t,e).href:e,this.pattern="string"==typeof s?new RegExp(`^${s}`):s,this.getAssetUrl=n,t=t?t.endsWith("/")?t:t+"/":"",this.matcher=new RegExp(`^${t}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(s,e){return async function(s,e,n,o){const a=e.exec(n);if(!a)throw new r("esri-intl:invalid-bundle",`Bundle id "${n}" is not compatible with the pattern "${e}"`);const i=a[1]?`${a[1]}/`:"",c=a[2],u=t(o),l=`${i}${c}.json`,p=u?`${i}${c}_${u}.json`:l;let h;try{h=await m(s(p))}catch(t){if(p===l)throw new r("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:t});try{h=await m(s(l))}catch(t){throw new r("intl:unknown-bundle",`Bundle "${n}" cannot be loaded`,{error:t})}}return h}(this.getAssetUrl,this.matcher,s,e)}}function l(t){return new u(t)}const h={};e(l({pattern:"esri/",location:i}));export{l as createJSONLoader,t as normalizeMessageBundleLocale,e as registerMessageBundleLoader};
