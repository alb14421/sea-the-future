"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5844],{5370:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(99924),i=r(29298),a=(r(32773),r(20266),r(69421)),s=r(89754);r(41390),r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(59121),r(19247),r(36172),r(36544),r(90740),r(84699),r(48064);let p=class extends o.o{constructor(e){super(e),this.path=[]}};(0,n._)([(0,i.MZ)({type:[s.A],json:{write:!0}})],p.prototype,"path",void 0),p=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.Path")],p)},10043:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(89754);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(59121),r(90740),r(84699),r(50704),r(91047),r(48064),r(99924),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172);let s=class extends a.A{constructor(e){super(e),this.typeName=null,this.id=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"typeName",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"id",void 0),s=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphNamedObject")],s)},14658:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(64752),s=r(10043);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(59121),r(90740),r(84699),r(50704),r(91047),r(48064),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172),r(48844),r(49877),r(56273),r(2160),r(99924),r(7969),r(69763),r(93804),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(29208),r(89754);let p=class extends s.A{constructor(e){super(e),this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:a.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Entity")],p)},29023:(e,t,r)=>{r.d(t,{g:()=>o});var n=r(82408);function o(e,t){return null===e?t:new n.A({url:e.field("url")})}},47368:(e,t,r)=>{r.d(t,{d:()=>i,e:()=>o});var n=r(77037);function o(e){return{geometryType:(0,n.$B)(e[0]),geometries:e.map(e=>e.toJSON())}}function i(e,t,r){const o=(0,n.xD)(t);return e.map(e=>{const t=o.fromJSON(e);return t.spatialReference=r,t})}},49197:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(7969),s=r(56833);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(59121),r(90740),r(84699),r(50704),r(91047),r(48064),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172),r(99924),r(69763),r(93804),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(56273);let p=class extends s.A{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,n._)([(0,o.MZ)()],p.prototype,"bindParameters",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"bindGeometryQuantizationParameters",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"outputQuantizationParameters",void 0),(0,n._)([(0,o.MZ)({type:a.A})],p.prototype,"outputSpatialReference",void 0),(0,n._)([(0,o.MZ)()],p.prototype,"provenanceBehavior",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],p)},55844:(e,t,r)=>{r.r(t),r.d(t,{registerFunctions:()=>F});var n=r(90740),o=r(59634),i=r(37114),a=r(7011),s=r(81743),p=r(29023),l=r(2160),u=r(88321),c=r(7969),d=r(29208),f=r(82408),h=r(43059),y=r(64604),m=r(36544),g=r(77037),w=r(13978),v=r(47368),A=r(32816),S=r(99924),R=r(29298),_=(r(32773),r(20266),r(69421)),G=r(69763);r(41390),r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(59121),r(19247),r(36172),r(84699),r(48064),r(56273),r(93804),r(96221),r(18683),r(29512),r(99063),r(1178),r(44600),r(49877),r(64752),r(48844),r(36533),r(84200),r(97827),r(18169),r(20762),r(48402),r(16699),r(67504);let b=class extends S.o{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(e=>e.toJSON()),t=this.geometries[0],r={};return r.outSR=(0,G.Z)(this.outSpatialReference),r.inSR=(0,G.Z)(t.spatialReference),r.geometries=JSON.stringify({geometryType:(0,g.$B)(t),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(r.transformForward=this.transformForward),r}};(0,A._)([(0,R.MZ)()],b.prototype,"geometries",void 0),(0,A._)([(0,R.MZ)({type:c.A,json:{read:{source:"outSR"}}})],b.prototype,"outSpatialReference",void 0),(0,A._)([(0,R.MZ)()],b.prototype,"transformation",void 0),(0,A._)([(0,R.MZ)()],b.prototype,"transformForward",void 0),b=(0,A._)([(0,_.$)("esri.rest.support.ProjectParameters")],b);const x=(0,m.e)(b);var M=r(14658),Z=r(49197),k=r(72076),j=r(5370),P=r(76999),N=r(55032);r(49781),r(63509),r(26589),r(133),r(54483),r(59192),r(90791),r(83637),r(47239),r(22522),r(58003),r(33489),r(96153),r(79875),r(30011),r(16345),r(78016),r(57612),r(47805),r(71689),r(44864),r(88663),r(95637),r(59930),r(45862),r(72762),r(71613),r(17872),r(38896),r(71144),r(13317),r(93049),r(44945),r(2589),r(47387),r(46728),r(21632),r(64102),r(73509),r(28276),r(91658),r(70580),r(75191),r(24319),r(62092),r(89935),r(49813),r(10043),r(89754),r(56833);let I=null;async function O(e,t){const n=new h.default({portal:e,id:t});return await n.load(),null===I&&(I=await Promise.all([r.e(7348),r.e(1132),r.e(1815),r.e(9214),r.e(3551),r.e(1513)]).then(r.bind(r,43551)).then(e=>e.k)),await I.fetchKnowledgeGraph(n.url)}function $(e,t,r,n,o){if(null===e)return null;if((0,N.c)(e)||(0,N.a)(e))return e;if((0,s.i)(e))return e.toJSDate();if((0,s.i)(e))return e.toJSDate();if((0,s.n)(e))return e.toStorageFormat();if((0,s.o)(e))return e.toStorageString();if((0,s.g)(e)){const i={};for(const a of e.keys())i[a]=$(e.field(a),t,r,n,o),i[a]instanceof l.A&&o.push({container:i,indexer:a});return i}if((0,N.b)(e)){const i=e.map(e=>$(e,t,r,n,o));for(let e=0;e<i.length;e++)i[e]instanceof l.A&&o.push({container:i,indexer:e});return i}return(0,s.b)(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&t?(0,d.ci)(e):e:void 0}function J(e,t){if(!e)return null;const r={};for(const n in e)r[n]=Q(e[n],t);return r}function Q(e,t){return null===e?null:(0,N.b)(e)?e.map(e=>Q(e,t)):e instanceof M.A?{graphTypeName:e.typeName,id:e.id,graphType:"entity",properties:J(e.properties,t)}:e instanceof k.O?{graphType:"object",properties:J(e.properties,t)}:e instanceof P.A?{graphTypeName:e.typeName,id:e.id,graphType:"relationship",originId:e.originId??null,destinationId:e.destinationId??null,properties:J(e.properties,t)}:e instanceof j.A?{graphType:"path",path:e.path?e.path.map(e=>Q(e,t)):null}:(0,s.b)(e)?function(e,t){if(!e)return e;if(e.spatialReference.isWGS84&&t.spatialReference.isWebMercator)return(0,d.Gh)(e);if(e.spatialReference.equals(t.spatialReference))return e;throw new a.A(t,"WrongSpatialReference",null)}(e,t):(0,N.c)(e)||(0,N.a)(e)||(0,N.i)(e)?e:null}function F(e){"async"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(t,r){return e.standardFunctionAsync(t,r,(e,n,i)=>{if((0,s.s)(i,2,2,t,r),null===i[0])throw new a.A(t,"PortalRequired",r);if(i[0]instanceof o.w){const e=(0,s.w)(i[1]);let r;return r=t.services?.portal?t.services.portal:f.A.getDefault(),O((0,p.g)(i[0],r),e)}if(!1===(0,N.c)(i[0]))throw new a.A(t,"InvalidParameter",r);const l=(0,s.w)(i[0]);return O(t.services?.portal??f.A.getDefault(),l)})},e.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),e.functions.querygraph=function(t,o){return e.standardFunctionAsync(t,o,async(e,p,l)=>{(0,s.s)(l,2,4,t,o);const d=l[0];if(!(0,s.h)(d))throw new a.A(t,"InvalidParameter",o);const f=l[1];if(!(0,N.c)(f))throw new a.A(t,"InvalidParameter",o);null===I&&(I=await Promise.all([r.e(7348),r.e(1132),r.e(1815),r.e(9214),r.e(3551),r.e(1513)]).then(r.bind(r,43551)).then(e=>e.k));let h=null;const m=(0,s.K)(l[2],null);if(!(m instanceof i.D||null===m))throw new a.A(t,"InvalidParameter",o);if(m){let e=[];h=$(m,!0,!1,t,e),e=e.filter(e=>!e.container[e.indexer].spatialReference.isWGS84),e.length>0&&await async function(e){const t=n.A.geometryServiceUrl??"";if(!t){(0,u.isLoaded)()||await(0,u.load)();for(const t of e)t.container[t.indexer]=(0,u.project)(t.container[t.indexer],c.A.WGS84);return}const r=e.map(e=>e.container[e.indexer]),o=new b({geometries:r,outSpatialReference:c.A.WGS84}),i=await async function(e,t){t=x(t);const r=(0,w.p)(e),n={...r.query,f:"json",...t.toJSON()},o=t.outSpatialReference,i=(0,g.$B)(t.geometries[0]),a=(0,w.a)(n,void 0);return(0,y.A)(r.path+"/project",a).then(({data:{geometries:e}})=>(0,v.d)(e,i,o))}(t,o);for(let t=0;t<i.length;t++){const r=e[t];r.container[r.indexer]=i[t]}}(e)}const A=(0,s.K)(l[3],!1),S=new Z.A({openCypherQuery:f,bindParameters:h,provenanceBehavior:A?"include":"exclude"});(d?.serviceDefinition?.currentVersion??11.3)>11.2&&(S.outputSpatialReference=t.spatialReference);const R=(await I.executeQueryStreaming(d,S)).resultRowsStream.getReader(),_=[];try{for(;;){const{done:e,value:r}=await R.read();if(e)break;if((0,N.b)(r))for(const e of r)_.push(Q(e,t));else{const e=[];for(const n of r)e.push(Q(r[n],t));_.push(e)}}}catch(e){throw e}return i.D.convertJsonToArcade(_,(0,s.L)(t),!1,!0)})},e.signatures.push({name:"querygraph",min:2,max:4}))}},56833:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(32816),o=r(41390),i=r(29298),a=(r(32773),r(20266),r(69421));r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(59121),r(19247),r(36172),r(36544),r(90740),r(84699),r(48064);let s=class extends o.A{constructor(e){super(e),this.openCypherQuery=""}};(0,n._)([(0,i.MZ)()],s.prototype,"openCypherQuery",void 0),s=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.GraphQuery")],s)},72076:(e,t,r)=>{r.d(t,{O:()=>a});var n=r(32816),o=(r(20266),r(32773),r(6407),r(69421)),i=r(89754);let a=class extends i.A{constructor(e){super(e)}};a=(0,n._)([(0,o.$)("esri.rest.knowledgeGraph.ObjectValue")],a)},76999:(e,t,r)=>{r.d(t,{A:()=>p});var n=r(32816),o=r(29298),i=(r(32773),r(20266),r(69421)),a=r(67504),s=r(10043);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(59121),r(90740),r(84699),r(50704),r(91047),r(48064),r(56273),r(44600),r(2160),r(99924),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172),r(49877),r(7969),r(69763),r(93804),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(64752),r(48844),r(29208),r(18169),r(20762),r(48402),r(16699),r(89754);let p=class extends s.A{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"originId",void 0),(0,n._)([(0,o.MZ)({type:String,json:{write:!0}})],p.prototype,"destinationId",void 0),(0,n._)([(0,o.MZ)({type:a.A,json:{write:!0}})],p.prototype,"layoutGeometry",void 0),p=(0,n._)([(0,i.$)("esri.rest.knowledgeGraph.Relationship")],p)},89754:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(32816),o=r(99924),i=r(29298),a=(r(32773),r(20266),r(69421));r(41390),r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(59121),r(19247),r(36172),r(36544),r(90740),r(84699),r(48064);let s=class extends o.o{constructor(e){super(e),this.properties=null}};(0,n._)([(0,i.MZ)({json:{write:!0}})],s.prototype,"properties",void 0),s=(0,n._)([(0,a.$)("esri.rest.knowledgeGraph.GraphObject")],s)}}]);