"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[6421],{3112:(e,t,r)=>{r.d(t,{a:()=>f,b:()=>p,d:()=>h});var n=r(41390),i=r(17745),s=r(93181);const o=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function a(e){return e instanceof n.A}function l(e){return e instanceof i.A?Object.keys(e.items):a(e)?(0,s.g)(e).keys():e?Object.keys(e):[]}function c(e,t){return e instanceof i.A?e.items[t]:e[t]}function u(e){return e?e.declaredClass:null}function d(e,t){const r=e.diff;if(r&&"function"==typeof r)return r(e,t);const n=l(e),i=l(t);if(0===n.length&&0===i.length)return;if(!n.length||!i.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const s=i.filter(e=>!n.includes(e)),p=n.filter(e=>!i.includes(e)),f=n.filter(r=>i.includes(r)&&c(e,r)!==c(t,r)).concat(s,p).sort(),h=u(e);if(h&&o.has(h)&&f.length)return{type:"complete",oldValue:e,newValue:t};let m;const y=a(e)&&a(t);for(const n of f){const i=c(e,n),s=c(t,n);let o;if((y||"function"!=typeof i&&"function"!=typeof s)&&i!==s&&(null!=i||null!=s)){if(r&&r[n]&&"function"==typeof r[n])o=r[n]?.(i,s);else if(i instanceof Date&&s instanceof Date){if(i.getTime()===s.getTime())continue;o={type:"complete",oldValue:i,newValue:s}}else o="object"==typeof i&&"object"==typeof s&&u(i)===u(s)?d(i,s):{type:"complete",oldValue:i,newValue:s};null!=o&&(null!=m?m.diff[n]=o:m={type:"partial",diff:{[n]:o}})}}return m}function p(e,t){return function(e,t){if(null==e)return!1;const r=t.split(".");let n=e;for(const e of r){if("complete"===n.type)return!0;if("partial"!==n.type)return!1;{const t=n.diff[e];if(!t)return!1;n=t}}return!0}(e,t)}function f(e,t){if(!e)return!1;if("partial"===e.type){const r=Object.keys(e.diff);return 1===r.length&&r[0]===t}return!1}function h(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&u(e)!==u(t)?{type:"complete",oldValue:e,newValue:t}:d(e,t)}},6837:(e,t,r)=>{r.d(t,{Rr:()=>l,fY:()=>u,ne:()=>c});var n=r(32816),i=r(59121),s=r(29298),o=(r(32773),r(20266),r(69421)),a=r(11737);function l(e,t,r){if(!e)return null;const n=e.find(e=>!!e.field);if(!n)return null;const i=new a.A;return i.read(n,r),[i]}r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(90740),r(84699),r(50704),r(91047),r(48064),r(93804),r(99924),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172);const c={type:[a.A],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:l},write:{writer:function(e,t,r,n){const s=e.find(e=>!!e.field);s&&(0,i.s)(r,[s.toJSON()],t)}}}},u=e=>{const t=e;let r=class extends t{constructor(){super(...arguments),this.orderBy=null}};return(0,n._)([(0,s.MZ)(c)],r.prototype,"orderBy",void 0),r=(0,n._)([(0,o.$)("esri.layers.mixins.OrderedLayer")],r),r}},11737:(e,t,r)=>{r.d(t,{A:()=>u});var n,i=r(32816),s=r(93804),o=r(99924),a=r(29298),l=(r(32773),r(20266),r(69421));r(59121),r(41390),r(85176),r(93181),r(13671),r(50704),r(40499),r(36555),r(58498),r(91047),r(35819),r(45371),r(61532),r(80959),r(6407),r(19247),r(36172),r(36544),r(90740),r(84699),r(48064);const c=new s.J({asc:"ascending",desc:"descending"});let u=class extends o.o{static{n=this}constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new n({field:this.field,valueExpression:this.valueExpression,order:this.order})}};(0,i._)([(0,a.MZ)({type:String,json:{write:!0}})],u.prototype,"field",void 0),(0,i._)([(0,a.MZ)({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],u.prototype,"valueExpression",void 0),(0,i._)([(0,a.MZ)({type:c.apiValues,json:{type:c.jsonValues,read:c.read,write:c.write}})],u.prototype,"order",void 0),u=n=(0,i._)([(0,l.$)("esri.layers.support.OrderByInfo")],u)},36309:(e,t,r)=>{r.d(t,{a:()=>v,b:()=>f,c:()=>m,d:()=>h,g:()=>p,s:()=>u,t:()=>d});var n=r(84699);const i="__begin__",s="__end__",o=new RegExp(i,"ig"),a=new RegExp(s,"ig"),l=new RegExp("^"+i,"i"),c=new RegExp(s+"$","i");function u(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function d(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function p(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=u(e.labelExpression),t.type="conventional"),t}function f(e){const t=p(e);if(!t)return null;switch(t.type){case"conventional":return m(t.expression);case"arcade":return t.expression}return null}function h(e){const t=p(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e?.match(y);return t?.[1].trim()||null}(t.expression);case"arcade":return v(t.expression)}return null}function m(e){let t;return e?(t=(0,n.r)(e,e=>i+'$feature["'+e+'"]'+s),t=l.test(t)?t.replace(l,""):'"'+t,t=c.test(t)?t.replace(c,""):t+'"',t=t.replaceAll(o,'" + ').replaceAll(a,' + "')):t='""',t}const y=/^\s*\{([^}]+)\}\s*$/i,g=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,_=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function v(e){if(!e)return null;let t=g.exec(e)||_.exec(e);return t?t[1]||t[3]:(t=w.exec(e),t?t[2]:null)}},38632:(e,t,r)=>{r.d(t,{V:()=>i});var n=r(6407);let i=class e{constructor(e,t,r=""){this.major=e,this.minor=t,this._context=r}lessThan(e,t){return this.major<e||e===this.major&&this.minor<t}greaterEqual(e,t){return!this.lessThan(e,t)}validate(e){if(this.major!==e.major){const t=this._context&&this._context+":",r=this._context&&this._context+" ";throw new n.A(t+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new e(this.major,this.minor,this._context)}static parse(t,r=""){const[i,s]=t.split("."),o=/^\s*\d+\s*$/;if(!i?.match||!o.test(i))throw new n.A((r&&r+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:t});if(!s?.match||!o.test(s))throw new n.A((r&&r+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:t});const a=parseInt(i,10),l=parseInt(s,10);return new e(a,l,r)}}},41658:(e,t,r)=>{r.d(t,{A:()=>d});var n=r(32816),i=r(29298),s=(r(32773),r(20266),r(69421)),o=r(82559),a=r(73597),l=r(31315),c=r(96807),u=r(17012);r(36544),r(85176),r(93181),r(13671),r(40499),r(6407),r(59121),r(90740),r(84699),r(50704),r(91047),r(48064),r(27281),r(72393),r(52731),r(41390),r(36555),r(58498),r(35819),r(45371),r(61532),r(80959),r(19247),r(36172),r(17745),r(81272),r(44945),r(99924),r(48844),r(49877),r(56273),r(30011),r(54483),r(51961),r(62399),r(64995),r(70861),r(93804),r(33150),r(58173),r(66110),r(67520),r(27532),r(88663),r(48103),r(50214),r(59192),r(16345),r(65085),r(33611),r(84857),r(60373),r(20568),r(35902),r(13226),r(16699),r(16794),r(52357),r(11090),r(49319),r(93546),r(29570),r(34592),r(79825),r(95101),r(67578),r(17857),r(82537),r(14896),r(95611),r(98089),r(91366),r(80473),r(43435),r(73435),r(67321),r(77037),r(44600),r(2160),r(7969),r(69763),r(96221),r(18683),r(64604),r(29512),r(99063),r(1178),r(64752),r(29208),r(36533),r(84200),r(97827),r(18169),r(20762),r(48402),r(67504),r(92517),r(91815),r(85232),r(93471),r(7182),r(47788),r(19297),r(82408),r(73509),r(28276),r(91658),r(70580),r(75191),r(24319),r(62092),r(53252),r(34039),r(12856),r(3495),r(97906),r(64524),r(65023),r(31424),r(74676),r(32368),r(7391),r(22529),r(70061),r(38094),r(67723),r(2589),r(47239),r(22522),r(63728),r(4157),r(62401),r(89322),r(20138),r(53370),r(59858),r(46946),r(3816),r(71992),r(80167),r(4478),r(91808),r(7161),r(55586),r(92229),r(18344),r(53610),r(29447),r(78273),r(49475),r(64884),r(23351),r(35121),r(51222),r(42870),r(54512),r(53103),r(19648),r(42948),r(58194),r(4734),r(60369),r(13201),r(43534),r(47812),r(18527),r(98203),r(54131),r(19869);let d=class extends((0,l.dM)((0,c.j)(a.A))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new o.G,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}get loaded(){return super.loaded}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}graphicChanged(e){this.emit("graphic-update",e)}};(0,n._)([(0,i.MZ)({type:u.A})],d.prototype,"elevationInfo",void 0),(0,n._)([(0,i.MZ)((0,o.o)(o.G,"graphics"))],d.prototype,"graphics",void 0),(0,n._)([(0,i.MZ)({type:["show","hide"]})],d.prototype,"listMode",void 0),(0,n._)([(0,i.MZ)()],d.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,i.MZ)({readOnly:!0})],d.prototype,"type",void 0),(0,n._)([(0,i.MZ)({constructOnly:!0})],d.prototype,"internal",void 0),d=(0,n._)([(0,s.$)("esri.layers.GraphicsLayer")],d)},44296:(e,t,r)=>{r.d(t,{A:()=>h,b:()=>d,c:()=>p,d:()=>m,e:()=>u});var n=r(26589),i=r(6407),s=(r(32773),r(77037)),o=r(79875),a=r(30011),l=r(16345);const c=["geometry","scale","timeProperties"];function u(e,t){if(null!=t)for(const r of c)t.hasArcadeDependency(r)&&e.add(r);return e}function d(e,t){return f.create(e,t,null,["$feature","$view"])}function p(e,t,r){return f.create(e,t,r,["$feature","$view","$config"])}class f{static async create(e,t,r,n){const{arcade:s,Dictionary:o}=await(0,a.l)();let l;try{l=s.parseScript(e)}catch(t){throw new i.A("arcade-bad-expression","Failed to parse arcade script",{script:e,error:t})}const c=s.scriptUsesGeometryEngine(l);c&&await s.enableGeometrySupport(),await s.loadDependentModules(new Set,l,null,!1,c);const u={vars:n.reduce((e,t)=>({...e,[t]:null}),{}),spatialReference:t,useAsync:!1},d=s.compileScript(l,u);let p=null;null!=r&&(p=new o(r),p.immutable=!0);const h=new o;return h.immutable=!1,h.setField("scale",0),new f(e,s,l,d,t,h,p,o)}constructor(e,t,r,n,i,s,o,a){this.script=e,this._arcade=t,this._syntaxTree=r,this._compiled=n,this._spatialReference=i,this._viewDict=s,this._configDict=o,this._dictionaryCtor=a,this._dependencies=new Map,this._featureReader=new h,this._dependencies.set("geometry",t.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,t){const r=t.$view?.timeZone;if(t.$view){let e;if(this._viewDict.setField("scale",t.$view.scale),null!=t.$view.timeProperties){const{currentStart:i,currentEnd:s}=t.$view.timeProperties;e=new this._dictionaryCtor({currentStart:null!=i?null!=r?n.A.epochToArcadeDate(i,r):n.A.unknownEpochToArcadeDate(i):void 0,currentEnd:null!=s?null!=r?n.A.epochToArcadeDate(s,r):n.A.unknownEpochToArcadeDate(s):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",e)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,t){return this._featureReader.bind(e,t,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}}class h{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,t,r){const n=t??new o.A(m(e.attributes));this._boundTarget=e,this._boundSchema.fields=n.fields,this._boundSchema.fieldsIndex=n,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=(0,s.rS)(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===l.u}field(e,t=!0){const r=this._getField(e);if(r){const t=this._boundTarget.attributes[r.name];if(null==t)return null;switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return n.D.fromReader(t);case"time-only":case"esriFieldTypeTimeOnly":return n.T.fromReader(t);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return n.A.fromReaderAsTimeStampOffset(t);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?n.A.unknownEpochToArcadeDate(t):n.A.epochToArcadeDate(t,this.contextTimeZone??l.s);default:return t}}if(t)throw new Error(`Field ${e} does not exist`);return null}setField(e,t){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:!0===e?.keepGeometryType?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,t=null){return Promise.resolve(this.castAsJson(t))}}function m(e){const t=[];for(const r in e)t.push({name:r,alias:r,type:"string"==typeof e[r]?"esriFieldTypeString":"esriFieldTypeDouble"});return t}},64035:(e,t,r)=>{r.d(t,{a:()=>o,c:()=>s});var n=r(16699),i=r(23381);function s(e,t){return{...t,filterMode:e.mode}}function o(e,t,r){const s=function(e){if("manual"===c(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:r,maxScale:n}of e.filters)t[0]=Math.max(t[0],u(r)),t[1]=Math.min(t[1],d(n));return t}(e);if(s&&((0,n.a)(t,s[0])||(0,n.b)(r,s[1])))return"";const o=Array.from(a(e,t,r)),l=function(e,t,r){if(0===e.length)return!0;const i=u(e.at(0)?.minScale),s=d(e.at(-1)?.maxScale);if((0,n.b)(i,t)||(0,n.a)(s,r))return!0;for(let t=0;t<e.length-1;t++){const r=e[t],i=e[t+1];if((0,n.b)(u(i.minScale),d(r.maxScale)))return!0}return!1}(o,t,r)?"1=1":o.map(e=>e.where||"1=1").reduce((e,t)=>(0,i.IW)(e,t),"");return l&&"1=1"!==l?l:""}function*a(e,t,r){if("manual"===c(e)){const t=e.filters.find(t=>t.id===e.activeFilterId);t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const n of e.filters)l(n.minScale,n.maxScale,t,r)&&(yield n)}}function l(e,t,r,i){return e=u(e),r=u(r),t=d(t),!(!(0,n.f)(r,e)&&(i??r)>e||(0,n.d)(t,r)||void 0!==i&&(0,n.f)(i,e))}function c(e){return"mode"in e?e.mode:e.filterMode}function u(e){return e||Number.POSITIVE_INFINITY}function d(e){return e||0}},76164:(e,t,r)=>{r.d(t,{D:()=>l});var n=r(6407),i=r(20266),s=r(38632),o=r(79875),a=r(44296);class l{static async from(e,t,r){const o=e.dictionary_version?s.V.parse(e.dictionary_version):null,u=new Set(e.itemsNames),d={};if(t)for(const e in t)d[e]=t[e];if(e.authoringInfo.configuration)for(const t of e.authoringInfo.configuration)d.hasOwnProperty(t.name)||(d[t.name]=t.value);const p=new Set(e.authoringInfo.symbol);for(const e of Object.keys(r))p.delete(e);p.size&&i.L.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:p});const f=await(0,a.c)(e.expression,null,d);if(!f)throw new n.A("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const h=!o||!o.greaterEqual(4,0);h&&i.L.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:o});const m=new c(r,h);return new l(h,u,f,m)}constructor(e,t,r,n){this._requiresFieldCoercionToString=e,this._itemNames=t,this._compiled=r,this._reader=n}get itemNames(){return this._itemNames}evaluate(e,t,r,n){try{return this._reader.bind(e,r,n),this._compiled.evaluate(this._reader,{$view:{scale:t}})}catch(e){i.L.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:e})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new o.A(e);const t=e.map(e=>({...e,type:"esriFieldTypeString"}));return new o.A(t)}}class c extends a.A{constructor(e,t){super(),this._fieldMap=e,this._requiresFieldCoercionToString=t}_getField(e){const t=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(t)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const t=this._getField(e);return null==t||null==this._boundTarget.attributes[t.name]?"":""+this._boundTarget.attributes[t.name]}}},82559:(e,t,r)=>{r.d(t,{G:()=>f,o:()=>p});var n=r(32816),i=r(27281),s=(r(20266),r(36544)),o=(r(32773),r(6407),r(24863)),a=r(69421),l=r(17745),c=r(19297),u=r(29298);let d=class extends l.A{constructor(e){super(e),this.addHandles([this.on("before-add",e=>{null==e.item&&e.preventDefault()}),this.on("after-add",e=>this._own(e.item)),this.on("after-remove",e=>this._release(e.item))])}get owner(){return this._get("owner")}set owner(e){this.destroyed||e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(l.A.ofType(this.itemType.Type))(e):new l.A(e)}};function p(e,t){return{type:e,cast:c.c,set(r){const n=(0,c.r)(r,this._get(t),e);n&&!n.destroyed&&(n.owner=this),this._set(t,n)}}}(0,n._)([(0,u.MZ)()],d.prototype,"owner",null),d=(0,n._)([(0,a.$)("esri.core.support.OwningCollection")],d);let f=class extends d{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};(0,n._)([(0,o.s)({Type:i.A,ensureType:(0,s.e)(i.A)})],f.prototype,"itemType",void 0),f=(0,n._)([(0,a.$)("esri.support.GraphicsCollection")],f)},93049:(e,t,r)=>{r.d(t,{a:()=>s,b:()=>o,g:()=>i,n:()=>a});const n="randomUUID"in crypto;function i(){if(n)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function s(){return`{${i().toUpperCase()}}`}function o(){return`{${i()}}`}function a(e){const t=e.toUpperCase();return e.startsWith("{")?t:`{${t}}`}},99032:(e,t,r)=>{r.d(t,{A:()=>s});var n=r(32816),i=(r(20266),r(32773),r(6407),r(69421));r(90740),r(59121),r(84699),r(50704),r(40499),r(93181),r(13671),r(91047),r(36544),r(48064);let s=class{};s=(0,n._)([(0,i.$)("esri.graphic.GraphicOrigin")],s)}}]);