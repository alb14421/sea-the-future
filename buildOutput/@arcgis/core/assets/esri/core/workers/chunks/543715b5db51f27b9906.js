"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[8807],{4685:(t,n,e)=>{e.d(n,{a:()=>s,e:()=>o}),e(16699);var r=e(26809),i=e(2589);function o(t,n){const e=Math.sqrt(n[0]*n[0]+n[4]*n[4]+n[8]*n[8]),i=Math.sqrt(n[1]*n[1]+n[5]*n[5]+n[9]*n[9]),o=Math.sqrt(n[2]*n[2]+n[6]*n[6]+n[10]*n[10]);return(0,r.k)(t,e,i,o),t}function s(t,n,e,o=(0,i.c)()){const s=(0,r.l)(t),u=(0,r.l)(n),h=(0,r.d)(t,n)/(s*u);if(h<.9999999999999999){const i=Math.acos(h),d=((1-e)*s+e*u)/Math.sin(i),f=d/s*Math.sin((1-e)*i),l=d/u*Math.sin(e*i);return(0,r.i)(c,t,f),(0,r.i)(a,n,l),(0,r.j)(o,c,a)}return(0,r.m)(o,t,n,e)}(0,i.c)(),(0,i.c)(),(0,i.c)();const c=(0,i.c)(),a=(0,i.c)()},5611:(t,n,e)=>{e.d(n,{a:()=>p,b:()=>m,c:()=>_,d:()=>E,f:()=>S,g:()=>x,i:()=>O,k:()=>M,m:()=>q,s:()=>D}),e(32773),e(20266);var r=e(16699),i=e(47812),o=e(26809),s=e(2589),c=e(91276),a=e(62482),u=e(18527),h=e(92080),d=e(77641);function f(t,n){const e=(0,o.l)(t),i=(0,r.h)(t[2]/e),s=Math.atan2(t[1]/e,t[0]/e);return(0,o.k)(n,e,i,s),n}const l=m();function m(){return(0,a.c)()}const g=c.e,b=c.e;function _(t,n){return(0,c.c)(n,t)}function M(t,n){return t[0]=t[1]=t[2]=0,t[3]=n,t}function p(t){return t[3]}function x(t){return t}function S(t,n,e,r){return(0,a.f)(t,n,e,r)}function j(t,n,e){if(null==n)return!1;if(!w(t,n,v))return!1;let{t0:r,t1:i}=v;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(e){const{origin:t,direction:i}=n;e[0]=t[0]+i[0]*r,e[1]=t[1]+i[1]*r,e[2]=t[2]+i[2]*r}return!0}const v={t0:0,t1:0};function w(t,n,e){const{origin:r,direction:i}=n,o=P;o[0]=r[0]-t[0],o[1]=r[1]-t[1],o[2]=r[2]-t[2];const s=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===s)return!1;const c=2*(i[0]*o[0]+i[1]*o[1]+i[2]*o[2]),a=c*c-4*s*(o[0]*o[0]+o[1]*o[1]+o[2]*o[2]-t[3]*t[3]);if(a<0)return!1;const u=Math.sqrt(a);return e.t0=(-c-u)/(2*s),e.t1=(-c+u)/(2*s),!0}const P=(0,s.c)();function O(t,n){return j(t,n,null)}function z(t,n,e){const r=d.s.get(),s=d.e.get();(0,o.c)(r,n.origin,n.direction);const c=p(t);(0,o.c)(e,r,n.origin),(0,o.i)(e,e,1/(0,o.l)(e)*c);const a=N(t,n.origin),u=(0,d.f)(n.origin,e);return(0,i.a)(s,u+a,r),(0,o.t)(e,e,s),e}function q(t,n,e,r){const i=p(t),o=i*i,s=n+.5*Math.PI,c=e*e+o-2*Math.cos(s)*e*i,a=Math.sqrt(c),u=c-o;if(u<=0)return.5;const h=Math.sqrt(u),d=Math.acos(h/a)-Math.asin(i/(a/Math.sin(s)));return Math.min(1,(d+.5*r)/r)}function T(t,n,e){const r=(0,o.h)(d.s.get(),n,t),i=(0,o.i)(d.s.get(),r,t[3]/(0,o.l)(r));return(0,o.j)(e,i,t)}function N(t,n){const e=(0,o.h)(d.s.get(),n,t),i=(0,o.l)(e),s=p(t),c=s+Math.abs(s-i);return(0,r.g)(s/c)}const y=(0,s.c)();function A(t,n,e,r){const i=(0,o.h)(y,n,t);switch(e){case 0:{const t=f(i,y)[2];return(0,o.k)(r,-Math.sin(t),Math.cos(t),0)}case 1:{const t=f(i,y),n=t[1],e=t[2],s=Math.sin(n);return(0,o.k)(r,-s*Math.cos(e),-s*Math.sin(e),Math.cos(n))}case 2:return(0,o.n)(r,i);default:return}}function C(t,n){const e=(0,o.h)(k,n,t);return(0,o.l)(e)-t[3]}function E(t,n){const e=(0,o.u)(t,n),r=p(t);return e<=r*r}const k=(0,s.c)(),R=m(),D=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:l,altitudeAt:C,angleToSilhouette:N,axisAt:A,cameraFrustumCoverage:q,clear:function(t){t[0]=t[1]=t[2]=t[3]=0},closestPoint:function(t,n,e){return j(t,n,e)?e:((0,h.e)(n,t,e),T(t,e,e))},closestPointOnSilhouette:z,containsPoint:E,copy:_,create:m,distanceToSilhouette:function(t,n){const e=(0,o.h)(d.s.get(),n,t),r=(0,o.w)(e),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,n,e){return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2]),e[3]=t[3]+n,e},equals:b,exactEquals:g,fromCenterAndRadius:function(t,n){return(0,a.f)(t[0],t[1],t[2],n)},fromRadius:M,fromValues:S,getCenter:x,getExtent:function(t,n){return n},getRadius:p,intersectLine:function(t,n,e){const r=(0,h.f)(n,e);if(!w(t,r,v))return[];const{origin:i,direction:c}=r,{t0:a,t1:d}=v,f=n=>{const e=(0,s.c)();return(0,o.a)(e,i,c,n),T(t,e,e)};return Math.abs(a-d)<(0,u.g)()?[f(a)]:[f(a),f(d)]},intersectRay:j,intersectRayClosestSilhouette:function(t,n,e){if(j(t,n,e))return e;const r=z(t,n,d.s.get());return(0,o.j)(e,n.origin,(0,o.i)(d.s.get(),n.direction,(0,o.x)(n.origin,r)/(0,o.l)(n.direction))),e},intersectsRay:O,projectPoint:T,setAltitudeAt:function(t,n,e,r){const i=C(t,n),s=A(t,n,2,k),c=(0,o.i)(k,s,e-i);return(0,o.j)(r,n,c)},setExtent:function(t,n,e){return t!==e&&_(t,e),e},tmpSphere:R,union:function(t,n,e=(0,a.c)()){const r=(0,o.x)(t,n),i=t[3],s=n[3];return r+s<i?((0,c.c)(e,t),e):r+i<s?((0,c.c)(e,n),e):((0,o.m)(e,t,n,(r+s-i)/(2*r)),e[3]=(r+i+s)/2,e)},wrap:function(t){return t}},Symbol.toStringTag,{value:"Module"}))},31835:(t,n,e)=>{e.d(n,{a:()=>l,b:()=>f,c:()=>a,d:()=>d,f:()=>h,w:()=>u});var r=e(16699),i=e(92080),o=e(26809),s=e(2589),c=e(77641);function a(t){return t?{origin:(0,s.b)(t.origin),vector:(0,s.b)(t.vector)}:{origin:(0,s.c)(),vector:(0,s.c)()}}function u(t,n){const e=m.get();return e.origin=t,e.vector=n,e}function h(t,n,e=a()){return(0,o.e)(e.origin,t),(0,o.h)(e.vector,n,t),e}function d(t,n){const e=(0,o.h)(c.s.get(),n,t.origin),i=(0,o.d)(t.vector,e),s=(0,o.d)(t.vector,t.vector),a=(0,r.c)(i/s,0,1),u=(0,o.h)(c.s.get(),(0,o.i)(c.s.get(),t.vector,a),e);return(0,o.d)(u,u)}function f(t,n,e){return l(t,n,0,1,e)}function l(t,n,e,i,s){const{vector:a,origin:u}=t,h=(0,o.h)(c.s.get(),n,u),d=(0,o.d)(a,h)/(0,o.w)(a);return(0,o.i)(s,a,(0,r.c)(d,e,i)),(0,o.j)(s,s,t.origin)}(0,s.c)(),(0,s.c)();const m=new i.O(()=>a())},47812:(t,n,e)=>{e.d(n,{A:()=>f,B:()=>_,C:()=>j,D:()=>q,G:()=>z,a:()=>g,b:()=>s,c:()=>i,e:()=>P,f:()=>S,g:()=>x,i:()=>a,k:()=>d,l:()=>m,m:()=>u,n:()=>v,o:()=>O,p:()=>w,r:()=>l,s:()=>o,t:()=>c,u:()=>p,v:()=>h,w:()=>M,z:()=>b});var r=e(18527);function i(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function o(t,n,e,r,i,o,s,c,a,u,h,d,f,l,m,g,b){return t[0]=n,t[1]=e,t[2]=r,t[3]=i,t[4]=o,t[5]=s,t[6]=c,t[7]=a,t[8]=u,t[9]=h,t[10]=d,t[11]=f,t[12]=l,t[13]=m,t[14]=g,t[15]=b,t}function s(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t,n){if(t===n){const e=n[1],r=n[2],i=n[3],o=n[6],s=n[7],c=n[11];t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=e,t[6]=n[9],t[7]=n[13],t[8]=r,t[9]=o,t[11]=n[14],t[12]=i,t[13]=s,t[14]=c}else t[0]=n[0],t[1]=n[4],t[2]=n[8],t[3]=n[12],t[4]=n[1],t[5]=n[5],t[6]=n[9],t[7]=n[13],t[8]=n[2],t[9]=n[6],t[10]=n[10],t[11]=n[14],t[12]=n[3],t[13]=n[7],t[14]=n[11],t[15]=n[15];return t}function a(t,n){const e=n[0],r=n[1],i=n[2],o=n[3],s=n[4],c=n[5],a=n[6],u=n[7],h=n[8],d=n[9],f=n[10],l=n[11],m=n[12],g=n[13],b=n[14],_=n[15],M=e*c-r*s,p=e*a-i*s,x=e*u-o*s,S=r*a-i*c,j=r*u-o*c,v=i*u-o*a,w=h*g-d*m,P=h*b-f*m,O=h*_-l*m,z=d*b-f*g,q=d*_-l*g,T=f*_-l*b;let N=M*T-p*q+x*z+S*O-j*P+v*w;return N?(N=1/N,t[0]=(c*T-a*q+u*z)*N,t[1]=(i*q-r*T-o*z)*N,t[2]=(g*v-b*j+_*S)*N,t[3]=(f*j-d*v-l*S)*N,t[4]=(a*O-s*T-u*P)*N,t[5]=(e*T-i*O+o*P)*N,t[6]=(b*x-m*v-_*p)*N,t[7]=(h*v-f*x+l*p)*N,t[8]=(s*q-c*O+u*w)*N,t[9]=(r*O-e*q-o*w)*N,t[10]=(m*j-g*x+_*M)*N,t[11]=(d*x-h*j-l*M)*N,t[12]=(c*P-s*z-a*w)*N,t[13]=(e*z-r*P+i*w)*N,t[14]=(g*p-m*S-b*M)*N,t[15]=(h*S-d*p+f*M)*N,t):null}function u(t,n,e){const r=n[0],i=n[1],o=n[2],s=n[3],c=n[4],a=n[5],u=n[6],h=n[7],d=n[8],f=n[9],l=n[10],m=n[11],g=n[12],b=n[13],_=n[14],M=n[15];let p=e[0],x=e[1],S=e[2],j=e[3];return t[0]=p*r+x*c+S*d+j*g,t[1]=p*i+x*a+S*f+j*b,t[2]=p*o+x*u+S*l+j*_,t[3]=p*s+x*h+S*m+j*M,p=e[4],x=e[5],S=e[6],j=e[7],t[4]=p*r+x*c+S*d+j*g,t[5]=p*i+x*a+S*f+j*b,t[6]=p*o+x*u+S*l+j*_,t[7]=p*s+x*h+S*m+j*M,p=e[8],x=e[9],S=e[10],j=e[11],t[8]=p*r+x*c+S*d+j*g,t[9]=p*i+x*a+S*f+j*b,t[10]=p*o+x*u+S*l+j*_,t[11]=p*s+x*h+S*m+j*M,p=e[12],x=e[13],S=e[14],j=e[15],t[12]=p*r+x*c+S*d+j*g,t[13]=p*i+x*a+S*f+j*b,t[14]=p*o+x*u+S*l+j*_,t[15]=p*s+x*h+S*m+j*M,t}function h(t,n,e){const r=e[0],i=e[1],o=e[2];if(n===t)t[12]=n[0]*r+n[4]*i+n[8]*o+n[12],t[13]=n[1]*r+n[5]*i+n[9]*o+n[13],t[14]=n[2]*r+n[6]*i+n[10]*o+n[14],t[15]=n[3]*r+n[7]*i+n[11]*o+n[15];else{const e=n[0],s=n[1],c=n[2],a=n[3],u=n[4],h=n[5],d=n[6],f=n[7],l=n[8],m=n[9],g=n[10],b=n[11];t[0]=e,t[1]=s,t[2]=c,t[3]=a,t[4]=u,t[5]=h,t[6]=d,t[7]=f,t[8]=l,t[9]=m,t[10]=g,t[11]=b,t[12]=e*r+u*i+l*o+n[12],t[13]=s*r+h*i+m*o+n[13],t[14]=c*r+d*i+g*o+n[14],t[15]=a*r+f*i+b*o+n[15]}return t}function d(t,n,e){const r=e[0],i=e[1],o=e[2];return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=n[3]*r,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=n[7]*i,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=n[11]*o,t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],t}function f(t,n,e,o){let s=o[0],c=o[1],a=o[2],u=Math.sqrt(s*s+c*c+a*a);if(u<=(0,r.g)())return void i(t,n);u=1/u,s*=u,c*=u,a*=u;const h=Math.sin(e),d=Math.cos(e),f=1-d,l=n[0],m=n[1],g=n[2],b=n[3],_=n[4],M=n[5],p=n[6],x=n[7],S=n[8],j=n[9],v=n[10],w=n[11],P=s*s*f+d,O=c*s*f+a*h,z=a*s*f-c*h,q=s*c*f-a*h,T=c*c*f+d,N=a*c*f+s*h,y=s*a*f+c*h,A=c*a*f-s*h,C=a*a*f+d;t[0]=l*P+_*O+S*z,t[1]=m*P+M*O+j*z,t[2]=g*P+p*O+v*z,t[3]=b*P+x*O+w*z,t[4]=l*q+_*T+S*N,t[5]=m*q+M*T+j*N,t[6]=g*q+p*T+v*N,t[7]=b*q+x*T+w*N,t[8]=l*y+_*A+S*C,t[9]=m*y+M*A+j*C,t[10]=g*y+p*A+v*C,t[11]=b*y+x*A+w*C,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15])}function l(t,n,e){const r=Math.sin(e),i=Math.cos(e),o=n[4],s=n[5],c=n[6],a=n[7],u=n[8],h=n[9],d=n[10],f=n[11];return n!==t&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t[4]=o*i+u*r,t[5]=s*i+h*r,t[6]=c*i+d*r,t[7]=a*i+f*r,t[8]=u*i-o*r,t[9]=h*i-s*r,t[10]=d*i-c*r,t[11]=f*i-a*r,t}function m(t,n){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function g(t,n,e){if(0===n)return s(t);let i=e[0],o=e[1],c=e[2],a=Math.sqrt(i*i+o*o+c*c);if(a<=(0,r.g)())return null;a=1/a,i*=a,o*=a,c*=a;const u=Math.sin(n),h=Math.cos(n),d=1-h;return t[0]=i*i*d+h,t[1]=o*i*d+c*u,t[2]=c*i*d-o*u,t[3]=0,t[4]=i*o*d-c*u,t[5]=o*o*d+h,t[6]=c*o*d+i*u,t[7]=0,t[8]=i*c*d+o*u,t[9]=o*c*d-i*u,t[10]=c*c*d+h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function b(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function _(t,n){const e=Math.sin(n),r=Math.cos(n);return t[0]=r,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,n){return t[0]=n[12],t[1]=n[13],t[2]=n[14],t}function p(t,n){const e=n[0],r=n[1],i=n[2],o=n[4],s=n[5],c=n[6],a=n[8],u=n[9],h=n[10];return t[0]=Math.sqrt(e*e+r*r+i*i),t[1]=Math.sqrt(o*o+s*s+c*c),t[2]=Math.sqrt(a*a+u*u+h*h),t}function x(t,n){const e=n[0]+n[5]+n[10];let r=0;return e>0?(r=2*Math.sqrt(e+1),t[3]=.25*r,t[0]=(n[6]-n[9])/r,t[1]=(n[8]-n[2])/r,t[2]=(n[1]-n[4])/r):n[0]>n[5]&&n[0]>n[10]?(r=2*Math.sqrt(1+n[0]-n[5]-n[10]),t[3]=(n[6]-n[9])/r,t[0]=.25*r,t[1]=(n[1]+n[4])/r,t[2]=(n[8]+n[2])/r):n[5]>n[10]?(r=2*Math.sqrt(1+n[5]-n[0]-n[10]),t[3]=(n[8]-n[2])/r,t[0]=(n[1]+n[4])/r,t[1]=.25*r,t[2]=(n[6]+n[9])/r):(r=2*Math.sqrt(1+n[10]-n[0]-n[5]),t[3]=(n[1]-n[4])/r,t[0]=(n[8]+n[2])/r,t[1]=(n[6]+n[9])/r,t[2]=.25*r),t}function S(t,n,e,r){const i=n[0],o=n[1],s=n[2],c=n[3],a=i+i,u=o+o,h=s+s,d=i*a,f=i*u,l=i*h,m=o*u,g=o*h,b=s*h,_=c*a,M=c*u,p=c*h,x=r[0],S=r[1],j=r[2];return t[0]=(1-(m+b))*x,t[1]=(f+p)*x,t[2]=(l-M)*x,t[3]=0,t[4]=(f-p)*S,t[5]=(1-(d+b))*S,t[6]=(g+_)*S,t[7]=0,t[8]=(l+M)*j,t[9]=(g-_)*j,t[10]=(1-(d+m))*j,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function j(t,n,e,r,i){const o=n[0],s=n[1],c=n[2],a=n[3],u=o+o,h=s+s,d=c+c,f=o*u,l=o*h,m=o*d,g=s*h,b=s*d,_=c*d,M=a*u,p=a*h,x=a*d,S=r[0],j=r[1],v=r[2],w=i[0],P=i[1],O=i[2],z=(1-(g+_))*S,q=(l+x)*S,T=(m-p)*S,N=(l-x)*j,y=(1-(f+_))*j,A=(b+M)*j,C=(m+p)*v,E=(b-M)*v,k=(1-(f+g))*v;return t[0]=z,t[1]=q,t[2]=T,t[3]=0,t[4]=N,t[5]=y,t[6]=A,t[7]=0,t[8]=C,t[9]=E,t[10]=k,t[11]=0,t[12]=e[0]+w-(z*w+N*P+C*O),t[13]=e[1]+P-(q*w+y*P+E*O),t[14]=e[2]+O-(T*w+A*P+k*O),t[15]=1,t}function v(t,n,e,r,i,o,s){const c=1/(e-n),a=1/(i-r),u=1/(o-s);return t[0]=2*o*c,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*a,t[6]=0,t[7]=0,t[8]=(e+n)*c,t[9]=(i+r)*a,t[10]=(s+o)*u,t[11]=-1,t[12]=0,t[13]=0,t[14]=s*o*2*u,t[15]=0,t}function w(t,n,e,i){const o=n[0],c=n[1],a=n[2];let u=o-e[0],h=c-e[1],d=a-e[2];const f=(0,r.g)();if(Math.abs(u)<f&&Math.abs(h)<f&&Math.abs(d)<f)return void s(t);let l=1/Math.sqrt(u*u+h*h+d*d);u*=l,h*=l,d*=l;const m=i[0],g=i[1],b=i[2];let _=g*d-b*h,M=b*u-m*d,p=m*h-g*u;l=Math.sqrt(_*_+M*M+p*p),l?(l=1/l,_*=l,M*=l,p*=l):(_=0,M=0,p=0);let x=h*p-d*M,S=d*_-u*p,j=u*M-h*_;l=Math.sqrt(x*x+S*S+j*j),l?(l=1/l,x*=l,S*=l,j*=l):(x=0,S=0,j=0),t[0]=_,t[1]=x,t[2]=u,t[3]=0,t[4]=M,t[5]=S,t[6]=h,t[7]=0,t[8]=p,t[9]=j,t[10]=d,t[11]=0,t[12]=-(_*o+M*c+p*a),t[13]=-(x*o+S*c+j*a),t[14]=-(u*o+h*c+d*a),t[15]=1}function P(t,n){return t[0]===n[0]&&t[1]===n[1]&&t[2]===n[2]&&t[3]===n[3]&&t[4]===n[4]&&t[5]===n[5]&&t[6]===n[6]&&t[7]===n[7]&&t[8]===n[8]&&t[9]===n[9]&&t[10]===n[10]&&t[11]===n[11]&&t[12]===n[12]&&t[13]===n[13]&&t[14]===n[14]&&t[15]===n[15]}function O(t,n){if(t===n)return!0;const e=t[0],i=t[1],o=t[2],s=t[3],c=t[4],a=t[5],u=t[6],h=t[7],d=t[8],f=t[9],l=t[10],m=t[11],g=t[12],b=t[13],_=t[14],M=t[15],p=n[0],x=n[1],S=n[2],j=n[3],v=n[4],w=n[5],P=n[6],O=n[7],z=n[8],q=n[9],T=n[10],N=n[11],y=n[12],A=n[13],C=n[14],E=n[15],k=(0,r.g)();return Math.abs(e-p)<=k*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(i-x)<=k*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-S)<=k*Math.max(1,Math.abs(o),Math.abs(S))&&Math.abs(s-j)<=k*Math.max(1,Math.abs(s),Math.abs(j))&&Math.abs(c-v)<=k*Math.max(1,Math.abs(c),Math.abs(v))&&Math.abs(a-w)<=k*Math.max(1,Math.abs(a),Math.abs(w))&&Math.abs(u-P)<=k*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(h-O)<=k*Math.max(1,Math.abs(h),Math.abs(O))&&Math.abs(d-z)<=k*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(f-q)<=k*Math.max(1,Math.abs(f),Math.abs(q))&&Math.abs(l-T)<=k*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(m-N)<=k*Math.max(1,Math.abs(m),Math.abs(N))&&Math.abs(g-y)<=k*Math.max(1,Math.abs(g),Math.abs(y))&&Math.abs(b-A)<=k*Math.max(1,Math.abs(b),Math.abs(A))&&Math.abs(_-C)<=k*Math.max(1,Math.abs(_),Math.abs(C))&&Math.abs(M-E)<=k*Math.max(1,Math.abs(M),Math.abs(E))}function z(t){const n=(0,r.g)(),e=t[0],i=t[1],o=t[2],s=t[4],c=t[5],a=t[6],u=t[8],h=t[9],d=t[10];return Math.abs(1-(e*e+s*s+u*u))<=n&&Math.abs(1-(i*i+c*c+h*h))<=n&&Math.abs(1-(o*o+a*a+d*d))<=n}function q(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}},57863:(t,n,e)=>{e.r(n),e.d(n,{default:()=>Q});var r=e(32816),i=e(80959),o=(e(20266),e(32773),e(6407),e(69421)),s=e(26809),c=e(2589),a=e(31835),u=e(5611),h=e(36555),d=e(61532),f=e(68026),l=e(92080),m=e(72509);class g{get bounds(){return this._root.bounds}get halfSize(){return this._root.halfSize}get root(){return this._root.node}get maximumObjectsPerNode(){return this._maximumObjectsPerNode}get maximumDepth(){return this._maximumDepth}get objectCount(){return this._objectCount}constructor(t,n){this.objectToBoundingSphere=t,this._maximumObjectsPerNode=10,this._maximumDepth=20,this._degenerateObjects=new Set,this._root=new b,this._objectCount=0,n&&(void 0!==n.maximumObjectsPerNode&&(this._maximumObjectsPerNode=n.maximumObjectsPerNode),void 0!==n.maximumDepth&&(this._maximumDepth=n.maximumDepth))}destroy(){this._degenerateObjects.clear(),b.clearPool(),A[0]=null,D.prune(),H.prune()}add(t){const n=Array.from(t);this._grow(n);const e=b.acquire();for(const t of n)++this._objectCount,this._isDegenerate(t)?this._degenerateObjects.add(t):(e.init(this._root),this._add(t,e));b.release(e)}remove(t,n=null){this._objectCount-=t.length;const e=b.acquire();for(const r of t){const t=n??(0,u.c)(this.objectToBoundingSphere(r),B);q(t[3])?(e.init(this._root),p(r,t,e)):this._degenerateObjects.delete(r)}b.release(e),this._shrink()}update(t,n){if(!q(n[3])&&this._isDegenerate(t))return;const e=function(t){return A[0]=t,A}(t);this.remove(e,n),this.add(e)}forEachAlongRay(t,n,e){const r=(0,l.w)(t,n);_(this._root,t=>{if(!function(t,n){return w((0,u.g)(n.bounds),2*-n.halfSize,k),w((0,u.g)(n.bounds),2*n.halfSize,R),(0,m.r)(t.origin,t.direction,k,R)}(r,t))return!1;const n=t.node;return n.terminals.forAll(t=>{this._intersectsObject(r,t)&&e(t)}),null!==n.residents&&n.residents.forAll(t=>{this._intersectsObject(r,t)&&e(t)}),!0})}forEachAlongRayWithVerticalOffset(t,n,e,r){const i=(0,l.w)(t,n);_(this._root,t=>{if(!function(t,n,e){return w((0,u.g)(n.bounds),2*-n.halfSize,k),w((0,u.g)(n.bounds),2*n.halfSize,R),e.applyToMinMax(k,R),(0,m.r)(t.origin,t.direction,k,R)}(i,t,r))return!1;const n=t.node;return n.terminals.forAll(t=>{this._intersectsObjectWithOffset(i,t,r)&&e(t)}),null!==n.residents&&n.residents.forAll(t=>{this._intersectsObjectWithOffset(i,t,r)&&e(t)}),!0})}forEach(t){_(this._root,n=>{const e=n.node;return e.terminals.forAll(t),null!==e.residents&&e.residents.forAll(t),!0}),this._degenerateObjects.forEach(t)}forEachDegenerateObject(t){this._degenerateObjects.forEach(t)}findClosest(t,n,e,r=()=>!0,i=1/0){let o=1/0,c=1/0,a=null;const h=O(t,n),d=s=>{if(--i,!r(s))return;const h=this.objectToBoundingSphere(s);if(!(0,f.b)(e,h))return;const d=z(t,n,(0,u.g)(h)),l=d-h[3],m=d+h[3];l<o&&(o=l,c=m,a=s)};return M(this._root,r=>{if(i<=0||!(0,f.b)(e,r.bounds))return!1;if((0,s.i)(E,h,r.halfSize),(0,s.j)(E,E,(0,u.g)(r.bounds)),z(t,n,E)>c)return!1;const o=r.node;return o.terminals.forAll(t=>d(t)),null!==o.residents&&o.residents.forAll(t=>d(t)),!0},t,n),a}forEachInDepthRange(t,n,e,r,i,o,c){let a=-1/0,h=1/0;const d={setRange:t=>{1===e?(a=Math.max(a,t.near),h=Math.min(h,t.far)):(a=Math.max(a,-t.far),h=Math.min(h,-t.near))}};d.setRange(r);const l=z(n,e,t),m=O(n,e),g=O(n,-e),b=t=>{if(!c(t))return;const r=this.objectToBoundingSphere(t),s=(0,u.g)(r),m=z(n,e,s)-l,g=m-r[3],b=m+r[3];g>h||b<a||!(0,f.b)(o,r)||i(t,d)};M(this._root,t=>{if(!(0,f.b)(o,t.bounds))return!1;if((0,s.i)(E,m,t.halfSize),(0,s.j)(E,E,(0,u.g)(t.bounds)),z(n,e,E)-l>h)return!1;if((0,s.i)(E,g,t.halfSize),(0,s.j)(E,E,(0,u.g)(t.bounds)),z(n,e,E)-l<a)return!1;const r=t.node;return r.terminals.forAll(t=>b(t)),null!==r.residents&&r.residents.forAll(t=>b(t)),!0},n,e)}forEachNode(t){_(this._root,n=>t(n.node,n.bounds,n.halfSize,n.depth))}forEachNeighbor(t,n){const e=(0,u.a)(n),r=(0,u.g)(n),i=n=>{const i=this.objectToBoundingSphere(n),o=(0,u.a)(i),c=e+o;return!((0,s.u)((0,u.g)(i),r)-c*c<=0)||t(n)};let o=!0;const c=t=>{o&&(o=i(t))};_(this._root,t=>{const n=(0,u.a)(t.bounds),i=e+n;if((0,s.u)((0,u.g)(t.bounds),r)-i*i>0)return!1;const a=t.node;return a.terminals.forAll(c),o&&null!==a.residents&&a.residents.forAll(c),o}),o&&this.forEachDegenerateObject(c)}_intersectsObject(t,n){const e=this.objectToBoundingSphere(n);return!(e[3]>0)||(0,u.i)(e,t)}_intersectsObjectWithOffset(t,n,e){const r=this.objectToBoundingSphere(n);return!(r[3]>0)||(0,u.i)(e.applyToBoundingSphere(r),t)}_add(t,n){n.advanceTo(this.objectToBoundingSphere(t))?n.node.terminals.push(t):(n.node.residents.push(t),n.node.residents.length>this._maximumObjectsPerNode&&n.depth<this._maximumDepth&&this._split(n))}_split(t){const n=t.node.residents;t.node.residents=null;for(let e=0;e<n.length;e++){const r=b.acquire().init(t);this._add(n.at(e),r),b.release(r)}}_grow(t){if(P(t,t=>this.objectToBoundingSphere(t),L),q(L[3])&&!this._fitsInsideTree(L))if(S(this._root.node))(0,u.c)(L,this._root.bounds),this._root.halfSize=1.25*this._root.bounds[3],this._root.updateBoundsRadiusFromHalfSize();else{const t=this._rootBoundsForRootAsSubNode(L);this._placingRootViolatesMaxDepth(t)?this._rebuildTree(L,t):this._growRootAsSubNode(t),b.release(t)}}_rebuildTree(t,n){(0,s.e)((0,u.g)(I),(0,u.g)(n.bounds)),I[3]=n.halfSize,P([t,I],t=>t,V);const e=b.acquire().init(this._root);this._root.initFrom(null,V,V[3]),this._root.increaseHalfSize(1.25),_(e,t=>(this.add(t.node.terminals.data),null!==t.node.residents&&this.add(t.node.residents.data),!0)),b.release(e)}_placingRootViolatesMaxDepth(t){const n=Math.log(t.halfSize/this._root.halfSize)*Math.LOG2E;let e=0;return _(this._root,t=>(e=Math.max(e,t.depth),e+n<=this._maximumDepth)),e+n>this._maximumDepth}_rootBoundsForRootAsSubNode(t){const n=t[3],e=t;let r=-1/0;const i=this._root.bounds,o=this._root.halfSize;for(let t=0;t<3;t++){const s=i[t]-o-(e[t]-n),c=e[t]+n-(i[t]+o),a=Math.max(0,Math.ceil(s/(2*o))),u=Math.max(0,Math.ceil(c/(2*o)))+1,h=2**Math.ceil(Math.log(a+u)*Math.LOG2E);r=Math.max(r,h),F[t].min=a,F[t].max=u}for(let t=0;t<3;t++){let n=F[t].min,e=F[t].max;const s=(r-(n+e))/2;n+=Math.ceil(s),e+=Math.floor(s);const c=i[t]-o-n*o*2;C[t]=c+(e+n)*o}const s=r*o;return C[3]=s*y,b.acquire().initFrom(null,C,s,0)}_growRootAsSubNode(t){const n=this._root.node;(0,s.e)((0,u.g)(L),(0,u.g)(this._root.bounds)),L[3]=this._root.halfSize,this._root.init(t),t.advanceTo(L,null,!0),t.node.children=n.children,t.node.residents=n.residents,t.node.terminals=n.terminals}_shrink(){for(;;){const t=this._findShrinkIndex();if(-1===t)break;this._root.advance(t),this._root.depth=0}}_findShrinkIndex(){if(0!==this._root.node.terminals.length||this._root.isLeaf())return-1;let t=null;const n=this._root.node.children;let e=0,r=0;for(;r<n.length&&null==t;)e=r++,t=n[e];for(;r<n.length;)if(n[r++])return-1;return e}_isDegenerate(t){return!q(this.objectToBoundingSphere(t)[3])}_fitsInsideTree(t){const n=this._root.bounds,e=this._root.halfSize;return t[3]<=e&&t[0]>=n[0]-e&&t[0]<=n[0]+e&&t[1]>=n[1]-e&&t[1]<=n[1]+e&&t[2]>=n[2]-e&&t[2]<=n[2]+e}toJSON(){const{maximumDepth:t,maximumObjectsPerNode:n,_objectCount:e}=this,r=this._nodeToJSON(this._root.node);return{maximumDepth:t,maximumObjectsPerNode:n,objectCount:e,root:{bounds:this._root.bounds,halfSize:this._root.halfSize,depth:this._root.depth,node:r}}}_nodeToJSON(t){const n=t.children.map(t=>t?this._nodeToJSON(t):null),e=t.residents?.map(t=>this.objectToBoundingSphere(t)),r=t.terminals?.map(t=>this.objectToBoundingSphere(t));return{children:n,residents:e,terminals:r}}static fromJSON(t){const n=new g(t=>t,{maximumDepth:t.maximumDepth,maximumObjectsPerNode:t.maximumObjectsPerNode});return n._objectCount=t.objectCount,n._root.initFrom(t.root.node,t.root.bounds,t.root.halfSize,t.root.depth),n}}class b{constructor(){this.bounds=(0,u.b)(),this.halfSize=0,this.initFrom(null,null,0,0)}init(t){return this.initFrom(t.node,t.bounds,t.halfSize,t.depth)}initFrom(t,n,e,r=this.depth){return this.node=null!=t?t:b.createEmptyNode(),n&&(0,u.c)(n,this.bounds),this.halfSize=e,this.depth=r,this}increaseHalfSize(t){this.halfSize*=t,this.updateBoundsRadiusFromHalfSize()}updateBoundsRadiusFromHalfSize(){this.bounds[3]=this.halfSize*y}advance(t){let n=this.node.children[t];n||(n=b.createEmptyNode(),this.node.children[t]=n),this.node=n,this.halfSize/=2,this.depth++;const e=T[t];return this.bounds[0]+=e[0]*this.halfSize,this.bounds[1]+=e[1]*this.halfSize,this.bounds[2]+=e[2]*this.halfSize,this.updateBoundsRadiusFromHalfSize(),this}advanceTo(t,n,e=!1){for(;;){if(this.isTerminalFor(t))return n&&n(this,-1),!0;if(this.isLeaf()){if(!e)return n&&n(this,-1),!1;this.node.residents=null}const r=this._childIndex(t);n&&n(this,r),this.advance(r)}}isLeaf(){return null!=this.node.residents}isTerminalFor(t){return t[3]>this.halfSize/2}_childIndex(t){const n=this.bounds;return(n[0]<t[0]?1:0)+(n[1]<t[1]?2:0)+(n[2]<t[2]?4:0)}static createEmptyNode(){return{children:[null,null,null,null,null,null,null,null],terminals:new d.P({shrink:!0}),residents:new d.P({shrink:!0})}}static{this._pool=new h.O(b)}static acquire(){return b._pool.acquire()}static release(t){b._pool.release(t)}static clearPool(){b._pool.prune()}}function _(t,n){let e=b.acquire().init(t);const r=[e];for(;0!==r.length;){if(e=r.pop(),n(e)&&!e.isLeaf())for(let t=0;t<e.node.children.length;t++)e.node.children[t]&&r.push(b.acquire().init(e).advance(t));b.release(e)}}function M(t,n,e,r=1){let i=b.acquire().init(t);const o=[i];for(function(t,n,e){if(!H.length)for(let t=0;t<8;++t)H.push({index:0,distance:0});for(let e=0;e<8;++e){const r=T[e];H.data[e].index=e,H.data[e].distance=z(t,n,r)}H.sort((t,n)=>t.distance-n.distance);for(let t=0;t<8;++t)e[t]=H.data[t].index}(e,r,J);0!==o.length;){if(i=o.pop(),n(i)&&!i.isLeaf())for(let t=7;t>=0;--t){const n=J[t];i.node.children[n]&&o.push(b.acquire().init(i).advance(n))}b.release(i)}}function p(t,n,e){D.clear();const r=e.advanceTo(n,(t,n)=>{D.push(t.node),D.push(n)})?e.node.terminals:e.node.residents;if(r.removeUnordered(t),0===r.length)for(let t=D.length-2;t>=0&&x(D.data[t],D.data[t+1]);t-=2);}function x(t,n){return n>=0&&(t.children[n]=null),!!S(t)&&(null===t.residents&&(t.residents=new d.P({shrink:!0})),!0)}function S(t){if(0!==t.terminals.length)return!1;if(null!==t.residents)return 0===t.residents.length;for(let n=0;n<t.children.length;n++)if(t.children[n])return!1;return!0}function j(t,n){t[0]=Math.min(t[0],n[0]-n[3]),t[1]=Math.min(t[1],n[1]-n[3]),t[2]=Math.min(t[2],n[2]-n[3])}function v(t,n){t[0]=Math.max(t[0],n[0]+n[3]),t[1]=Math.max(t[1],n[1]+n[3]),t[2]=Math.max(t[2],n[2]+n[3])}function w(t,n,e){e[0]=t[0]+n,e[1]=t[1]+n,e[2]=t[2]+n}function P(t,n,e){k[0]=1/0,k[1]=1/0,k[2]=1/0,R[0]=-1/0,R[1]=-1/0,R[2]=-1/0;for(const e of t){const t=n(e);q(t[3])&&(j(k,t),v(R,t))}(0,s.m)((0,u.g)(e),k,R,.5),e[3]=Math.max(R[0]-k[0],R[1]-k[1],R[2]-k[2])/2}function O(t,n){let e,r=1/0;for(let i=0;i<8;++i){const o=z(t,n,N[i]);o<r&&(r=o,e=N[i])}return e}function z(t,n,e){return n*(t[0]*e[0]+t[1]*e[1]+t[2]*e[2])}function q(t){return!isNaN(t)&&t!==-1/0&&t!==1/0&&t>0}const T=[(0,c.f)(-1,-1,-1),(0,c.f)(1,-1,-1),(0,c.f)(-1,1,-1),(0,c.f)(1,1,-1),(0,c.f)(-1,-1,1),(0,c.f)(1,-1,1),(0,c.f)(-1,1,1),(0,c.f)(1,1,1)],N=[(0,c.f)(-1,-1,-1),(0,c.f)(-1,-1,1),(0,c.f)(-1,1,-1),(0,c.f)(-1,1,1),(0,c.f)(1,-1,-1),(0,c.f)(1,-1,1),(0,c.f)(1,1,-1),(0,c.f)(1,1,1)],y=Math.sqrt(3),A=[null],C=(0,u.b)(),E=(0,c.c)(),k=(0,c.c)(),R=(0,c.c)(),D=new d.P,B=(0,u.b)(),L=(0,u.b)(),I=(0,u.b)(),V=(0,u.b)(),F=[{min:0,max:0},{min:0,max:0},{min:0,max:0}],H=new d.P,J=[0,0,0,0,0,0,0,0];var W=e(18992);function G(t,n,e){const r=(0,u.b)(),i=(0,u.g)(r);return(0,s.a)(i,i,t,.5),(0,s.a)(i,i,n,.5),r[3]=(0,s.x)(i,t),(0,s.j)(i,i,e),r}e(13671),e(19247),e(59121),e(90740),e(84699),e(50704),e(40499),e(93181),e(91047),e(36544),e(48064),e(18527),e(16699),e(77641),e(46484),e(62482),e(47812),e(91276),e(85914),e(4685),e(37322),e(64652),e(4361),e(63949),e(52134),e(4453),e(23564),e(95237);let U=class{constructor(){this._idToComponent=new Map,this._components=new g(t=>t.bounds),this._edges=new g(t=>t.bounds),this._tmpLineSegment=(0,a.c)(),this._tmpP1=(0,c.c)(),this._tmpP2=(0,c.c)(),this._tmpP3=(0,c.c)(),this.remoteClient=null}async fetchCandidates(t,n){await Promise.resolve(),(0,i.Te)(n),await this._ensureEdgeLocations(t,n);const e=[];return this._edges.forEachNeighbor(n=>(this._addCandidates(t,n,e),e.length<1e3),t.bounds),{result:{candidates:e}}}async _ensureEdgeLocations(t,n){const e=[];if(this._components.forEachNeighbor(t=>{if(null==t.info){const{id:n,uid:r}=t;e.push({id:n,uid:r})}return!0},t.bounds),!e.length)return;const r={components:e},i=await this.remoteClient.invoke("fetchAllEdgeLocations",r,n??{});for(const t of i.components)this._setFetchEdgeLocations(t)}async add(t){const n=new Y(t.id,t.bounds);return this._idToComponent.set(n.id,n),this._components.add([n]),{result:{}}}async remove(t){const n=this._idToComponent.get(t.id);if(n){const t=[];this._edges.forEachNeighbor(e=>(e.component===n&&t.push(e),!0),n.bounds),this._edges.remove(t),this._components.remove([n]),this._idToComponent.delete(n.id)}return{result:{}}}_setFetchEdgeLocations(t){const n=this._idToComponent.get(t.id);if(null==n||t.uid!==n.uid)return;const e=W.HY.createView(t.locations),r=new Array(e.count),i=(0,c.c)(),o=(0,c.c)();for(let s=0;s<e.count;s++){e.position0.getVec(s,i),e.position1.getVec(s,o);const c=G(i,o,t.origin),a=new $(n,s,c);r[s]=a}this._edges.add(r);const{objectIds:s,origin:a}=t;n.info={locations:e,objectIds:s,origin:a}}_addCandidates(t,n,e){const{info:r}=n.component,{origin:i,objectIds:o}=r,c=r.locations,a=c.position0.getVec(n.index,this._tmpP1),u=c.position1.getVec(n.index,this._tmpP2);(0,s.j)(a,a,i),(0,s.j)(u,u,i);const h=o[c.componentIndex.get(n.index)];this._addEdgeCandidate(t,h,a,u,e),X(t,h,a,e),X(t,h,u,e)}_addEdgeCandidate(t,n,e,r,i){if(!t.returnEdge)return;const o=(0,u.g)(t.bounds),h=(0,a.f)(e,r,this._tmpLineSegment),d=(0,a.b)(h,o,this._tmpP3);(0,u.d)(t.bounds,d)&&i.push({type:"edge",objectId:n,target:(0,c.b)(d),distance:(0,s.x)(o,d),start:(0,c.b)(e),end:(0,c.b)(r)})}};U=(0,r._)([(0,o.$)("esri.views.interactive.snapping.featureSources.sceneLayerSource.SceneLayerSnappingSourceWorker")],U);const Q=U;function X(t,n,e,r){if(!t.returnVertex||!(0,u.d)(t.bounds,e))return;const i=(0,u.g)(t.bounds);r.push({type:"vertex",objectId:n,target:(0,c.b)(e),distance:(0,s.x)(i,e)})}class Y{constructor(t,n){this.id=t,this.bounds=n,this.info=null,this.uid=++Y.uid}static{this.uid=0}}class ${constructor(t,n,e){this.component=t,this.index=n,this.bounds=e}}},68026:(t,n,e)=>{e.d(n,{b:()=>_,d:()=>x,e:()=>f,h:()=>m,j:()=>g,k:()=>l,l:()=>b,m:()=>M,n:()=>p,p:()=>j});var r=e(92080),i=e(47812),o=e(26809),s=e(2589),c=e(91276),a=e(62482),u=e(85914),h=e(77641);function d(t){return t?{ray:(0,r.c)(t.ray),c0:t.c0,c1:t.c1}:{ray:(0,r.c)(),c0:0,c1:Number.MAX_VALUE}}function f(t){return[(0,u.c)(),(0,u.c)(),(0,u.c)(),(0,u.c)(),(0,u.c)(),(0,u.c)()]}function l(){return[(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,s.c)()]}function m(t,n){for(let e=0;e<v;e++)(0,u.a)(t[e],n[e]);return t}function g(t,n,e,r=z){const s=(0,i.m)(h.e.get(),n,t);(0,i.i)(s,s);for(let t=0;t<w;++t){const n=(0,c.t)(h.a.get(),P[t],s);(0,o.k)(r[t],n[0]/n[3],n[1]/n[3],n[2]/n[3])}b(e,r)}function b(t,n){(0,u.l)(n[4],n[0],n[3],t[0]),(0,u.l)(n[1],n[5],n[6],t[1]),(0,u.l)(n[4],n[5],n[1],t[2]),(0,u.l)(n[3],n[2],n[6],t[3]),(0,u.l)(n[0],n[1],n[2],t[4]),(0,u.l)(n[5],n[4],n[7],t[5])}function _(t,n){for(let e=0;e<v;e++){const r=t[e];if(r[0]*n[0]+r[1]*n[1]+r[2]*n[2]+r[3]>=n[3])return!1}return!0}function M(t,n){return S(t,function(t,n=d()){return(0,r.g)(t,n.ray),n.c0=0,n.c1=Number.MAX_VALUE,n}(n,O.get()))}function p(t,n,e){return S(t,function(t,n,e=d()){const i=(0,o.l)(t.vector);return(0,r.b)(t.origin,n,e.ray),e.c0=0,e.c1=i,e}(n,e,O.get()))}function x(t,n){for(let e=0;e<v;e++)if((0,u.o)(t[e],n)>0)return!1;return!0}function S(t,n){for(let e=0;e<v;e++)if(!(0,u.q)(t[e],n))return!1;return!0}new r.O(()=>d());const j={bottom:[5,1,0,4],near:[0,1,2,3],far:[5,4,7,6],right:[1,5,6,2],left:[4,0,3,7],top:[7,3,2,6]},v=6,w=8,P=[(0,a.f)(-1,-1,-1,1),(0,a.f)(1,-1,-1,1),(0,a.f)(1,1,-1,1),(0,a.f)(-1,1,-1,1),(0,a.f)(-1,-1,1,1),(0,a.f)(1,-1,1,1),(0,a.f)(1,1,1,1),(0,a.f)(-1,1,1,1)],O=new r.O(d),z=l()},77641:(t,n,e)=>{e.d(n,{a:()=>m,d:()=>p,e:()=>g,f:()=>M,g:()=>b,p:()=>_,s:()=>l}),e(32773);var r=e(29818),i=e(88485),o=e(87162),s=e(80401),c=e(46484),a=e(2589),u=e(62482),h=e(16699),d=e(26809);class f{constructor(t){this._create=t,this._items=new Array,this._itemsPtr=0}get(){return 0===this._itemsPtr&&(0,r.n)(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const t=2*this._itemsPtr;this._items.length>t&&(this._items.length=t),this._itemsPtr=0}static createVec2f64(){return new f(c.c)}static createVec3f64(){return new f(a.c)}static createVec4f64(){return new f(u.c)}static createMat3f64(){return new f(i.c)}static createMat4f64(){return new f(o.c)}static createQuatf64(){return new f(s.c)}get test(){}}f.createVec2f64();const l=f.createVec3f64(),m=f.createVec4f64();f.createMat3f64();const g=f.createMat4f64(),b=f.createQuatf64();function _(t,n){return(0,d.d)(t,n)/(0,d.l)(t)}function M(t,n){const e=(0,d.d)(t,n)/((0,d.l)(t)*(0,d.l)(n));return-(0,h.g)(e)}function p(t,n,e){(0,d.n)(x,t),(0,d.n)(S,n);const r=(0,d.d)(x,S),i=(0,h.g)(r),o=(0,d.c)(x,x,S);return(0,d.d)(o,e)<0?2*Math.PI-i:i}const x=(0,a.c)(),S=(0,a.c)()},80401:(t,n,e)=>{function r(){return[0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3]]}e.d(n,{I:()=>o,a:()=>i,c:()=>r});const o=[0,0,0,1]},85914:(t,n,e)=>{e.d(n,{a:()=>u,b:()=>j,c:()=>c,d:()=>d,e:()=>w,f:()=>f,g:()=>h,h:()=>P,i:()=>v,j:()=>O,k:()=>m,l:()=>l,o:()=>T,p:()=>q,q:()=>z,s:()=>S,w:()=>a,x:()=>y});var r=e(16699),i=e(26809),o=e(2589),s=e(77641);function c(t=A){return[t[0],t[1],t[2],t[3]]}function a(t=A[0],n=A[1],e=A[2],r=A[3]){return d(t,n,e,r,s.a.get())}function u(t,n){return d(n[0],n[1],n[2],n[3],t)}function h(t){return t}function d(t,n,e,r,i=c()){return i[0]=t,i[1]=n,i[2]=e,i[3]=r,i}function f(t,n,e){const r=n[0]*n[0]+n[1]*n[1]+n[2]*n[2],i=Math.abs(r-1)>1e-5&&r>1e-12?1/Math.sqrt(r):1;return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=-(e[0]*t[0]+e[1]*t[1]+e[2]*t[2]),e}function l(t,n,e,r=c()){const i=e[0]-n[0],o=e[1]-n[1],s=e[2]-n[2],a=t[0]-n[0],u=t[1]-n[1],h=t[2]-n[2],d=o*h-s*u,f=s*a-i*h,l=i*u-o*a,m=d*d+f*f+l*l,g=Math.abs(m-1)>1e-5&&m>1e-12?1/Math.sqrt(m):1;return r[0]=d*g,r[1]=f*g,r[2]=l*g,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function m(t,n,e,r=0,o=Math.floor(e*(1/3)),s=Math.floor(e*(2/3))){if(e<3)return!1;n(b,r);let c=o,a=!1;for(;c<e-1&&!a;)n(_,c),c++,a=!(0,i.g)(b,_);if(!a)return!1;for(c=Math.max(c,s),a=!1;c<e&&!a;)n(M,c),c++,(0,i.h)(p,b,_),(0,i.n)(p,p),(0,i.h)(x,_,M),(0,i.n)(x,x),a=!(0,i.g)(b,M)&&!(0,i.g)(_,M)&&Math.abs((0,i.d)(p,x))<g;return a?(l(b,_,M,t),!0):(0!==r||1!==o||2!==s)&&m(t,n,e,0,1,2)}e(4685);const g=.99619469809,b=(0,o.c)(),_=(0,o.c)(),M=(0,o.c)(),p=(0,o.c)(),x=(0,o.c)();function S(t,n,e){return n!==t&&u(t,n),t[3]=-(0,i.d)(t,e),t}function j(t,n,e,r){return(0,i.c)(M,n,t),f(e,M,r)}function v(t,n,e){return null!=n&&N(y(t,n.origin,n.direction,C,e))}function w(t,n,e){return N(y(t,n.origin,n.vector,0,e))}function P(t,n,e){return N(y(t,n.origin,n.vector,1,e))}function O(t,n){return T(t,n)>=0}function z(t,n){const e=(0,i.d)(t,n.ray.direction),r=-T(t,n.ray.origin);if(r<0&&e>=0)return!1;if(e>-1e-6&&e<1e-6)return r>0;if((r<0||e<0)&&!(r<0&&e<0))return!0;const o=r/e;return e>0?o<n.c1&&(n.c1=o):o>n.c0&&(n.c0=o),n.c0<=n.c1}function q(t,n,e){const r=(0,i.i)(s.s.get(),t,-t[3]),o=function(t,n,e){const r=(0,i.i)(s.s.get(),t,(0,i.d)(t,n));return(0,i.h)(e,n,r),e}(t,(0,i.h)(s.s.get(),n,r),s.s.get());return(0,i.j)(e,o,r),e}function T(t,n){return(0,i.d)(t,n)+t[3]}function N(t){return 0===t||1===t}function y(t,n,e,o,s){const c=(0,i.d)(t,e),a=T(t,n);if(0===c)return a>=0?2:3;let u=-a/c;return 1&o&&(u=(0,r.c)(u,0,1)),!(4&o)&&u<0||!(8&o)&&u>1?a>=0?2:3:((0,i.j)(s,n,(0,i.i)(s,e,u)),a>=0?0:1)}const A=[0,0,1,0],C=8},87162:(t,n,e)=>{function r(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function i(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}e.d(n,{I:()=>o,a:()=>i,c:()=>r});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},88485:(t,n,e)=>{function r(){return[1,0,0,0,1,0,0,0,1]}function i(t,n,e,r,i,o,s,c,a){return[t,n,e,r,i,o,s,c,a]}e.d(n,{I:()=>o,c:()=>r,f:()=>i});const o=[1,0,0,0,1,0,0,0,1]},92080:(t,n,e)=>{e.d(n,{O:()=>a,b:()=>g,c:()=>h,d:()=>b,e:()=>_,f:()=>m,g:()=>l,w:()=>f}),e(32773);var r=e(29818),i=e(88485),o=e(26809),s=e(2589),c=e(77641);class a{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.n)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*u);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,u));t++)this._items.push(this._allocator())}}const u=1024;function h(t){return t?d((0,s.b)(t.origin),(0,s.b)(t.direction)):d((0,s.c)(),(0,s.c)())}function d(t,n){return{origin:t,direction:n}}function f(t,n){const e=M.get();return e.origin=t,e.direction=n,e}function l(t,n=h()){return g(t.origin,t.direction,n)}function m(t,n,e=h()){return(0,o.e)(e.origin,t),(0,o.h)(e.direction,n,t),e}function g(t,n,e=h()){return(0,o.e)(e.origin,t),(0,o.e)(e.direction,n),e}function b(t,n){const e=(0,o.c)(c.s.get(),(0,o.n)(c.s.get(),t.direction),(0,o.h)(c.s.get(),n,t.origin));return(0,o.d)(e,e)}function _(t,n,e){const r=(0,o.d)(t.direction,(0,o.h)(e,n,t.origin));return(0,o.j)(e,t.origin,(0,o.i)(e,t.direction,r)),e}const M=new a(()=>h());(0,s.c)(),(0,s.c)(),(0,s.c)(),(0,i.c)()},93217:(t,n,e)=>{function r(t,n){for(const e of t.values())if(n(e))return!0;return!1}function i(t,n,e){const r=t.get(n);if(void 0!==r)return r;const i=e();return t.set(n,i),i}function o(t){const n=new Map;return e=>(n.has(e)||n.set(e,t(e)),n.get(e))}e.d(n,{g:()=>i,m:()=>o,s:()=>r})}}]);