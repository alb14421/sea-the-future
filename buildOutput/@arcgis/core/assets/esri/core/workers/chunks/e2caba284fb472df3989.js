"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3658],{2589:(t,e,n)=>{function r(){return[0,0,0]}function o(t){return[t[0],t[1],t[2]]}function a(t,e,n){return[t,e,n]}function i(t,e,n){return[t,e,n]}function u(t,e=[0,0,0]){const n=Math.min(3,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}n.d(e,{O:()=>s,U:()=>c,Z:()=>l,a:()=>u,b:()=>o,c:()=>r,d:()=>f,e:()=>h,f:()=>a,g:()=>i});const l=[0,0,0],s=a(1,1,1),c=a(1,0,0),f=a(0,1,0),h=a(0,0,1)},13226:(t,e,n)=>{n.d(e,{a:()=>c,b:()=>g,c:()=>f,d:()=>y,e:()=>l,f:()=>a,g:()=>i,h:()=>s,i:()=>o,j:()=>b,p:()=>d,s:()=>M});const r={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function o(t){return!!r[t]||!!r[t.toLowerCase()]}function a(t){return r[t]??r[t.toLowerCase()]}function i(t){return[...a(t)]}function u(t,e,n){n<0&&++n,n>1&&--n;const r=6*n;return r<1?t+(e-t)*r:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function l(t,e,n,r=1){const o=(t%360+360)%360/360,a=n<=.5?n*(e+1):n+e-n*e,i=2*n-a;return[Math.round(255*u(i,a,o+1/3)),Math.round(255*u(i,a,o)),Math.round(255*u(i,a,o-1/3)),r]}function s(t){const e=t.length>5,n=e?8:4,r=(1<<n)-1,o=e?1:17,a=e?9===t.length:5===t.length;let i=Number("0x"+t.slice(1));if(isNaN(i))return null;const u=[0,0,0,1];let l;return a&&(l=i&r,i>>=n,u[3]=o*l/255),l=i&r,i>>=n,u[2]=o*l,l=i&r,i>>=n,u[1]=o*l,l=i&r,i>>=n,u[0]=o*l,u}function c(t){if(!t.startsWith("#")||isNaN(Number(`0x${t.slice(1)}`)))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),n=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),o=4===t.length?15:parseInt(t.slice(4),16);return[e+16*e,n+16*n,r+16*r,(o+16*o)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(7===t.length?255:parseInt(t.slice(7),16))/255];default:return null}}function f(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const t=e[2].split(/\s*,\s*/),n=e[1];if("rgb"===n&&3===t.length||"rgba"===n&&4===t.length){if(t[0].endsWith("%")){const e=t.map(t=>2.56*parseFloat(t));return 4===t.length&&(e[3]=parseFloat(t[3])),h(e)}return h(t.map(t=>parseFloat(t)))}if("hsl"===n&&3===t.length||"hsla"===n&&4===t.length)return l(parseFloat(t[0]),parseFloat(t[1])/100,parseFloat(t[2])/100,parseFloat(t[3]??"1"))}return null}function h(t){return t[0]=M(t[0]),t[1]=M(t[1]),t[2]=M(t[2]),t[3]=4===t.length?g(t[3]):1,t}function d(t){let e=o(t)?a(t):null;return e??=f(t),e??=c(t),e}function b(t){const e=d(t);return null!=e?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function g(t){return p(t,0,1)}function M(t){return Math.round(p(t,0,255))}function p(t,e,n){return t=Number(t),isNaN(t)?n:t<e?e:t>n?n:t}const y=2.2},18527:(t,e,n)=>{function r(){return 1e-6}n.d(e,{R:()=>o,a:()=>l,g:()=>r,t:()=>u});const o=Math.random,a=Math.PI/180,i=180/Math.PI;function u(t){return t*a}function l(t){return t*i}},23658:(t,e,n)=>{n.r(e),n.d(e,{default:()=>A});var r=n(32773),o=n(92349),a=n(80401),i=n(26809),u=n(74578),l=n(7969),s=n(47387),c=n(39928),f=n(8401),h=n(14232),d=n(56887);function b(t,e,n,r){const{rendererJSON:o,isRGBRenderer:a}=t;let i=null,u=null;if(e&&a)i=e;else if(e&&"pointCloudUniqueValueRenderer"===o?.type){u=h.A.fromJSON(o);const t=u.colorUniqueValueInfos;i=new Uint8Array(3*r);const n=M(u.fieldTransformType);for(let o=0;o<r;o++){const r=(n?n(e[o]):e[o])+"";for(let e=0;e<t.length;e++)if(t[e].values.includes(r)){i[3*o]=t[e].color.r,i[3*o+1]=t[e].color.g,i[3*o+2]=t[e].color.b;break}}}else if(e&&"pointCloudStretchRenderer"===o?.type){u=f.A.fromJSON(o);const t=u.stops;i=new Uint8Array(3*r);const n=M(u.fieldTransformType);for(let o=0;o<r;o++){const r=n?n(e[o]):e[o],a=t.length-1;if(r<t[0].value)i[3*o]=t[0].color.r,i[3*o+1]=t[0].color.g,i[3*o+2]=t[0].color.b;else if(r>=t[a].value)i[3*o]=t[a].color.r,i[3*o+1]=t[a].color.g,i[3*o+2]=t[a].color.b;else for(let e=1;e<t.length;e++)if(r<t[e].value){const n=(r-t[e-1].value)/(t[e].value-t[e-1].value);i[3*o]=t[e].color.r*n+t[e-1].color.r*(1-n),i[3*o+1]=t[e].color.g*n+t[e-1].color.g*(1-n),i[3*o+2]=t[e].color.b*n+t[e-1].color.b*(1-n);break}}}else if(e&&"pointCloudClassBreaksRenderer"===o?.type){u=c.A.fromJSON(o);const t=u.colorClassBreakInfos;i=new Uint8Array(3*r);const n=M(u.fieldTransformType);for(let o=0;o<r;o++){const r=n?n(e[o]):e[o];for(let e=0;e<t.length;e++)if(r>=t[e].minValue&&r<=t[e].maxValue){i[3*o]=t[e].color.r,i[3*o+1]=t[e].color.g,i[3*o+2]=t[e].color.b;break}}}else i=new Uint8Array(3*r).fill(255);if(n&&u?.colorModulation){const t=u.colorModulation.minValue,e=u.colorModulation.maxValue,o=.3;for(let a=0;a<r;a++){const r=n[a],u=r>=e?1:r<=t?o:o+(1-o)*(r-t)/(e-t);i[3*a]=u*i[3*a],i[3*a+1]=u*i[3*a+1],i[3*a+2]=u*i[3*a+2]}}return i}function g(t,e,n){return t?.attributeInfo.useElevation?e?function(t,e){const n=new Float64Array(e);for(let r=0;r<e;r++)n[r]=t[3*r+2];return n}(e,n):null:t?.attributeInfo.storageInfo?(0,d.r)(t.attributeInfo.storageInfo,t.buffer,n,!0):null}function M(t){switch(t){default:case null:case"none":return t=>t;case"low-four-bit":return t=>15&t;case"high-four-bit":return t=>(240&t)>>4;case"absolute-value":return t=>Math.abs(t);case"modulo-ten":return t=>t%10}}function p(t){let e=0;for(const n of t||[])e|=1<<n;return e}var y=n(23937);n(2589),n(18527),n(91276),n(32816),n(41390),n(20266),n(90740),n(59121),n(84699),n(69421),n(50704),n(40499),n(93181),n(13671),n(91047),n(36544),n(48064),n(6407),n(85176),n(36555),n(58498),n(29298),n(35819),n(45371),n(61532),n(80959),n(19247),n(36172),n(99924),n(69763),n(93804),n(96221),n(18683),n(64604),n(29512),n(99063),n(1178),n(56273),n(16699),n(46728),n(88663),n(21476),n(22858),n(41740),n(52731),n(35902),n(13226),n(83545),n(24079),n(62482),n(69277),n(29222),n(47812),n(85914),n(77641),n(46484),n(4685);class w{transform(t){const e=this._transform(t),n=[e.points.buffer,e.rgb.buffer];null!=e.pointIdFilterMap&&n.push(e.pointIdFilterMap.buffer);for(const t of e.attributes)"buffer"in t.values&&(0,r.w)(t.values.buffer)&&t.values.buffer!==e.rgb.buffer&&n.push(t.values.buffer);return Promise.resolve({result:e,transferList:n})}_transform(t){const e=function(t,e){if(null==t.encoding||""===t.encoding){const n=(0,d.c)(e,t);if(null==n.vertexAttributes.position)return;const r=(0,d.a)(e,n.vertexAttributes.position),o=n.header.fields,a=[o.offsetX,o.offsetY,o.offsetZ],i=[o.scaleX,o.scaleY,o.scaleZ],u=r.length/3,l=new Float64Array(3*u);for(let t=0;t<u;t++)l[3*t]=r[3*t]*i[0]+a[0],l[3*t+1]=r[3*t+1]*i[1]+a[1],l[3*t+2]=r[3*t+2]*i[2]+a[2];return l}if("lepcc-xyz"===t.encoding)return(0,d.d)(e).result}(t.schema,t.geometryBuffer);let n=e.length/3,a=null;const c=new Array,f=g(t.primaryAttributeData,e,n);null!=t.primaryAttributeData&&f&&c.push({attributeInfo:t.primaryAttributeData.attributeInfo,values:f});const h=g(t.modulationAttributeData,e,n);null!=t.modulationAttributeData&&h&&c.push({attributeInfo:t.modulationAttributeData.attributeInfo,values:h});let M=b(t.rendererInfo,f,h,n);if(t.filterInfo&&t.filterInfo.length>0&&null!=t.filterAttributesData){const o=t.filterAttributesData.filter(r.i).map(t=>{const r=g(t,e,n),o={attributeInfo:t.attributeInfo,values:r};return c.push(o),o});a=new Uint32Array(n),n=function(t,e,n,r,o){const a=t.length/3;let i=0;for(let u=0;u<a;u++){let a=!0;for(let t=0;t<r.length&&a;t++){const{filterJSON:e}=r[t],n=o[t].values[u];switch(e.type){case"pointCloudValueFilter":{const t="exclude"===e.mode;e.values.includes(n)===t&&(a=!1);break}case"pointCloudBitfieldFilter":{const t=p(e.requiredSetBits),r=p(e.requiredClearBits);(n&t)===t&&0===(n&r)||(a=!1);break}case"pointCloudReturnFilter":{const t=15&n,r=n>>>4&15,o=r>1,i=1===t,u=t===r;let l=!1;for(const t of e.includedReturns)if("last"===t&&u||"firstOfMany"===t&&i&&o||"lastOfMany"===t&&u&&o||"single"===t&&!o){l=!0;break}l||(a=!1);break}}}a&&(n[i]=u,t[3*i]=t[3*u],t[3*i+1]=t[3*u+1],t[3*i+2]=t[3*u+2],e[3*i]=e[3*u],e[3*i+1]=e[3*u+1],e[3*i+2]=e[3*u+2],i++)}return i}(e,M,a,t.filterInfo,o)}for(const r of t.userAttributesData){const t=g(r,e,n);c.push({attributeInfo:r.attributeInfo,values:t})}3*n<M.length&&(M=new Uint8Array(M.buffer.slice(0,3*n))),function(t,e,n){if(0!==n)for(let r=0;r<e;r++)t[3*r+2]+=n}(e,n,t.elevationOffset);const w=function(t,e,n,r,a){if(!(0,s.p)(t,r,0,t,a,0,e))throw new Error("Can't reproject");const l=(0,u.c)(n.center),c=(0,u.a)(),f=(0,u.a)(),h=(0,u.c)(n.halfSize);(0,o.c)(m,n.quaternion);const d=new Float32Array(3*e);for(let n=0;n<e;n++){let e=3*n;c[0]=t[e]-l[0],c[1]=t[e+1]-l[1],c[2]=t[e+2]-l[2],(0,i.r)(f,c,m),h[0]=Math.max(h[0],Math.abs(f[0])),h[1]=Math.max(h[1],Math.abs(f[1])),h[2]=Math.max(h[2],Math.abs(f[2])),d[e++]=c[0],d[e++]=c[1],d[e]=c[2]}return n.halfSize=h,d}(e,n,y.O.fromData(t.obbData),l.A.fromJSON(t.inSR),l.A.fromJSON(t.outSR));return{obbData:t.obbData,points:w,rgb:M,attributes:c,pointIdFilterMap:a}}}const m=(0,a.c)();function A(){return new w}},46728:(t,e,n)=>{n.d(e,{e:()=>i});var r=n(69763);Math.PI;const o=r.x.radius,a=r.x.eccentricitySquared,i={a1:o*a,a2:o*a*o*a,a3:o*a*a/2,a4:o*a*o*a*2.5,a5:o*a+o*a*a/2,a6:1-a};r.x.radius,r.x.flattening,r.z.radius,r.z.flattening,r.y.radius,r.y.flattening,r.y.radius},47387:(t,e,n)=>{n.r(e),n.d(e,{a:()=>l,b:()=>i,c:()=>f,d:()=>s,e:()=>V,g:()=>u,i:()=>j,l:()=>g,p:()=>N,s:()=>I,w:()=>M});var r=n(16699),o=n(69763),a=n(46728);const i={2:{5:f,7:null,9:null,10:f,1:C,6:null,8:null,0:null,3:M,11:p,2:f,4:S},5:{5:f,7:null,9:null,10:f,1:C,6:null,8:null,0:null,3:M,11:p,2:f,4:S},7:{5:null,7:f,9:null,10:f,1:null,6:v,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:f,10:f,1:null,6:null,8:A,0:null,3:null,11:null,2:null,4:null},3:{5:h,7:null,9:null,10:h,1:d,6:null,8:null,0:null,3:f,11:w,2:h,4:b},4:{5:T,7:null,9:null,10:T,1:q,6:null,8:null,0:null,3:O,11:function(t,e,n,r){T(t,e,n,r),p(n,r,n,r)},2:T,4:f},1:{5:x,7:null,9:null,10:x,1:f,6:null,8:null,0:null,3:F,11:function(t,e,n,r){x(t,e,n,r),p(n,r,n,r)},2:x,4:E},6:{5:null,7:k,9:null,10:k,1:null,6:f,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:U,10:U,1:null,6:null,8:f,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:f,3:null,11:null,2:null,4:null},10:{5:f,7:f,9:f,10:f,1:C,6:v,8:A,0:null,3:M,11:p,2:f,4:S},11:{5:y,7:null,9:null,10:y,1:function(t,e,n,r){y(t,e,n,r),C(n,r,n,r)},6:null,8:null,0:null,3:function(t,e,n,r){y(t,e,n,r),M(n,r,n,r)},11:f,2:y,4:function(t,e,n,r){y(t,e,n,r),S(n,r,n,r)}}};function u(t,e){return l(t,e)?.projector}function l(t,e){if(null==t||null==e)return null;if(P.source.spatialReference===t&&P.dest.spatialReference===e)return P;const n=c(t,P.source),r=c(e,P.dest);return 0===n&&0===r?(0,o.p)(t,e)?P.projector=f:P.projector=null:P.projector=i[n][r],P}function s(t,e){switch(u(t,e)){case f:return"copy3";case C:return"wgs84ToSphericalECEF";case M:return"wgs84ToWebMercator";case p:return"wgs84ToPlateCarree";case S:return"wgs84ToWGS84ECEF";case h:return"webMercatorToWGS84";case d:return"webMercatorToSphericalECEF";case b:return"webMercatorToWGS84ECEF";case w:return"webMercatorToPlateCarree";case T:return"wgs84ECEFToWGS84";case q:return"wgs84ECEFToSphericalECEF";case O:return"wgs84ECEFToWebMercator";case x:return"sphericalECEFToWGS84";case F:return"sphericalECEFToWebMercator";case k:return"sphericalMarsPCPFToMars2000";case U:return"sphericalMoonPCPFToMoon2000";case E:return"sphericalECEFToWGS84ECEF";case v:return"mars2000ToSphericalPCPF";case A:return"moon2000ToSphericalPCPF";default:return null}}function c(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=(0,o.m)(t,1)),(0,o.B)(t)?e.spatialReferenceId=1:(0,o.i)(t)?e.spatialReferenceId=2:(0,o.j)(t)?e.spatialReferenceId=3:(0,o.a2)(t)?e.spatialReferenceId=11:t.wkt===o.W.wkt?e.spatialReferenceId=4:4490===t.wkid?e.spatialReferenceId=5:t.wkt===o.r.wkt?e.spatialReferenceId=6:t.wkt===o.s.wkt?e.spatialReferenceId=8:(0,o.a3)(t)?e.spatialReferenceId=7:(0,o.a4)(t)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function f(t,e,n,r){t!==n&&(n[r++]=t[e++],n[r++]=t[e++],n[r]=t[e])}function h(t,e,n,r){n[r]=R*(t[e]/z),n[r+1]=R*(D-2*Math.atan(Math.exp(-t[e+1]/z))),n[r+2]=t[e+2]}function d(t,e,n,r){const o=t[e]/z,a=D-2*Math.atan(Math.exp(-t[e+1]/z)),i=z+t[e+2],u=Math.cos(a)*i;n[r]=Math.cos(o)*u,n[r+1]=Math.sin(o)*u,n[r+2]=Math.sin(a)*i}function b(t,e,n,r){h(t,e,n,r),S(n,r,n,r)}function g(t,e,n,o,a){const i=.4999999*Math.PI,u=(0,r.c)(B*t[e+1],-i,i),l=Math.sin(u);n[o++]=B*t[e]*a.radius,n[o++]=a.halfSemiMajorAxis*Math.log((1+l)/(1-l)),n[o]=t[e+2]}function M(t,e,n,r){g(t,e,n,r,o.x)}function p(t,e,n,r){n[r]=t[e]*L,n[r+1]=t[e+1]*L,n[r+2]=t[e+2]}function y(t,e,n,r){n[r]=t[e]*j,n[r+1]=t[e+1]*j,n[r+2]=t[e+2]}function w(t,e,n,r){h(t,e,n,r),p(n,r,n,r)}function m(t,e,n,r,o){const a=o+t[e+2],i=B*t[e+1],u=B*t[e],l=Math.cos(i)*a;n[r]=Math.cos(u)*l,n[r+1]=Math.sin(u)*l,n[r+2]=Math.sin(i)*a}function A(t,e,n,r){m(t,e,n,r,o.z.radius)}function v(t,e,n,r){m(t,e,n,r,o.y.radius)}function C(t,e,n,r){m(t,e,n,r,o.x.radius)}function I(t,e,n,o,a){const i=t[e],u=t[e+1],l=t[e+2],s=Math.sqrt(i*i+u*u+l*l),c=(0,r.h)(l/(0===s?1:s)),f=Math.atan2(u,i);n[o++]=R*f,n[o++]=R*c,n[o]=s-a}function U(t,e,n,r){I(t,e,n,r,o.z.radius)}function k(t,e,n,r){I(t,e,n,r,o.y.radius)}function x(t,e,n,r){I(t,e,n,r,o.x.radius)}function F(t,e,n,r){x(t,e,n,r),M(n,r,n,r)}function E(t,e,n,r){x(t,e,n,r),S(n,r,n,r)}function S(t,e,n,r){!function(t,e,n,r,o){const a=B*t[e],i=B*t[e+1],u=t[e+2],l=Math.sin(i),s=Math.cos(i),c=o.radius/Math.sqrt(1-o.eccentricitySquared*l*l);n[r++]=(c+u)*s*Math.cos(a),n[r++]=(c+u)*s*Math.sin(a),n[r++]=(c*(1-o.eccentricitySquared)+u)*l}(t,e,n,r,o.x)}function T(t,e,n,r){const i=a.e,u=t[e],l=t[e+1],s=t[e+2];let c,f,h,d,b,g,M,p,y,w,m,A,v,C,I,U,k,x,F,E,S;c=Math.abs(s),f=u*u+l*l,h=Math.sqrt(f),d=f+s*s,b=Math.sqrt(d),E=Math.atan2(l,u),g=s*s/d,M=f/d,C=i.a2/b,I=i.a3-i.a4/b,M>.3?(p=c/b*(1+M*(i.a1+C+g*I)/b),F=Math.asin(p),w=p*p,y=Math.sqrt(1-w)):(y=h/b*(1-g*(i.a5-C-M*I)/b),F=Math.acos(y),w=1-y*y,p=Math.sqrt(w)),m=1-o.x.eccentricitySquared*w,A=o.x.radius/Math.sqrt(m),v=i.a6*A,C=h-A*y,I=c-v*p,k=y*C+p*I,U=y*I-p*C,x=U/(v/m+k),F+=x,S=k+U*x/2,s<0&&(F=-F),n[r++]=R*E,n[r++]=R*F,n[r]=S}function q(t,e,n,r){T(t,e,n,r),C(n,r,n,r)}function O(t,e,n,r){T(t,e,n,r),M(n,r,n,r)}const P={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:f},B=(0,r.e)(1),R=(0,r.r)(1),D=.5*Math.PI,z=o.x.radius,L=z*Math.PI/180,j=180/(z*Math.PI);function N(t,e,n,r,o,a,i=Math.floor(t.length/3)){const l=u(e,o);if(null==l)return!1;if(l===f){if(t===r&&n===a)return!0;const e=n+3*i;for(let o=n,i=a;o<e;o++,i++)r[i]=t[o];return!0}const s=n+3*i;for(let e=n,o=a;e<s;e+=3,o+=3)l(t,e,r,o);return!0}const V=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:N},Symbol.toStringTag,{value:"Module"}))},47812:(t,e,n)=>{n.d(e,{A:()=>h,B:()=>p,C:()=>v,D:()=>F,G:()=>x,a:()=>g,b:()=>i,c:()=>o,e:()=>U,f:()=>A,g:()=>m,i:()=>l,k:()=>f,l:()=>b,m:()=>s,n:()=>C,o:()=>k,p:()=>I,r:()=>d,s:()=>a,t:()=>u,u:()=>w,v:()=>c,w:()=>y,z:()=>M});var r=n(18527);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function a(t,e,n,r,o,a,i,u,l,s,c,f,h,d,b,g,M){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=a,t[5]=i,t[6]=u,t[7]=l,t[8]=s,t[9]=c,t[10]=f,t[11]=h,t[12]=d,t[13]=b,t[14]=g,t[15]=M,t}function i(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function u(t,e){if(t===e){const n=e[1],r=e[2],o=e[3],a=e[6],i=e[7],u=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=n,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=a,t[11]=e[14],t[12]=o,t[13]=i,t[14]=u}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function l(t,e){const n=e[0],r=e[1],o=e[2],a=e[3],i=e[4],u=e[5],l=e[6],s=e[7],c=e[8],f=e[9],h=e[10],d=e[11],b=e[12],g=e[13],M=e[14],p=e[15],y=n*u-r*i,w=n*l-o*i,m=n*s-a*i,A=r*l-o*u,v=r*s-a*u,C=o*s-a*l,I=c*g-f*b,U=c*M-h*b,k=c*p-d*b,x=f*M-h*g,F=f*p-d*g,E=h*p-d*M;let S=y*E-w*F+m*x+A*k-v*U+C*I;return S?(S=1/S,t[0]=(u*E-l*F+s*x)*S,t[1]=(o*F-r*E-a*x)*S,t[2]=(g*C-M*v+p*A)*S,t[3]=(h*v-f*C-d*A)*S,t[4]=(l*k-i*E-s*U)*S,t[5]=(n*E-o*k+a*U)*S,t[6]=(M*m-b*C-p*w)*S,t[7]=(c*C-h*m+d*w)*S,t[8]=(i*F-u*k+s*I)*S,t[9]=(r*k-n*F-a*I)*S,t[10]=(b*v-g*m+p*y)*S,t[11]=(f*m-c*v-d*y)*S,t[12]=(u*U-i*x-l*I)*S,t[13]=(n*x-r*U+o*I)*S,t[14]=(g*w-b*A-M*y)*S,t[15]=(c*A-f*w+h*y)*S,t):null}function s(t,e,n){const r=e[0],o=e[1],a=e[2],i=e[3],u=e[4],l=e[5],s=e[6],c=e[7],f=e[8],h=e[9],d=e[10],b=e[11],g=e[12],M=e[13],p=e[14],y=e[15];let w=n[0],m=n[1],A=n[2],v=n[3];return t[0]=w*r+m*u+A*f+v*g,t[1]=w*o+m*l+A*h+v*M,t[2]=w*a+m*s+A*d+v*p,t[3]=w*i+m*c+A*b+v*y,w=n[4],m=n[5],A=n[6],v=n[7],t[4]=w*r+m*u+A*f+v*g,t[5]=w*o+m*l+A*h+v*M,t[6]=w*a+m*s+A*d+v*p,t[7]=w*i+m*c+A*b+v*y,w=n[8],m=n[9],A=n[10],v=n[11],t[8]=w*r+m*u+A*f+v*g,t[9]=w*o+m*l+A*h+v*M,t[10]=w*a+m*s+A*d+v*p,t[11]=w*i+m*c+A*b+v*y,w=n[12],m=n[13],A=n[14],v=n[15],t[12]=w*r+m*u+A*f+v*g,t[13]=w*o+m*l+A*h+v*M,t[14]=w*a+m*s+A*d+v*p,t[15]=w*i+m*c+A*b+v*y,t}function c(t,e,n){const r=n[0],o=n[1],a=n[2];if(e===t)t[12]=e[0]*r+e[4]*o+e[8]*a+e[12],t[13]=e[1]*r+e[5]*o+e[9]*a+e[13],t[14]=e[2]*r+e[6]*o+e[10]*a+e[14],t[15]=e[3]*r+e[7]*o+e[11]*a+e[15];else{const n=e[0],i=e[1],u=e[2],l=e[3],s=e[4],c=e[5],f=e[6],h=e[7],d=e[8],b=e[9],g=e[10],M=e[11];t[0]=n,t[1]=i,t[2]=u,t[3]=l,t[4]=s,t[5]=c,t[6]=f,t[7]=h,t[8]=d,t[9]=b,t[10]=g,t[11]=M,t[12]=n*r+s*o+d*a+e[12],t[13]=i*r+c*o+b*a+e[13],t[14]=u*r+f*o+g*a+e[14],t[15]=l*r+h*o+M*a+e[15]}return t}function f(t,e,n){const r=n[0],o=n[1],a=n[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*o,t[5]=e[5]*o,t[6]=e[6]*o,t[7]=e[7]*o,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function h(t,e,n,a){let i=a[0],u=a[1],l=a[2],s=Math.sqrt(i*i+u*u+l*l);if(s<=(0,r.g)())return void o(t,e);s=1/s,i*=s,u*=s,l*=s;const c=Math.sin(n),f=Math.cos(n),h=1-f,d=e[0],b=e[1],g=e[2],M=e[3],p=e[4],y=e[5],w=e[6],m=e[7],A=e[8],v=e[9],C=e[10],I=e[11],U=i*i*h+f,k=u*i*h+l*c,x=l*i*h-u*c,F=i*u*h-l*c,E=u*u*h+f,S=l*u*h+i*c,T=i*l*h+u*c,q=u*l*h-i*c,O=l*l*h+f;t[0]=d*U+p*k+A*x,t[1]=b*U+y*k+v*x,t[2]=g*U+w*k+C*x,t[3]=M*U+m*k+I*x,t[4]=d*F+p*E+A*S,t[5]=b*F+y*E+v*S,t[6]=g*F+w*E+C*S,t[7]=M*F+m*E+I*S,t[8]=d*T+p*q+A*O,t[9]=b*T+y*q+v*O,t[10]=g*T+w*q+C*O,t[11]=M*T+m*q+I*O,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function d(t,e,n){const r=Math.sin(n),o=Math.cos(n),a=e[4],i=e[5],u=e[6],l=e[7],s=e[8],c=e[9],f=e[10],h=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*o+s*r,t[5]=i*o+c*r,t[6]=u*o+f*r,t[7]=l*o+h*r,t[8]=s*o-a*r,t[9]=c*o-i*r,t[10]=f*o-u*r,t[11]=h*o-l*r,t}function b(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function g(t,e,n){if(0===e)return i(t);let o=n[0],a=n[1],u=n[2],l=Math.sqrt(o*o+a*a+u*u);if(l<=(0,r.g)())return null;l=1/l,o*=l,a*=l,u*=l;const s=Math.sin(e),c=Math.cos(e),f=1-c;return t[0]=o*o*f+c,t[1]=a*o*f+u*s,t[2]=u*o*f-a*s,t[3]=0,t[4]=o*a*f-u*s,t[5]=a*a*f+c,t[6]=u*a*f+o*s,t[7]=0,t[8]=o*u*f+a*s,t[9]=a*u*f-o*s,t[10]=u*u*f+c,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function M(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function p(t,e){const n=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function y(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function w(t,e){const n=e[0],r=e[1],o=e[2],a=e[4],i=e[5],u=e[6],l=e[8],s=e[9],c=e[10];return t[0]=Math.sqrt(n*n+r*r+o*o),t[1]=Math.sqrt(a*a+i*i+u*u),t[2]=Math.sqrt(l*l+s*s+c*c),t}function m(t,e){const n=e[0]+e[5]+e[10];let r=0;return n>0?(r=2*Math.sqrt(n+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function A(t,e,n,r){const o=e[0],a=e[1],i=e[2],u=e[3],l=o+o,s=a+a,c=i+i,f=o*l,h=o*s,d=o*c,b=a*s,g=a*c,M=i*c,p=u*l,y=u*s,w=u*c,m=r[0],A=r[1],v=r[2];return t[0]=(1-(b+M))*m,t[1]=(h+w)*m,t[2]=(d-y)*m,t[3]=0,t[4]=(h-w)*A,t[5]=(1-(f+M))*A,t[6]=(g+p)*A,t[7]=0,t[8]=(d+y)*v,t[9]=(g-p)*v,t[10]=(1-(f+b))*v,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function v(t,e,n,r,o){const a=e[0],i=e[1],u=e[2],l=e[3],s=a+a,c=i+i,f=u+u,h=a*s,d=a*c,b=a*f,g=i*c,M=i*f,p=u*f,y=l*s,w=l*c,m=l*f,A=r[0],v=r[1],C=r[2],I=o[0],U=o[1],k=o[2],x=(1-(g+p))*A,F=(d+m)*A,E=(b-w)*A,S=(d-m)*v,T=(1-(h+p))*v,q=(M+y)*v,O=(b+w)*C,P=(M-y)*C,B=(1-(h+g))*C;return t[0]=x,t[1]=F,t[2]=E,t[3]=0,t[4]=S,t[5]=T,t[6]=q,t[7]=0,t[8]=O,t[9]=P,t[10]=B,t[11]=0,t[12]=n[0]+I-(x*I+S*U+O*k),t[13]=n[1]+U-(F*I+T*U+P*k),t[14]=n[2]+k-(E*I+q*U+B*k),t[15]=1,t}function C(t,e,n,r,o,a,i){const u=1/(n-e),l=1/(o-r),s=1/(a-i);return t[0]=2*a*u,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(n+e)*u,t[9]=(o+r)*l,t[10]=(i+a)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=i*a*2*s,t[15]=0,t}function I(t,e,n,o){const a=e[0],u=e[1],l=e[2];let s=a-n[0],c=u-n[1],f=l-n[2];const h=(0,r.g)();if(Math.abs(s)<h&&Math.abs(c)<h&&Math.abs(f)<h)return void i(t);let d=1/Math.sqrt(s*s+c*c+f*f);s*=d,c*=d,f*=d;const b=o[0],g=o[1],M=o[2];let p=g*f-M*c,y=M*s-b*f,w=b*c-g*s;d=Math.sqrt(p*p+y*y+w*w),d?(d=1/d,p*=d,y*=d,w*=d):(p=0,y=0,w=0);let m=c*w-f*y,A=f*p-s*w,v=s*y-c*p;d=Math.sqrt(m*m+A*A+v*v),d?(d=1/d,m*=d,A*=d,v*=d):(m=0,A=0,v=0),t[0]=p,t[1]=m,t[2]=s,t[3]=0,t[4]=y,t[5]=A,t[6]=c,t[7]=0,t[8]=w,t[9]=v,t[10]=f,t[11]=0,t[12]=-(p*a+y*u+w*l),t[13]=-(m*a+A*u+v*l),t[14]=-(s*a+c*u+f*l),t[15]=1}function U(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function k(t,e){if(t===e)return!0;const n=t[0],o=t[1],a=t[2],i=t[3],u=t[4],l=t[5],s=t[6],c=t[7],f=t[8],h=t[9],d=t[10],b=t[11],g=t[12],M=t[13],p=t[14],y=t[15],w=e[0],m=e[1],A=e[2],v=e[3],C=e[4],I=e[5],U=e[6],k=e[7],x=e[8],F=e[9],E=e[10],S=e[11],T=e[12],q=e[13],O=e[14],P=e[15],B=(0,r.g)();return Math.abs(n-w)<=B*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(o-m)<=B*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-A)<=B*Math.max(1,Math.abs(a),Math.abs(A))&&Math.abs(i-v)<=B*Math.max(1,Math.abs(i),Math.abs(v))&&Math.abs(u-C)<=B*Math.max(1,Math.abs(u),Math.abs(C))&&Math.abs(l-I)<=B*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(s-U)<=B*Math.max(1,Math.abs(s),Math.abs(U))&&Math.abs(c-k)<=B*Math.max(1,Math.abs(c),Math.abs(k))&&Math.abs(f-x)<=B*Math.max(1,Math.abs(f),Math.abs(x))&&Math.abs(h-F)<=B*Math.max(1,Math.abs(h),Math.abs(F))&&Math.abs(d-E)<=B*Math.max(1,Math.abs(d),Math.abs(E))&&Math.abs(b-S)<=B*Math.max(1,Math.abs(b),Math.abs(S))&&Math.abs(g-T)<=B*Math.max(1,Math.abs(g),Math.abs(T))&&Math.abs(M-q)<=B*Math.max(1,Math.abs(M),Math.abs(q))&&Math.abs(p-O)<=B*Math.max(1,Math.abs(p),Math.abs(O))&&Math.abs(y-P)<=B*Math.max(1,Math.abs(y),Math.abs(P))}function x(t){const e=(0,r.g)(),n=t[0],o=t[1],a=t[2],i=t[4],u=t[5],l=t[6],s=t[8],c=t[9],f=t[10];return Math.abs(1-(n*n+i*i+s*s))<=e&&Math.abs(1-(o*o+u*u+c*c))<=e&&Math.abs(1-(a*a+l*l+f*f))<=e}function F(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[8]&&0===t[9]&&1===t[10]}},56887:(t,e,n)=>{n.d(e,{a:()=>p,c:()=>m,d:()=>l,g:()=>y,r:()=>v});var r=n(6407),o=n(32773),a=n(20266);const i=!0;function u(t,e,n){return{identifier:String.fromCharCode.apply(null,new Uint8Array(t,n+0,10)),version:e.getUint16(n+10,i),checksum:e.getUint32(n+12,i)}}function l(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:a}=u(t,e,n);if(n+=16,"LEPCC     "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const l=function(t,e){return{sizeLo:t.getUint32(e+0,i),sizeHi:t.getUint32(e+4,i),minX:t.getFloat64(e+8,i),minY:t.getFloat64(e+16,i),minZ:t.getFloat64(e+24,i),maxX:t.getFloat64(e+32,i),maxY:t.getFloat64(e+40,i),maxZ:t.getFloat64(e+48,i),errorX:t.getFloat64(e+56,i),errorY:t.getFloat64(e+64,i),errorZ:t.getFloat64(e+72,i),count:t.getUint32(e+80,i),reserved:t.getUint32(e+84,i)}}(e,n);if(n+=88,l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const c=new Float64Array(3*l.count),f=[],h=[],d=[],b=[];if(n=s(t,n,f),n=s(t,n,h),n=s(t,n,d),n=s(t,n,b),n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad length");let g=0,M=0;for(let t=0;t<f.length;t++){M+=f[t];let e=0;for(let n=0;n<h[t];n++){e+=d[g];const t=b[g];c[3*g]=Math.min(l.maxX,l.minX+2*l.errorX*e),c[3*g+1]=Math.min(l.maxY,l.minY+2*l.errorY*M),c[3*g+2]=Math.min(l.maxZ,l.minZ+2*l.errorZ*t),g++}}return{errorX:l.errorX,errorY:l.errorY,errorZ:l.errorZ,result:c}}function s(t,e,n){const r=[];e=c(t,e,r);const o=[];for(let a=0;a<r.length;a++){o.length=0,e=c(t,e,o);for(let t=0;t<o.length;t++)n.push(o[t]+r[a])}return e}function c(t,e,n){const o=new DataView(t,e),a=o.getUint8(0),u=31&a,l=!!(32&a),s=(192&a)>>6;let c=0;if(0===s)c=o.getUint32(1,i),e+=5;else if(1===s)c=o.getUint16(1,i),e+=3;else{if(2!==s)throw new r.A("lepcc-decode-error","Bad count type");c=o.getUint8(1),e+=2}if(l)throw new r.A("lepcc-decode-error","LUT not implemented");const f=Math.ceil(c*u/8),h=new Uint8Array(t,e,f);let d=0,b=0,g=0;const M=-1>>>32-u;for(let t=0;t<c;t++){for(;b<u;)d|=h[g]<<b,b+=8,g+=1;n[t]=d&M,d>>>=u,b-=u,b+u>32&&(d|=h[g-1]>>8-b)}return e+g}function f(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:a}=u(t,e,n);if(n+=16,"ClusterRGB"!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const l=function(t,e){return{sizeLo:t.getUint32(e+0,i),sizeHi:t.getUint32(e+4,i),count:t.getUint32(e+8,i),colorMapCount:t.getUint16(e+12,i),lookupMethod:t.getUint8(e+14),compressionMethod:t.getUint8(e+15)}}(e,n);if(n+=16,l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===l.lookupMethod||1===l.lookupMethod)&&0===l.compressionMethod){if(3*l.colorMapCount+l.count+n!==t.byteLength||l.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const e=new Uint8Array(t,n,3*l.colorMapCount),o=new Uint8Array(t,n+3*l.colorMapCount,l.count),a=new Uint8Array(3*l.count);for(let t=0;t<l.count;t++){const n=o[t];a[3*t]=e[3*n],a[3*t+1]=e[3*n+1],a[3*t+2]=e[3*n+2]}return a}if(0===l.lookupMethod&&0===l.compressionMethod){if(3*l.count+n!==t.byteLength||0!==l.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(t,n).slice()}if(l.lookupMethod<=2&&1===l.compressionMethod){if(n+3!==t.byteLength||1!==l.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const o=e.getUint8(n),a=e.getUint8(n+1),i=e.getUint8(n+2),u=new Uint8Array(3*l.count);for(let t=0;t<l.count;t++)u[3*t]=o,u[3*t+1]=a,u[3*t+2]=i;return u}throw new r.A("lepcc-decode-error","Bad method "+l.lookupMethod+","+l.compressionMethod)}function h(t){const e=new DataView(t,0);let n=0;const{identifier:o,version:a}=u(t,e,n);if(n+=16,"Intensity "!==o)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const l=function(t,e){return{sizeLo:t.getUint32(e+0,i),sizeHi:t.getUint32(e+4,i),count:t.getUint32(e+8,i),scaleFactor:t.getUint16(e+12,i),bitsPerPoint:t.getUint8(e+14),reserved:t.getUint8(e+15)}}(e,n);if(n+=16,l.sizeHi*2**32+l.sizeLo!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const s=new Uint16Array(l.count);if(8===l.bitsPerPoint){if(l.count+n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const e=new Uint8Array(t,n,l.count);for(let t=0;t<l.count;t++)s[t]=e[t]*l.scaleFactor}else if(16===l.bitsPerPoint){if(2*l.count+n!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");const e=new Uint16Array(t,n,l.count);for(let t=0;t<l.count;t++)s[t]=e[t]*l.scaleFactor}else{const e=[];if(c(t,n,e)!==t.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let t=0;t<l.count;t++)s[t]=e[t]*l.scaleFactor}return s}const d=()=>a.L.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function b(t,e,n){let o="",a=0;for(;a<n;){const i=t[e+a];if(i<128)o+=String.fromCharCode(i),a++;else if(i>=192&&i<224){if(a+1>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const u=(31&i)<<6|63&t[e+a+1];o+=String.fromCharCode(u),a+=2}else if(i>=224&&i<240){if(a+2>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(15&i)<<12|(63&t[e+a+1])<<6|63&t[e+a+2];o+=String.fromCharCode(u),a+=3}else{if(!(i>=240&&i<248))throw new r.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(a+3>=n)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const u=(7&i)<<18|(63&t[e+a+1])<<12|(63&t[e+a+2])<<6|63&t[e+a+3];if(u>=65536){const t=55296+(u-65536>>10),e=56320+(1023&u);o+=String.fromCharCode(t,e)}else o+=String.fromCharCode(u);a+=4}}}return o}function g(t,e){const n={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let o=0;o<e.length;o++){const a=e[o],i=a.valueType||a.type,u=I[i];n.fields[a.property]=u(t,r),r+=C[i].BYTES_PER_ELEMENT}return n.byteCount=r,n}function M(t,e,n){const o=[];let a,i,u=0;for(i=0;i<t;i+=1){if(a=e[i],a>0){if(o.push(b(n,u,a-1)),0!==n[u+a-1])throw new r.A("string-array-error","Invalid string array: missing null termination.")}else o.push(null);u+=a}return o}function p(t,e){return new(0,C[e.valueType])(t,e.byteOffset,e.count*e.valuesPerElement)}function y(t,e){if(!t)return null;const n=t[e];return(0,o.E)(t)?n===o.F?null:n:(0,o.G)(t)?n===o.H?null:n:n!=n?null:n}function w(t,e,n){if(e!==t&&d().error(`Invalid ${n} buffer size\n expected: ${t}, actual: ${e})`),e<t)throw new r.A("buffer-too-small","Binary buffer is too small",{expectedSize:t,actualSize:e})}function m(t,e){const n=g(t,e&&e.header);let r=n.byteCount;const o={isDraco:!1,header:n,byteOffset:n.byteCount,byteCount:0,vertexAttributes:{}},a=n.fields,i=null!=a.vertexCount?a.vertexCount:a.count;for(const t of e.ordering){if(!e.vertexAttributes[t])continue;const n={...e.vertexAttributes[t],byteOffset:r,count:i},a=A[t]||"_"+t;o.vertexAttributes[a]=n,r+=k(n.valueType)*n.valuesPerElement*i}const u=a.faceCount;if(e.faces&&u){o.faces={};for(const t of e.ordering){if(!e.faces[t])continue;const n={...e.faces[t],byteOffset:r,count:u};o.faces[t]=n,r+=k(n.valueType)*n.valuesPerElement*u}}const l=a.featureCount;if(e.featureAttributes&&e.featureAttributeOrder&&l){o.featureAttributes={};for(const t of e.featureAttributeOrder){if(!e.featureAttributes[t])continue;const n={...e.featureAttributes[t],byteOffset:r,count:l};o.featureAttributes[t]=n,r+=("UInt64"===n.valueType?8:k(n.valueType))*n.valuesPerElement*l}}return w(r,t.byteLength,"geometry"),o.byteCount=r-o.byteOffset,o}const A={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function v(t,e,n,a=!1){if("lepcc-rgb"===t.encoding)return a?f(e):(i=f(e),Array.isArray(i)?i.length<o.n?i:new Uint8Array(i):i.length<o.n?Array.from(i):i);var i,u;if("lepcc-intensity"===t.encoding)return a?h(e):(u=h(e),Array.isArray(u)?u.length<o.n?u:new Uint16Array(u):u.length<o.n?Array.from(u):u);if(null!=t.encoding&&""!==t.encoding)throw new r.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");t["attributeByteCounts "]&&!t.attributeByteCounts&&(d().warn("Warning: Trailing space in 'attributeByteCounts '."),t.attributeByteCounts=t["attributeByteCounts "]),"ObjectIds"===t.ordering[0]&&t.hasOwnProperty("objectIds")&&(d().warn("Warning: Case error in objectIds"),t.ordering[0]="objectIds");const l=function(t,e,n){const a=null!=e.header?g(t,e.header):{byteOffset:0,byteCount:0,fields:{count:n}},i={header:a,byteOffset:a.byteCount,byteCount:0,entries:Object.create(null)};let u=a.byteCount;for(let t=0;t<e.ordering.length;t++){const n=e.ordering[t],l=(0,o.o8)(e[n]);if(l.count=a.fields.count??0,"String"===l.valueType){if(l.byteOffset=u,l.byteCount=a.fields[n+"ByteCount"],"UTF-8"!==l.encoding)throw new r.A("unsupported-encoding","Unsupported String encoding.",{encoding:l.encoding});if(l.timeEncoding&&"ECMA_ISO8601"!==l.timeEncoding)throw new r.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:l.timeEncoding})}else{if(!U(l.valueType))throw new r.A("unsupported-value-type","Unsupported binary valueType",{valueType:l.valueType});{const t=k(l.valueType);u+=u%t!==0?t-u%t:0,l.byteOffset=u,l.byteCount=t*l.valuesPerElement*l.count}}u+=l.byteCount??0,i.entries[n]=l}return i.byteCount=u-i.byteOffset,i}(e,t,n);w(l.byteOffset+l.byteCount,e.byteLength,"attribute");const s=l.entries.attributeValues||l.entries.objectIds;if(s){if("String"===s.valueType){const t=l.entries.attributeByteCounts,n=p(e,t),r=function(t,e){return new Uint8Array(t,e.byteOffset,e.byteCount)}(e,s);return s.timeEncoding?function(t,e,n){return M(t,e,n).map(t=>{const e=t?Date.parse(t):null;return null==e||Number.isNaN(e)?null:e})}(t.count,n,r):M(t.count,n,r)}return a?p(e,s):function(t,e){const n=p(t,e);if(n.length>=o.n)return n;const r=new Array;return n.forEach((t,e)=>r.push(y(n,e))),r}(e,s)}throw new r.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const C={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},I={Float32:(t,e)=>new DataView(t,0).getFloat32(e,!0),Float64:(t,e)=>new DataView(t,0).getFloat64(e,!0),UInt8:(t,e)=>new DataView(t,0).getUint8(e),Int8:(t,e)=>new DataView(t,0).getInt8(e),UInt16:(t,e)=>new DataView(t,0).getUint16(e,!0),Int16:(t,e)=>new DataView(t,0).getInt16(e,!0),UInt32:(t,e)=>new DataView(t,0).getUint32(e,!0),Int32:(t,e)=>new DataView(t,0).getInt32(e,!0)};function U(t){return C.hasOwnProperty(t)}function k(t){return U(t)?C[t].BYTES_PER_ELEMENT:0}},62482:(t,e,n)=>{function r(){return[0,0,0,0]}function o(t){return[t[0],t[1],t[2],t[3]]}function a(t,e,n,r){return[t,e,n,r]}function i(t,e,n,r){return[t,e,n,r]}function u(t,e=[0,0,0,0]){const n=Math.min(4,t.length);for(let r=0;r<n;++r)e[r]=t[r];return e}n.d(e,{O:()=>s,Z:()=>l,a:()=>o,b:()=>i,c:()=>r,d:()=>u,f:()=>a});const l=[0,0,0,0],s=a(1,1,1,1)},74578:(t,e,n)=>{function r(){return new Float32Array(3)}function o(t){const e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function a(t,e,n){const r=new Float32Array(3);return r[0]=t,r[1]=e,r[2]=n,r}n.d(e,{a:()=>r,c:()=>o,f:()=>a}),a(1,1,1),a(1,0,0),a(0,1,0),a(0,0,1)},88663:(t,e,n)=>{n.d(e,{e:()=>a});var r=n(93804),o=n(29298);function a(t,e={}){const n=t instanceof r.J?t:new r.J(t,e),{alwaysWriteDefaults:a,default:i,ignoreUnknown:u=!0,name:l,nonNullable:s,readOnly:c=!1}=e;return(0,o.MZ)({type:u?n.apiValues:String,json:{type:n.jsonValues,default:i,name:l,read:!c&&{reader:n.read},write:{writer:n.write,alwaysWriteDefaults:a}},nonNullable:s,readOnly:c})}},91276:(t,e,n)=>{n.d(e,{a:()=>g,b:()=>s,c:()=>o,d:()=>f,e:()=>M,g:()=>d,s:()=>a,t:()=>b});var r=n(18527);function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function a(t,e,n,r,o){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t}function i(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t[2]=e[2]-n[2],t[3]=e[3]-n[3],t}function u(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t[2]=e[2]*n[2],t[3]=e[3]*n[3],t}function l(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t[2]=e[2]/n[2],t[3]=e[3]/n[3],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t}function c(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(n*n+r*r+o*o+a*a)}function f(t,e){const n=e[0]-t[0],r=e[1]-t[1],o=e[2]-t[2],a=e[3]-t[3];return n*n+r*r+o*o+a*a}function h(t){const e=t[0],n=t[1],r=t[2],o=t[3];return Math.sqrt(e*e+n*n+r*r+o*o)}function d(t){const e=t[0],n=t[1],r=t[2],o=t[3];return e*e+n*n+r*r+o*o}function b(t,e,n){const r=e[0],o=e[1],a=e[2],i=e[3];return t[0]=n[0]*r+n[4]*o+n[8]*a+n[12]*i,t[1]=n[1]*r+n[5]*o+n[9]*a+n[13]*i,t[2]=n[2]*r+n[6]*o+n[10]*a+n[14]*i,t[3]=n[3]*r+n[7]*o+n[11]*a+n[15]*i,t}function g(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function M(t,e){const n=t[0],o=t[1],a=t[2],i=t[3],u=e[0],l=e[1],s=e[2],c=e[3],f=(0,r.g)();return Math.abs(n-u)<=f*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(o-l)<=f*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(a-s)<=f*Math.max(1,Math.abs(a),Math.abs(s))&&Math.abs(i-c)<=f*Math.max(1,Math.abs(i),Math.abs(c))}const p=i,y=u,w=l,m=c,A=f,v=h,C=d;Object.freeze(Object.defineProperty({__proto__:null,add:function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t[2]=e[2]+n[2],t[3]=e[3]+n[3],t},ceil:function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t},copy:o,copyVec3:function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},dist:m,distance:c,div:w,divide:l,dot:function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},equals:M,exactEquals:g,floor:function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t},inverse:function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t},len:v,length:h,lerp:function(t,e,n,r){const o=e[0],a=e[1],i=e[2],u=e[3];return t[0]=o+r*(n[0]-o),t[1]=a+r*(n[1]-a),t[2]=i+r*(n[2]-i),t[3]=u+r*(n[3]-u),t},max:function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t[2]=Math.max(e[2],n[2]),t[3]=Math.max(e[3],n[3]),t},min:function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t[2]=Math.min(e[2],n[2]),t[3]=Math.min(e[3],n[3]),t},mul:y,multiply:u,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t},normalize:function(t,e){const n=e[0],r=e[1],o=e[2],a=e[3];let i=n*n+r*r+o*o+a*a;return i>0&&(i=1/Math.sqrt(i),t[0]=n*i,t[1]=r*i,t[2]=o*i,t[3]=a*i),t},random:function(t,e=1){const n=r.R;let o,a,i,u,l,s;do{o=2*n()-1,a=2*n()-1,l=o*o+a*a}while(l>=1);do{i=2*n()-1,u=2*n()-1,s=i*i+u*u}while(s>=1);const c=Math.sqrt((1-l)/s);return t[0]=e*o,t[1]=e*a,t[2]=e*i*c,t[3]=e*u*c,t},round:function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t},scale:s,scaleAndAdd:function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t[2]=e[2]+n[2]*r,t[3]=e[3]+n[3]*r,t},set:a,sqrDist:A,sqrLen:C,squaredDistance:f,squaredLength:d,str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},sub:p,subtract:i,transformMat4:b,transformQuat:function(t,e,n){const r=e[0],o=e[1],a=e[2],i=n[0],u=n[1],l=n[2],s=n[3],c=s*r+u*a-l*o,f=s*o+l*r-i*a,h=s*a+i*o-u*r,d=-i*r-u*o-l*a;return t[0]=c*s+d*-i+f*-l-h*-u,t[1]=f*s+d*-u+h*-i-c*-l,t[2]=h*s+d*-l+c*-u-f*-i,t[3]=e[3],t}},Symbol.toStringTag,{value:"Module"}))}}]);