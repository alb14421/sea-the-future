"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7664],{1535:(e,t,i)=>{i.d(t,{A:()=>p});var s,r=i(32816),o=i(35902),n=i(99924),l=i(29298),a=i(36544),u=(i(32773),i(69421));i(13226),i(16699),i(20266),i(90740),i(59121),i(84699),i(41390),i(85176),i(93181),i(13671),i(50704),i(40499),i(36555),i(58498),i(91047),i(35819),i(45371),i(61532),i(80959),i(6407),i(19247),i(36172),i(48064);let p=s=class extends n.o{constructor(e){super(e),this.color=null,this.ratio=null}clone(){return new s({color:this.color&&this.color.clone(),ratio:this.ratio})}};(0,r._)([(0,l.MZ)({type:o.A,json:{type:[a.I],default:null,write:{isRequired:!0}}})],p.prototype,"color",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:{isRequired:!0}}})],p.prototype,"ratio",void 0),p=s=(0,r._)([(0,u.$)("esri.renderers.support.HeatmapColorStop")],p)},43682:(e,t,i)=>{i.d(t,{A:()=>w});var s,r=i(32816),o=i(35902),n=i(32773),l=i(29298),a=(i(20266),i(88663)),u=i(69421),p=i(30011),y=i(60027),c=i(56487),d=i(85351),h=i(99924),m=i(54512),f=i(29447);i(13226),i(16699),i(36544),i(90740),i(59121),i(84699),i(85176),i(93181),i(13671),i(40499),i(6407),i(93804),i(50704),i(91047),i(48064),i(54483),i(57111),i(49877),i(75651),i(48844),i(88614),i(1030),i(15319),i(41390),i(36555),i(58498),i(35819),i(45371),i(61532),i(80959),i(19247),i(36172),i(60785),i(56273),i(6399),i(9498),i(52731),i(24079),i(38149),i(19681),i(64524),i(40328),i(84539),i(65299),i(38641),i(27281),i(72393),i(17745),i(81272),i(44945),i(51961),i(62399),i(64995),i(70861),i(33150),i(58173),i(66110),i(67520),i(27532),i(48103),i(50214),i(59192),i(16345),i(65085),i(33611),i(84857),i(60373),i(20568),i(16794),i(52357),i(11090),i(49319),i(93546),i(29570),i(34592),i(79825),i(95101),i(67578),i(17857),i(82537),i(14896),i(95611),i(98089),i(91366),i(80473),i(43435),i(73435),i(67321),i(77037),i(44600),i(2160),i(7969),i(69763),i(96221),i(18683),i(64604),i(29512),i(99063),i(1178),i(64752),i(29208),i(36533),i(84200),i(97827),i(18169),i(20762),i(48402),i(67504),i(92517),i(91815),i(85232),i(93471),i(7182),i(47788),i(19297),i(82408),i(73509),i(28276),i(91658),i(70580),i(75191),i(24319),i(62092),i(53252),i(34039),i(12856),i(3495),i(97906),i(65023),i(31424),i(74676),i(32368),i(7391),i(22529),i(70061),i(38094),i(67723),i(2589),i(47239),i(22522),i(63728),i(4157),i(62401),i(89322),i(20138),i(53370),i(59858),i(46946),i(3816),i(71992),i(80167),i(4478),i(91808),i(7161),i(55586),i(92229),i(18344),i(53610),i(78273),i(49475),i(64884),i(23351),i(35121),i(51222),i(42870),i(53103),i(19648),i(42948),i(19869);let g=s=class extends h.o{constructor(){super(...arguments),this.unit=null}clone(){return new s({unit:this.unit})}};(0,r._)([(0,l.MZ)({type:String,json:{write:!0}})],g.prototype,"unit",void 0),g=s=(0,r._)([(0,u.$)("esri.renderers.support.DotDensityLegendOptions")],g);const b=g;var v;let w=v=class extends((0,c.h)(y.A)){constructor(e){super(e),this.attributes=null,this.backgroundColor=new o.A([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new f.A,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}set visualVariables(e){super.visualVariables=e}calculateDotValue(e){if(null==this.referenceScale)return this.dotValue;const t=e/this.referenceScale*this.dotValue;return t<1?1:t}getSymbol(){return new m.A({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new v({attributes:(0,n.o8)(this.attributes),backgroundColor:(0,n.o8)(this.backgroundColor),dotBlendingEnabled:(0,n.o8)(this.dotBlendingEnabled),dotShape:(0,n.o8)(this.dotShape),dotSize:(0,n.o8)(this.dotSize),dotValue:(0,n.o8)(this.dotValue),legendOptions:(0,n.o8)(this.legendOptions),outline:(0,n.o8)(this.outline),referenceScale:(0,n.o8)(this.referenceScale),seed:(0,n.o8)(this.seed),visualVariables:(0,n.o8)(this.visualVariables),authoringInfo:(0,n.o8)(this.authoringInfo)})}getControllerHash(){const e=this.attributes?.map(e=>e.field||e.valueExpression||"");return`${e}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes??[])i.valueExpression&&await(0,p.Dx)(e,t,i.valueExpression),i.field&&e.add(i.field)}};(0,r._)([(0,l.MZ)({type:[d.A],json:{write:!0}})],w.prototype,"attributes",void 0),(0,r._)([(0,l.MZ)({type:o.A,json:{write:!0}})],w.prototype,"backgroundColor",void 0),(0,r._)([(0,l.MZ)({type:Boolean,json:{write:!0}})],w.prototype,"dotBlendingEnabled",void 0),(0,r._)([(0,l.MZ)({type:String,json:{write:!1}})],w.prototype,"dotShape",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"dotSize",void 0),(0,r._)([(0,l.MZ)({type:b,json:{write:!0}})],w.prototype,"legendOptions",void 0),(0,r._)([(0,l.MZ)({type:f.A,json:{default:null,write:!0}})],w.prototype,"outline",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"dotValue",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"referenceScale",void 0),(0,r._)([(0,l.MZ)({type:Number,json:{write:!0}})],w.prototype,"seed",void 0),(0,r._)([(0,a.e)({dotDensity:"dot-density"})],w.prototype,"type",void 0),w=v=(0,r._)([(0,u.$)("esri.renderers.DotDensityRenderer")],w)},49011:(e,t,i)=>{i.d(t,{A:()=>j});var s=i(32816),r=i(64604),o=i(32773),n=i(29298),l=(i(20266),i(69421)),a=i(56273),u=i(30011),p=i(60027),y=i(56487),c=i(23787),d=i(77037),h=i(35902),m=i(76164),f=i(44296),g=i(85232),b=i(44747);i(90740),i(59121),i(29512),i(99063),i(6407),i(84699),i(80959),i(13671),i(19247),i(1178),i(36544),i(85176),i(93181),i(40499),i(50704),i(91047),i(48064),i(54483),i(93804),i(99924),i(41390),i(36555),i(58498),i(35819),i(45371),i(61532),i(36172),i(57111),i(49877),i(75651),i(48844),i(88614),i(1030),i(88663),i(15319),i(13226),i(16699),i(60785),i(6399),i(9498),i(52731),i(24079),i(38149),i(19681),i(64524),i(40328),i(84539),i(65299),i(38641),i(27281),i(72393),i(17745),i(81272),i(44945),i(51961),i(62399),i(64995),i(70861),i(33150),i(58173),i(66110),i(67520),i(27532),i(48103),i(50214),i(59192),i(16345),i(65085),i(33611),i(84857),i(60373),i(20568),i(16794),i(52357),i(11090),i(49319),i(93546),i(29570),i(34592),i(79825),i(95101),i(67578),i(17857),i(82537),i(14896),i(95611),i(98089),i(91366),i(80473),i(43435),i(73435),i(67321),i(92517),i(44600),i(2160),i(7969),i(69763),i(96221),i(18683),i(64752),i(29208),i(36533),i(84200),i(97827),i(18169),i(20762),i(48402),i(67504),i(91815),i(7182),i(47788),i(19297),i(82408),i(73509),i(28276),i(91658),i(70580),i(75191),i(24319),i(62092),i(53252),i(34039),i(12856),i(3495),i(97906),i(65023),i(31424),i(74676),i(32368),i(7391),i(22529),i(70061),i(38094),i(67723),i(2589),i(47239),i(22522),i(63728),i(4157),i(62401),i(89322),i(20138),i(93471),i(53370),i(59858),i(46946),i(3816),i(71992),i(80167),i(4478),i(91808),i(7161),i(55586),i(92229),i(18344),i(53610),i(29447),i(78273),i(49475),i(64884),i(23351),i(35121),i(51222),i(42870),i(54512),i(53103),i(19648),i(42948),i(19869),i(22151),i(38632),i(79875),i(133),i(78016),i(26589),i(7011),i(91524);class v{static parse(e,t,i){const s=[],r=[],o=e.split(";");for(let e=0;e<o.length;e++){const n=o[e];if(n){if(n.includes("po:")){const e=n.slice(3).split("|");if(3===e.length){const[t,i,s]=e,o=w(t,i,s);o&&r.push(o)}continue}if(n.includes("|")){for(const e of n.split("|"))if(t.has(e)){s.push(e);break}}else if(t.has(n))s.push(n);else if(0===e){s.length=0,s.push(_(i));break}}}return new v(s,r)}constructor(e,t){this.partNames=e,this.overrides=t}}function w(e,t,i){const s=function(e,t){if("DashTemplate"===e)return t.split(" ").map(e=>Number(e));if("Color"===e){const e=new h.A(t).toRgba();return[e[0],e[1],e[2],255*e[3]]}return Number(t)}(t,i);return{primitiveName:e,propertyName:t,value:s,defaultValue:null}}function _(e){switch(e){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}const x={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};class S{constructor(e,t,i,s){this.url=e,this.fieldMap=i,this.dictionaryInfo=s,this._symbolPartCache=new c.L(100),this._evaluator=(async()=>m.D.from(await s,t,i))()}async getSymbolAsync(e,t,i=!0){const s=await this._evaluator,r=t?.fields??(0,f.d)(e.attributes),o=s.createDictionaryFieldsIndex(r),n=s.evaluate(e,t?.scale??0,o,t?.spatialReference);if(null==n)return null;const l=(0,d.$B)(e.geometry),a=v.parse(n,s.itemNames,l),u="esriGeometryPoint"===l&&!e.geometry?.hasZ;return await this._cimPartsToCIMSymbol(e,a.partNames,a.overrides,u,t,i,o)}async getSymbolForControlString(e,t,i){const s=await this._evaluator,r=v.parse(e,s.itemNames,t),o="esriGeometryPoint"===t&&!i,n=M(await Promise.all(r.partNames.map(e=>this._getSymbolPart(e))),r.overrides,o);return new g.A({data:n})}async _cimPartsToCIMSymbol(e,t,s,r,n,l,a){const u=t.map(e=>this._getSymbolPart(e,n));let p=await Promise.all(u);if(l&&this.fieldMap&&p.length>0){const{OverrideHelper:t}=await i.e(4287).then(i.bind(i,34287));p=(0,o.o8)(p);for(const i of p)t.applyDictionaryTextOverrides(i,e,this.fieldMap,a,(0,b.k)(i))}const y=M(p,s,r);return new g.A({data:y})}async _fetchSymbolPart(e,t){const i=await this.dictionaryInfo,s=(this.url+"/"+i.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:o}=await(0,r.A)(s,{responseType:"json",query:{f:"json"},...t});return o}async _getSymbolPart(e,t){let i=this._symbolPartCache.get(e);return i||(i=this._fetchSymbolPart(e,t),this._symbolPartCache.put(e,i)),i}}function M(e,t,i){if(!e||0===e.length)return null;const s={...e[0]};if(e.length>1){s.effects=null,s.symbolLayers=[];for(const t of e){const e=t;if(null!=e.effects)for(const t of e.symbolLayers)null==t.effects?t.effects=e.effects:t.effects.unshift(...e.effects);s.symbolLayers.unshift(...e.symbolLayers)}}return i&&(s.callout=x),{type:"CIMSymbolReference",symbol:s,primitiveOverrides:t}}var A;let j=A=class extends((0,y.h)(p.A)){constructor(e){super(e),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const e=this.getDictionaryInfo();return new S(this.url,this.config,this.fieldMap??{},e)}writeData(e,t){e&&(t.scalingExpressionInfo={expression:e,returnType:"number"})}writeVisualVariables(e,t,i,s){s?.origin||super.writeVisualVariables(e,t,i,s)}clone(){return new A({config:(0,o.o8)(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:(0,o.o8)(this.fieldMap),url:(0,o.o8)(this.url),visualVariables:(0,o.o8)(this.visualVariables)})}async getSymbolAsync(e,t,i=!0){return this._loader.getSymbolAsync(e,t,i)}async getSymbolForControlString(e,t,i){return this._loader.getSymbolForControlString(e,t,i)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t),this.scaleExpression&&await(0,u.Dx)(e,t,this.scaleExpression);for(const i in this.fieldMap){const s=this.fieldMap[i];t.has(s)&&e.add(s)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:e}=await(0,r.A)(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return e}};(0,s._)([(0,n.MZ)({type:S})],j.prototype,"_loader",null),(0,s._)([(0,n.MZ)({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],j.prototype,"config",void 0),(0,s._)([(0,n.MZ)({type:Object,json:{write:!0}})],j.prototype,"fieldMap",void 0),(0,s._)([(0,n.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],j.prototype,"scaleExpression",void 0),(0,s._)([(0,a.w)("scaleExpression")],j.prototype,"writeData",null),(0,s._)([(0,n.MZ)({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(e){return{enabled:!!e&&!!this.scaleExpression}}}}})],j.prototype,"scaleExpressionTitle",void 0),(0,s._)([(0,n.MZ)({type:String,json:{write:!0}})],j.prototype,"url",void 0),(0,s._)([(0,a.w)("visualVariables")],j.prototype,"writeVisualVariables",null),j=A=(0,s._)([(0,l.$)("esri.renderers.DictionaryRenderer")],j)},54481:(e,t,i)=>{i.d(t,{A:()=>_});var s=i(32816),r=i(35902),o=i(32773),n=i(87985),l=i(29298),a=(i(20266),i(88663)),u=i(69421),p=i(30011),y=i(60027),c=i(57111),d=i(1535),h=i(52731),m=i(99924),f=i(9943),g=i(53103);i(13226),i(16699),i(36544),i(90740),i(59121),i(84699),i(85176),i(93181),i(13671),i(40499),i(6407),i(93804),i(50704),i(91047),i(48064),i(54483),i(41390),i(36555),i(58498),i(35819),i(45371),i(61532),i(80959),i(19247),i(36172),i(49877),i(75651),i(48844),i(88614),i(1030),i(15319),i(60785),i(56273),i(91276),i(18527),i(62482),i(35121),i(93471),i(29447),i(78273),i(49475);let b=class extends((0,h.O)(m.o)){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};var v;function w(e){if(null!=e){const{maxDensity:t,minDensity:i,radius:s}=e;if(null!=t||null!=i||null!=s){const{blurRadius:t,maxPixelIntensity:i,minPixelIntensity:s,...r}=e;return r}}return e}(0,s._)([(0,l.MZ)({type:String,json:{write:!0}})],b.prototype,"minLabel",void 0),(0,s._)([(0,l.MZ)({type:String,json:{write:!0}})],b.prototype,"maxLabel",void 0),(0,s._)([(0,l.MZ)({type:String,json:{write:!0}})],b.prototype,"title",void 0),b=(0,s._)([(0,u.$)("esri.renderers.support.HeatmapLegendOptions")],b);let _=v=class extends y.A{constructor(e){super(e),this.authoringInfo=null,this.colorStops=[new d.A({ratio:0,color:new r.A("rgba(255, 140, 0, 0)")}),new d.A({ratio:.75,color:new r.A("rgba(255, 140, 0, 1)")}),new d.A({ratio:.9,color:new r.A("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(e){return w(e)}get blurRadius(){return(0,f.k)(this.radius)}set blurRadius(e){const t=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",(0,f.g)(e)),this._set("maxDensity",t*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(e){this._set("maxDensity",e*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(e){this._set("minDensity",e*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(f.m**2*this.blurRadius**4)}read(e,t){e=w(e),super.read(e,t)}getSymbol(){return new g.A}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(e,t){const i=this.field,s=this.valueExpression;i&&"string"==typeof i&&(0,p.rq)(e,t,i),s&&"string"==typeof s&&await(0,p.Dx)(e,t,s)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new v({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:(0,o.o8)(this.colorStops),field:this.field,legendOptions:(0,o.o8)(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,s._)([(0,l.MZ)({type:c.h,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],_.prototype,"authoringInfo",void 0),(0,s._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_.prototype,"blurRadius",null),(0,s._)([(0,l.MZ)({type:[d.A],json:{write:{isRequired:!0}}})],_.prototype,"colorStops",void 0),(0,s._)([(0,l.MZ)({type:String,json:{write:!0}})],_.prototype,"field",void 0),(0,s._)([(0,l.MZ)({type:b,json:{write:!0}})],_.prototype,"legendOptions",void 0),(0,s._)([(0,l.MZ)({type:Number,json:{write:!0}})],_.prototype,"maxDensity",void 0),(0,s._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_.prototype,"maxPixelIntensity",null),(0,s._)([(0,l.MZ)({type:Number,json:{write:!0}})],_.prototype,"minDensity",void 0),(0,s._)([(0,l.MZ)({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],_.prototype,"minPixelIntensity",null),(0,s._)([(0,l.MZ)({type:Number,cast:n.t,json:{write:!0}})],_.prototype,"radius",void 0),(0,s._)([(0,l.MZ)({type:Number,range:{min:0},json:{default:0,write:!0}})],_.prototype,"referenceScale",void 0),(0,s._)([(0,a.e)({heatmap:"heatmap"})],_.prototype,"type",void 0),(0,s._)([(0,l.MZ)({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],_.prototype,"valueExpression",void 0),(0,s._)([(0,l.MZ)({type:String})],_.prototype,"valueExpressionTitle",void 0),(0,s._)([(0,l.MZ)({readOnly:!0})],_.prototype,"_pixelIntensityToDensity",null),_=v=(0,s._)([(0,u.$)("esri.renderers.HeatmapRenderer")],_)},67664:(e,t,i)=>{i.d(t,{r:()=>c,w:()=>d});var s=i(20266),r=i(91381),o=i(49011),n=i(43682),l=i(54481),a=i(89253),u=i(60027),p=i(16677),y=i(17813);const c={key:"type",base:u.A,typeMap:{heatmap:l.A,simple:p.A,"unique-value":y.A,"class-breaks":r.A,"dot-density":n.A,dictionary:o.A,"pie-chart":a.A},errorContext:"renderer"},d={key:"type",base:u.A,typeMap:{simple:p.A,"unique-value":y.A,"class-breaks":r.A,heatmap:l.A},errorContext:"renderer",validate:function(e){switch(e.type){case"simple":return function(e){if(e.symbol)return e;s.L.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}(e);case"unique-value":return function(e){const t=e.uniqueValueInfos,i=t?.filter(({symbol:e,label:t},i)=>(e||s.L.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${i}] ${t}) without a symbol from web scene.`),!!e));return i?.length!==t?.length&&(e.uniqueValueInfos=i),e}(e);case"class-breaks":return function(e){const t=e.classBreakInfos,i=t?.filter(({symbol:e,label:t},i)=>(e||s.L.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${i}] ${t}) without a symbol from web scene.`),!!e));return i?.length!==t?.length&&(e.classBreakInfos=i),e}(e);case"heatmap":return e}}}},85351:(e,t,i)=>{i.d(t,{A:()=>d});var s,r=i(32816),o=i(35902),n=i(99924),l=i(20266),a=i(29298),u=i(48844),p=(i(32773),i(69421)),y=i(36544);i(13226),i(16699),i(90740),i(59121),i(84699),i(41390),i(85176),i(93181),i(13671),i(50704),i(40499),i(36555),i(58498),i(91047),i(35819),i(45371),i(61532),i(80959),i(6407),i(19247),i(36172),i(48064);let c=s=class extends n.o{constructor(e){super(e),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(e){return null==e?e:"function"==typeof e?(l.L.getLogger(this).error(".field: field must be a string value"),null):(0,y.d)(e)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new s({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};(0,r._)([(0,a.MZ)({type:o.A,json:{type:[Number],write:!0}})],c.prototype,"color",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"field",void 0),(0,r._)([(0,u.w)("field")],c.prototype,"castField",null),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"label",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"valueExpression",void 0),(0,r._)([(0,a.MZ)({type:String,json:{write:!0}})],c.prototype,"valueExpressionTitle",void 0),c=s=(0,r._)([(0,p.$)("esri.renderers.support.AttributeColorInfo")],c);const d=c},89253:(e,t,i)=>{i.d(t,{A:()=>A});var s=i(32816),r=i(35902),o=i(32773),n=i(52731),l=i(87985),a=i(29298),u=(i(20266),i(88663)),p=i(69421),y=i(30011),c=i(60027),d=i(56487),h=i(85351),m=i(98238),f=i(99924),g=i(41740),b=i(38149),v=i(84539),w=i(9498),_=i(29447),x=i(53103);i(13226),i(16699),i(36544),i(90740),i(59121),i(84699),i(41390),i(85176),i(93181),i(13671),i(50704),i(40499),i(36555),i(58498),i(91047),i(35819),i(45371),i(61532),i(80959),i(6407),i(19247),i(36172),i(48064),i(93804),i(54483),i(57111),i(49877),i(75651),i(48844),i(88614),i(1030),i(15319),i(60785),i(56273),i(6399),i(24079),i(40328),i(42870),i(17745),i(81272),i(44945),i(67321),i(53252),i(34039),i(12856),i(3495),i(97906),i(64524),i(65023),i(31424),i(74676),i(32368),i(7391),i(22529),i(70061),i(38094),i(67723),i(2589),i(47239),i(44600),i(2160),i(7969),i(69763),i(96221),i(18683),i(64604),i(29512),i(99063),i(1178),i(64752),i(29208),i(48402),i(22522),i(63728),i(4157),i(62401),i(89322),i(47788),i(19297),i(82408),i(73509),i(28276),i(59192),i(91658),i(70580),i(75191),i(24319),i(62092),i(20138),i(93471),i(53370),i(59858),i(46946),i(3816),i(71992),i(78328),i(23916),i(93074),i(42948),i(7182),i(80167),i(4478),i(91808),i(7161),i(55586),i(92229),i(23351),i(35121),i(64884),i(51222),i(54512),i(53610),i(78273),i(49475),i(19648),i(54616),i(25018),i(91815),i(85232),i(18344),i(19681),i(65299),i(38641),i(27281),i(72393),i(51961),i(62399),i(64995),i(70861),i(33150),i(58173),i(66110),i(67520),i(27532),i(48103),i(50214),i(16345),i(65085),i(33611),i(84857),i(60373),i(20568),i(16794),i(52357),i(11090),i(49319),i(93546),i(29570),i(34592),i(79825),i(95101),i(67578),i(17857),i(82537),i(14896),i(95611),i(98089),i(91366),i(80473),i(43435),i(73435),i(77037),i(36533),i(84200),i(97827),i(18169),i(20762),i(67504),i(92517),i(19869);let S=class extends((0,n.O)(f.o)){constructor(){super(...arguments),this.color=new r.A([0,0,0,0]),this.label=null,this.threshold=0}};(0,s._)([(0,a.MZ)({type:r.A,json:{write:!0}})],S.prototype,"color",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],S.prototype,"label",void 0),(0,s._)([(0,a.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],S.prototype,"threshold",void 0),S=(0,s._)([(0,p.$)("esri.renderers.support.OthersCategory")],S);const M={base:w.A,key:"type",typeMap:{size:v.A,opacity:b.A}};let A=class extends((0,d.h)((0,n.O)(c.A))){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new r.A([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new S,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new x.A({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(o.i)}getAttributeHash(){return this.visualVariables?.reduce((e,t)=>e+t.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((e,t)=>e+JSON.stringify(t),"")}async collectRequiredFields(e,t){await this.collectVVRequiredFields(e,t);for(const i of this.attributes)i.valueExpression&&await(0,y.Dx)(e,t,i.valueExpression),i.field&&e.add(i.field)}};(0,s._)([(0,a.MZ)({type:[h.A],json:{write:!0}})],A.prototype,"attributes",void 0),(0,s._)([(0,a.MZ)(m.a)],A.prototype,"backgroundFillSymbol",void 0),(0,s._)([(0,a.MZ)({type:r.A,json:{write:!0}})],A.prototype,"defaultColor",void 0),(0,s._)([(0,a.MZ)({type:String,json:{write:!0}})],A.prototype,"defaultLabel",void 0),(0,s._)([(0,a.MZ)({type:Number,range:{min:0,max:1},json:{write:!0}})],A.prototype,"holePercentage",void 0),(0,s._)([(0,a.MZ)({type:S,json:{write:!0}})],A.prototype,"othersCategory",void 0),(0,s._)([(0,a.MZ)({type:g.R,json:{write:!0}})],A.prototype,"legendOptions",void 0),(0,s._)([(0,a.MZ)({type:_.A,json:{default:null,write:!0}})],A.prototype,"outline",void 0),(0,s._)([(0,a.MZ)({type:Number,cast:l.t,json:{write:!0}})],A.prototype,"size",void 0),(0,s._)([(0,u.e)({pieChart:"pie-chart"})],A.prototype,"type",void 0),(0,s._)([(0,a.MZ)({types:[M]})],A.prototype,"visualVariables",void 0),A=(0,s._)([(0,p.$)("esri.renderers.PieChartRenderer")],A)}}]);