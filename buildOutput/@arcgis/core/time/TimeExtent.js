/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as t}from"../chunks/tslib.es6.js";import{JSONSupport as e}from"../core/JSONSupport.js";import{t as s,o as r}from"../chunks/timeUtils.js";import{property as n}from"../core/accessorSupport/decorators/property.js";import"../core/lang.js";import"../chunks/Logger.js";import{r as i}from"../chunks/reader.js";import{subclass as o}from"../core/accessorSupport/decorators/subclass.js";import{w as l}from"../chunks/writer.js";import{s as a}from"../chunks/constants.js";import"../core/Accessor.js";import"../core/Handles.js";import"../chunks/maybe.js";import"../chunks/get.js";import"../chunks/utils.js";import"../chunks/handleUtils.js";import"../chunks/Lifecycle.js";import"../chunks/metadata.js";import"../chunks/ObjectPool.js";import"../chunks/ObservableBase.js";import"../chunks/tracking.js";import"../chunks/watch.js";import"../core/scheduling.js";import"../chunks/nextTick.js";import"../chunks/PooledArray.js";import"../core/promiseUtils.js";import"../core/Error.js";import"../chunks/object.js";import"../chunks/events.js";import"../chunks/SetUtils.js";import"../chunks/SimpleTrackingTarget.js";import"../chunks/date.js";import"../chunks/jsonMap.js";import"../chunks/locale.js";import"../chunks/datetime.js";import"../chunks/ensureType.js";import"../chunks/MapUtils.js";import"../config.js";import"../chunks/string.js";import"../chunks/Warning.js";var m;let u=class extends e{static{m=this}static get allTime(){return p}static get empty(){return c}static fromArray(t){return new m({start:null!=t[0]?new Date(t[0]):t[0],end:null!=t[1]?new Date(t[1]):t[1]})}constructor(t){super(t),this.end=null,this.start=null}readEnd(t,e){return null!=e.end?new Date(e.end):null}writeEnd(t,e){e.end=t?.getTime()??null}get isAllTime(){return this.equals(m.allTime)}get isEmpty(){return this.equals(m.empty)}readStart(t,e){return null!=e.start?new Date(e.start):null}writeStart(t,e){e.start=t?.getTime()??null}clone(){return new m({end:this.end,start:this.start})}equals(t){if(!t)return!1;const e=this.start?.getTime()??this.start,s=this.end?.getTime()??this.end,r=t.start?.getTime()??t.start,n=t.end?.getTime()??t.end;return e===r&&s===n}expandTo(t,e=a){if(this.isEmpty||this.isAllTime)return this.clone();let n=this.start;n&&(n=s(n,t,e));let i=this.end;if(i){const n=s(i,t,e);i=i.getTime()===n.getTime()?n:r(n,1,t,e)}return new m({start:n,end:i})}intersection(t){if(!t)return this.clone();if(this.isEmpty||t.isEmpty)return m.empty;if(this.isAllTime)return t.clone();if(t.isAllTime)return this.clone();const e=this.start?.getTime()??-1/0,s=this.end?.getTime()??1/0,r=t.start?.getTime()??-1/0,n=t.end?.getTime()??1/0;let i,o;return r>=e&&r<=s?i=r:e>=r&&e<=n&&(i=e),s>=r&&s<=n?o=s:n>=e&&n<=s&&(o=n),null==i||null==o||isNaN(i)||isNaN(o)?m.empty:new m({start:i===-1/0?null:new Date(i),end:o===1/0?null:new Date(o)})}offset(t,e,s=a){if(this.isEmpty||this.isAllTime)return this.clone();const n=new m,{start:i,end:o}=this;return null!=i&&(n.start=r(i,t,e,s)),null!=o&&(n.end=r(o,t,e,s)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(t){if(!t||t.isEmpty)return this.clone();if(this.isEmpty)return t.clone();if(this.isAllTime||t.isAllTime)return p.clone();const e=null!=this.start&&null!=t.start?new Date(Math.min(this.start.getTime(),t.start.getTime())):null,s=null!=this.end&&null!=t.end?new Date(Math.max(this.end.getTime(),t.end.getTime())):null;return new m({start:e,end:s})}};t([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"end",void 0),t([i("end")],u.prototype,"readEnd",null),t([l("end")],u.prototype,"writeEnd",null),t([n({readOnly:!0,json:{read:!1}})],u.prototype,"isAllTime",null),t([n({readOnly:!0,json:{read:!1}})],u.prototype,"isEmpty",null),t([n({type:Date,json:{write:{allowNull:!0}}})],u.prototype,"start",void 0),t([i("start")],u.prototype,"readStart",null),t([l("start")],u.prototype,"writeStart",null),u=m=t([o("esri.time.TimeExtent")],u);const p=new u,c=new u({start:void 0,end:void 0});export{u as T,u as default};
