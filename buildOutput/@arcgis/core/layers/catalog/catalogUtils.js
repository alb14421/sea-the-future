/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{m as t}from"../../chunks/handleUtils.js";import{watch as r,syncAndInitial as e}from"../../core/reactiveUtils.js";import"../../chunks/events.js";import"../../chunks/maybe.js";import"../../core/promiseUtils.js";import"../../core/Error.js";import"../../core/lang.js";import"../../chunks/Logger.js";import"../../config.js";import"../../chunks/object.js";import"../../chunks/string.js";import"../../chunks/watch.js";import"../../chunks/ObjectPool.js";import"../../core/scheduling.js";import"../../chunks/nextTick.js";import"../../chunks/PooledArray.js";import"../../chunks/SetUtils.js";import"../../chunks/get.js";import"../../chunks/utils.js";import"../../chunks/Lifecycle.js";import"../../chunks/tracking.js";import"../../chunks/SimpleTrackingTarget.js";const s=new WeakMap;function n(o){return!o.destroyed&&(s.has(o)||o.addHandles([r(()=>{const t=o.parent;return!(!t||!("type"in t))&&("catalog-dynamic-group"===t.type||n(t))},t=>s.set(o,t),e),t(()=>s.delete(o))]),s.get(o))}function o(t){return t.parent&&"type"in t.parent&&"catalog-dynamic-group"===t.parent.type?t.parent.parent:null}function i(t,r){const e=t.parent,s=t.layer;if("map-image"!==s?.type||!s.sourceJSON||!e)return!1;const n=s.sourceJSON.layers;if(!n)return!1;const o=n.find(r=>t.id===r.id),i="footprints"===r?"Feature Layer":"Catalog Dynamic Group Layer";return o?.type===i&&"Catalog Layer"===n.find(t=>t.id===e.id)?.type}export{o as getCatalogLayerForLayer,i as isCatalogSublayer,n as isLayerFromCatalog};
