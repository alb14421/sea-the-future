/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import n from"../Color.js";import"../core/lang.js";import{p as e}from"./screenUtils.js";import{f as t,d as r}from"./vec4f64.js";import{c as o}from"./mathUtils.js";function s(n){return n&&n.enabled&&(function(n){return"extrude"===n.type}(n)||function(n){return"fill"===n.type}(n))&&null!=n.edges}function c(n,e){return i(function(n){return n&&n.enabled&&n.edges||null}(n),e)}function i(o,s){if(null==o)return null;const c=null!=o.color?r(n.toUnitRGBA(o.color)):t(0,0,0,0),i=e(o.size),a=e(o.extensionLength);switch(o.type){case"solid":return u({color:c,size:i,extensionLength:a,...s});case"sketch":return function(n){return{...l,...n,type:1}}({color:c,size:i,extensionLength:a,...s});default:return}}function u(n){return{...a,...n,type:0}}const a={color:t(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1},l={color:t(0,0,0,.2),size:1,extensionLength:0,opacity:1,objectTransparency:1,hasSlicePlane:!1};function f(n){switch(n){case"multiply":default:return 1;case"ignore":return 2;case"replace":return 3;case"tint":return 4}}function p(n,e,t){if(null==n||2===e)return t[0]=255,t[1]=255,t[2]=255,void(t[3]=255);const r=o(Math.round(n[3]*y),0,y),s=0===r||4===e?0:3===e?g:j;t[0]=o(Math.round(n[0]*m),0,m),t[1]=o(Math.round(n[1]*m),0,m),t[2]=o(Math.round(n[2]*m),0,m),t[3]=r+s}function h(n,e){for(let t=0;t<4;t++)n[t]=d(e[t]);return n}function d(n){return isNaN(n)?255:n*(254/255)}const m=255,y=85,g=y,j=2*y;export{i as a,c as b,u as c,p as d,h as e,s as h,f as p};
