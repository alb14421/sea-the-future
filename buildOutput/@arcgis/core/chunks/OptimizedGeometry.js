/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{e as t}from"./memoryEstimations.js";class s{constructor(t=[],s=[]){this.lengths=t??[],this.coords=s??[]}static fromJSON(t){return new s(t.lengths,t.coords)}static fromRect(t){const[e,o,r,h]=t,n=r-e,i=h-o;return new s([5],[e,o,n,0,0,i,-n,0,0,-i])}get isPoint(){return 0===this.lengths.length&&this.coords.length>=2}get maxLength(){return Math.max(...this.lengths)}get size(){return this.lengths.reduce((t,s)=>t+s)}get usedMemory(){return 64+t(this.lengths,this.coords)}area(){let t=0,s=0;if(!this.lengths.length)return 0;for(let e=0;e<this.lengths.length;e++){const o=this.lengths[e];if(o<3)continue;let r=this.coords[2*s],h=this.coords[2*s+1];for(let e=1;e<o;e+=1){const o=this.coords[2*(e+s)],n=this.coords[2*(e+s)+1];t+=-.5*(o-r)*(n+h),r=o,h=n}s+=o}return t}forEachVertex(t){let s=0;this.lengths.length||t(this.coords[0],this.coords[1]);for(let e=0;e<this.lengths.length;e++){const o=this.lengths[e];for(let e=0;e<o;e++)t(this.coords[2*(e+s)],this.coords[2*(e+s)+1]);s+=o}}deltaDecode(){const t=this.clone(),{coords:s,lengths:e}=t;let o=0;for(const t of e){for(let e=1;e<t;e++)s[2*(o+e)]+=s[2*(o+e)-2],s[2*(o+e)+1]+=s[2*(o+e)-1];o+=t}return t}clone(t){if(0===this.lengths.length)return new s([],[this.coords[0],this.coords[1]]);const e=2*(0===this.lengths.length?1:this.lengths.reduce((t,s)=>t+s)),o=this.coords.slice(0,e);return t?(t.set(o),new s(this.lengths,t)):new s(Array.from(this.lengths),Array.from(o))}}export{s as O};
