/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{m as t,E as r}from"./unitUtils.js";import{k as e}from"./vec3.js";import{c as o}from"./vec3f64.js";import{m as s,z as i}from"./elevationInfoUtils.js";import"../core/lang.js";import"./jsonMap.js";import"./object.js";import"./string.js";import"./pe.js";import"./assets.js";import"../config.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../core/Error.js";import"./Logger.js";import"./jsonUtils.js";import"./MapUtils.js";import"../core/promiseUtils.js";import"./handleUtils.js";import"./events.js";import"./maybe.js";import"./persistableUrlUtils.js";import"./common.js";import"./unitConversionUtils.js";import"./lengthUtils.js";function m(o,m){const l=o?.geometry;if(!o||"mesh"!==l?.type||!m)return;const{renderCoordsHelper:c,elevationProvider:f}=m,{camera:u}=m.state,{extent:h}=l,{center:U,spatialReference:d}=h,g=t(d),v=r(d),x=t(c.spatialReference),z=h.width*g,b=h.height*v,y=(h.zmax??0)*v,C=y-(h.zmin??0)*v,E=Math.max(z,b,C)/x,{x:M,y:R}=U,k=U.z??0;e(a,M,R,k),c.toRenderCoords(a,d,a);const w=E/u.computeScreenPixelSizeAt(a);if(w>u.width*p)return"meshTooClose";if(w<n)return"meshTooFar";const P=s(o),{absoluteZ:S}=i(M,R,y,d,m,P);return S<(f.getElevation(M,R,k,d,"ground")??0)*v+C*j?"meshUnderground":"mesh"}const n=20,p=1,j=.1,a=o();export{m as getDrawMeshHelpMessage};
