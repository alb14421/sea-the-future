/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{r as t}from"./WGLContainer.js";import{g as s}from"./programUtils.js";import{v as r}from"./utils30.js";import{D as e,a as i}from"./enums.js";import{V as o}from"./VertexArrayObject.js";import{V as a}from"./VertexBuffer.js";import{V as n}from"./VertexElementDescriptor.js";const h=t=>{let s="";s+=t[0].toUpperCase();for(let r=1;r<t.length;r++){const e=t[r];e===e.toUpperCase()?(s+="_",s+=e):s+=e.toUpperCase()}return s};function c(r,e,i){const o=r+r.slice(Math.max(0,r.lastIndexOf("/"))),a=e+e.slice(Math.max(0,e.lastIndexOf("/"))),n=(t=>{const r={};for(const s in t)r[h(s)]=t[s];return s(r)})(i);return{vertexShader:n+t(`${o}.vert`),fragmentShader:n+t(`${a}.frag`)}}class f{constructor(t,s){this._rctx=t,this._attributes=[{name:"position",offset:0,type:e.SHORT,count:2}],this.layout={hash:r(this._attributes),attributes:this._attributes,stride:4},this._vertexBuffer=new a(t,[new n("a_position",2,e.SHORT,0,4)],new Uint16Array(s)),this._vao=new o(t,this._vertexBuffer),this._count=s.length/2}get locations(){return this._vao.locations}bind(){this._rctx.bindVAO(this._vao)}unbind(){this._rctx.bindVAO(null)}dispose(){this._vao.dispose()}draw(){this._rctx.bindVAO(this._vao),this._rctx.drawArrays(i.TRIANGLE_STRIP,0,this._count)}}export{f as V,c};
