/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{k as e}from"./layerUtils.js";import{i as n}from"./columnUtils.js";import{l as i}from"./componentsUtils.js";const t={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"},r=()=>Promise.all([i({"action-bar":()=>import("./index15.js")}),Promise.all([i({input:()=>import("./index10.js"),option:()=>import("./index11.js"),select:()=>import("./index12.js"),"input-date-picker":()=>import("./index13.js"),"input-time-picker":()=>import("./index14.js")}),i({action:()=>import("./index5.js"),button:()=>import("./index6.js"),dropdown:()=>import("./index7.js"),"dropdown-item":()=>import("./index8.js"),"dropdown-group":()=>import("./index9.js"),icon:()=>import("./index.js")})])]);function a(e){return null!=e&&"object"==typeof e&&"createQuery"in e&&"getField"in e&&"queryFeatureCount"in e&&"queryFeatures"in e&&"queryObjectIds"in e&&"capabilities"in e&&"fields"in e&&"fieldsIndex"in e&&"id"in e&&"load"in e&&"objectIdField"in e&&"type"in e&&"when"in e}function s(e){return a(e)&&"queryAttachments"in e}function o(e){return s(e)&&"addAttachment"in e&&"deleteAttachments"in e&&"updateAttachment"in e}function l(e){return a(e)&&"editingEnabled"in e&&"applyEdits"in e}function u(e){return a(e)&&"relationships"in e&&"queryRelatedFeatures"in e&&"queryRelatedFeaturesCount"in e}function d(e,n,i){if(n?.map)return p(e,[...n.map.allLayers,...n.map.allTables],i)}function p(n,i,{relatedTableId:t}){const r="scene"===n.type&&n.associatedLayer?n.associatedLayer.url:n.url,a=e=>!(!u(e)||e===n)&&("sublayer"===e.type&&e.layer?.url===n.url?e.id===t:r===e.url&&e.layerId===t);if("sublayer"===n.type&&"layer"in n&&e(n.layer)){const e=e=>u(e)&&e!==n&&e.id===t,i=n.layer,r=i.allSublayers?.find(e)||i.subtables?.find(e);if(u(r))return r}let s=null;for(const n of i)if(e(n)){const e=n.allSublayers?.find(a)||n.subtables?.find(a);if(e){s=e;break}}else if(a(n)){s=n;break}if(u(s))return s}function c(e,n){return null!=e&&Number.isInteger(e)&&e>-1&&e<n}function m(e){return null==e||0===e.trim().length}function f(e,n){return(e.relationships??[]).filter(e=>!(e.id===n&&"one-to-one"===e.cardinality)).map(({id:e})=>({relationshipId:e}))}function y(e,n){return e.relationships?.find(({id:e})=>e===n)}function b(e,n){return null==n?null:e?.fields?.find(e=>n.toLowerCase()===e.name?.toLowerCase())}function j(e,n){return n.some(n=>!("group"!==n.type||!j(e,n.columnTemplates))||n.fieldName===e)}function h(e,i){return i?.some(i=>!(!n(i)||!h(e,i.columns))||i.fieldName===e)??!1}function x(e,n){return`${e.id}-${n}`}export{s as a,u as b,m as c,c as d,o as e,y as f,f as g,j as h,a as i,l as j,d as k,r as l,p as m,h as n,b as o,x as p,t as u};
