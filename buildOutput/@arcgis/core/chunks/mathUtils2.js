/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{g as t}from"./mathUtils.js";import{k as n,j as s,i as a,d as o,n as r,c,h as i,l as f,m as u}from"./vec3.js";import{c as e}from"./vec3f64.js";function h(t){const n=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],s=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],a=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(n,s,a))}function M(t,s){const a=Math.sqrt(s[0]*s[0]+s[4]*s[4]+s[8]*s[8]),o=Math.sqrt(s[1]*s[1]+s[5]*s[5]+s[9]*s[9]),r=Math.sqrt(s[2]*s[2]+s[6]*s[6]+s[10]*s[10]);return n(t,a,o,r),t}function m(t,s,a){a=a||t;const c=o(t,s);n(a,t[0]-c*s[0],t[1]-c*s[1],t[2]-c*s[2]),r(a,a)}function l(t,s,a){Math.abs(t[0])>Math.abs(t[1])?n(s,0,1,0):n(s,1,0,0),c(a,t,s),c(s,a,t),r(a,a),r(s,s)}function g(t,n,s,a,o,r){const c=t+(n-t)*o;return c+(s+(a-s)*o-c)*r}function p(t,n,r,c=e()){const i=f(t),h=f(n),M=o(t,n)/(i*h);if(M<.9999999999999999){const o=Math.acos(M),f=((1-r)*i+r*h)/Math.sin(o),u=f/i*Math.sin((1-r)*o),e=f/h*Math.sin(r*o);return a(w,t,u),a(y,n,e),s(c,w,y)}return u(c,t,n,r)}function j(t,n,c,h=e(),M=e()){const m=f(t),l=f(n),g=o(t,n)/(m*l);if(g<.9999999999999999){const o=Math.acos(g),r=Math.sin(o),i=Math.sin(c*o),f=Math.sin((1-c)*o),u=(1-c)*m+c*l;{const o=u/r,c=o/l*i;a(w,t,o/m*f),a(y,n,c),s(h,w,y)}{const e=1/m*(-Math.cos((1-c)*o)*o*u+f*(-m+l));a(w,t,e);const h=1/l*(Math.cos(c*o)*o*u+i*(-m+l));a(y,n,h),s(M,w,y),a(M,M,1/r)}return M}return u(h,t,n,c),i(M,n,t),r(M,M),M}function q(n,s,a){n=r(w,n),s=r(y,s);const i=t(o(n,s));if(a){const t=c(U,n,s);if(o(t,a)<0)return-i}return i}function b(t){const n=t.length;return s=>{if(s<=t[0][0])return t[0][1];if(s>=t[n-1][0])return t[n-1][1];let a=1;for(;s>t[a][0];)a++;const o=t[a-1][0],r=t[a][0],c=(r-s)/(r-o);return c*t[a-1][1]+(1-c)*t[a][1]}}function d(t,n,s,a){i(x,n,t),i(k,s,t),c(a,x,k),r(a,a),a[3]=-o(t,a)}function v(t,o){if(n(o,0,0,0),t.length>0){for(let n=0;n<t.length;++n)s(o,o,t[n]);a(o,o,1/t.length)}}const x=e(),k=e(),U=e(),w=e(),y=e();export{p as a,q as b,v as c,m as d,M as e,b as f,g,h as m,d as p,j as s,l as t};
