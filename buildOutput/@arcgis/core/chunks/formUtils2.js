/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{d as t}from"./formUtils.js";import{v as n,validateFieldValue as e}from"../layers/support/fieldUtils.js";import{d as r}from"./dateUtils.js";const i=(t,n)=>{if(!t)return!0;const{operations:e}=t;switch(n){case"INSERT":return e.supportsAdd;case"UPDATE":case"DELETE":return e.supportsUpdate;default:return!0}};function a(t,i){const{dataType:a,domain:o,field:u,maxLength:s,minLength:l,range:f,required:d}=i;if(null==t)return d?"input-validation-error::cannot-be-empty":null;if("text"===a&&"string"==typeof t){if(l>-1&&t.length<l)return"length-validation-error::too-short";if(s>-1&&t.length>s)return"length-validation-error::too-long"}return"date"!==a||r({type:u.type,range:f,value:t})?o?n(u,t,o):e(u,t)??n(u,t):"numeric-range-validation-error::out-of-range"}function o(t,n){return!(!u(t)||!u(n))||t===n}function u(t){return null==t||""===t}function s({dataType:n,field:e,input:r}){if("date"===n)return-1;const i=f(e.length);if(!r||!t(r))return i;const a=f(r.maxLength);return-1===a?i:-1===i?a:Math.min(i,a)}function l({dataType:n,field:e,input:r}){if("date"===n)return-1;if(!r||!t(r))return-1;const i=f(r.minLength);if(i<0)return-1;const a=f(e.length);return a>-1&&a<i?-1:i}function f(t){return"number"==typeof t&&t>-1?t:-1}const d={type:"number"},c={type:"number",intlOptions:{notation:"scientific"}};function p(t){return t>=1e7||t<=-1e7}function m(t,n){return null!=t.max&&null!=t.min?n.outsideRange:null!=t.max?n.outsideRangeMax:n.outsideRangeMin}const g=t=>t&&!Number.isNaN(t.valueOf());export{l as a,m as b,c,g as d,i as e,o as f,s as g,u as i,d as n,p as s,a as v};
