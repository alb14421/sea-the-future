/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{_ as e}from"./tslib.es6.js";import{s as r}from"./jsonMap.js";import{JSONSupport as t}from"../core/JSONSupport.js";import{property as o}from"../core/accessorSupport/decorators/property.js";import{cast as s}from"../core/accessorSupport/decorators/cast.js";import{e as a}from"./enumeration.js";import{r as p}from"./reader.js";import{subclass as i,c as n}from"../core/accessorSupport/decorators/subclass.js";import{I as l,e as c,a as y}from"./ensureType.js";import u from"../layers/support/Field.js";import"../core/lang.js";import"./Logger.js";import d from"../geometry/SpatialReference.js";import{f as S}from"./typeUtils.js";var b;let j=b=class extends t{constructor(e){super(e),this.type="map-layer"}clone(){const{mapLayerId:e,gdbVersion:r}=this;return new b({mapLayerId:e,gdbVersion:r})}};var m;e([a({mapLayer:"map-layer"}),o({json:{write:{isRequired:!0}}})],j.prototype,"type",void 0),e([o({type:l,json:{write:{isRequired:!0}}})],j.prototype,"mapLayerId",void 0),e([o({type:String,json:{write:!0}})],j.prototype,"gdbVersion",void 0),j=b=e([i("esri.layers.support.source.MapLayerSource")],j);let f=m=class extends t{constructor(e){super(e),this.type="query-table"}clone(){const{workspaceId:e,query:r,oidFields:t,spatialReference:o,geometryType:s}=this,a={workspaceId:e,query:r,oidFields:t,spatialReference:o?.clone()??void 0,geometryType:s};return new m(a)}};var w;e([a({queryTable:"query-table"}),o({json:{write:{isRequired:!0}}})],f.prototype,"type",void 0),e([o({type:String,json:{write:!0}})],f.prototype,"workspaceId",void 0),e([o({type:String,json:{write:!0}})],f.prototype,"query",void 0),e([o({type:String,json:{write:!0}})],f.prototype,"oidFields",void 0),e([o({type:d,json:{write:!0}})],f.prototype,"spatialReference",void 0),e([a(S)],f.prototype,"geometryType",void 0),f=m=e([i("esri.layers.support.source.QueryTableDataSource")],f);let g=w=class extends t{constructor(e){super(e),this.type="raster"}clone(){const{workspaceId:e,dataSourceName:r}=this;return new w({workspaceId:e,dataSourceName:r})}};var T;e([a({raster:"raster"}),o({json:{write:{isRequired:!0}}})],g.prototype,"type",void 0),e([o({type:String,json:{write:!0}})],g.prototype,"dataSourceName",void 0),e([o({type:String,json:{write:!0}})],g.prototype,"workspaceId",void 0),g=w=e([i("esri.layers.support.source.RasterDataSource")],g);let v=T=class extends t{constructor(e){super(e),this.type="table"}clone(){const{workspaceId:e,gdbVersion:r,dataSourceName:t}=this;return new T({workspaceId:e,gdbVersion:r,dataSourceName:t})}};var h,R;e([a({table:"table"}),o({json:{write:{isRequired:!0}}})],v.prototype,"type",void 0),e([o({type:String,json:{write:!0}})],v.prototype,"workspaceId",void 0),e([o({type:String,json:{write:!0}})],v.prototype,"gdbVersion",void 0),e([o({type:String,json:{write:!0}})],v.prototype,"dataSourceName",void 0),v=T=e([i("esri.layers.support.source.TableDataSource")],v);const q=r()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let I=h=class extends t{constructor(e){super(e),this.type="join-table"}readLeftTableSource(e,r,t){return k()(e,r,t)}castLeftTableSource(e){return y(N(),e)}readRightTableSource(e,r,t){return k()(e,r,t)}castRightTableSource(e){return y(N(),e)}clone(){const{leftTableKey:e,rightTableKey:r,leftTableSource:t,rightTableSource:o,joinType:s}=this,a={leftTableKey:e,rightTableKey:r,leftTableSource:t?.clone()??void 0,rightTableSource:o?.clone()??void 0,joinType:s};return new h(a)}};e([a({joinTable:"join-table"}),o({json:{write:{isRequired:!0}}})],I.prototype,"type",void 0),e([o({type:String,json:{write:!0}})],I.prototype,"leftTableKey",void 0),e([o({type:String,json:{write:!0}})],I.prototype,"rightTableKey",void 0),e([o({json:{write:!0}})],I.prototype,"leftTableSource",void 0),e([p("leftTableSource")],I.prototype,"readLeftTableSource",null),e([s("leftTableSource")],I.prototype,"castLeftTableSource",null),e([o({json:{write:!0}})],I.prototype,"rightTableSource",void 0),e([p("rightTableSource")],I.prototype,"readRightTableSource",null),e([s("rightTableSource")],I.prototype,"castRightTableSource",null),e([a(q)],I.prototype,"joinType",void 0),I=h=e([i("esri.layers.support.source.JoinTableDataSource")],I);let L=null;function k(){return L||(L=n({types:N()})),L}let x=null;function N(){return x||(x={key:"type",base:null,typeMap:{"data-layer":K,"map-layer":j}}),x}const D={key:"type",base:null,typeMap:{"join-table":I,"query-table":f,raster:g,table:v}};let K=class extends t{static{R=this}constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:r}=this;return new R({fields:e,dataSource:r})}};e([a({dataLayer:"data-layer"}),o({json:{write:{isRequired:!0}}})],K.prototype,"type",void 0),e([o({type:[u],json:{write:!0}})],K.prototype,"fields",void 0),e([o({types:D,json:{write:!0}})],K.prototype,"dataSource",void 0),K=R=e([i("esri.layers.support.source.DataLayerSource")],K),K.from=c(K);export{K as D,j as M};
