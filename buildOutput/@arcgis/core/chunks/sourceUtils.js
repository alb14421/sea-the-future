/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{p as t}from"./date2.js";import{A as e}from"./unitUtils.js";import{validateFieldValue as n,validationErrorToString as s,isNumericField as r,isStringField as i,isDateField as o,sanitizeNullFieldValue as l}from"../layers/support/fieldUtils.js";class u{constructor(t){this.description=t,this.code=null}}class a{constructor(t){this.globalId=null,this.objectId=null,this.success=!1,this.uniqueId=null,this.error=new u(t)}}function c(t){return new a(t)}class p{constructor(t){this.globalId=null,this.success=!0,this.objectId=this.uniqueId=t}}function f(t){return new p(t)}const d=new Set;function g(t,e,r,i=!1){d.clear();for(const o in r){const l=t.get(o);if(!l)continue;const u=m(l,r[o]);if(d.add(l.name),l&&(i||l.editable)){const t=n(l,u);if(t)return c(s(t,l,u));e[l.name]=u}}for(const e of t.requiredFields??[])if(!d.has(e.name))return c(`missing required field "${e.name}"`);return null}function m(e,n){let s=n;return r(e)&&"string"==typeof n?s=parseFloat(n):i(e)&&null!=n&&"string"!=typeof n?s=String(n):o(e)&&"string"==typeof n&&(s=t(n)),l(s)}let y;function h(t,n){if(!t||!e(n))return t;if("rings"in t||"paths"in t){if(null==y)throw new TypeError("geometry engine not loaded");return y.simplify(n,t)}return t}async function I(t,n){!e(t)||"esriGeometryPolygon"!==n&&"esriGeometryPolyline"!==n||await async function(){return null==y&&(y=await import("./geometryEngineJSON.js").then(t=>t.g)),y}()}const E={supportsAutoIntervalBin:!0,supportsFixedIntervalBin:!0,supportsFixedBoundariesBin:!0,supportsDateBin:!0,supportsStackBy:!0,supportsSplitBy:!0,supportsNormalization:!0,supportedStatisticTypes:["COUNT","SUM","AVG","VAR","STDDEV","MIN","MAX","PERCENTILE_CONT","PERCENTILE_DISC","CentroidAggregate","EnvelopeAggregate","ConvexHullAggregate"],supportedNormalizationTypes:["field","log","naturalLog","percentOfTotal","squareRoot"]};export{c as a,f as c,I as l,g as m,E as q,h as s};
