/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{D as t}from"./enums.js";import{b as e}from"./VertexAttributeLocations.js";import{V as s}from"./VertexElementDescriptor.js";import{s as i,m as r}from"./mat3.js";import{D as o}from"./DisplayObject.js";import{T as n}from"./TileKey2.js";const a=[new s("position",2,t.UNSIGNED_SHORT,0,4)],h=[new s("a_pos",2,t.BYTE,0,2)],d=[new s("a_pos",2,t.BYTE,0,4),new s("a_tex",2,t.BYTE,2,4)],l=e(a);class u extends o{constructor(t,e,s,i,r,o,a=r,h=o){super(),this.tileDebugInfoTexture=null,this.debugInfo={display:{length:0,minOrderedLength:0,minUnorderedLength:0,triangleCount:0},memory:{bytesUsed:0,bytesReserved:0}},this._destroyed=!1,this.key=new n(t),this.resolution=e,this.x=s,this.y=i,this.width=r,this.height=o,this.rangeX=a,this.rangeY=h}destroy(){super.destroy(),this.tileDebugInfoTexture&&(this.tileDebugInfoTexture.dispose(),this.tileDebugInfoTexture=null),this._destroyed=!0}get debugSlot(){let t=this;for(;t.parent!==this._stage;){if(!t.parent)return 0;t=t.parent}return this._stage.children.indexOf(t)}setTransform(t){const e=this.resolution/(t.resolution*t.pixelRatio),s=this.transforms.tileMat3,[o,n]=t.toScreenNoRotation([0,0],[this.x,this.y]),a=this.width/this.rangeX*e,h=this.height/this.rangeY*e;i(s,a,0,0,0,h,0,o,n,1),r(this.transforms.displayViewScreenMat3,t.displayViewMat3,s)}get destroyed(){return this._destroyed}}export{l as P,u as T,a,h as b,d as c};
