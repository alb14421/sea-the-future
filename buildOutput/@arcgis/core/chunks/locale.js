/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{m as n}from"./handleUtils.js";import"../core/lang.js";let e,a;const t=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,o=globalThis.document?.documentElement;function r(){const n=o?.getAttribute("lang"),e=globalThis.navigator?.language;return t??n??e??"en"}function s(){return void 0===a&&(a=r()),a}function i(n){e=n||void 0,m()}const l=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function u(n=s()){return c(n)?.language}function g(n=s()){const e=c(n);return e?.language&&e?.extlang?n.replace(`${e.language}-`,""):n}function c(n=s()){return l.exec(n)?.groups}function f(n=s()){const e=c(n)?.language;return"he"===e||"ar"===e}const h=[];function d(e){return h.push(e),n(()=>{h.splice(h.indexOf(e),1)})}const b=[];function p(e){return b.push(e),n(()=>b.splice(b.indexOf(e),1))}function m(){const n=e??r();a!==n&&([...b].forEach(e=>e(n)),a=n,[...h].forEach(e=>e(n)))}globalThis.addEventListener?.("languagechange",m),o&&new MutationObserver(()=>{m()}).observe(o,{attributeFilter:["lang"]});export{s as a,p as b,c,u as g,g as n,d as o,f as p,i as s};
