/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{e as t,k as e,j as r,n,c as s,d as o,i as a,u as i}from"./vec3.js";import{c as f}from"./vec3f64.js";import l from"../geometry/Polygon.js";import{g as u}from"./sphere.js";import{p as c}from"./mathUtils2.js";function g(t,n){const s=u(n);e(s,0,0,0);for(let e=0;e<t.length;++e)r(s,s,t[e]);a(s,s,1/t.length);let o=0;for(let e=0;e<t.length;++e)o=Math.max(o,i(s,t[e]));n[3]=Math.sqrt(o)}function h(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");c(t[0],t[1],t[2],e)}function p(t,e){return o(t,e)+t[3]}function m(e,r,n,s,{geodesicArea:o}){const a=w;return t(a.rings[0][0],e),t(a.rings[0][1],r),t(a.rings[0][2],n),t(a.rings[0][3],e),a.spatialReference=s,a.clearCache(),o(a)}function j(a,i=null,f=!0){const l=(t,e)=>{if(0===e[0]&&0===e[1]&&0===e[2])return!1;for(let r=0;r<t.length;++r)if(o(e,t[r])<-1e-6)return!1;return!0};if(0===a.length)return!1;if(1===a.length)return i&&t(i,a[0]),!0;e(y,0,0,0);for(let t=0;t<a.length;++t)r(y,y,a[t]);if(n(y,y),l(a,y))return i&&t(i,y),!0;if(!f)return!1;for(let e=0;e<a.length;++e)for(let r=0;r<a.length;++r)if(e!==r&&(s(y,a[e],a[r]),n(y,y),l(a,y)))return i&&t(i,y),!0;return!1}function d(t){return"mouse"!==t.pointerType||0===t.button}const w=new l({hasM:!1,hasZ:!0,rings:[[f(),f(),f(),f()]],spatialReference:null}),y=f();export{g as a,h as b,j as f,d as i,p,m as t};
