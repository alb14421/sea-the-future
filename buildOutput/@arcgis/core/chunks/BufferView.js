/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{s as t}from"./vec2.js";import{k as e}from"./vec3.js";import{s,t as r}from"./vec4.js";import{c as i}from"./vec2f64.js";import{c as f}from"./vec4f64.js";let u=globalThis.Float16Array;function n(...t){return new(u??Float32Array)(...t)}function c(){return u}let h=!!u;class y{static{this.ElementCount=9}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.elementCount=9;const f=this.TypedArrayConstructor;void 0===r&&(r=9*f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}getMat(t,e){let s=t*this.typedBufferStride;for(let t=0;t<9;t++)e[t]=this.typedBuffer[s++];return e}setMat(t,e){let s=t*this.typedBufferStride;for(let t=0;t<9;t++)this.typedBuffer[s++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,s){this.typedBuffer[t*this.typedBufferStride+e]=s}copyFrom(t,e,s){const r=this.typedBuffer,i=e.typedBuffer;let f=t*this.typedBufferStride,u=s*e.typedBufferStride;for(let t=0;t<9;++t)r[f++]=i[u++]}get buffer(){return this.typedBuffer.buffer}}class l{static{this.ElementCount=16}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.elementCount=16;const f=this.TypedArrayConstructor;void 0===r&&(r=16*f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}getMat(t,e){let s=t*this.typedBufferStride;for(let t=0;t<16;t++)e[t]=this.typedBuffer[s++];return e}setMat(t,e){let s=t*this.typedBufferStride;for(let t=0;t<16;t++)this.typedBuffer[s++]=e[t]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,s){this.typedBuffer[t*this.typedBufferStride+e]=s}copyFrom(t,e,s){this.copyFromTypedBuffer(t,e.typedBuffer,s*e.typedBufferStride)}copyFromTypedBuffer(t,e,s){const r=this.typedBuffer;let i=t*this.typedBufferStride;for(let t=0;t<16;++t)r[i++]=e[s++]}get buffer(){return this.typedBuffer.buffer}}class p{static{this.ElementCount=1}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.elementCount=1;const f=this.TypedArrayConstructor;void 0===r&&(r=f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.stride=r,this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride)}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}get(t){return this.typedBuffer[t*this.typedBufferStride]}set(t,e){this.typedBuffer[t*this.typedBufferStride]=e}get buffer(){return this.typedBuffer.buffer}}class d{static{this.ElementCount=2}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.start=s,this.elementCount=2;const f=this.TypedArrayConstructor;void 0===r&&(r=2*f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}getVec(e,s){return e*=this.typedBufferStride,t(s,this.typedBuffer[e],this.typedBuffer[e+1])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t]=e[1]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,s){this.typedBuffer[t*this.typedBufferStride+e]=s}setValues(t,e,s){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t]=s}copyFrom(t,e,s){const r=this.typedBuffer,i=e.typedBuffer;let f=t*this.typedBufferStride,u=s*e.typedBufferStride;r[f++]=i[u++],r[f]=i[u]}get buffer(){return this.typedBuffer.buffer}}class o{static{this.ElementCount=3}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.elementCount=3;const f=this.TypedArrayConstructor;void 0===r&&(r=3*f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}getVec(t,s){return t*=this.typedBufferStride,e(s,this.typedBuffer[t],this.typedBuffer[t+1],this.typedBuffer[t+2])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t]=e[2]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,s){this.typedBuffer[t*this.typedBufferStride+e]=s}setValues(t,e,s,r){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=s,this.typedBuffer[t]=r}copyFrom(t,e,s){const r=this.typedBuffer,i=e.typedBuffer;let f=t*this.typedBufferStride,u=s*e.typedBufferStride;r[f++]=i[u++],r[f++]=i[u++],r[f]=i[u]}get buffer(){return this.typedBuffer.buffer}}class a{static{this.ElementCount=4}constructor(t,e,s=0,r,i){this.TypedArrayConstructor=t,this.start=s,this.elementCount=4;const f=this.TypedArrayConstructor;void 0===r&&(r=4*f.BYTES_PER_ELEMENT);const u=0===e.byteLength?0:s;this.typedBuffer=null==i?new f(e,u):new f(e,u,(i-s)/f.BYTES_PER_ELEMENT),this.typedBufferStride=r/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}sliceBuffer(t,e,s=this.count-e){const r=this.typedBuffer.byteOffset+e*this.stride;return new t(this.buffer,r,this.stride,r+s*this.stride)}getVec(t,e){return t*=this.typedBufferStride,s(e,this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t++],this.typedBuffer[t])}setVec(t,e){t*=this.typedBufferStride,this.typedBuffer[t++]=e[0],this.typedBuffer[t++]=e[1],this.typedBuffer[t++]=e[2],this.typedBuffer[t]=e[3]}get(t,e){return this.typedBuffer[t*this.typedBufferStride+e]}set(t,e,s){this.typedBuffer[t*this.typedBufferStride+e]=s}setValues(t,e,s,r,i){t*=this.typedBufferStride,this.typedBuffer[t++]=e,this.typedBuffer[t++]=s,this.typedBuffer[t++]=r,this.typedBuffer[t]=i}copyFrom(t,e,s){const r=this.typedBuffer,i=e.typedBuffer;let f=t*this.typedBufferStride,u=s*e.typedBufferStride;r[f++]=i[u++],r[f++]=i[u++],r[f++]=i[u++],r[f]=i[u]}get buffer(){return this.typedBuffer.buffer}}const B=f();class E{constructor(t){this.message=t}toString(){return`AssertException: ${this.message}`}}function T(t,e="Assertion"){if(!t){const t=new Error(e).stack;throw new E(`${e} at ${t}`)}}function m(t,e){t||(e=e||"",console.warn("Verify failed: "+e+"\n"+new Error("verify").stack))}function S(t,e,s,r){let i,f=(s[0]-t[0])/e[0],u=(r[0]-t[0])/e[0];f>u&&(i=f,f=u,u=i);let n=(s[1]-t[1])/e[1],c=(r[1]-t[1])/e[1];if(n>c&&(i=n,n=c,c=i),f>c||n>u)return!1;n>f&&(f=n),c<u&&(u=c);let h=(s[2]-t[2])/e[2],y=(r[2]-t[2])/e[2];return h>y&&(i=h,h=y,y=i),!(f>y||h>u||(y<u&&(u=y),u<0))}function A(t,e,s,r,f,u=i()){const n=(r[f]-s[f])*(e[0]-t[0])-(r[0]-s[0])*(e[f]-t[f]),c=(r[0]-s[0])*(t[f]-s[f])-(r[f]-s[f])*(t[0]-s[0]);if(0===n)return!1;const h=c/n;return u[0]=t[0]+h*(e[0]-t[0]),u[1]=t[f]+h*(e[f]-t[f]),!0}function _(t,e,s,i,f){B[0]=t[0],B[1]=t[1],B[2]=t[2],B[3]=1,r(B,B,e),f.length>2&&(f[2]=-B[2]),r(B,B,s),T(0!==B[3]),f[0]=B[0]/B[3],f[1]=B[1]/B[3],f[2]=B[2]/B[3],f[0]=(.5*f[0]+.5)*i[2]+i[0],f[1]=(.5*f[1]+.5)*i[3]+i[1]}function b(t,e){return Math.log(t)/Math.log(e)}function x(t){return 1===t[0]&&0===t[1]&&0===t[2]&&0===t[3]&&0===t[4]&&1===t[5]&&0===t[6]&&0===t[7]&&0===t[8]&&0===t[9]&&1===t[10]&&0===t[11]&&1===t[15]}class g extends p{constructor(t,e=0,s,r){T(h),super(c(),t,e,s,r),this.elementType="f16"}static{this.ElementType="f16"}}class M extends p{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}static{this.ElementType="f32"}}class L extends d{constructor(t,e=0,s,r){T(h),super(c(),t,e,s,r),this.elementType="f16"}slice(t,e){return this.sliceBuffer(L,t,e)}static{this.ElementType="f16"}}class C extends d{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(C,t,e)}static{this.ElementType="f32"}}class w extends o{constructor(t,e=0,s,r){T(h),super(c(),t,e,s,r),this.elementType="f16"}slice(t,e){return this.sliceBuffer(w,t,e)}static{this.ElementType="f16"}}class N extends o{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(N,t,e)}static fromTypedArray(t,e){return new N(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f32"}}class P extends a{constructor(t,e=0,s,r){T(h),super(c(),t,e,s,r),this.elementType="f16"}slice(t,e){return this.sliceBuffer(P,t,e)}static{this.ElementType="f16"}}class R extends a{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(R,t,e)}static{this.ElementType="f32"}}class Y extends y{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(Y,t,e)}static{this.ElementType="f32"}}class F extends y{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(F,t,e)}static{this.ElementType="f64"}}class v extends l{constructor(t,e=0,s,r){super(Float32Array,t,e,s,r),this.elementType="f32"}slice(t,e){return this.sliceBuffer(v,t,e)}static{this.ElementType="f32"}}class I extends l{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(I,t,e)}static{this.ElementType="f64"}}class O extends p{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(O,t,e)}static{this.ElementType="f64"}}class U extends d{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(U,t,e)}static{this.ElementType="f64"}}class V extends o{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(V,t,e)}static fromTypedArray(t,e){return new V(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="f64"}}class j extends a{constructor(t,e=0,s,r){super(Float64Array,t,e,s,r),this.elementType="f64"}slice(t,e){return this.sliceBuffer(j,t,e)}static{this.ElementType="f64"}}class k extends p{constructor(t,e=0,s,r){super(Uint8Array,t,e,s,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(k,t,e)}static{this.ElementType="u8"}}class $ extends d{constructor(t,e=0,s,r){super(Uint8Array,t,e,s,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer($,t,e)}static{this.ElementType="u8"}}class q extends o{constructor(t,e=0,s,r){super(Uint8Array,t,e,s,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(q,t,e)}static fromTypedArray(t,e){return new q(t.buffer,t.byteOffset,e,t.byteOffset+t.byteLength)}static{this.ElementType="u8"}}class z extends a{constructor(t,e=0,s,r){super(Uint8Array,t,e,s,r),this.elementType="u8"}slice(t,e){return this.sliceBuffer(z,t,e)}static{this.ElementType="u8"}}class D extends p{constructor(t,e=0,s,r){super(Uint16Array,t,e,s,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(D,t,e)}static{this.ElementType="u16"}}class G extends d{constructor(t,e=0,s,r){super(Uint16Array,t,e,s,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(G,t,e)}static{this.ElementType="u16"}}class H extends o{constructor(t,e=0,s,r){super(Uint16Array,t,e,s,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(H,t,e)}static{this.ElementType="u16"}}class J extends a{constructor(t,e=0,s,r){super(Uint16Array,t,e,s,r),this.elementType="u16"}slice(t,e){return this.sliceBuffer(J,t,e)}static{this.ElementType="u16"}}class K extends p{constructor(t,e=0,s,r){super(Uint32Array,t,e,s,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(K,t,e)}static{this.ElementType="u32"}}class Q extends d{constructor(t,e=0,s,r){super(Uint32Array,t,e,s,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(Q,t,e)}static{this.ElementType="u32"}}class W extends o{constructor(t,e=0,s,r){super(Uint32Array,t,e,s,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(W,t,e)}static{this.ElementType="u32"}}class X extends a{constructor(t,e=0,s,r){super(Uint32Array,t,e,s,r),this.elementType="u32"}slice(t,e){return this.sliceBuffer(X,t,e)}static{this.ElementType="u32"}}class Z extends p{constructor(t,e=0,s,r){super(Int8Array,t,e,s,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(Z,t,e)}static{this.ElementType="i8"}}class tt extends d{constructor(t,e=0,s,r){super(Int8Array,t,e,s,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(tt,t,e)}static{this.ElementType="i8"}}class et extends o{constructor(t,e=0,s,r){super(Int8Array,t,e,s,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(et,t,e)}static{this.ElementType="i8"}}class st extends a{constructor(t,e=0,s,r){super(Int8Array,t,e,s,r),this.elementType="i8"}slice(t,e){return this.sliceBuffer(st,t,e)}static{this.ElementType="i8"}}class rt extends p{constructor(t,e=0,s,r){super(Int16Array,t,e,s,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(rt,t,e)}static{this.ElementType="i16"}}class it extends d{constructor(t,e=0,s,r){super(Int16Array,t,e,s,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(it,t,e)}static{this.ElementType="i16"}}class ft extends o{constructor(t,e=0,s,r){super(Int16Array,t,e,s,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(ft,t,e)}static{this.ElementType="i16"}}class ut extends a{constructor(t,e=0,s,r){super(Int16Array,t,e,s,r),this.elementType="i16"}slice(t,e){return this.sliceBuffer(ut,t,e)}static{this.ElementType="i16"}}class nt extends p{constructor(t,e=0,s,r){super(Int32Array,t,e,s,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(nt,t,e)}static{this.ElementType="i32"}}class ct extends d{constructor(t,e=0,s,r){super(Int32Array,t,e,s,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ct,t,e)}static{this.ElementType="i32"}}class ht extends o{constructor(t,e=0,s,r){super(Int32Array,t,e,s,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(ht,t,e)}static{this.ElementType="i32"}}class yt extends a{constructor(t,e=0,s,r){super(Int32Array,t,e,s,r),this.elementType="i32"}slice(t,e){return this.sliceBuffer(yt,t,e)}static{this.ElementType="i32"}}export{J as A,N as B,K as C,T as D,q as E,H as F,Q as G,W as H,X as I,et as J,st as K,rt as L,ft as M,ut as N,nt as O,ct as P,ht as Q,yt as R,x as S,b as T,m as U,A as V,c as W,_ as X,V as a,L as b,C as c,U as d,w as e,P as f,R as g,h,j as i,Y as j,F as k,v as l,n as m,I as n,z as o,g as p,M as q,S as r,O as s,k as t,D as u,Z as v,tt as w,it as x,$ as y,G as z};
