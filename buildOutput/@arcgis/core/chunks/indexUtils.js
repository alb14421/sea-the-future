/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{c as t,A as e,B as r,C as n,f}from"../core/lang.js";import{n as o,g as s}from"./Indices.js";import{a as u}from"./enums.js";function a(t,e){c(t.typedBuffer,e.typedBuffer,t.typedBufferStride,e.typedBufferStride)}function c(f,o,s=2,u=s){const a=o.length/2;let c=0,i=0;if(!t(o)||e(o)){for(let t=0;t<a;++t)f[c]=o[i],f[c+1]=o[i+1],c+=s,i+=u;return}const l=r(o);if(n(o))for(let t=0;t<a;++t)f[c]=Math.max(o[i]/l,-1),f[c+1]=Math.max(o[i+1]/l,-1),c+=s,i+=u;else for(let t=0;t<a;++t)f[c]=o[i]/l,f[c+1]=o[i+1]/l,c+=s,i+=u}function i(t,e,r,n){const f=t.typedBuffer,o=t.typedBufferStride,s=n?.count??t.count;let u=(n?.dstIndex??0)*o;for(let t=0;t<s;++t)f[u]=e,f[u+1]=r,u+=o}function l(t,e){switch(e){case u.TRIANGLES:return function(t){return"number"==typeof t?s(t):f(t)?new Uint16Array(t):t}(t);case u.TRIANGLE_STRIP:return function(t){const e="number"==typeof t?t:t.length;if(e<3)return[];const r=e-2,n=o(3*r);if("number"==typeof t){let t=0;for(let e=0;e<r;e+=1)e%2==0?(n[t++]=e,n[t++]=e+1,n[t++]=e+2):(n[t++]=e+1,n[t++]=e,n[t++]=e+2)}else{let e=0;for(let f=0;f<r;f+=1)f%2==0?(n[e++]=t[f],n[e++]=t[f+1],n[e++]=t[f+2]):(n[e++]=t[f+1],n[e++]=t[f],n[e++]=t[f+2])}return n}(t);case u.TRIANGLE_FAN:return function(t){const e="number"==typeof t?t:t.length;if(e<3)return new Uint16Array(0);const r=e-2,n=r<=65536?new Uint16Array(3*r):new Uint32Array(3*r);if("number"==typeof t){let t=0;for(let e=0;e<r;++e)n[t++]=0,n[t++]=e+1,n[t++]=e+2;return n}const f=t[0];let o=t[1],s=0;for(let e=0;e<r;++e){const r=t[e+2];n[s++]=f,n[s++]=o,n[s++]=r,o=r}return n}(t)}}export{c as a,l as c,i as f,a as n};
