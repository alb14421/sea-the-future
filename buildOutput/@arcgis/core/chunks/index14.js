/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import"./index.js";import"./index38.js";import"./index28.js";import"./index5.js";import"./index26.js";import{i as e,L as t,c as i,s,x as a,a as n,g as o,E as r,H as c}from"./componentsUtils.js";import{n as l}from"./ref.js";import{n as u}from"./key.js";import{i as d,n as h,g as m,a as p,l as f}from"./locale2.js";import{d as v,g}from"./math.js";import{c as b,g as S}from"./component.js";import{g as k,f as $}from"./dom.js";import{u as w,t as x}from"./useT9n.js";import{c as y,d as D,s as P,H}from"./form.js";import{u as E,I as F}from"./interactive.js";import{c as M,d as z,g as C}from"./label.js";import{V as I}from"./Validation.js";import{s as V}from"./input2.js";import{c as U}from"./text.js";import"./observers.js";import"./logger2.js";import"./guid.js";import"./keyed.js";import"./directive-helpers.js";import"./floating-ui.js";import"./debounce.js";import"./openCloseComponent.js";import"./static.js";import"./FloatingArrow.js";import"./useFocusTrap.js";import"./assets.js";import"../config.js";import"../core/lang.js";import"./object.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../core/Error.js";import"./Logger.js";import"./string.js";import"./jsonUtils.js";import"./MapUtils.js";import"../core/promiseUtils.js";import"./handleUtils.js";import"./events.js";import"./maybe.js";import"./persistableUrlUtils.js";
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */function A({locale:e,numberingSystem:t,includeSeconds:i=!0,fractionalSecondDigits:s,hour12:a}){const n={hour:"2-digit",minute:"2-digit",timeZone:"UTC",numberingSystem:p(t)};return"boolean"==typeof a&&(n.hour12=a),i&&(n.second="2-digit",s&&(n.fractionalSecondDigits=s)),m(e,n)}function O(e,t){return parseFloat(`0.${e}`).toFixed(v(t)).replace("0.","")}function T(e,t){if(null==e)return;const i=e.toString(),s=v(e);if(e<1&&s>0&&s<4){const e=i.replace("0.","");return t&&e.length!==t&&e.length<t?e.padEnd(t,"0"):e}return e>=0&&e<10?i.padStart(2,"0"):e>=10?i:void 0}function j(e){return parseInt((parseFloat(`0.${e}`)/.001).toFixed(3))}function L(e){const t={locale:e};"mk"===e?t.hour12=!1:"es-mx"===e.toLowerCase()&&(t.hour12=!0);const i=A(t).formatToParts(new Date(Date.UTC(0,0,0,0,0,0)));return i.find(({type:e})=>"dayPeriod"===e)?.value?"12":"24"}function B({locale:e,meridiem:t,parts:i}){const s=["he","bs","mk"];let a;if(i){if(a=i.find(({type:e})=>"dayPeriod"===e)?.value||null,e&&s.includes(e)){const t=f.get(e);"PM"===a&&(a=t.pm),"AM"===a&&(a=t.am)}}else if(t)if(s.includes(e)){const i=f.get(e);a="PM"===t?i.pm:i.am}else{const i=A({locale:e,hour12:!0}),s=6,n=18,o=new Date(Date.UTC(0,0,0,"AM"===t?s:n,0)),r=i.formatToParts(o);a=r.find(({type:e})=>"dayPeriod"===e)?.value||null}return a}function K(e,t){return h.numberFormatOptions={locale:e,numberingSystem:t},h.localize("1.1").split("")[1]}function _(e,t,i="latn"){return N(`${e}Suffix`,A({locale:t,numberingSystem:i}).formatToParts(new Date(Date.UTC(0,0,0,0,0,0))))}function N(e,t,i="en"){if(!e||!t)return null;if("hourSuffix"===e){const e=t.indexOf(t.find(({type:e})=>"hour"===e)),i=t.indexOf(t.find(({type:e})=>"minute"===e)),s=t[e+1];return s&&"literal"===s.type&&i-e===2&&s.value?.trim()||null}if("minuteSuffix"===e){const e=t.indexOf(t.find(({type:e})=>"minute"===e)),i=t.indexOf(t.find(({type:e})=>"second"===e)),s=t[e+1];return s&&"literal"===s.type&&i-e===2&&s.value?.trim()||null}if("secondSuffix"===e){let e;const i=t.indexOf(t.find(({type:e})=>"fractionalSecond"===e));if(i)e=t[i+1];else{const i=t.indexOf(t.find(({type:e})=>"second"===e));e=t[i+1]}return"literal"===e?.type&&e.value?.trim()||null}return"meridiem"===e&&t.find(({type:e})=>"dayPeriod"===e)?.value?B({locale:i,parts:t}):t.find(({type:t})=>t===e)?.value||null}function R(e){if(!d(e))return null;const t=parseInt(e);return t>=0&&t<=11?"AM":"PM"}function q(e){return new Intl.DateTimeFormat(e,{hour:"2-digit",hour12:!0,minute:"2-digit",timeZone:"UTC"}).formatToParts(new Date(Date.UTC(0,0,0,0,0))).findIndex(e=>"dayPeriod"===e.type)}function W(e){const t="string"==typeof e;if(!e||t&&(e.startsWith(":")||e.endsWith(":"))||!t&&(!e.hour||!e.minute))return!1;let i,s,a;if(t?[i,s,a]=e.split(":"):({hour:i,minute:s,second:a}=e),!i||!s)return!1;const n=parseInt(i),o=parseInt(s),r=parseInt(a),c=d(i)&&n>=0&&n<24,l=d(s)&&o>=0&&o<60,u=d(a)&&r>=0&&r<60;return!!(c&&l&&!a||c&&l&&u)}function Z({value:e,part:t,locale:i,numberingSystem:s="latn",hour12:a}){if(!function(e,t){if("meridiem"===t)return"AM"===e||"PM"===e;if(!d(e))return!1;const i=Number(e),s=i>=0;return"hour"===t?s&&i<24:"fractionalSecond"===t?s&&i<=999:s&&i<60}(e,t))return;if("fractionalSecond"===t){const t=K(i,s);let a=null;if(e){h.numberFormatOptions={locale:i,numberingSystem:s};const n=h.localize("0");0===parseInt(e)?a="".padStart(e.length,n):(a=h.localize(`0.${e}`).replace(`${n}${t}`,""),a.length<e.length&&(a=a.padEnd(e.length,n)))}return a}const n=parseInt(e),o=new Date(Date.UTC(0,0,0,"hour"===t?n:"meridiem"===t?"AM"===e?0:12:0,"minute"===t?n:0,"second"===t?n:0));return o?N(t,A({hour12:a,locale:i,numberingSystem:s}).formatToParts(o),i):void 0}function G({hour12:e,locale:t,numberingSystem:i="latn",step:s=60,value:a}){if(!W(a))return null;const{hour:n,minute:o,second:r="0",fractionalSecond:c}=J(a,s),l=new Date(Date.UTC(0,0,0,parseInt(n),parseInt(o),parseInt(r),c&&j(c)));if(l){const a=A({fractionalSecondDigits:v(s),hour12:e,locale:t,numberingSystem:i}).formatToParts(l);return{hour:N("hour",a),hourSuffix:N("hourSuffix",a),minute:N("minute",a),minuteSuffix:N("minuteSuffix",a),second:N("second",a),decimalSeparator:K(t,i),fractionalSecond:N("fractionalSecond",a),secondSuffix:"bg"!==t&&N("secondSuffix",a),meridiem:N("meridiem",a,t)}}return null}function J(e,t){if(W(e)){const[i,s,a]=e.split(":");let n=a,o=null;return a?.includes(".")&&([n,o]=a.split(".")),t&&(o=O(o,t)),{fractionalSecond:o,hour:i,minute:s,second:n}}return{fractionalSecond:null,hour:null,minute:null,second:null}}function Q(e,t=60){if(!W(e))return null;let i,s,a,n,o,r=null;return"string"==typeof e?([i,s,n]=e.split(":"),[a,o]=n?.split(".")||["0"]):(i=e.hour,s=e.minute,a=e.second,o=e.fractionalSecond),i&&s&&(r=`${T(parseInt(i))}:${T(parseInt(s))}`,t<60&&(r+=`:${T(parseInt(a||"0"))}`,t<1&&(r+=`.${O(o||"0",t)}`))),r}
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const X={button:"button",buttonBottomLeft:"button--bottom-left",buttonBottomRight:"button--bottom-right",buttonFractionalSecondDown:"button--fractionalSecond-down",buttonFractionalSecondUp:"button--fractionalSecond-up",buttonHourDown:"button--hour-down",buttonHourUp:"button--hour-up",buttonMeridiemDown:"button--meridiem-down",buttonMeridiemUp:"button--meridiem-up",buttonMinuteDown:"button--minute-down",buttonMinuteUp:"button--minute-up",buttonSecondDown:"button--second-down",buttonSecondUp:"button--second-up",buttonTopLeft:"button--top-left",buttonTopRight:"button--top-right",column:"column",decimalSeparator:"decimal-separator",delimiter:"delimiter",fractionalSecond:"fractionalSecond",hour:"hour",hourSuffix:"hour-suffix",input:"input",inputFocus:"inputFocus",meridiem:"meridiem",minute:"minute",minuteSuffix:"minute-suffix",second:"second",secondSuffix:"second-suffix",showMeridiem:"show-meridiem",showSecond:"show-second","scale-s":"scale-s","scale-m":"scale-m","scale-l":"scale-l",timePicker:"time-picker",meridiemStart:"meridiem--start"},Y=e`:host{display:inline-block}.time-picker{display:flex;-webkit-user-select:none;user-select:none;align-items:center;font-weight:var(--calcite-font-weight-medium);--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);border-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round));color:var(--calcite-time-picker-color, var(--calcite-color-text-1));background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .column{display:flex;flex-direction:column}.time-picker .meridiem--start{order:-1}.time-picker .button{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .button:hover,.time-picker .button:focus{outline:2px solid transparent;outline-offset:2px;z-index:var(--calcite-z-index-header);outline-offset:0;background-color:var(--calcite-time-picker-button-background-color-hover, var(--calcite-color-foreground-2))}.time-picker .button:active{background-color:var(--calcite-time-picker-button-background-color-press, var(--calcite-color-foreground-3))}.time-picker .button.top-left{border-start-start-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.bottom-left{border-end-start-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.top-right{border-start-end-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button.bottom-right{border-end-end-radius:var(--calcite-time-picker-corner-radius, var(--calcite-border-radius-round))}.time-picker .button calcite-icon{color:var(--calcite-time-picker-icon-color, var(--calcite-color-text-3))}.time-picker .input{display:inline-flex;cursor:pointer;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-time-picker-background-color, var(--calcite-color-foreground-1))}.time-picker .input:hover{box-shadow:inset 0 0 0 2px var(--calcite-time-picker-input-border-color-hover, var(--calcite-color-foreground-2));z-index:var(--calcite-z-index-header)}.time-picker .input:focus,.time-picker .input:hover:focus{outline:2px solid transparent;outline-offset:2px;outline-offset:0}.time-picker .input.inputFocus,.time-picker .input:hover.inputFocus{box-shadow:inset 0 0 0 2px var(--calcite-time-picker-input-border-color-press, var(--calcite-color-brand));z-index:var(--calcite-z-index-header)}.time-picker.scale-s{font-size:var(--calcite-font-size--1)}.time-picker.scale-s .button,.time-picker.scale-s .input{padding-inline:var(--calcite-spacing-md);padding-block:var(--calcite-spacing-xxs)}.time-picker.scale-s:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-md)}.time-picker.scale-m{font-size:var(--calcite-font-size-0)}.time-picker.scale-m .button,.time-picker.scale-m .input{padding-inline:var(--calcite-spacing-xl);padding-block:var(--calcite-spacing-sm)}.time-picker.scale-m:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-xl)}.time-picker.scale-l{font-size:var(--calcite-font-size-1)}.time-picker.scale-l .button,.time-picker.scale-l .input{padding-inline:var(--calcite-spacing-xxl);padding-block:var(--calcite-spacing-md)}.time-picker.scale-l:not(.show-meridiem) .delimiter:last-child{padding-inline-end:var(--calcite-spacing-xxl)}:host([hidden]){display:none}[hidden]{display:none}`;class ee extends t{constructor(){super(),this.pointerActivated=!1,this.messages=w(),this.localizedDecimalSeparator=".",this.hourFormat="user",this.scale="m",this.step=60,this.value=null,this.calciteTimePickerChange=i({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.listen("pointerdown",this.pointerDownHandler)}static{this.properties={activeEl:[16,{},{state:!0}],effectiveHourFormat:[16,{},{state:!0}],fractionalSecond:[16,{},{state:!0}],hour:[16,{},{state:!0}],localizedDecimalSeparator:[16,{},{state:!0}],localizedFractionalSecond:[16,{},{state:!0}],localizedHour:[16,{},{state:!0}],localizedHourSuffix:[16,{},{state:!0}],localizedMeridiem:[16,{},{state:!0}],localizedMinute:[16,{},{state:!0}],localizedMinuteSuffix:[16,{},{state:!0}],localizedSecond:[16,{},{state:!0}],localizedSecondSuffix:[16,{},{state:!0}],meridiem:[16,{},{state:!0}],minute:[16,{},{state:!0}],second:[16,{},{state:!0}],showFractionalSecond:[16,{},{state:!0}],showSecond:[16,{},{state:!0}],hourFormat:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],numberingSystem:1,scale:[3,{},{reflect:!0}],step:[11,{},{reflect:!0,type:Number}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=Y}async setFocus(){await b(this),this.el?.focus()}connectedCallback(){super.connectedCallback(),this.updateLocale(),this.toggleSecond()}willUpdate(e){e.has("step")&&(this.hasUpdated||60!==this.step)&&this.toggleSecond(),e.has("value")&&(this.hasUpdated||null!==this.value)&&this.setValue(this.value),(e.has("hourFormat")||e.has("messages"))&&this.updateLocale()}blurHandler(){this.activeEl=void 0,this.pointerActivated=!1}keyDownHandler(e){this.pointerActivated=!1;const{defaultPrevented:t,key:i}=e;if(!t)switch(this.activeEl){case this.hourEl:"ArrowRight"===i&&(this.focusPart("minute"),e.preventDefault());break;case this.minuteEl:switch(i){case"ArrowLeft":this.focusPart("hour"),e.preventDefault();break;case"ArrowRight":60!==this.step?(this.focusPart("second"),e.preventDefault()):"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.secondEl:switch(i){case"ArrowLeft":this.focusPart("minute"),e.preventDefault();break;case"ArrowRight":this.showFractionalSecond?this.focusPart("fractionalSecond"):"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.fractionalSecondEl:switch(i){case"ArrowLeft":this.focusPart("second"),e.preventDefault();break;case"ArrowRight":"12"===this.effectiveHourFormat&&(this.focusPart("meridiem"),e.preventDefault())}break;case this.meridiemEl:"ArrowLeft"===i&&(this.showFractionalSecond?this.focusPart("fractionalSecond"):60!==this.step?(this.focusPart("second"),e.preventDefault()):(this.focusPart("minute"),e.preventDefault()))}}pointerDownHandler(){this.pointerActivated=!0}async focusPart(e){await b(this),this[`${e||"hour"}El`]?.focus()}decrementHour(){const e=this.hour?0===parseInt(this.hour)?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)}decrementMeridiem(){const e="PM"===this.meridiem?"AM":"PM";this.setValuePart("meridiem",e)}decrementMinuteOrSecond(e){let t;if(d(this[e])){const i=parseInt(this[e]);t=0===i?59:i-1}else t=59;this.setValuePart(e,t)}decrementMinute(){this.decrementMinuteOrSecond("minute")}decrementSecond(){this.decrementMinuteOrSecond("second")}focusHandler(e){this.pointerActivated||(this.activeEl=e.currentTarget)}fractionalSecondKeyDownHandler(e){const{key:t}=e;if(u.includes(t)){const{stepPrecision:e}=this,i=parseInt(this.fractionalSecond),s=i.toString().length;let a;s>=e?a=t.padStart(e,"0"):s<e&&(a=`${i}${t}`.padStart(e,"0")),this.setValuePart("fractionalSecond",parseFloat(`0.${a}`))}else switch(t){case"Backspace":case"Delete":this.setValuePart("fractionalSecond",null);break;case"ArrowDown":e.preventDefault(),this.nudgeFractionalSecond("down");break;case"ArrowUp":e.preventDefault(),this.nudgeFractionalSecond("up");break;case" ":e.preventDefault()}}fractionalSecondDownClickHandler(){this.activeEl=this.fractionalSecondEl,this.fractionalSecondEl.focus(),this.nudgeFractionalSecond("down")}fractionalSecondUpClickHandler(){this.activeEl=this.fractionalSecondEl,this.fractionalSecondEl.focus(),this.nudgeFractionalSecond("up")}hourDownClickHandler(){this.activeEl=this.hourEl,this.hourEl.focus(),this.decrementHour()}hourKeyDownHandler(e){const{key:t}=e;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.hour))switch(this.effectiveHourFormat){case"12":i="01"===this.hour&&e>=0&&e<=2?`1${e}`:e;break;case"24":i="01"===this.hour?`1${e}`:"02"===this.hour&&e>=0&&e<=3?`2${e}`:e}else i=e;this.setValuePart("hour",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":e.preventDefault()}}hourUpClickHandler(){this.activeEl=this.hourEl,this.hourEl.focus(),this.incrementHour()}incrementMeridiem(){const e="AM"===this.meridiem?"PM":"AM";this.setValuePart("meridiem",e)}incrementHour(){const e=d(this.hour)?"23"===this.hour?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)}incrementMinuteOrSecond(e){const t=d(this[e])?"59"===this[e]?0:parseInt(this[e])+1:0;this.setValuePart(e,t)}incrementMinute(){this.incrementMinuteOrSecond("minute")}incrementSecond(){this.incrementMinuteOrSecond("second")}inputClickHandler(e){this.activeEl=e.target}meridiemUpClickHandler(){this.activeEl=this.meridiemEl,this.meridiemEl.focus(),this.incrementMeridiem()}meridiemKeyDownHandler(e){switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":this.setValuePart("meridiem",null);break;case"ArrowUp":e.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":e.preventDefault(),this.decrementMeridiem();break;case" ":e.preventDefault()}}meridiemDownClickHandler(){this.activeEl=this.meridiemEl,this.meridiemEl.focus(),this.decrementMeridiem()}minuteDownClickHandler(){this.activeEl=this.minuteEl,this.minuteEl.focus(),this.decrementMinute()}minuteUpClickHandler(){this.activeEl=this.minuteEl,this.minuteEl.focus(),this.incrementMinute()}minuteKeyDownHandler(e){const{key:t}=e;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.minute)&&this.minute.startsWith("0")){const t=parseInt(this.minute);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("minute",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":e.preventDefault()}}nudgeFractionalSecond(e){const t=g(this.step),{stepPrecision:i}=this,s=parseInt(this.fractionalSecond),a=parseFloat(`0.${this.fractionalSecond}`);let n,o,r,c;"up"===e&&(n=isNaN(s)?0:a+t,o=parseFloat(n.toFixed(i)),r=g(o),c=o<1&&v(r)>0?T(r,i):"".padStart(i,"0")),"down"===e&&(n=isNaN(s)||0===s?1-t:a-t,o=parseFloat(n.toFixed(i)),r=g(o),c=o<1&&v(r)>0&&1===Math.sign(r)?T(r,i):"".padStart(i,"0")),this.setValuePart("fractionalSecond",c)}sanitizeValue(e){const{hour:t,minute:i,second:s,fractionalSecond:a}=J(e);return a?`${t}:${i}:${s}.${this.sanitizeFractionalSecond(a)}`:W(e)&&e}sanitizeFractionalSecond(e){const{stepPrecision:t}=this;return e&&t!==e.length?parseFloat(`0.${e}`).toFixed(t).replace("0.",""):e}secondKeyDownHandler(e){const{key:t}=e;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.second)&&this.second.startsWith("0")){const t=parseInt(this.second);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("second",i)}else switch(t){case"Backspace":case"Delete":this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":e.preventDefault()}}secondDownClickHandler(){this.activeEl=this.secondEl,this.secondEl.focus(),this.decrementSecond()}secondUpClickHandler(){this.activeEl=this.secondEl,this.secondEl.focus(),this.incrementSecond()}setHourEl(e){this.hourEl=e}setMeridiemEl(e){this.meridiemEl=e}setMinuteEl(e){this.minuteEl=e}setSecondEl(e){this.secondEl=e}setFractionalSecondEl(e){this.fractionalSecondEl=e}setValue(e){if(W(e)){const{hour:t,minute:i,second:s,fractionalSecond:a}=J(e),{effectiveHourFormat:n,messages:{_lang:o},numberingSystem:r,step:c}=this,{hour:l,hourSuffix:u,minute:d,minuteSuffix:h,second:m,secondSuffix:p,decimalSeparator:f,fractionalSecond:v,meridiem:g}=G({value:e,locale:o,numberingSystem:r,hour12:"12"===n,step:c});this.hour=t,this.minute=i,this.second=s,this.fractionalSecond=this.sanitizeFractionalSecond(a),this.localizedHour=l,this.localizedHourSuffix=u,this.localizedMinute=d,this.localizedMinuteSuffix=h,this.localizedSecond=m,this.localizedDecimalSeparator=f,this.localizedFractionalSecond=v,this.localizedSecondSuffix=p,g&&(this.localizedMeridiem=g,this.meridiem=R(this.hour))}else this.hour=null,this.fractionalSecond=null,this.localizedHour=null,this.localizedHourSuffix=_("hour",this.messages._lang,this.numberingSystem),this.localizedMeridiem=null,this.localizedMinute=null,this.localizedMinuteSuffix=_("minute",this.messages._lang,this.numberingSystem),this.localizedSecond=null,this.localizedDecimalSeparator=K(this.messages._lang,this.numberingSystem),this.localizedFractionalSecond=null,this.localizedSecondSuffix=_("second",this.messages._lang,this.numberingSystem),this.meridiem=null,this.minute=null,this.second=null,this.value=null}setValuePart(e,t){const{effectiveHourFormat:i,messages:{_lang:s},numberingSystem:a,step:n}=this,o="12"===i;if("meridiem"===e){if(this.meridiem=t,d(this.hour)){const e=parseInt(this.hour);switch(t){case"AM":e>=12&&(this.hour=T(e-12));break;case"PM":e<12&&(this.hour=T(e+12))}this.localizedHour=Z({value:this.hour,part:"hour",locale:s,numberingSystem:a,hour12:o})}}else if("fractionalSecond"===e){const{stepPrecision:e}=this;this.fractionalSecond="number"==typeof t?0===t?"".padStart(e,"0"):T(t,e):t,this.localizedFractionalSecond=Z({value:this.fractionalSecond,part:"fractionalSecond",locale:s,numberingSystem:a,hour12:o})}else this[e]="number"==typeof t?T(t):t,this[`localized${r=e,r.charAt(0).toUpperCase()+r.slice(1)}`]=Z({value:this[e],part:e,locale:s,numberingSystem:a,hour12:o});var r;let c,l=!1;this.hour&&this.minute?(c=`${this.hour}:${this.minute}`,this.showSecond&&(c=`${c}:${this.second??"00"}`,this.showFractionalSecond&&this.fractionalSecond&&(c=`${c}.${this.fractionalSecond}`))):c=null,this.value!==c&&(l=!0),this.value=c,this.localizedMeridiem=this.value?G({hour12:o,locale:s,numberingSystem:a,step:n,value:this.value})?.meridiem||null:Z({hour12:o,value:this.meridiem,part:"meridiem",locale:s,numberingSystem:a}),l&&this.calciteTimePickerChange.emit()}toggleSecond(){this.showSecond=this.step<60,this.stepPrecision=v(this.step),this.showFractionalSecond=this.stepPrecision>0}updateLocale(){this.effectiveHourFormat="user"===this.hourFormat?L(this.messages._lang):this.hourFormat,this.localizedDecimalSeparator=K(this.messages._lang,this.numberingSystem),this.meridiemOrder=q(this.messages._lang),this.setValue(this.sanitizeValue(this.value))}render(){const e=d(this.hour),t=S(this.scale),i=d(this.minute),n=d(this.second),o=d(this.fractionalSecond),r="bg"!==this.messages._lang&&this.localizedSecondSuffix,c="12"===this.effectiveHourFormat;return a`<div class=${s({[X.timePicker]:!0,[X.showMeridiem]:c,[X.showSecond]:this.showSecond,[X[`scale-${this.scale}`]]:!0})} dir=ltr><div class=${s(X.column)} role=group><span .ariaLabel=${this.messages.hourUp} class=${s({[X.button]:!0,[X.buttonHourUp]:!0,[X.buttonTopLeft]:!0})} @click=${this.hourUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.hour} aria-valuemax=23 aria-valuemin=1 .ariaValueNow=${e&&parseInt(this.hour)||"0"} .ariaValueText=${this.hour} class=${s({[X.input]:!0,[X.hour]:!0,[X.inputFocus]:this.activeEl&&this.activeEl===this.hourEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.hourKeyDownHandler} role=spinbutton tabindex=0 ${l(this.setHourEl)}>${this.localizedHour||"--"}</span><span .ariaLabel=${this.messages.hourDown} class=${s({[X.button]:!0,[X.buttonHourDown]:!0,[X.buttonBottomLeft]:!0})} @click=${this.hourDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div><span class=${s({[X.delimiter]:!0,[X.hourSuffix]:!0})}>${this.localizedHourSuffix}</span><div class=${s(X.column)} role=group><span .ariaLabel=${this.messages.minuteUp} class=${s({[X.button]:!0,[X.buttonMinuteUp]:!0})} @click=${this.minuteUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.minute} aria-valuemax=12 aria-valuemin=1 .ariaValueNow=${i&&parseInt(this.minute)||"0"} .ariaValueText=${this.minute} class=${s({[X.input]:!0,[X.minute]:!0,[X.inputFocus]:this.activeEl&&this.activeEl===this.minuteEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.minuteKeyDownHandler} role=spinbutton tabindex=0 ${l(this.setMinuteEl)}>${this.localizedMinute||"--"}</span><span .ariaLabel=${this.messages.minuteDown} class=${s({[X.button]:!0,[X.buttonMinuteDown]:!0})} @click=${this.minuteDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>${this.showSecond&&a`<span class=${s({[X.delimiter]:!0,[X.minuteSuffix]:!0})}>${this.localizedMinuteSuffix}</span>`||""}${this.showSecond&&a`<div class=${s(X.column)} role=group><span .ariaLabel=${this.messages.secondUp} class=${s({[X.button]:!0,[X.buttonSecondUp]:!0})} @click=${this.secondUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.second} aria-valuemax=59 aria-valuemin=0 .ariaValueNow=${n&&parseInt(this.second)||"0"} .ariaValueText=${this.second} class=${s({[X.input]:!0,[X.second]:!0,[X.inputFocus]:this.activeEl&&this.activeEl===this.secondEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.secondKeyDownHandler} role=spinbutton tabindex=0 ${l(this.setSecondEl)}>${this.localizedSecond||"--"}</span><span .ariaLabel=${this.messages.secondDown} class=${s({[X.button]:!0,[X.buttonSecondDown]:!0})} @click=${this.secondDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}${this.showFractionalSecond&&a`<span class=${s({[X.delimiter]:!0,[X.decimalSeparator]:!0})}>${this.localizedDecimalSeparator}</span>`||""}${this.showFractionalSecond&&a`<div class=${s(X.column)} role=group><span .ariaLabel=${this.messages.fractionalSecondUp} class=${s({[X.button]:!0,[X.buttonFractionalSecondUp]:!0})} @click=${this.fractionalSecondUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.fractionalSecond} aria-valuemax=999 aria-valuemin=1 .ariaValueNow=${o&&parseInt(this.fractionalSecond)||"0"} .ariaValueText=${this.localizedFractionalSecond} class=${s({[X.input]:!0,[X.fractionalSecond]:!0,[X.inputFocus]:this.activeEl&&this.activeEl===this.fractionalSecondEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.fractionalSecondKeyDownHandler} role=spinbutton tabindex=0 ${l(this.setFractionalSecondEl)}>${this.localizedFractionalSecond||"".padStart(this.stepPrecision,"-")}</span><span .ariaLabel=${this.messages.fractionalSecondDown} class=${s({[X.button]:!0,[X.buttonFractionalSecondDown]:!0})} @click=${this.fractionalSecondDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}${r&&a`<span class=${s({[X.delimiter]:!0,[X.secondSuffix]:!0})}>${this.localizedSecondSuffix}</span>`||""}${c&&a`<div class=${s({[X.column]:!0,[X.meridiemStart]:0===this.meridiemOrder||"rtl"===k(this.el)})} role=group><span .ariaLabel=${this.messages.meridiemUp} class=${s({[X.button]:!0,[X.buttonMeridiemUp]:!0,[X.buttonTopRight]:!0})} @click=${this.meridiemUpClickHandler} role=button><calcite-icon icon=chevron-up .scale=${t}></calcite-icon></span><span .ariaLabel=${this.messages.meridiem} aria-valuemax=2 aria-valuemin=1 .ariaValueNow=${"PM"===this.meridiem?"2":"1"} .ariaValueText=${this.meridiem} class=${s({[X.input]:!0,[X.meridiem]:!0,[X.inputFocus]:this.activeEl&&this.activeEl===this.meridiemEl})} @click=${this.inputClickHandler} @focus=${this.focusHandler} @keydown=${this.meridiemKeyDownHandler} role=spinbutton tabindex=0 ${l(this.setMeridiemEl)}>${this.localizedMeridiem||"--"}</span><span .ariaLabel=${this.messages.meridiemDown} class=${s({[X.button]:!0,[X.buttonMeridiemDown]:!0,[X.buttonBottomRight]:!0})} @click=${this.meridiemDownClickHandler} role=button><calcite-icon icon=chevron-down .scale=${t}></calcite-icon></span></div>`||""}</div>`}}n("calcite-time-picker",ee);const te=x(
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */
class extends c{constructor(){super(...arguments),this.localizedDecimalSeparator=".",this.userChangedValue=!1,this.handleHourKeyDownEvent=e=>{const t=e.key;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.hour))switch(this.hourFormat){case"12":i="01"===this.hour&&e>=0&&e<=2?`1${e}`:e;break;case"24":i="01"===this.hour?`1${e}`:"02"===this.hour&&e>=0&&e<=3?`2${e}`:e}else i=e;this.setValuePart("hour",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("hour",null);break;case"ArrowDown":e.preventDefault(),this.decrementHour();break;case"ArrowUp":e.preventDefault(),this.incrementHour();break;case" ":case"Spacebar":e.preventDefault()}},this.handleMinuteKeyDownEvent=e=>{const t=e.key;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.minute)&&this.minute.startsWith("0")){const t=parseInt(this.minute);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("minute",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("minute",null);break;case"ArrowDown":e.preventDefault(),this.decrementMinute();break;case"ArrowUp":e.preventDefault(),this.incrementMinute();break;case" ":case"Spacebar":e.preventDefault()}},this.handleSecondKeyDownEvent=e=>{const t=e.key;if(u.includes(t)){const e=parseInt(t);let i;if(d(this.second)&&this.second.startsWith("0")){const t=parseInt(this.second);i=t>5?e:`${t}${e}`}else i=e;this.setValuePart("second",i)}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("second",null);break;case"ArrowDown":e.preventDefault(),this.decrementSecond();break;case"ArrowUp":e.preventDefault(),this.incrementSecond();break;case" ":case"Spacebar":e.preventDefault()}},this.handleFractionalSecondKeyDownEvent=e=>{const{key:t}=e;if(u.includes(t)){const e=v(this.component.step),i=parseInt(this.fractionalSecond),s=i.toString().length;let a;s>=e?a=t.padStart(e,"0"):s<e&&(a=`${i}${t}`.padStart(e,"0")),this.setValuePart("fractionalSecond",parseFloat(`0.${a}`))}else switch(t){case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("fractionalSecond",null);break;case"ArrowDown":e.preventDefault(),this.nudgeFractionalSecond("down");break;case"ArrowUp":e.preventDefault(),this.nudgeFractionalSecond("up");break;case" ":e.preventDefault()}},this.handleMeridiemKeyDownEvent=e=>{switch(e.key){case"a":this.setValuePart("meridiem","AM");break;case"p":this.setValuePart("meridiem","PM");break;case"Backspace":case"Delete":e.preventDefault(),this.setValuePart("meridiem");break;case"ArrowUp":case"ArrowDown":e.preventDefault(),this.toggleMeridiem(e.key);break;case" ":case"Spacebar":e.preventDefault()}},this.calciteTimeChange=i()}hostConnected(){this.setHourFormat(),this.setMeridiemOrder(),this.setValue(this.component.value)}hostUpdate(e){let t=!1,i=!1,s=!1;if(e.has("hourFormat")&&(t=!0,s=!0),e.has("messages")&&e.get("messages")?._lang!==this.component.messages._lang&&(t=!0,i=!0,s=!0),e.has("numberingSystem")&&(s=!0),e.has("step")){const t=this.component.step,i=e.get("step");(t>=60&&i>0&&i<60||i>=60&&t>0&&t<60)&&(s=!0)}t&&this.setHourFormat(),i&&this.setMeridiemOrder(),s&&this.setValue(this.component.value)}decrementHour(){const e=this.hour?"00"===this.hour?23:parseInt(this.hour)-1:0;this.setValuePart("hour",e)}decrementMinute(){this.decrementMinuteOrSecond("minute")}decrementMinuteOrSecond(e){let t;if(d(this[e])){const i=parseInt(this[e]);t=0===i?59:i-1}else t=59;this.setValuePart(e,t)}decrementSecond(){this.decrementMinuteOrSecond("second")}incrementHour(){const e=d(this.hour)?"23"===this.hour?0:parseInt(this.hour)+1:1;this.setValuePart("hour",e)}incrementMinute(){this.incrementMinuteOrSecond("minute")}incrementMinuteOrSecond(e){const t=d(this[e])?"59"===this[e]?0:parseInt(this[e])+1:0;this.setValuePart(e,t)}incrementSecond(){this.incrementMinuteOrSecond("second")}nudgeFractionalSecond(e){const t=g(this.component.step),i=v(this.component.step),s=parseInt(this.fractionalSecond),a=parseFloat(`0.${this.fractionalSecond}`);let n,o,r,c;"up"===e&&(n=isNaN(s)?0:a+t,o=parseFloat(n.toFixed(i)),r=g(o),c=o<1&&v(r)>0?T(r,i):"".padStart(i,"0")),"down"===e&&(n=isNaN(s)||0===s?1-t:a-t,o=parseFloat(n.toFixed(i)),r=g(o),c=o<1&&v(r)>0&&1===Math.sign(r)?T(r,i):"".padStart(i,"0")),this.setValuePart("fractionalSecond",c)}setHourFormat(){const{hourFormat:e,messages:t}=this.component,i=t._lang;this.hourFormat="user"===e?L(i):e}setMeridiemOrder(){const{messages:e}=this.component,t=e._lang;this.meridiemOrder=q(t)}toggleMeridiem(e){let t;t=this.meridiem?"AM"===this.meridiem?"PM":"AM":"ArrowDown"===e?"PM":"AM",this.setValuePart("meridiem",t)}setValue(e,t=!1){const{messages:i,numberingSystem:s,step:a,value:n}=this.component,o=i._lang,r="12"===this.hourFormat,c=Q(e,a);if(W(e)){const{hour:e,minute:t,second:i,fractionalSecond:n}=J(c,a),{hour:l,hourSuffix:u,minute:d,minuteSuffix:h,second:m,secondSuffix:p,decimalSeparator:g,fractionalSecond:b,meridiem:S}=function({hour12:e,includeSeconds:t=!0,locale:i,numberingSystem:s="latn",parts:a=!1,step:n,value:o}){if(!W(o))return null;const{hour:r,minute:c,second:l="0",fractionalSecond:u}=J(o,n),d=new Date(Date.UTC(0,0,0,parseInt(r),parseInt(c),parseInt(l),u&&j(u))),h=A({fractionalSecondDigits:v(n),hour12:e,includeSeconds:t,locale:i,numberingSystem:s});if(a){const e=h.formatToParts(d);return{hour:N("hour",e),hourSuffix:N("hourSuffix",e),minute:N("minute",e),minuteSuffix:N("minuteSuffix",e),second:N("second",e),decimalSeparator:K(i,s),fractionalSecond:N("fractionalSecond",e),secondSuffix:"bg"!==i&&N("secondSuffix",e),meridiem:N("meridiem",e,i)}}{let e=h.format(d)||null;if(!a&&"string"==typeof e&&"bg"===i&&e&&e.includes(" ч.")&&(e=e.replaceAll(" ч.","")),["he","bs","mk"].includes(i)){const t=f.get(i);e.includes("AM")?e=e.replaceAll("AM",t.am):e.includes("PM")&&(e=e.replaceAll("PM",t.pm)),"he"!==i&&e.indexOf(".")!==e.length-1&&(e=e.replace(".",","))}return e}}({hour12:r,locale:o,numberingSystem:s,parts:!0,step:a,value:c});this.hour=e,this.minute=t,this.second=i,this.fractionalSecond=n,this.localizedHour=l,this.localizedHourSuffix=u,this.localizedMinute=d,this.localizedMinuteSuffix=h,this.localizedSecond=m,this.localizedDecimalSeparator=g,this.localizedFractionalSecond=b,this.localizedSecondSuffix=p,S&&(this.meridiem=R(this.hour),this.localizedMeridiem=S)}else this.hour=null,this.minute=null,this.second=null,this.fractionalSecond=null,this.meridiem=null,this.localizedHour=null,this.localizedHourSuffix=_("hour",o,s),this.localizedMinute=null,this.localizedMinuteSuffix=_("minute",o,s),this.localizedSecond=null,this.localizedDecimalSeparator=K(o,s),this.localizedFractionalSecond=null,this.localizedSecondSuffix=_("second",o,s),this.localizedMeridiem=null;c!==n?(this.userChangedValue=t,this.component.value=c??""):this.component.requestUpdate()}setValuePart(e,t){const{hourFormat:i}=this,{messages:s,numberingSystem:a,step:n}=this.component,o=s._lang,r="12"===i,c=this.component.value;if("meridiem"===e){const e=this.meridiem;if(this.meridiem=t,this.localizedMeridiem=Z({hour12:r,locale:o,numberingSystem:a,part:"meridiem",value:this.meridiem}),d(this.hour)){const e=parseInt(this.hour);switch(t){case"AM":e>=12&&(this.hour=T(e-12));break;case"PM":e<12&&(this.hour=T(e+12));break;default:this.component.value=""}this.localizedHour=Z({hour12:r,locale:o,numberingSystem:a,part:"hour",value:this.hour})}e!==this.meridiem&&this.component.requestUpdate()}else if("fractionalSecond"===e){const e=this.fractionalSecond,i=v(n);this.fractionalSecond="number"==typeof t?0===t?"".padStart(i,"0"):T(t,i):t,this.localizedFractionalSecond=Z({value:this.fractionalSecond,part:"fractionalSecond",locale:o,numberingSystem:a,hour12:r}),e!==this.fractionalSecond&&this.component.requestUpdate()}else{const i=this[e];this[e]="number"==typeof t?T(t):t,this[`localized${U(e)}`]=Z({value:this[e],part:e,locale:o,numberingSystem:a,hour12:r}),i!==this[e]&&this.component.requestUpdate()}const{hour:l,minute:u,second:h,fractionalSecond:m}=this,p=Q({hour:l,minute:u,second:h,fractionalSecond:m},n);c!==p&&("hour"===e&&"12"===i&&(this.meridiem=R(l),this.localizedMeridiem=B({locale:o,meridiem:this.meridiem})),this.userChangedValue=!0,this.calciteTimeChange.emit(p??""))}}),ie=e`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}.container{--calcite-icon-color: var(--calcite-color-text-3);align-items:center;background-color:var(--calcite-color-foreground-1);border:1px solid var(--calcite-color-border-input);box-sizing:border-box;display:flex;color:var(--calcite-color-text-1);flex-wrap:nowrap;font-weight:var(--calcite-font-weight-normal);inline-size:100%;padding-block:var(--calcite-spacing-base);-webkit-user-select:none;user-select:none}.container:focus-within{border-color:var(--calcite-color-brand);outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.read-only{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}.input-container{display:flex;flex-grow:1}.input{align-items:center;display:flex;block-size:100%;justify-content:center;min-inline-size:max-content}.input.empty{inline-size:var(--calcite-spacing-xl)}.input:focus,.input:hover:focus{background-color:Highlight;color:HighlightText;outline:2px solid transparent;outline-offset:2px}.toggle-icon{align-items:center;block-size:24px;cursor:pointer;display:flex;inline-size:24px;justify-content:center}.toggle-icon:hover{--calcite-icon-color: var(--calcite-color-text-1)}.meridiem--start{margin-inline-end:var(--calcite-spacing-xxs)}.meridiem--end{margin-inline-start:var(--calcite-spacing-xxs)}:host([scale=s]) .container{block-size:1.5rem;font-size:var(--calcite-font-size-sm);gap:var(--calcite-spacing-sm);padding-inline-start:var(--calcite-spacing-sm);padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s]) .input-container{line-height:1rem}:host([scale=m]) .container{block-size:2rem;font-size:var(--calcite-font-size);gap:var(--calcite-spacing-md);padding-inline-start:var(--calcite-spacing-md);padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .input-container{line-height:1.5rem}:host([scale=l]) .container{block-size:2.75rem;font-size:var(--calcite-font-size-md);gap:var(--calcite-spacing-lg);padding-inline:var(--calcite-spacing-lg)}:host([scale=l]) .input-container{line-height:2.25rem}:host([status=invalid]) .container{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) .container:focus-within{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(-2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}:host([hidden]){display:none}[hidden]{display:none}`,se="container",ae="empty",ne="fractional-second",oe="hour",re="input",ce="meridiem",le="meridiem--start",ue="meridiem--end",de="minute",he="read-only",me="second";class pe extends t{constructor(){super(),this.messages=w(),this.time=te(this),this.disabled=!1,this.focusTrapDisabled=!1,this.hourFormat="user",this.open=!1,this.overlayPositioning="absolute",this.placement="auto",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.step=60,this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputTimePickerBeforeClose=i({cancelable:!1}),this.calciteInputTimePickerBeforeOpen=i({cancelable:!1}),this.calciteInputTimePickerChange=i(),this.calciteInputTimePickerClose=i({cancelable:!1}),this.calciteInputTimePickerOpen=i({cancelable:!1}),this.listen("blur",this.blurHandler),this.listen("keydown",this.keyDownHandler),this.listen("calciteTimeChange",this.timeChangeHandler)}static{this.properties={disabled:[7,{},{reflect:!0,type:Boolean}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],hourFormat:[3,{},{reflect:!0}],max:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],min:[3,{},{reflect:!0}],name:1,numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:1,placement:[3,{},{reflect:!0}],readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],step:[11,{},{reflect:!0,type:Number}],validationIcon:[3,{converter:o},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1}}static{this.shadowRootOptions={mode:"open",delegatesFocus:!0}}static{this.styles=ie}async reposition(e=!1){this.popoverEl?.reposition(e)}async setFocus(){await b(this),$(this.el)}connectedCallback(){super.connectedCallback(),M(this),y(this)}willUpdate(e){e.has("open")&&(this.hasUpdated||!1!==this.open)&&this.openHandler(),e.has("disabled")&&(this.hasUpdated||!1!==this.disabled)&&(this.disabled||(this.open=!1)),e.has("readOnly")&&(this.hasUpdated||!1!==this.readOnly)&&(this.readOnly||(this.open=!1)),e.has("value")&&(this.hasUpdated?(this.time.userChangedValue||(this.previousEmittedValue=this.value),this.time.setValue(this.value)):this.previousEmittedValue=this.value)}updated(){E(this)}disconnectedCallback(){super.disconnectedCallback(),z(this),D(this)}blurHandler(){this.changeEventHandler()}changeEventHandler(){const{previousEmittedValue:e,value:t}=this;e!==t&&(this.calciteInputTimePickerChange.emit().defaultPrevented?this.time.setValue(this.previousEmittedValue):this.previousEmittedValue=t)}keyDownHandler(e){const{defaultPrevented:t,key:i}=e,{hourFormat:s,meridiemOrder:a}=this.time;if(!t)if("Enter"===i)P(this)&&e.preventDefault(),this.changeEventHandler();else if(this.open&&this.focusTrapDisabled&&"Escape"===i)this.open=!1,e.preventDefault();else{const e=v(this.step)>0,t=this.step<60;switch(this.activeEl){case this.hourEl:"ArrowRight"===i?this.setFocusPart("minute"):"ArrowLeft"===i&&"12"===s&&0===a&&this.setFocusPart("meridiem");break;case this.minuteEl:switch(i){case"ArrowLeft":this.setFocusPart("hour");break;case"ArrowRight":60!==this.step?this.setFocusPart("second"):"12"===s&&this.setFocusPart("meridiem")}break;case this.secondEl:switch(i){case"ArrowLeft":this.setFocusPart("minute");break;case"ArrowRight":v(this.step)>0?this.setFocusPart("fractionalSecond"):"12"===s&&this.setFocusPart("meridiem")}break;case this.fractionalSecondEl:switch(i){case"ArrowLeft":this.setFocusPart("second");break;case"ArrowRight":"12"===s&&0!==a&&this.setFocusPart("meridiem")}break;case this.meridiemEl:"ArrowLeft"===i&&0!==a?e?this.setFocusPart("fractionalSecond"):t?this.setFocusPart("second"):this.setFocusPart("minute"):"ArrowRight"===i&&0===a&&this.setFocusPart("hour")}}}onLabelClick(){this.setFocus()}openHandler(){this.disabled||this.readOnly||this.popoverEl&&(this.popoverEl.open=this.open)}popoverBeforeOpenHandler(e){e.stopPropagation(),this.calciteInputTimePickerBeforeOpen.emit()}popoverOpenHandler(e){e.stopPropagation(),this.calciteInputTimePickerOpen.emit()}popoverBeforeCloseHandler(e){e.stopPropagation(),this.calciteInputTimePickerBeforeClose.emit()}popoverCloseHandler(e){e.stopPropagation(),this.calciteInputTimePickerClose.emit(),this.open=!1}setCalcitePopoverEl(e){this.popoverEl=e,this.openHandler()}setContainerEl(e){this.containerEl=e}async setFocusPart(e){this[`${e||"hour"}El`]?.focus()}setFractionalSecondEl(e){this.fractionalSecondEl=e}setHourEl(e){this.hourEl=e}setMinuteEl(e){this.minuteEl=e}setSecondEl(e){this.secondEl=e}setMeridiemEl(e){this.meridiemEl=e}syncHiddenFormInput(e){V("time",this,e)}timeChangeHandler(e){if(e.stopPropagation(),this.disabled)return;const t=e.detail;t!==this.value&&(this.value=t)}timePartFocusHandler(e){this.activeEl=e.currentTarget}timePickerChangeHandler(e){e.stopPropagation(),this.time.setValue(e.target.value,!0)}toggleIconClickHandler(){this.open=!this.open}render(){const{messages:e,readOnly:t,scale:i}=this,{fractionalSecond:n,handleHourKeyDownEvent:o,handleMinuteKeyDownEvent:c,handleSecondKeyDownEvent:u,handleFractionalSecondKeyDownEvent:h,hour:m,hourFormat:p,localizedDecimalSeparator:f,localizedFractionalSecond:g,localizedHour:b,localizedHourSuffix:S,localizedMinute:$,localizedMinuteSuffix:w,localizedSecond:x,localizedSecondSuffix:y,meridiemOrder:D,minute:P,second:E}=this.time,M="--",z=d(n),V=d(m),U=d(P),A=d(E),O=v(this.step)>0,T="12"===p,j=this.step<60,L=0===D||"rtl"===k(this.el),B=!this.disabled&&!this.readOnly;return F({disabled:this.disabled,children:a`<div aria-label=${C(this)??r} class=${s({[se]:!0,[he]:t})} role=combobox ${l(this.setContainerEl)}><calcite-icon class=${s("clock-icon")} icon=clock .scale=${"l"===i?"m":"s"}></calcite-icon><div class=${s("input-container")} dir=ltr>${T&&L&&this.renderMeridiem("start")||""}<span aria-label=${this.messages.hour??r} aria-valuemax=23 aria-valuemin=1 aria-valuenow=${V&&parseInt(m)||"0"} aria-valuetext=${m??r} class=${s({[ae]:!b,[oe]:!0,[re]:!0})} @focus=${this.timePartFocusHandler} @keydown=${B?o:void 0} role=spinbutton tabindex=0 ${l(this.setHourEl)}>${b||M}</span><span class=${s("hour-suffix")}>${S}</span><span aria-label=${this.messages.minute??r} aria-valuemax=12 aria-valuemin=1 aria-valuenow=${U&&parseInt(P)||"0"} aria-valuetext=${P??r} class=${s({[ae]:!$,[re]:!0,[de]:!0})} @focus=${this.timePartFocusHandler} @keydown=${B?c:void 0} role=spinbutton tabindex=0 ${l(this.setMinuteEl)}>${$||M}</span>${j&&a`<span class=${s("minute-suffix")}>${w}</span>`||""}${j&&a`<span aria-label=${this.messages.second??r} aria-valuemax=59 aria-valuemin=0 aria-valuenow=${A&&parseInt(E)||"0"} aria-valuetext=${E??r} class=${s({[ae]:!x,[re]:!0,[me]:!0})} @focus=${this.timePartFocusHandler} @keydown=${B?u:void 0} role=spinbutton tabindex=0 ${l(this.setSecondEl)}>${x||M}</span>`||""}${O&&a`<span class=${s("decimal-separator")}>${f}</span>`||""}${O&&a`<span aria-label=${this.messages.fractionalSecond??r} aria-valuemax=999 aria-valuemin=1 aria-valuenow=${z&&parseInt(n)||"0"} aria-valuetext=${g??r} class=${s({[ae]:!g,[ne]:!0,[re]:!0})} @focus=${this.timePartFocusHandler} @keydown=${B?h:void 0} role=spinbutton tabindex=0 ${l(this.setFractionalSecondEl)}>${g||"".padStart(v(this.step),"-")}</span>`||""}${y&&a`<span class=${s("second-suffix")}>${y}</span>`||""}${T&&!L&&this.renderMeridiem("end")||""}</div>${!this.readOnly&&this.renderToggleIcon(this.open)||""}</div><calcite-popover auto-close .focusTrapDisabled=${this.focusTrapDisabled} .focusTrapOptions=${{initialFocus:!1}} .label=${e.chooseTime} lang=${this.messages._lang??r} @calcitePopoverBeforeClose=${this.popoverBeforeCloseHandler} @calcitePopoverBeforeOpen=${this.popoverBeforeOpenHandler} @calcitePopoverClose=${this.popoverCloseHandler} @calcitePopoverOpen=${this.popoverOpenHandler} .overlayPositioning=${this.overlayPositioning} .placement=${this.placement} .referenceElement=${this.containerEl} trigger-disabled ${l(this.setCalcitePopoverEl)}><calcite-time-picker .hourFormat=${this.time.hourFormat} lang=${this.messages._lang??r} .messageOverrides=${this.messageOverrides} .numberingSystem=${this.numberingSystem} @calciteTimePickerChange=${this.timePickerChangeHandler} .scale=${this.scale} .step=${this.step} tabindex=${(this.open?void 0:-1)??r} .value=${this.value}></calcite-time-picker></calcite-popover>${H({component:this})}${this.validationMessage&&"invalid"===this.status?I({icon:this.validationIcon,id:"inputTimePickerValidationMessage",message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}renderMeridiem(e){const{handleMeridiemKeyDownEvent:t,localizedMeridiem:i,meridiem:n}=this.time,o=!this.disabled&&!this.readOnly;return a`<span aria-label=${this.messages.meridiem??r} aria-valuemax=2 aria-valuemin=1 aria-valuenow=${"PM"===n?"2":"1"} aria-valuetext=${n??r} class=${s({[ae]:!i,[re]:!0,[ce]:!0,[le]:"start"===e,[ue]:"end"===e})} @focus=${this.timePartFocusHandler} @keydown=${o?t:void 0} role=spinbutton tabindex=0 ${l(this.setMeridiemEl)}>${i||"--"}</span>`}renderToggleIcon(e){return a`<span class=${s("toggle-icon")} @click=${this.toggleIconClickHandler}><calcite-icon .icon=${e?"chevron-up":"chevron-down"} .scale=${S(this.scale)}></calcite-icon></span>`}}n("calcite-input-time-picker",pe);export{pe as InputTimePicker};
