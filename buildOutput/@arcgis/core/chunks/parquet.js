/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import e from"../request.js";import t from"../core/Error.js";import{g as r}from"./assets.js";let n,_=null;function i(e){const t=n.__externref_table_alloc();return n.__wbindgen_export_2.set(t,e),t}function o(e,t){try{return e.apply(this,t)}catch(e){const t=i(e);n.__wbindgen_exn_store(t)}}Symbol.dispose||(Symbol.dispose=Symbol("Symbol.dispose"));const s="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&s.decode();let a=null;function c(){return null!==a&&0!==a.byteLength||(a=new Uint8Array(n.memory.buffer)),a}function u(e,t){return e>>>=0,s.decode(c().subarray(e,e+t))}let l=0;const g="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},w="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const r=g.encode(e);return t.set(r),{read:e.length,written:r.length}};function b(e,t,r){if(void 0===r){const r=g.encode(e),n=t(r.length,1)>>>0;return c().subarray(n,n+r.length).set(r),l=r.length,n}let n=e.length,_=t(n,1)>>>0;const i=c();let o=0;for(;o<n;o++){const t=e.charCodeAt(o);if(t>127)break;i[_+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),_=r(_,n,n=o+3*e.length,1)>>>0;const t=c().subarray(_+o,_+n);o+=w(e,t).written,_=r(_,n,o,1)>>>0}return l=o,_}let d=null;function f(){return(null===d||!0===d.buffer.detached||void 0===d.buffer.detached&&d.buffer!==n.memory.buffer)&&(d=new DataView(n.memory.buffer)),d}function p(e){return null==e}const y="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{n.__wbindgen_export_6.get(e.dtor)(e.a,e.b)});let m=null;function h(){return null!==m&&0!==m.byteLength||(m=new Float64Array(n.memory.buffer)),m}let F=null;function q(){return null!==F&&0!==F.byteLength||(F=new Uint32Array(n.memory.buffer)),F}function v(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`)}function k(e,t){e>>>=0;const r=f(),_=[];for(let i=e;i<e+4*t;i+=4)_.push(n.__wbindgen_export_2.get(r.getUint32(i,!0)));return n.__externref_drop_slice(e,t),_}function T(e,t){const r=t(8*e.length,8)>>>0;return h().set(e,r/8),l=e.length,r}function z(e,t){const r=t(4*e.length,4)>>>0;return q().set(e,r/4),l=e.length,r}function R(e,t,r){n.closure83_externref_shim(e,t,r)}const O=Object.freeze({Point:0,0:"Point",Polygon:1,1:"Polygon",Polyline:2,2:"Polyline",Multipoint:3,3:"Multipoint"}),S=["esriFieldTypeSmallInteger","esriFieldTypeInteger","esriFieldTypeBigInteger","esriFieldTypeSingle","esriFieldTypeDouble","esriFieldTypeLong","esriFieldTypeString","esriFieldTypeDate","esriFieldTypeOID","esriFieldTypeGeometry","esriFieldTypeBlob","esriFieldTypeRaster","esriFieldTypeGUID","esriFieldTypeGlobalID","esriFieldTypeXML","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"],x="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_columndescriptor_free(e>>>0,1));class A{static __wrap(e){e>>>=0;const t=Object.create(A.prototype);return t.__wbg_ptr=e,x.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,x.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_columndescriptor_free(e,0)}[Symbol.dispose](){this.free()}name(){let e,t;try{const r=n.columndescriptor_name(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}physicalType(){let e,t;try{const r=n.columndescriptor_physicalType(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}logicalType(){const e=n.columndescriptor_logicalType(this.__wbg_ptr);let t;return 0!==e[0]&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}encodings(){const e=n.columndescriptor_encodings(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}pageEncodings(){const e=n.columndescriptor_pageEncodings(this.__wbg_ptr);let t;return 0!==e[0]&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}numValues(){return n.columndescriptor_numValues(this.__wbg_ptr)}compression(){let e,t;try{const r=n.columndescriptor_compression(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}compressedSize(){return n.columndescriptor_compressedSize(this.__wbg_ptr)}uncompressedSize(){return n.columndescriptor_uncompressedSize(this.__wbg_ptr)}nullCount(){const e=n.columndescriptor_nullCount(this.__wbg_ptr);return 0===e[0]?void 0:e[1]}distinctCount(){const e=n.columndescriptor_distinctCount(this.__wbg_ptr);return 0===e[0]?void 0:e[1]}minValue(){return n.columndescriptor_minValue(this.__wbg_ptr)}maxValue(){return n.columndescriptor_maxValue(this.__wbg_ptr)}}const M="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_fieldmetadata_free(e>>>0,1));class j{static __wrap(e){e>>>=0;const t=Object.create(j.prototype);return t.__wbg_ptr=e,M.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,M.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_fieldmetadata_free(e,0)}[Symbol.dispose](){this.free()}get column(){return n.__wbg_get_fieldmetadata_column(this.__wbg_ptr)>>>0}set column(e){n.__wbg_set_fieldmetadata_column(this.__wbg_ptr,e)}get name(){let e,t;try{const r=n.fieldmetadata_name(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}get type(){const e=n.fieldmetadata_esri_type(this.__wbg_ptr);return S[e]}get physicalType(){const e=n.fieldmetadata_physical_type(this.__wbg_ptr);let t;return 0!==e[0]&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}get logicalType(){const e=n.fieldmetadata_logical_type(this.__wbg_ptr);let t;return 0!==e[0]&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}}const C="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_geometryinfo_free(e>>>0,1));class P{static __wrap(e){e>>>=0;const t=Object.create(P.prototype);return t.__wbg_ptr=e,C.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,C.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_geometryinfo_free(e,0)}[Symbol.dispose](){this.free()}static new(e,t,r,_,o){v(_,N);var s=_.__destroy_into_raw();const a=function(e){const t=(0,n.__wbindgen_malloc)(4*e.length,4)>>>0;for(let r=0;r<e.length;r++){const n=i(e[r]);f().setUint32(t+4*r,n,!0)}return l=e.length,t}(o),c=l,u=n.geometryinfo_new(e,t,r,s,a,c);return P.__wrap(u)}}const I="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_multiscalegeometryfield_free(e>>>0,1));class G{static __wrap(e){e>>>=0;const t=Object.create(G.prototype);return t.__wbg_ptr=e,I.register(t,t.__wbg_ptr,t),t}static __unwrap(e){return e instanceof G?e.__destroy_into_raw():0}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,I.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_multiscalegeometryfield_free(e,0)}[Symbol.dispose](){this.free()}get level(){return n.__wbg_get_multiscalegeometryfield_level(this.__wbg_ptr)}set level(e){n.__wbg_set_multiscalegeometryfield_level(this.__wbg_ptr,e)}static new(e,t,r,_){const i=b(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=l,s=T(r,n.__wbindgen_malloc),a=l,c=T(_,n.__wbindgen_malloc),u=l,g=n.multiscalegeometryfield_new(e,i,o,s,a,c,u);return G.__wrap(g)}has_field(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=l;return 0!==n.multiscalegeometryfield_has_field(this.__wbg_ptr,t,r)}}const L="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_pageencodingdescriptor_free(e>>>0,1));class U{static __wrap(e){e>>>=0;const t=Object.create(U.prototype);return t.__wbg_ptr=e,L.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,L.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_pageencodingdescriptor_free(e,0)}[Symbol.dispose](){this.free()}pageType(){let e,t;try{const r=n.pageencodingdescriptor_pageType(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}encoding(){let e,t;try{const r=n.pageencodingdescriptor_encoding(this.__wbg_ptr);return e=r[0],t=r[1],u(r[0],r[1])}finally{n.__wbindgen_free(e,t,1)}}count(){return n.pageencodingdescriptor_count(this.__wbg_ptr)}}const E="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_parquetchunk_free(e>>>0,1));class D{static __wrap(e){e>>>=0;const t=Object.create(D.prototype);return t.__wbg_ptr=e,E.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,E.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetchunk_free(e,0)}[Symbol.dispose](){this.free()}size(){return n.parquetchunk_size(this.__wbg_ptr)>>>0}isEmpty(e){return 0!==n.parquetchunk_isEmpty(this.__wbg_ptr,e)}rowId(e){return n.parquetchunk_rowId(this.__wbg_ptr,e)}readX(e){const t=n.parquetchunk_readX(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readY(e){const t=n.parquetchunk_readY(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readCoords(e){const t=n.parquetchunk_readCoords(this.__wbg_ptr,e);let r;var _,i;return 0!==t[0]&&(r=(_=t[0],i=t[1],_>>>=0,h().subarray(_/8,_/8+i)).slice(),n.__wbindgen_free(t[0],8*t[1],8)),r}readLengths(e){const t=n.parquetchunk_readLengths(this.__wbg_ptr,e);let r;var _,i;return 0!==t[0]&&(r=(_=t[0],i=t[1],_>>>=0,q().subarray(_/4,_/4+i)).slice(),n.__wbindgen_free(t[0],4*t[1],4)),r}transformGeometry(e,t,r,_,i,o){v(e,Y);const s=n.parquetchunk_transformGeometry(this.__wbg_ptr,e.__wbg_ptr,t,r,_,i,o);return 16777215===s?void 0:0!==s}boundsXMin(e){const t=n.parquetchunk_boundsXMin(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsYMin(e){const t=n.parquetchunk_boundsYMin(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsXMax(e){const t=n.parquetchunk_boundsXMax(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}boundsYMax(e){const t=n.parquetchunk_boundsYMax(this.__wbg_ptr,e);return 0===t[0]?void 0:t[1]}readAttribute(e,t){return n.parquetchunk_readAttribute(this.__wbg_ptr,e,t)}}const W="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_parquetfile_free(e>>>0,1));class B{static __wrap(e){e>>>=0;const t=Object.create(B.prototype);return t.__wbg_ptr=e,W.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,W.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_parquetfile_free(e,0)}[Symbol.dispose](){this.free()}static fromUrl(e,t,r,_){const i=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),o=l;let s=0;return p(_)||(v(_,P),s=_.__destroy_into_raw()),n.parquetfile_fromUrl(i,o,t,r,s)}static fromBinary(e,t){const r=function(e){const t=(0,n.__wbindgen_malloc)(1*e.length,1)>>>0;return c().set(e,t/1),l=e.length,t}(e),_=l;let i=0;return p(t)||(v(t,P),i=t.__destroy_into_raw()),n.parquetfile_fromBinary(r,_,i)}version(){return n.parquetfile_version(this.__wbg_ptr)}numRows(){return n.parquetfile_numRows(this.__wbg_ptr)>>>0}numFields(){return n.parquetfile_numFields(this.__wbg_ptr)>>>0}numColumns(){return n.parquetfile_numColumns(this.__wbg_ptr)>>>0}createdBy(){const e=n.parquetfile_createdBy(this.__wbg_ptr);let t;return 0!==e[0]&&(t=u(e[0],e[1]).slice(),n.__wbindgen_free(e[0],1*e[1],1)),t}keyValueMetadata(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=l,_=n.parquetfile_keyValueMetadata(this.__wbg_ptr,t,r);let i;return 0!==_[0]&&(i=u(_[0],_[1]).slice(),n.__wbindgen_free(_[0],1*_[1],1)),i}keys(){const e=n.parquetfile_keys(this.__wbg_ptr);let t;return 0!==e[0]&&(t=k(e[0],e[1]).slice(),n.__wbindgen_free(e[0],4*e[1],4)),t}columnForFieldName(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=l,_=n.parquetfile_columnForFieldName(this.__wbg_ptr,t,r);return 4294967297===_?void 0:_}fields(){const e=n.parquetfile_fields(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}rowGroups(){const e=n.parquetfile_rowGroups(this.__wbg_ptr);var t=k(e[0],e[1]).slice();return n.__wbindgen_free(e[0],4*e[1],4),t}ensureFields(e){const t=z(e,n.__wbindgen_malloc),r=l;return n.parquetfile_ensureFields(this.__wbg_ptr,t,r)}readFirstChunk(e){const t=z(e,n.__wbindgen_malloc),r=l;return n.parquetfile_readFirstChunk(this.__wbg_ptr,t,r)}readChunk(e,t,r,_,i){const o=z(r,n.__wbindgen_malloc),s=l;return n.parquetfile_readChunk(this.__wbg_ptr,e,t,o,s,_,i)}readAllChunks(e,t,r){const _=z(e,n.__wbindgen_malloc),i=l;return n.parquetfile_readAllChunks(this.__wbg_ptr,_,i,t,r)}queryZChunks(e,t,r,_){const i=z(t,n.__wbindgen_malloc),o=l;return n.parquetfile_queryZChunks(this.__wbg_ptr,e,i,o,r,_)}queryXZChunks(e,t,r){return n.parquetfile_queryXZChunks(this.__wbg_ptr,e,t,r)}}const V="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_primarygeometryfield_free(e>>>0,1));class N{static __wrap(e){e>>>=0;const t=Object.create(N.prototype);return t.__wbg_ptr=e,V.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,V.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_primarygeometryfield_free(e,0)}[Symbol.dispose](){this.free()}static fromNative(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=l,_=n.primarygeometryfield_fromNative(t,r);return N.__wrap(_)}static fromWkb(e){const t=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),r=l,_=n.primarygeometryfield_fromWkb(t,r);return N.__wrap(_)}static fromLocation(e,t){const r=b(e,n.__wbindgen_malloc,n.__wbindgen_realloc),_=l,i=b(t,n.__wbindgen_malloc,n.__wbindgen_realloc),o=l,s=n.primarygeometryfield_fromLocation(r,_,i,o);return N.__wrap(s)}}const X="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_quantizedgeometrybuffer_free(e>>>0,1));class Y{static __wrap(e){e>>>=0;const t=Object.create(Y.prototype);return t.__wbg_ptr=e,X.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,X.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_quantizedgeometrybuffer_free(e,0)}[Symbol.dispose](){this.free()}static new(){const e=n.quantizedgeometrybuffer_new();return Y.__wrap(e)}readCoordsUnsafe(){return n.quantizedgeometrybuffer_readCoordsUnsafe(this.__wbg_ptr)}readLengthsUnsafe(){return n.quantizedgeometrybuffer_readLengthsUnsafe(this.__wbg_ptr)}}const Z="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_rangeproviderjs_free(e>>>0,1));class ${static __wrap(e){e>>>=0;const t=Object.create($.prototype);return t.__wbg_ptr=e,Z.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Z.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rangeproviderjs_free(e,0)}[Symbol.dispose](){this.free()}static new(e,t){const r=n.rangeproviderjs_new(e,t);return $.__wrap(r)}static withFetch(){const e=n.rangeproviderjs_withFetch();return $.__wrap(e)}}const J="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>n.__wbg_rowgroup_free(e>>>0,1));class Q{static __wrap(e){e>>>=0;const t=Object.create(Q.prototype);return t.__wbg_ptr=e,J.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,J.unregister(this),e}free(){const e=this.__destroy_into_raw();n.__wbg_rowgroup_free(e,0)}[Symbol.dispose](){this.free()}columnDescriptorForAttribute(e){const t=n.rowgroup_columnDescriptorForAttribute(this.__wbg_ptr,e);return A.__wrap(t)}}function H(){const e={wbg:{}};return e.wbg.__wbg_aborted_c078e36031795a9a=function(e){return e.aborted},e.wbg.__wbg_apply_36be6a55257c99bf=function(){return o(function(e,t,r){return e.apply(t,r)},arguments)},e.wbg.__wbg_buffer_609cc3eee51ed158=function(e){return e.buffer},e.wbg.__wbg_call_672a4d21634d4a24=function(){return o(function(e,t){return e.call(t)},arguments)},e.wbg.__wbg_call_7cccdd69e0791ae2=function(){return o(function(e,t,r){return e.call(t,r)},arguments)},e.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let r,_;try{r=e,_=t,console.error(u(e,t))}finally{n.__wbindgen_free(r,_,1)}},e.wbg.__wbg_fieldmetadata_new=function(e){return j.__wrap(e)},e.wbg.__wbg_get_67b2ba62fc30de12=function(){return o(function(e,t){return Reflect.get(e,t)},arguments)},e.wbg.__wbg_length_6ca527665d89694d=function(e){return e.length},e.wbg.__wbg_length_a446193dc22c12f8=function(e){return e.length},e.wbg.__wbg_multiscalegeometryfield_unwrap=function(e){return G.__unwrap(e)},e.wbg.__wbg_new_23a2665fac83c611=function(e,t){try{var r={a:e,b:t};const _=new Promise((e,t)=>{const _=r.a;r.a=0;try{return function(e,t,r,_){n.closure9_externref_shim(e,t,r,_)}(_,r.b,e,t)}finally{r.a=_}});return _}finally{r.a=r.b=0}},e.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},e.wbg.__wbg_new_a12002a7f91c75be=function(e){return new Uint8Array(e)},e.wbg.__wbg_new_e3b321dcfef89fc7=function(e){return new Uint32Array(e)},e.wbg.__wbg_newnoargs_105ed471475aaf50=function(e,t){return new Function(u(e,t))},e.wbg.__wbg_newwithbyteoffsetandlength_f1dead44d1fc7212=function(e,t,r){return new Uint32Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithbyteoffsetandlength_f254047f7e80e7ff=function(e,t,r){return new Int16Array(e,t>>>0,r>>>0)},e.wbg.__wbg_newwithlength_c4c419ef0bc8a1f8=function(e){return new Array(e>>>0)},e.wbg.__wbg_pageencodingdescriptor_new=function(e){return U.__wrap(e)},e.wbg.__wbg_parquetchunk_new=function(e){return D.__wrap(e)},e.wbg.__wbg_parquetfile_new=function(e){return B.__wrap(e)},e.wbg.__wbg_queueMicrotask_98e746b9f850fe3d=function(e){queueMicrotask(e)},e.wbg.__wbg_queueMicrotask_c847cc8372bec908=function(e){return e.queueMicrotask},e.wbg.__wbg_resolve_4851785c9c5f573d=function(e){return Promise.resolve(e)},e.wbg.__wbg_rowgroup_new=function(e){return Q.__wrap(e)},e.wbg.__wbg_set_37837023f3d740e8=function(e,t,r){e[t>>>0]=r},e.wbg.__wbg_set_65595bdd868b3009=function(e,t,r){e.set(t,r>>>0)},e.wbg.__wbg_set_d23661d19148b229=function(e,t,r){e.set(t,r>>>0)},e.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const r=b(t.stack,n.__wbindgen_malloc,n.__wbindgen_realloc),_=l;f().setInt32(e+4,_,!0),f().setInt32(e+0,r,!0)},e.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const e="undefined"==typeof global?null:global;return p(e)?0:i(e)},e.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const e="undefined"==typeof globalThis?null:globalThis;return p(e)?0:i(e)},e.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const e="undefined"==typeof self?null:self;return p(e)?0:i(e)},e.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const e="undefined"==typeof window?null:window;return p(e)?0:i(e)},e.wbg.__wbg_then_44b73946d2fb3e7d=function(e,t){return e.then(t)},e.wbg.__wbg_then_48b406749878a531=function(e,t,r){return e.then(t,r)},e.wbg.__wbg_valueOf_fdbb54fcdfe33477=function(e){return e.valueOf()},e.wbg.__wbindgen_array_new=function(){return[]},e.wbg.__wbindgen_array_push=function(e,t){e.push(t)},e.wbg.__wbindgen_bigint_from_i64=function(e){return e},e.wbg.__wbindgen_cb_drop=function(e){const t=e.original;return 1==t.cnt--&&(t.a=0,!0)},e.wbg.__wbindgen_closure_wrapper1683=function(e,t,r){const _=function(e,t,r,_){const i={a:e,b:t,cnt:1,dtor:84},o=(...e)=>{i.cnt++;const t=i.a;i.a=0;try{return _(t,i.b,...e)}finally{0===--i.cnt?(n.__wbindgen_export_6.get(i.dtor)(t,i.b),y.unregister(i)):i.a=t}};return o.original=i,y.register(o,i,i),o}(e,t,0,R);return _},e.wbg.__wbindgen_init_externref_table=function(){const e=n.__wbindgen_export_2,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},e.wbg.__wbindgen_is_function=function(e){return"function"==typeof e},e.wbg.__wbindgen_is_undefined=function(e){return void 0===e},e.wbg.__wbindgen_memory=function(){return n.memory},e.wbg.__wbindgen_number_get=function(e,t){const r="number"==typeof t?t:void 0;f().setFloat64(e+8,p(r)?0:r,!0),f().setInt32(e+0,!p(r),!0)},e.wbg.__wbindgen_number_new=function(e){return e},e.wbg.__wbindgen_string_new=function(e,t){return u(e,t)},e.wbg.__wbindgen_throw=function(e,t){throw new Error(u(e,t))},e.wbg.__wbindgen_uint8_array_new=function(e,t){var r,_,i=(r=e,_=t,r>>>=0,c().subarray(r/1,r/1+_)).slice();return n.__wbindgen_free(e,1*t,1),i},e}function K(e,t){return n=e.exports,ee.__wbindgen_wasm_module=t,d=null,m=null,F=null,a=null,n.__wbindgen_start(),n}async function ee(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead"));const t=H();("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:_}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}(await e,t);return K(r,_)}const te=Object.freeze(Object.defineProperty({__proto__:null,ColumnDescriptor:A,FieldMetadata:j,GeometryInfo:P,GeometryType:O,MultiscaleGeometryField:G,PageEncodingDescriptor:U,ParquetChunk:D,ParquetFile:B,PrimaryGeometryField:N,QuantizedGeometryBuffer:Y,RangeProviderJs:$,RowGroup:Q,default:ee,enableTracing:function(){n.enableTracing()},initSync:function(e){if(void 0!==n)return n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const t=H();return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),K(new WebAssembly.Instance(e,t),e)}},Symbol.toStringTag,{value:"Module"}));async function re(n,i={}){const{ParquetFile:o}=await async function(){return _||(_=async function(){const e=await Promise.resolve().then(()=>te);return await e.default({module_or_path:r("esri/libs/parquet/pkg/bundle_bg.wasm")}),e}()),_}(),s=(a=i.getCustomParameters,async function(t,r,n,_){const i=a?.(),o=i?{...i,debug:_}:{debug:_},{data:s}=await e(t,{responseType:"array-buffer",query:o,headers:{range:`bytes=${r}-${n}`}});return s});var a;const c=(t=>async function(r){const{data:n}=await e(r,{responseType:"native",method:"head",query:t?.()}),_=n.headers.get("Content-Length");if(null==_)throw new Error("Unable to parse content length");return parseInt(_,10)})(i.getCustomParameters),u=i.geometryInfo?function(e,r){const n=e.spatialReference.wkid,_=r.wkid;if(!n||!_)throw new t("parquet","Unable to create ParquetFile, in and out wkid must be specified");const i=function(e){switch(e){case"esriGeometryPoint":return O.Point;case"esriGeometryPolygon":return O.Polygon;case"esriGeometryPolyline":return O.Polyline;case"esriGeometryMultipoint":return O.Multipoint;default:throw new t("parquet",`Found unexpected GeometryType: ${e}`)}}(e.geometryType),o=function(e){switch(e.encoding.type){case"wkb":return N.fromWkb(e.encoding.primaryFieldName);case"location":{const{latitudeFieldName:t,longitudeFieldName:r}=e.encoding;return N.fromLocation(t,r)}}}(e),s=[];if("xz"===e.displayOptimization?.mode){const t=e.displayOptimization.multiscale;for(const e of t.levels??[]){const[t,r]=e.transform.translate,[n,_]=e.transform.scale,i=new Float64Array([t,r]),o=new Float64Array([n,_]);s.push(G.new(e.level,e.column,i,o))}}return P.new(i,n,_,o,s)}(i.geometryInfo,i.outSpatialReference??i.geometryInfo.spatialReference):null;return o.fromUrl(n,s,c,u)}function ne(e){const t=e.keyValueMetadata("geo");return null!=t?JSON.parse(t):null}function _e(e){const t=e.keyValueMetadata("esri");return null!=t?JSON.parse(t):null}export{Y as Q,_e as a,re as c,ne as r};
