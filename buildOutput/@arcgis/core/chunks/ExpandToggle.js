/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{n as e}from"./ref.js";import{E as t,x as o}from"./componentsUtils.js";import{g as l}from"./dom.js";import{S as n}from"./index16.js";import{S as r}from"./index17.js";
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const c=e=>Array.from(e.querySelectorAll("calcite-action")).filter(e=>!e.closest("calcite-action-menu")||e.slot===r.trigger),a=({actionGroups:e,expanded:t,overflowCount:o})=>{let l=o;e.reverse().forEach(e=>{let o=0;const r=c(e).reverse();r.forEach(e=>{e.slot===n.menuActions&&(e.removeAttribute("slot"),e.textEnabled=t)}),l>0&&r.some(e=>(r.filter(e=>!e.slot).length>1&&r.length>2&&!e.closest("calcite-action-menu")&&(e.textEnabled=!0,e.setAttribute("slot",n.menuActions),o++,o>1&&l--),l<1)),e.manager.component.requestUpdate()})};function s({el:e,expanded:t}){c(e).filter(e=>e.slot!==n.menuActions).forEach(e=>e.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(e=>e.expanded=t)}const i=({expanded:n,expandText:r,collapseText:c,expandLabel:a,collapseLabel:s,toggle:i,el:p,position:m,tooltip:d,ref:f,scale:u})=>{const x="rtl"===l(p),g=n?c:r,E=n?s:a,h=["chevrons-left","chevrons-right"];x&&h.reverse();const b="end"===function(e,t){return e||t.closest("calcite-shell-panel")?.position||"start"}(m,p),A=b?h[1]:h[0],$=b?h[0]:h[1],v=o`<calcite-action .icon=${n?A:$} id=expand-toggle .label=${E} @click=${i} .scale=${u} .text=${g} .textEnabled=${n} title=${(n||d?null:g)??t} ${e(e=>(({tooltip:e,referenceElement:t,expanded:o,ref:l})=>(e&&(e.referenceElement=!o&&t?t:null),l&&l(t),t))({tooltip:d,referenceElement:e,expanded:n,ref:f}))}></calcite-action>`;return v};export{i as E,a as o,c as q,s as t};
