/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{L as t}from"./Logger.js";import{g as r}from"./object.js";import{r as e}from"./string.js";import{f as n}from"./date.js";import{f as s}from"./number.js";const o=()=>t.getLogger("esri.intl.substitute");function i(t,i,u={}){const{format:f={}}=u;return e(t,t=>function(t,e,i){let u,f;const c=t.indexOf(":");if(-1===c?u=t.trim():(u=t.slice(0,c).trim(),f=t.slice(c+1).trim()),!u)return"";const m=r(u,e);if(null==m)return"";const l=(f?i?.[f]:null)??i?.[u];return l?function(t,r){switch(r.type){case"date":return n(t,r.intlOptions);case"number":return s(t,r.intlOptions);default:return o().warn("missing format descriptor for key {key}"),a(t)}}(m,l):f?function(t,r){switch(r.toLowerCase()){case"dateformat":return n(t);case"numberformat":return s(t);default:return o().warn(`inline format is unsupported since 4.12: ${r}`),/^(dateformat|datestring)/i.test(r)?n(t):/^numberformat/i.test(r)?s(t):a(t)}}(m,f):a(m)}(t,i,f))}function a(t){switch(typeof t){case"string":return t;case"number":return s(t);case"boolean":return""+t;default:return t instanceof Date?n(t):""}}export{i as s};
