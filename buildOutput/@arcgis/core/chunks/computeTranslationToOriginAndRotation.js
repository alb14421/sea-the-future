/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{e as t}from"./mathUtils.js";import{t as n,l as s,b as r}from"./mat4.js";import{c as o}from"./vec3f64.js";import{a,b as e}from"./projectBuffer.js";import{p as c}from"./unitUtils.js";function i(t,n,s){const r=Math.sin(t),o=Math.cos(t),a=Math.sin(n),e=Math.cos(n),c=s;return c[0]=-r,c[4]=-a*o,c[8]=e*o,c[12]=0,c[1]=o,c[5]=-a*r,c[9]=e*r,c[13]=0,c[2]=0,c[6]=e,c[10]=a,c[14]=0,c[3]=0,c[7]=0,c[11]=0,c[15]=1,c}function u(t,o,u,j){const h=a(t,j);if(null==h)return!1;const M=h.source.spatialReferenceId,d=h.dest.spatialReferenceId;if(M===d&&!f(d)&&(0!==M||c(t,j)))return s(u,o),!0;if(f(d)){const t=e[M][10],n=e[10][d];return null!=t&&null!=n&&(t(o,0,m,0),n(m,0,p,0),i(l*m[0],l*m[1],u),u[12]=p[0],u[13]=p[1],u[14]=p[2],!0)}const b=f(M);if((3===d||11===d||2===d||5===d)&&(2===M||b||3===M||5===M)){const t=e[M][10],s=e[10][d];return null!=t&&null!=s&&(t(o,0,m,0),s(m,0,p,0),b?function(t,s,r){i(t,s,r),n(r,r)}(l*m[0],l*m[1],u):r(u),u[12]=p[0],u[13]=p[1],u[14]=p[2],!0)}return!1}function f(t){return 1===t||6===t||8===t||4===t}const l=t(1),m=o(),p=o();export{i as a,u as c};
