/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import"./index.js";import"./index3.js";import{L as e,c as t,s as o,x as c,n as i,i as r,a as s}from"./componentsUtils.js";import{i as l}from"./keyed.js";import{f as a}from"./dom.js";import{i as n}from"./key.js";import{c as d}from"./component.js";import{u as p}from"./useT9n.js";import{l as g}from"./logger2.js";import"./observers.js";import"./ref.js";import"./directive-helpers.js";import"./form.js";import"./interactive.js";import"./label.js";import"./assets.js";import"../config.js";import"../core/lang.js";import"./object.js";import"../request.js";import"../kernel.js";import"../core/urlUtils.js";import"../core/Error.js";import"./Logger.js";import"./string.js";import"./jsonUtils.js";import"./MapUtils.js";import"../core/promiseUtils.js";import"./handleUtils.js";import"./events.js";import"./maybe.js";import"./persistableUrlUtils.js";import"./guid.js";
/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.2.1 */const h="content",v="toggle",m="invalid",x="section-header",b="status-icon",u="toggle",f="toggle--switch",k="toggle-container",$="valid",j={menuExpanded:"chevron-up",menuCollapsed:"chevron-down",valid:"check-circle",invalid:"exclamation-mark-triangle"},w=r`:host{box-sizing:border-box;display:block;font-size:var(--calcite-font-size--1);color:var(--calcite-block-section-header-text-color, var(--calcite-color-text-2));background-color:var(--calcite-block-section-background-color, var(--calcite-color-foreground-1))}:host([expanded]){border-width:0px;border-block-end-width:1px;border-style:solid;border-block-end-color:var(--calcite-block-section-border-color, var(--calcite-color-border-3))}:host([expanded]) .toggle{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}:host([expanded]) .toggle:hover{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}:host([expanded]) .chevron-icon{color:var(--calcite-block-section-text-color, var(--calcite-color-text-3))}:host([expanded]) .chevron-icon:hover{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}:host(:last-child){border-block-end-width:0px}.toggle{inline-size:100%;border-width:0px;font-family:var(--calcite-font-family);gap:var(--calcite-spacing-md);color:var(--calcite-block-section-header-text-color, var(--calcite-color-text-2));background-color:var(--calcite-block-section-background-color, transparent);font-weight:var(--calcite-font-weight-normal)}.toggle:hover{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}.toggle--switch,.section-header{margin-inline:0px;margin-block:.25rem;display:flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;padding-inline:0px;padding-block:.5rem;font-size:var(--calcite-font-size--1);outline-color:transparent}.toggle--switch:focus,.section-header:focus{outline:2px solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-offset:calc(2px*(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.toggle--switch:hover,.section-header:hover{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}.section-header__text{margin-block:0px;flex:1 1 auto;text-align:initial;word-wrap:anywhere}.toggle-container{position:relative;display:flex;align-items:center;word-break:break-word;background-color:var(--calcite-block-section-background-color, transparent)}.toggle-container .toggle--switch__content{display:flex;flex:1 1 auto;align-items:center}.toggle-container .icon--end,.toggle-container .icon--start,.toggle-container .chevron-icon{display:flex;align-items:center;color:var(--calcite-block-section-text-color, var(--calcite-color-text-3))}.toggle-container .icon--end:hover,.toggle-container .icon--start:hover,.toggle-container .chevron-icon:hover{color:var(--calcite-block-section-text-color-hover, var(--calcite-color-text-1))}.status-icon{display:flex;align-items:center}.status-icon.valid{color:var(--calcite-color-status-success)}.status-icon.invalid{color:var(--calcite-color-status-danger)}:host([hidden]){display:none}[hidden]{display:none}`;class y extends e{constructor(){super(...arguments),this.messages=p(),this.expanded=!1,this.toggleDisplay="button",this.calciteBlockSectionToggle=t({cancelable:!1})}static{this.properties={expanded:[7,{},{reflect:!0,type:Boolean}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],open:[7,{},{reflect:!0,type:Boolean}],status:[3,{},{reflect:!0}],text:1,toggleDisplay:[3,{},{reflect:!0}]}}static{this.styles=w}get open(){return this.expanded}set open(e){g.deprecated("property",{name:"open",removalVersion:4,suggested:"expanded"}),this.expanded=e}async setFocus(){await d(this),a(this.el)}handleHeaderKeyDown(e){n(e.key)&&(this.toggleSection(),e.preventDefault(),e.stopPropagation())}toggleSection(){this.expanded=!this.expanded,this.calciteBlockSectionToggle.emit()}renderStatusIcon(){const{status:e}=this,t=j[e]??!1;return t?c`<calcite-icon class=${o({[b]:!0,[$]:"valid"==e,[m]:"invalid"==e})} .icon=${t} scale=s></calcite-icon>`:null}renderIcon(e){const{iconFlipRtl:t}=this;if(void 0===e)return null;const i="both"===t||"start"===t,r="both"===t||"end"===t,s=e===this.iconStart;return l(s?this.iconStart:this.iconEnd,c`<calcite-icon class=${o(s?"icon--start":"icon--end")} .flipRtl=${s?i:r} .icon=${s?this.iconStart:this.iconEnd} scale=s></calcite-icon>`)}render(){const{messages:e,expanded:t,text:r,toggleDisplay:s}=this,l=t?j.menuExpanded:j.menuCollapsed,a=t?e.collapse:e.expand,n="switch"===s?c`<div class=${o({[k]:!0})}><div aria-controls=${h} .ariaExpanded=${t} class=${o({[u]:!0,[f]:!0})} id=${v} @click=${this.toggleSection} @keydown=${this.handleHeaderKeyDown} role=button tabindex=0 title=${a??i}>${this.renderIcon(this.iconStart)}<div class=${o("toggle--switch__content")}><span class=${o("toggle--switch__text")}>${r}</span></div>${this.renderIcon(this.iconEnd)}${this.renderStatusIcon()}<calcite-switch .checked=${t} class=${o("switch")} inert .label=${a} scale=s></calcite-switch></div></div>`:c`<div class=${o({[k]:!0})}><button aria-controls=${h} .ariaExpanded=${t} class=${o({[x]:!0,[u]:!0})} id=${v} @click=${this.toggleSection}>${this.renderIcon(this.iconStart)}<span class=${o("section-header__text")}>${r}</span>${this.renderIcon(this.iconEnd)}${this.renderStatusIcon()}<calcite-icon class=${o("chevron-icon")} .icon=${l} scale=s></calcite-icon></button></div>`;return c`${n}<section aria-labelledby=${v} class=${o("content")} .hidden=${!t} id=${h}><slot></slot></section>`}}s("calcite-block-section",y);export{y as BlockSection};
