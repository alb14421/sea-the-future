/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{Z as a}from"./vec2f64.js";import{S as e,P as n}from"./enums.js";import{a as t,T as u}from"./Texture.js";function s(a,s,r="nearest",i=!1){const o=!(i&&"u8"===s.pixelType),m=o?n.FLOAT:n.UNSIGNED_BYTE,l=null==s.pixels||0===s.pixels.length?null:o?s.getAsRGBAFloat():s.getAsRGBA(),f=a.capabilities.textureFloatLinear,c=new t(s.width,s.height);return c.internalFormat=o?e.RGBA32F:6408,c.samplingMode=!f||"bilinear"!==r&&"cubic"!==r?9728:9729,c.dataType=m,c.wrapMode=33071,new u(a,c,l)}function r(a,s){const{spacing:r,offsets:i,coefficients:o,size:[m,l]}=s,f=r[0]>1,c=new t(f?4*m:m,l);c.internalFormat=e.RGBA32F,c.dataType=n.FLOAT,c.samplingMode=9728,c.wrapMode=33071;const p=new Float32Array(f?m*l*16:2*i.length);if(f&&null!=o)for(let a=0,e=0;a<o.length;a++)p[e++]=o[a],a%3==2&&(p[e++]=1);else for(let a=0;a<l;a++)for(let e=0;e<m;e++){const n=4*(a*m+e),t=2*(e*l+a);p[n]=i[t],p[n+1]=i[t+1],p[n+3]=-1===i[t]?0:1}return new u(a,c,p)}function i(a,e){const n=new t(e.length/4,1);return n.internalFormat=6408,n.samplingMode=9728,n.wrapMode=33071,new u(a,n,e)}function o(a,e,s){const r=new t(s[0],s[1]);return r.internalFormat=6406,r.pixelFormat=6406,r.dataType=n.UNSIGNED_BYTE,r.samplingMode=9728,r.wrapMode=33071,new u(a,r,e)}function m(e,n,t,u=1,s=!0){return{u_flipY:s,u_applyTransform:!!e,u_opacity:u,u_transformSpacing:e?e.spacing:a,u_transformGridSize:e?e.size:a,u_targetImageSize:n,u_srcImageSize:t}}function l(a,e){return{u_colormapOffset:e||0,u_colormapMaxIndex:a?a.length/4-1:0}}function f(a){return{u_bandCount:a.bandCount,u_minOutput:a.minOutput,u_maxOutput:a.maxOutput,u_minCutOff:a.minCutOff,u_maxCutOff:a.maxCutOff,u_factor:a.factor,u_useGamma:a.useGamma,u_gamma:a.gamma,u_gammaCorrection:a.gammaCorrection}}function c(a){return{u_hillshadeType:a.hillshadeType,u_sinZcosAs:a.sinZcosAs,u_sinZsinAs:a.sinZsinAs,u_cosZs:a.cosZs,u_weights:a.weights,u_factor:a.factor,u_minValue:a.minValue,u_maxValue:a.maxValue}}export{l as a,f as b,r as c,c as d,s as e,i as f,m as g,o as h};
